"use strict";(()=>{var Qo=Object.create;var co=Object.defineProperty;var Ko=Object.getOwnPropertyDescriptor;var Jo=Object.getOwnPropertyNames;var Xo=Object.getPrototypeOf,$o=Object.prototype.hasOwnProperty;var br=(P,ae)=>()=>(ae||P((ae={exports:{}}).exports,ae),ae.exports);var ea=(P,ae,W,y)=>{if(ae&&typeof ae=="object"||typeof ae=="function")for(let v of Jo(ae))!$o.call(P,v)&&v!==W&&co(P,v,{get:()=>ae[v],enumerable:!(y=Ko(ae,v))||y.enumerable});return P};var mi=(P,ae,W)=>(W=P!=null?Qo(Xo(P)):{},ea(ae||!P||!P.__esModule?co(W,"default",{value:P,enumerable:!0}):W,P));var Cr=br((uo,kr)=>{(function(P,ae){"use strict";typeof kr=="object"&&typeof kr.exports=="object"?kr.exports=P.document?ae(P,!0):function(W){if(!W.document)throw new Error("jQuery requires a window with a document");return ae(W)}:ae(P)})(typeof window<"u"?window:uo,function(P,ae){"use strict";var W=[],y=Object.getPrototypeOf,v=W.slice,_=W.flat?function(r){return W.flat.call(r)}:function(r){return W.concat.apply([],r)},k=W.push,I=W.indexOf,U={},E=U.toString,q=U.hasOwnProperty,le=q.toString,me=le.call(Object),re={},K=function(s){return typeof s=="function"&&typeof s.nodeType!="number"&&typeof s.item!="function"},X=function(s){return s!=null&&s===s.window},J=P.document,V={type:!0,src:!0,nonce:!0,noModule:!0};function $(r,s,c){c=c||J;var h,m,g=c.createElement("script");if(g.text=r,s)for(h in V)m=s[h]||s.getAttribute&&s.getAttribute(h),m&&g.setAttribute(h,m);c.head.appendChild(g).parentNode.removeChild(g)}function ee(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?U[E.call(r)]||"object":typeof r}var z="3.7.1",Y=/HTML$/i,l=function(r,s){return new l.fn.init(r,s)};l.fn=l.prototype={jquery:z,constructor:l,length:0,toArray:function(){return v.call(this)},get:function(r){return r==null?v.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var s=l.merge(this.constructor(),r);return s.prevObject=this,s},each:function(r){return l.each(this,r)},map:function(r){return this.pushStack(l.map(this,function(s,c){return r.call(s,c,s)}))},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(r,s){return(s+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(r,s){return s%2}))},eq:function(r){var s=this.length,c=+r+(r<0?s:0);return this.pushStack(c>=0&&c<s?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:k,sort:W.sort,splice:W.splice},l.extend=l.fn.extend=function(){var r,s,c,h,m,g,M=arguments[0]||{},B=1,A=arguments.length,Q=!1;for(typeof M=="boolean"&&(Q=M,M=arguments[B]||{},B++),typeof M!="object"&&!K(M)&&(M={}),B===A&&(M=this,B--);B<A;B++)if((r=arguments[B])!=null)for(s in r)h=r[s],!(s==="__proto__"||M===h)&&(Q&&h&&(l.isPlainObject(h)||(m=Array.isArray(h)))?(c=M[s],m&&!Array.isArray(c)?g=[]:!m&&!l.isPlainObject(c)?g={}:g=c,m=!1,M[s]=l.extend(Q,g,h)):h!==void 0&&(M[s]=h));return M},l.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var s,c;return!r||E.call(r)!=="[object Object]"?!1:(s=y(r),s?(c=q.call(s,"constructor")&&s.constructor,typeof c=="function"&&le.call(c)===me):!0)},isEmptyObject:function(r){var s;for(s in r)return!1;return!0},globalEval:function(r,s,c){$(r,{nonce:s&&s.nonce},c)},each:function(r,s){var c,h=0;if(_e(r))for(c=r.length;h<c&&s.call(r[h],h,r[h])!==!1;h++);else for(h in r)if(s.call(r[h],h,r[h])===!1)break;return r},text:function(r){var s,c="",h=0,m=r.nodeType;if(!m)for(;s=r[h++];)c+=l.text(s);return m===1||m===11?r.textContent:m===9?r.documentElement.textContent:m===3||m===4?r.nodeValue:c},makeArray:function(r,s){var c=s||[];return r!=null&&(_e(Object(r))?l.merge(c,typeof r=="string"?[r]:r):k.call(c,r)),c},inArray:function(r,s,c){return s==null?-1:I.call(s,r,c)},isXMLDoc:function(r){var s=r&&r.namespaceURI,c=r&&(r.ownerDocument||r).documentElement;return!Y.test(s||c&&c.nodeName||"HTML")},merge:function(r,s){for(var c=+s.length,h=0,m=r.length;h<c;h++)r[m++]=s[h];return r.length=m,r},grep:function(r,s,c){for(var h,m=[],g=0,M=r.length,B=!c;g<M;g++)h=!s(r[g],g),h!==B&&m.push(r[g]);return m},map:function(r,s,c){var h,m,g=0,M=[];if(_e(r))for(h=r.length;g<h;g++)m=s(r[g],g,c),m!=null&&M.push(m);else for(g in r)m=s(r[g],g,c),m!=null&&M.push(m);return _(M)},guid:1,support:re}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=W[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,s){U["[object "+s+"]"]=s.toLowerCase()});function _e(r){var s=!!r&&"length"in r&&r.length,c=ee(r);return K(r)||X(r)?!1:c==="array"||s===0||typeof s=="number"&&s>0&&s-1 in r}function ye(r,s){return r.nodeName&&r.nodeName.toLowerCase()===s.toLowerCase()}var xe=W.pop,ke=W.sort,Be=W.splice,Me="[\\x20\\t\\r\\n\\f]",Ae=new RegExp("^"+Me+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Me+"+$","g");l.contains=function(r,s){var c=s&&s.parentNode;return r===c||!!(c&&c.nodeType===1&&(r.contains?r.contains(c):r.compareDocumentPosition&&r.compareDocumentPosition(c)&16))};var Ve=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ze(r,s){return s?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}l.escapeSelector=function(r){return(r+"").replace(Ve,ze)};var Ce=J,yt=k;(function(){var r,s,c,h,m,g=yt,M,B,A,Q,ce,pe=l.expando,oe=0,we=0,Qe=oi(),pt=oi(),rt=oi(),Rt=oi(),Gt=function(T,H){return T===H&&(m=!0),0},jn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",zn="(?:\\\\[\\da-fA-F]{1,6}"+Me+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ot="\\["+Me+"*("+zn+")(?:"+Me+"*([*^$|!~]?=)"+Me+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zn+"))|)"+Me+"*\\]",mn=":("+zn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ot+")*)|.*)\\)|)",gt=new RegExp(Me+"+","g"),Ct=new RegExp("^"+Me+"*,"+Me+"*"),$t=new RegExp("^"+Me+"*([>+~]|"+Me+")"+Me+"*"),or=new RegExp(Me+"|>"),On=new RegExp(mn),Xi=new RegExp("^"+zn+"$"),wn={ID:new RegExp("^#("+zn+")"),CLASS:new RegExp("^\\.("+zn+")"),TAG:new RegExp("^("+zn+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+mn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Me+"*(even|odd|(([+-]|)(\\d*)n|)"+Me+"*(?:([+-]|)"+Me+"*(\\d+)|))"+Me+"*\\)|)","i"),bool:new RegExp("^(?:"+jn+")$","i"),needsContext:new RegExp("^"+Me+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Me+"*((?:-\\d)?\\d*)"+Me+"*\\)|)(?=[^-]|$)","i")},Fn=/^(?:input|select|textarea|button)$/i,di=/^h\d$/i,xn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ar=/[+~]/,ii=new RegExp("\\\\[\\da-fA-F]{1,6}"+Me+"?|\\\\([^\\r\\n\\f])","g"),Zt=function(T,H){var ie="0x"+T.slice(1)-65536;return H||(ie<0?String.fromCharCode(ie+65536):String.fromCharCode(ie>>10|55296,ie&1023|56320))},zi=function(){pi()},Pr=lr(function(T){return T.disabled===!0&&ye(T,"fieldset")},{dir:"parentNode",next:"legend"});function ri(){try{return M.activeElement}catch{}}try{g.apply(W=v.call(Ce.childNodes),Ce.childNodes),W[Ce.childNodes.length].nodeType}catch{g={apply:function(H,ie){yt.apply(H,v.call(ie))},call:function(H){yt.apply(H,v.call(arguments,1))}}}function Mt(T,H,ie,se){var ge,De,Se,Re,Ne,lt,Ye,et=H&&H.ownerDocument,Je=H?H.nodeType:9;if(ie=ie||[],typeof T!="string"||!T||Je!==1&&Je!==9&&Je!==11)return ie;if(!se&&(pi(H),H=H||M,A)){if(Je!==11&&(Ne=xn.exec(T)))if(ge=Ne[1]){if(Je===9)if(Se=H.getElementById(ge)){if(Se.id===ge)return g.call(ie,Se),ie}else return ie;else if(et&&(Se=et.getElementById(ge))&&Mt.contains(H,Se)&&Se.id===ge)return g.call(ie,Se),ie}else{if(Ne[2])return g.apply(ie,H.getElementsByTagName(T)),ie;if((ge=Ne[3])&&H.getElementsByClassName)return g.apply(ie,H.getElementsByClassName(ge)),ie}if(!Rt[T+" "]&&(!Q||!Q.test(T))){if(Ye=T,et=H,Je===1&&(or.test(T)||$t.test(T))){for(et=ar.test(T)&&Oi(H.parentNode)||H,(et!=H||!re.scope)&&((Re=H.getAttribute("id"))?Re=l.escapeSelector(Re):H.setAttribute("id",Re=pe)),lt=$i(T),De=lt.length;De--;)lt[De]=(Re?"#"+Re:":scope")+" "+kn(lt[De]);Ye=lt.join(",")}try{return g.apply(ie,et.querySelectorAll(Ye)),ie}catch{Rt(T,!0)}finally{Re===pe&&H.removeAttribute("id")}}}return ur(T.replace(Ae,"$1"),H,ie,se)}function oi(){var T=[];function H(ie,se){return T.push(ie+" ")>s.cacheLength&&delete H[T.shift()],H[ie+" "]=se}return H}function Bn(T){return T[pe]=!0,T}function Hn(T){var H=M.createElement("fieldset");try{return!!T(H)}catch{return!1}finally{H.parentNode&&H.parentNode.removeChild(H),H=null}}function Mr(T){return function(H){return ye(H,"input")&&H.type===T}}function sr(T){return function(H){return(ye(H,"input")||ye(H,"button"))&&H.type===T}}function Lr(T){return function(H){return"form"in H?H.parentNode&&H.disabled===!1?"label"in H?"label"in H.parentNode?H.parentNode.disabled===T:H.disabled===T:H.isDisabled===T||H.isDisabled!==!T&&Pr(H)===T:H.disabled===T:"label"in H?H.disabled===T:!1}}function un(T){return Bn(function(H){return H=+H,Bn(function(ie,se){for(var ge,De=T([],ie.length,H),Se=De.length;Se--;)ie[ge=De[Se]]&&(ie[ge]=!(se[ge]=ie[ge]))})})}function Oi(T){return T&&typeof T.getElementsByTagName<"u"&&T}function pi(T){var H,ie=T?T.ownerDocument||T:Ce;return ie==M||ie.nodeType!==9||!ie.documentElement||(M=ie,B=M.documentElement,A=!l.isXMLDoc(M),ce=B.matches||B.webkitMatchesSelector||B.msMatchesSelector,B.msMatchesSelector&&Ce!=M&&(H=M.defaultView)&&H.top!==H&&H.addEventListener("unload",zi),re.getById=Hn(function(se){return B.appendChild(se).id=l.expando,!M.getElementsByName||!M.getElementsByName(l.expando).length}),re.disconnectedMatch=Hn(function(se){return ce.call(se,"*")}),re.scope=Hn(function(){return M.querySelectorAll(":scope")}),re.cssHas=Hn(function(){try{return M.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),re.getById?(s.filter.ID=function(se){var ge=se.replace(ii,Zt);return function(De){return De.getAttribute("id")===ge}},s.find.ID=function(se,ge){if(typeof ge.getElementById<"u"&&A){var De=ge.getElementById(se);return De?[De]:[]}}):(s.filter.ID=function(se){var ge=se.replace(ii,Zt);return function(De){var Se=typeof De.getAttributeNode<"u"&&De.getAttributeNode("id");return Se&&Se.value===ge}},s.find.ID=function(se,ge){if(typeof ge.getElementById<"u"&&A){var De,Se,Re,Ne=ge.getElementById(se);if(Ne){if(De=Ne.getAttributeNode("id"),De&&De.value===se)return[Ne];for(Re=ge.getElementsByName(se),Se=0;Ne=Re[Se++];)if(De=Ne.getAttributeNode("id"),De&&De.value===se)return[Ne]}return[]}}),s.find.TAG=function(se,ge){return typeof ge.getElementsByTagName<"u"?ge.getElementsByTagName(se):ge.querySelectorAll(se)},s.find.CLASS=function(se,ge){if(typeof ge.getElementsByClassName<"u"&&A)return ge.getElementsByClassName(se)},Q=[],Hn(function(se){var ge;B.appendChild(se).innerHTML="<a id='"+pe+"' href='' disabled='disabled'></a><select id='"+pe+"-\r\\' disabled='disabled'><option selected=''></option></select>",se.querySelectorAll("[selected]").length||Q.push("\\["+Me+"*(?:value|"+jn+")"),se.querySelectorAll("[id~="+pe+"-]").length||Q.push("~="),se.querySelectorAll("a#"+pe+"+*").length||Q.push(".#.+[+~]"),se.querySelectorAll(":checked").length||Q.push(":checked"),ge=M.createElement("input"),ge.setAttribute("type","hidden"),se.appendChild(ge).setAttribute("name","D"),B.appendChild(se).disabled=!0,se.querySelectorAll(":disabled").length!==2&&Q.push(":enabled",":disabled"),ge=M.createElement("input"),ge.setAttribute("name",""),se.appendChild(ge),se.querySelectorAll("[name='']").length||Q.push("\\["+Me+"*name"+Me+"*="+Me+`*(?:''|"")`)}),re.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),Gt=function(se,ge){if(se===ge)return m=!0,0;var De=!se.compareDocumentPosition-!ge.compareDocumentPosition;return De||(De=(se.ownerDocument||se)==(ge.ownerDocument||ge)?se.compareDocumentPosition(ge):1,De&1||!re.sortDetached&&ge.compareDocumentPosition(se)===De?se===M||se.ownerDocument==Ce&&Mt.contains(Ce,se)?-1:ge===M||ge.ownerDocument==Ce&&Mt.contains(Ce,ge)?1:h?I.call(h,se)-I.call(h,ge):0:De&4?-1:1)}),M}Mt.matches=function(T,H){return Mt(T,null,null,H)},Mt.matchesSelector=function(T,H){if(pi(T),A&&!Rt[H+" "]&&(!Q||!Q.test(H)))try{var ie=ce.call(T,H);if(ie||re.disconnectedMatch||T.document&&T.document.nodeType!==11)return ie}catch{Rt(H,!0)}return Mt(H,M,null,[T]).length>0},Mt.contains=function(T,H){return(T.ownerDocument||T)!=M&&pi(T),l.contains(T,H)},Mt.attr=function(T,H){(T.ownerDocument||T)!=M&&pi(T);var ie=s.attrHandle[H.toLowerCase()],se=ie&&q.call(s.attrHandle,H.toLowerCase())?ie(T,H,!A):void 0;return se!==void 0?se:T.getAttribute(H)},Mt.error=function(T){throw new Error("Syntax error, unrecognized expression: "+T)},l.uniqueSort=function(T){var H,ie=[],se=0,ge=0;if(m=!re.sortStable,h=!re.sortStable&&v.call(T,0),ke.call(T,Gt),m){for(;H=T[ge++];)H===T[ge]&&(se=ie.push(ge));for(;se--;)Be.call(T,ie[se],1)}return h=null,T},l.fn.uniqueSort=function(){return this.pushStack(l.uniqueSort(v.apply(this)))},s=l.expr={cacheLength:50,createPseudo:Bn,match:wn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(T){return T[1]=T[1].replace(ii,Zt),T[3]=(T[3]||T[4]||T[5]||"").replace(ii,Zt),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},CHILD:function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||Mt.error(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&Mt.error(T[0]),T},PSEUDO:function(T){var H,ie=!T[6]&&T[2];return wn.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":ie&&On.test(ie)&&(H=$i(ie,!0))&&(H=ie.indexOf(")",ie.length-H)-ie.length)&&(T[0]=T[0].slice(0,H),T[2]=ie.slice(0,H)),T.slice(0,3))}},filter:{TAG:function(T){var H=T.replace(ii,Zt).toLowerCase();return T==="*"?function(){return!0}:function(ie){return ye(ie,H)}},CLASS:function(T){var H=Qe[T+" "];return H||(H=new RegExp("(^|"+Me+")"+T+"("+Me+"|$)"))&&Qe(T,function(ie){return H.test(typeof ie.className=="string"&&ie.className||typeof ie.getAttribute<"u"&&ie.getAttribute("class")||"")})},ATTR:function(T,H,ie){return function(se){var ge=Mt.attr(se,T);return ge==null?H==="!=":H?(ge+="",H==="="?ge===ie:H==="!="?ge!==ie:H==="^="?ie&&ge.indexOf(ie)===0:H==="*="?ie&&ge.indexOf(ie)>-1:H==="$="?ie&&ge.slice(-ie.length)===ie:H==="~="?(" "+ge.replace(gt," ")+" ").indexOf(ie)>-1:H==="|="?ge===ie||ge.slice(0,ie.length+1)===ie+"-":!1):!0}},CHILD:function(T,H,ie,se,ge){var De=T.slice(0,3)!=="nth",Se=T.slice(-4)!=="last",Re=H==="of-type";return se===1&&ge===0?function(Ne){return!!Ne.parentNode}:function(Ne,lt,Ye){var et,Je,Ge,It,Qt,en=De!==Se?"nextSibling":"previousSibling",bn=Ne.parentNode,Yn=Re&&Ne.nodeName.toLowerCase(),qn=!Ye&&!Re,on=!1;if(bn){if(De){for(;en;){for(Ge=Ne;Ge=Ge[en];)if(Re?ye(Ge,Yn):Ge.nodeType===1)return!1;Qt=en=T==="only"&&!Qt&&"nextSibling"}return!0}if(Qt=[Se?bn.firstChild:bn.lastChild],Se&&qn){for(Je=bn[pe]||(bn[pe]={}),et=Je[T]||[],It=et[0]===oe&&et[1],on=It&&et[2],Ge=It&&bn.childNodes[It];Ge=++It&&Ge&&Ge[en]||(on=It=0)||Qt.pop();)if(Ge.nodeType===1&&++on&&Ge===Ne){Je[T]=[oe,It,on];break}}else if(qn&&(Je=Ne[pe]||(Ne[pe]={}),et=Je[T]||[],It=et[0]===oe&&et[1],on=It),on===!1)for(;(Ge=++It&&Ge&&Ge[en]||(on=It=0)||Qt.pop())&&!((Re?ye(Ge,Yn):Ge.nodeType===1)&&++on&&(qn&&(Je=Ge[pe]||(Ge[pe]={}),Je[T]=[oe,on]),Ge===Ne)););return on-=ge,on===se||on%se===0&&on/se>=0}}},PSEUDO:function(T,H){var ie,se=s.pseudos[T]||s.setFilters[T.toLowerCase()]||Mt.error("unsupported pseudo: "+T);return se[pe]?se(H):se.length>1?(ie=[T,T,"",H],s.setFilters.hasOwnProperty(T.toLowerCase())?Bn(function(ge,De){for(var Se,Re=se(ge,H),Ne=Re.length;Ne--;)Se=I.call(ge,Re[Ne]),ge[Se]=!(De[Se]=Re[Ne])}):function(ge){return se(ge,0,ie)}):se}},pseudos:{not:Bn(function(T){var H=[],ie=[],se=Ri(T.replace(Ae,"$1"));return se[pe]?Bn(function(ge,De,Se,Re){for(var Ne,lt=se(ge,null,Re,[]),Ye=ge.length;Ye--;)(Ne=lt[Ye])&&(ge[Ye]=!(De[Ye]=Ne))}):function(ge,De,Se){return H[0]=ge,se(H,null,Se,ie),H[0]=null,!ie.pop()}}),has:Bn(function(T){return function(H){return Mt(T,H).length>0}}),contains:Bn(function(T){return T=T.replace(ii,Zt),function(H){return(H.textContent||l.text(H)).indexOf(T)>-1}}),lang:Bn(function(T){return Xi.test(T||"")||Mt.error("unsupported lang: "+T),T=T.replace(ii,Zt).toLowerCase(),function(H){var ie;do if(ie=A?H.lang:H.getAttribute("xml:lang")||H.getAttribute("lang"))return ie=ie.toLowerCase(),ie===T||ie.indexOf(T+"-")===0;while((H=H.parentNode)&&H.nodeType===1);return!1}}),target:function(T){var H=P.location&&P.location.hash;return H&&H.slice(1)===T.id},root:function(T){return T===B},focus:function(T){return T===ri()&&M.hasFocus()&&!!(T.type||T.href||~T.tabIndex)},enabled:Lr(!1),disabled:Lr(!0),checked:function(T){return ye(T,"input")&&!!T.checked||ye(T,"option")&&!!T.selected},selected:function(T){return T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},empty:function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},parent:function(T){return!s.pseudos.empty(T)},header:function(T){return di.test(T.nodeName)},input:function(T){return Fn.test(T.nodeName)},button:function(T){return ye(T,"input")&&T.type==="button"||ye(T,"button")},text:function(T){var H;return ye(T,"input")&&T.type==="text"&&((H=T.getAttribute("type"))==null||H.toLowerCase()==="text")},first:un(function(){return[0]}),last:un(function(T,H){return[H-1]}),eq:un(function(T,H,ie){return[ie<0?ie+H:ie]}),even:un(function(T,H){for(var ie=0;ie<H;ie+=2)T.push(ie);return T}),odd:un(function(T,H){for(var ie=1;ie<H;ie+=2)T.push(ie);return T}),lt:un(function(T,H,ie){var se;for(ie<0?se=ie+H:ie>H?se=H:se=ie;--se>=0;)T.push(se);return T}),gt:un(function(T,H,ie){for(var se=ie<0?ie+H:ie;++se<H;)T.push(se);return T})}},s.pseudos.nth=s.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[r]=Mr(r);for(r in{submit:!0,reset:!0})s.pseudos[r]=sr(r);function fr(){}fr.prototype=s.filters=s.pseudos,s.setFilters=new fr;function $i(T,H){var ie,se,ge,De,Se,Re,Ne,lt=pt[T+" "];if(lt)return H?0:lt.slice(0);for(Se=T,Re=[],Ne=s.preFilter;Se;){(!ie||(se=Ct.exec(Se)))&&(se&&(Se=Se.slice(se[0].length)||Se),Re.push(ge=[])),ie=!1,(se=$t.exec(Se))&&(ie=se.shift(),ge.push({value:ie,type:se[0].replace(Ae," ")}),Se=Se.slice(ie.length));for(De in s.filter)(se=wn[De].exec(Se))&&(!Ne[De]||(se=Ne[De](se)))&&(ie=se.shift(),ge.push({value:ie,type:De,matches:se}),Se=Se.slice(ie.length));if(!ie)break}return H?Se.length:Se?Mt.error(T):pt(T,Re).slice(0)}function kn(T){for(var H=0,ie=T.length,se="";H<ie;H++)se+=T[H].value;return se}function lr(T,H,ie){var se=H.dir,ge=H.next,De=ge||se,Se=ie&&De==="parentNode",Re=we++;return H.first?function(Ne,lt,Ye){for(;Ne=Ne[se];)if(Ne.nodeType===1||Se)return T(Ne,lt,Ye);return!1}:function(Ne,lt,Ye){var et,Je,Ge=[oe,Re];if(Ye){for(;Ne=Ne[se];)if((Ne.nodeType===1||Se)&&T(Ne,lt,Ye))return!0}else for(;Ne=Ne[se];)if(Ne.nodeType===1||Se)if(Je=Ne[pe]||(Ne[pe]={}),ge&&ye(Ne,ge))Ne=Ne[se]||Ne;else{if((et=Je[De])&&et[0]===oe&&et[1]===Re)return Ge[2]=et[2];if(Je[De]=Ge,Ge[2]=T(Ne,lt,Ye))return!0}return!1}}function gi(T){return T.length>1?function(H,ie,se){for(var ge=T.length;ge--;)if(!T[ge](H,ie,se))return!1;return!0}:T[0]}function Sr(T,H,ie){for(var se=0,ge=H.length;se<ge;se++)Mt(T,H[se],ie);return ie}function Cn(T,H,ie,se,ge){for(var De,Se=[],Re=0,Ne=T.length,lt=H!=null;Re<Ne;Re++)(De=T[Re])&&(!ie||ie(De,se,ge))&&(Se.push(De),lt&&H.push(Re));return Se}function Bi(T,H,ie,se,ge,De){return se&&!se[pe]&&(se=Bi(se)),ge&&!ge[pe]&&(ge=Bi(ge,De)),Bn(function(Se,Re,Ne,lt){var Ye,et,Je,Ge,It=[],Qt=[],en=Re.length,bn=Se||Sr(H||"*",Ne.nodeType?[Ne]:Ne,[]),Yn=T&&(Se||!H)?Cn(bn,It,T,Ne,lt):bn;if(ie?(Ge=ge||(Se?T:en||se)?[]:Re,ie(Yn,Ge,Ne,lt)):Ge=Yn,se)for(Ye=Cn(Ge,Qt),se(Ye,[],Ne,lt),et=Ye.length;et--;)(Je=Ye[et])&&(Ge[Qt[et]]=!(Yn[Qt[et]]=Je));if(Se){if(ge||T){if(ge){for(Ye=[],et=Ge.length;et--;)(Je=Ge[et])&&Ye.push(Yn[et]=Je);ge(null,Ge=[],Ye,lt)}for(et=Ge.length;et--;)(Je=Ge[et])&&(Ye=ge?I.call(Se,Je):It[et])>-1&&(Se[Ye]=!(Re[Ye]=Je))}}else Ge=Cn(Ge===Re?Ge.splice(en,Ge.length):Ge),ge?ge(null,Re,Ge,lt):g.apply(Re,Ge)})}function cr(T){for(var H,ie,se,ge=T.length,De=s.relative[T[0].type],Se=De||s.relative[" "],Re=De?1:0,Ne=lr(function(et){return et===H},Se,!0),lt=lr(function(et){return I.call(H,et)>-1},Se,!0),Ye=[function(et,Je,Ge){var It=!De&&(Ge||Je!=c)||((H=Je).nodeType?Ne(et,Je,Ge):lt(et,Je,Ge));return H=null,It}];Re<ge;Re++)if(ie=s.relative[T[Re].type])Ye=[lr(gi(Ye),ie)];else{if(ie=s.filter[T[Re].type].apply(null,T[Re].matches),ie[pe]){for(se=++Re;se<ge&&!s.relative[T[se].type];se++);return Bi(Re>1&&gi(Ye),Re>1&&kn(T.slice(0,Re-1).concat({value:T[Re-2].type===" "?"*":""})).replace(Ae,"$1"),ie,Re<se&&cr(T.slice(Re,se)),se<ge&&cr(T=T.slice(se)),se<ge&&kn(T))}Ye.push(ie)}return gi(Ye)}function pr(T,H){var ie=H.length>0,se=T.length>0,ge=function(De,Se,Re,Ne,lt){var Ye,et,Je,Ge=0,It="0",Qt=De&&[],en=[],bn=c,Yn=De||se&&s.find.TAG("*",lt),qn=oe+=bn==null?1:Math.random()||.1,on=Yn.length;for(lt&&(c=Se==M||Se||lt);It!==on&&(Ye=Yn[It])!=null;It++){if(se&&Ye){for(et=0,!Se&&Ye.ownerDocument!=M&&(pi(Ye),Re=!A);Je=T[et++];)if(Je(Ye,Se||M,Re)){g.call(Ne,Ye);break}lt&&(oe=qn)}ie&&((Ye=!Je&&Ye)&&Ge--,De&&Qt.push(Ye))}if(Ge+=It,ie&&It!==Ge){for(et=0;Je=H[et++];)Je(Qt,en,Se,Re);if(De){if(Ge>0)for(;It--;)Qt[It]||en[It]||(en[It]=xe.call(Ne));en=Cn(en)}g.apply(Ne,en),lt&&!De&&en.length>0&&Ge+H.length>1&&l.uniqueSort(Ne)}return lt&&(oe=qn,c=bn),Qt};return ie?Bn(ge):ge}function Ri(T,H){var ie,se=[],ge=[],De=rt[T+" "];if(!De){for(H||(H=$i(T)),ie=H.length;ie--;)De=cr(H[ie]),De[pe]?se.push(De):ge.push(De);De=rt(T,pr(ge,se)),De.selector=T}return De}function ur(T,H,ie,se){var ge,De,Se,Re,Ne,lt=typeof T=="function"&&T,Ye=!se&&$i(T=lt.selector||T);if(ie=ie||[],Ye.length===1){if(De=Ye[0]=Ye[0].slice(0),De.length>2&&(Se=De[0]).type==="ID"&&H.nodeType===9&&A&&s.relative[De[1].type]){if(H=(s.find.ID(Se.matches[0].replace(ii,Zt),H)||[])[0],H)lt&&(H=H.parentNode);else return ie;T=T.slice(De.shift().value.length)}for(ge=wn.needsContext.test(T)?0:De.length;ge--&&(Se=De[ge],!s.relative[Re=Se.type]);)if((Ne=s.find[Re])&&(se=Ne(Se.matches[0].replace(ii,Zt),ar.test(De[0].type)&&Oi(H.parentNode)||H))){if(De.splice(ge,1),T=se.length&&kn(De),!T)return g.apply(ie,se),ie;break}}return(lt||Ri(T,Ye))(se,H,!A,ie,!H||ar.test(T)&&Oi(H.parentNode)||H),ie}re.sortStable=pe.split("").sort(Gt).join("")===pe,pi(),re.sortDetached=Hn(function(T){return T.compareDocumentPosition(M.createElement("fieldset"))&1}),l.find=Mt,l.expr[":"]=l.expr.pseudos,l.unique=l.uniqueSort,Mt.compile=Ri,Mt.select=ur,Mt.setDocument=pi,Mt.tokenize=$i,Mt.escape=l.escapeSelector,Mt.getText=l.text,Mt.isXML=l.isXMLDoc,Mt.selectors=l.expr,Mt.support=l.support,Mt.uniqueSort=l.uniqueSort})();var Te=function(r,s,c){for(var h=[],m=c!==void 0;(r=r[s])&&r.nodeType!==9;)if(r.nodeType===1){if(m&&l(r).is(c))break;h.push(r)}return h},qe=function(r,s){for(var c=[];r;r=r.nextSibling)r.nodeType===1&&r!==s&&c.push(r);return c},_t=l.expr.match.needsContext,Ze=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function He(r,s,c){return K(s)?l.grep(r,function(h,m){return!!s.call(h,m,h)!==c}):s.nodeType?l.grep(r,function(h){return h===s!==c}):typeof s!="string"?l.grep(r,function(h){return I.call(s,h)>-1!==c}):l.filter(s,r,c)}l.filter=function(r,s,c){var h=s[0];return c&&(r=":not("+r+")"),s.length===1&&h.nodeType===1?l.find.matchesSelector(h,r)?[h]:[]:l.find.matches(r,l.grep(s,function(m){return m.nodeType===1}))},l.fn.extend({find:function(r){var s,c,h=this.length,m=this;if(typeof r!="string")return this.pushStack(l(r).filter(function(){for(s=0;s<h;s++)if(l.contains(m[s],this))return!0}));for(c=this.pushStack([]),s=0;s<h;s++)l.find(r,m[s],c);return h>1?l.uniqueSort(c):c},filter:function(r){return this.pushStack(He(this,r||[],!1))},not:function(r){return this.pushStack(He(this,r||[],!0))},is:function(r){return!!He(this,typeof r=="string"&&_t.test(r)?l(r):r||[],!1).length}});var ct,it=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,nn=l.fn.init=function(r,s,c){var h,m;if(!r)return this;if(c=c||ct,typeof r=="string")if(r[0]==="<"&&r[r.length-1]===">"&&r.length>=3?h=[null,r,null]:h=it.exec(r),h&&(h[1]||!s))if(h[1]){if(s=s instanceof l?s[0]:s,l.merge(this,l.parseHTML(h[1],s&&s.nodeType?s.ownerDocument||s:J,!0)),Ze.test(h[1])&&l.isPlainObject(s))for(h in s)K(this[h])?this[h](s[h]):this.attr(h,s[h]);return this}else return m=J.getElementById(h[2]),m&&(this[0]=m,this.length=1),this;else return!s||s.jquery?(s||c).find(r):this.constructor(s).find(r);else{if(r.nodeType)return this[0]=r,this.length=1,this;if(K(r))return c.ready!==void 0?c.ready(r):r(l)}return l.makeArray(r,this)};nn.prototype=l.fn,ct=l(J);var zt=/^(?:parents|prev(?:Until|All))/,vi={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(r){var s=l(r,this),c=s.length;return this.filter(function(){for(var h=0;h<c;h++)if(l.contains(this,s[h]))return!0})},closest:function(r,s){var c,h=0,m=this.length,g=[],M=typeof r!="string"&&l(r);if(!_t.test(r)){for(;h<m;h++)for(c=this[h];c&&c!==s;c=c.parentNode)if(c.nodeType<11&&(M?M.index(c)>-1:c.nodeType===1&&l.find.matchesSelector(c,r))){g.push(c);break}}return this.pushStack(g.length>1?l.uniqueSort(g):g)},index:function(r){return r?typeof r=="string"?I.call(l(r),this[0]):I.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,s){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(r,s))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}});function rn(r,s){for(;(r=r[s])&&r.nodeType!==1;);return r}l.each({parent:function(r){var s=r.parentNode;return s&&s.nodeType!==11?s:null},parents:function(r){return Te(r,"parentNode")},parentsUntil:function(r,s,c){return Te(r,"parentNode",c)},next:function(r){return rn(r,"nextSibling")},prev:function(r){return rn(r,"previousSibling")},nextAll:function(r){return Te(r,"nextSibling")},prevAll:function(r){return Te(r,"previousSibling")},nextUntil:function(r,s,c){return Te(r,"nextSibling",c)},prevUntil:function(r,s,c){return Te(r,"previousSibling",c)},siblings:function(r){return qe((r.parentNode||{}).firstChild,r)},children:function(r){return qe(r.firstChild)},contents:function(r){return r.contentDocument!=null&&y(r.contentDocument)?r.contentDocument:(ye(r,"template")&&(r=r.content||r),l.merge([],r.childNodes))}},function(r,s){l.fn[r]=function(c,h){var m=l.map(this,s,c);return r.slice(-5)!=="Until"&&(h=c),h&&typeof h=="string"&&(m=l.filter(h,m)),this.length>1&&(vi[r]||l.uniqueSort(m),zt.test(r)&&m.reverse()),this.pushStack(m)}});var Ut=/[^\x20\t\r\n\f]+/g;function an(r){var s={};return l.each(r.match(Ut)||[],function(c,h){s[h]=!0}),s}l.Callbacks=function(r){r=typeof r=="string"?an(r):l.extend({},r);var s,c,h,m,g=[],M=[],B=-1,A=function(){for(m=m||r.once,h=s=!0;M.length;B=-1)for(c=M.shift();++B<g.length;)g[B].apply(c[0],c[1])===!1&&r.stopOnFalse&&(B=g.length,c=!1);r.memory||(c=!1),s=!1,m&&(c?g=[]:g="")},Q={add:function(){return g&&(c&&!s&&(B=g.length-1,M.push(c)),function ce(pe){l.each(pe,function(oe,we){K(we)?(!r.unique||!Q.has(we))&&g.push(we):we&&we.length&&ee(we)!=="string"&&ce(we)})}(arguments),c&&!s&&A()),this},remove:function(){return l.each(arguments,function(ce,pe){for(var oe;(oe=l.inArray(pe,g,oe))>-1;)g.splice(oe,1),oe<=B&&B--}),this},has:function(ce){return ce?l.inArray(ce,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return m=M=[],g=c="",this},disabled:function(){return!g},lock:function(){return m=M=[],!c&&!s&&(g=c=""),this},locked:function(){return!!m},fireWith:function(ce,pe){return m||(pe=pe||[],pe=[ce,pe.slice?pe.slice():pe],M.push(pe),s||A()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!h}};return Q};function yn(r){return r}function Qn(r){throw r}function ai(r,s,c,h){var m;try{r&&K(m=r.promise)?m.call(r).done(s).fail(c):r&&K(m=r.then)?m.call(r,s,c):s.apply(void 0,[r].slice(h))}catch(g){c.apply(void 0,[g])}}l.extend({Deferred:function(r){var s=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],c="pending",h={state:function(){return c},always:function(){return m.done(arguments).fail(arguments),this},catch:function(g){return h.then(null,g)},pipe:function(){var g=arguments;return l.Deferred(function(M){l.each(s,function(B,A){var Q=K(g[A[4]])&&g[A[4]];m[A[1]](function(){var ce=Q&&Q.apply(this,arguments);ce&&K(ce.promise)?ce.promise().progress(M.notify).done(M.resolve).fail(M.reject):M[A[0]+"With"](this,Q?[ce]:arguments)})}),g=null}).promise()},then:function(g,M,B){var A=0;function Q(ce,pe,oe,we){return function(){var Qe=this,pt=arguments,rt=function(){var Gt,jn;if(!(ce<A)){if(Gt=oe.apply(Qe,pt),Gt===pe.promise())throw new TypeError("Thenable self-resolution");jn=Gt&&(typeof Gt=="object"||typeof Gt=="function")&&Gt.then,K(jn)?we?jn.call(Gt,Q(A,pe,yn,we),Q(A,pe,Qn,we)):(A++,jn.call(Gt,Q(A,pe,yn,we),Q(A,pe,Qn,we),Q(A,pe,yn,pe.notifyWith))):(oe!==yn&&(Qe=void 0,pt=[Gt]),(we||pe.resolveWith)(Qe,pt))}},Rt=we?rt:function(){try{rt()}catch(Gt){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(Gt,Rt.error),ce+1>=A&&(oe!==Qn&&(Qe=void 0,pt=[Gt]),pe.rejectWith(Qe,pt))}};ce?Rt():(l.Deferred.getErrorHook?Rt.error=l.Deferred.getErrorHook():l.Deferred.getStackHook&&(Rt.error=l.Deferred.getStackHook()),P.setTimeout(Rt))}}return l.Deferred(function(ce){s[0][3].add(Q(0,ce,K(B)?B:yn,ce.notifyWith)),s[1][3].add(Q(0,ce,K(g)?g:yn)),s[2][3].add(Q(0,ce,K(M)?M:Qn))}).promise()},promise:function(g){return g!=null?l.extend(g,h):h}},m={};return l.each(s,function(g,M){var B=M[2],A=M[5];h[M[1]]=B.add,A&&B.add(function(){c=A},s[3-g][2].disable,s[3-g][3].disable,s[0][2].lock,s[0][3].lock),B.add(M[3].fire),m[M[0]]=function(){return m[M[0]+"With"](this===m?void 0:this,arguments),this},m[M[0]+"With"]=B.fireWith}),h.promise(m),r&&r.call(m,m),m},when:function(r){var s=arguments.length,c=s,h=Array(c),m=v.call(arguments),g=l.Deferred(),M=function(B){return function(A){h[B]=this,m[B]=arguments.length>1?v.call(arguments):A,--s||g.resolveWith(h,m)}};if(s<=1&&(ai(r,g.done(M(c)).resolve,g.reject,!s),g.state()==="pending"||K(m[c]&&m[c].then)))return g.then();for(;c--;)ai(m[c],M(c),g.reject);return g.promise()}});var qt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(r,s){P.console&&P.console.warn&&r&&qt.test(r.name)&&P.console.warn("jQuery.Deferred exception: "+r.message,r.stack,s)},l.readyException=function(r){P.setTimeout(function(){throw r})};var Kn=l.Deferred();l.fn.ready=function(r){return Kn.then(r).catch(function(s){l.readyException(s)}),this},l.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(r!==!0&&--l.readyWait>0)&&Kn.resolveWith(J,[l]))}}),l.ready.then=Kn.then;function dn(){J.removeEventListener("DOMContentLoaded",dn),P.removeEventListener("load",dn),l.ready()}J.readyState==="complete"||J.readyState!=="loading"&&!J.documentElement.doScroll?P.setTimeout(l.ready):(J.addEventListener("DOMContentLoaded",dn),P.addEventListener("load",dn));var pn=function(r,s,c,h,m,g,M){var B=0,A=r.length,Q=c==null;if(ee(c)==="object"){m=!0;for(B in c)pn(r,s,B,c[B],!0,g,M)}else if(h!==void 0&&(m=!0,K(h)||(M=!0),Q&&(M?(s.call(r,h),s=null):(Q=s,s=function(ce,pe,oe){return Q.call(l(ce),oe)})),s))for(;B<A;B++)s(r[B],c,M?h:h.call(r[B],B,s(r[B],c)));return m?r:Q?s.call(r):A?s(r[0],c):g},Mi=/^-ms-/,R=/-([a-z])/g;function b(r,s){return s.toUpperCase()}function w(r){return r.replace(Mi,"ms-").replace(R,b)}var D=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function G(){this.expando=l.expando+G.uid++}G.uid=1,G.prototype={cache:function(r){var s=r[this.expando];return s||(s={},D(r)&&(r.nodeType?r[this.expando]=s:Object.defineProperty(r,this.expando,{value:s,configurable:!0}))),s},set:function(r,s,c){var h,m=this.cache(r);if(typeof s=="string")m[w(s)]=c;else for(h in s)m[w(h)]=s[h];return m},get:function(r,s){return s===void 0?this.cache(r):r[this.expando]&&r[this.expando][w(s)]},access:function(r,s,c){return s===void 0||s&&typeof s=="string"&&c===void 0?this.get(r,s):(this.set(r,s,c),c!==void 0?c:s)},remove:function(r,s){var c,h=r[this.expando];if(h!==void 0){if(s!==void 0)for(Array.isArray(s)?s=s.map(w):(s=w(s),s=s in h?[s]:s.match(Ut)||[]),c=s.length;c--;)delete h[s[c]];(s===void 0||l.isEmptyObject(h))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var s=r[this.expando];return s!==void 0&&!l.isEmptyObject(s)}};var S=new G,he=new G,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;function Ue(r){return r==="true"?!0:r==="false"?!1:r==="null"?null:r===+r+""?+r:be.test(r)?JSON.parse(r):r}function Xe(r,s,c){var h;if(c===void 0&&r.nodeType===1)if(h="data-"+s.replace(Ie,"-$&").toLowerCase(),c=r.getAttribute(h),typeof c=="string"){try{c=Ue(c)}catch{}he.set(r,s,c)}else c=void 0;return c}l.extend({hasData:function(r){return he.hasData(r)||S.hasData(r)},data:function(r,s,c){return he.access(r,s,c)},removeData:function(r,s){he.remove(r,s)},_data:function(r,s,c){return S.access(r,s,c)},_removeData:function(r,s){S.remove(r,s)}}),l.fn.extend({data:function(r,s){var c,h,m,g=this[0],M=g&&g.attributes;if(r===void 0){if(this.length&&(m=he.get(g),g.nodeType===1&&!S.get(g,"hasDataAttrs"))){for(c=M.length;c--;)M[c]&&(h=M[c].name,h.indexOf("data-")===0&&(h=w(h.slice(5)),Xe(g,h,m[h])));S.set(g,"hasDataAttrs",!0)}return m}return typeof r=="object"?this.each(function(){he.set(this,r)}):pn(this,function(B){var A;if(g&&B===void 0)return A=he.get(g,r),A!==void 0||(A=Xe(g,r),A!==void 0)?A:void 0;this.each(function(){he.set(this,r,B)})},null,s,arguments.length>1,null,!0)},removeData:function(r){return this.each(function(){he.remove(this,r)})}}),l.extend({queue:function(r,s,c){var h;if(r)return s=(s||"fx")+"queue",h=S.get(r,s),c&&(!h||Array.isArray(c)?h=S.access(r,s,l.makeArray(c)):h.push(c)),h||[]},dequeue:function(r,s){s=s||"fx";var c=l.queue(r,s),h=c.length,m=c.shift(),g=l._queueHooks(r,s),M=function(){l.dequeue(r,s)};m==="inprogress"&&(m=c.shift(),h--),m&&(s==="fx"&&c.unshift("inprogress"),delete g.stop,m.call(r,M,g)),!h&&g&&g.empty.fire()},_queueHooks:function(r,s){var c=s+"queueHooks";return S.get(r,c)||S.access(r,c,{empty:l.Callbacks("once memory").add(function(){S.remove(r,[s+"queue",c])})})}}),l.fn.extend({queue:function(r,s){var c=2;return typeof r!="string"&&(s=r,r="fx",c--),arguments.length<c?l.queue(this[0],r):s===void 0?this:this.each(function(){var h=l.queue(this,r,s);l._queueHooks(this,r),r==="fx"&&h[0]!=="inprogress"&&l.dequeue(this,r)})},dequeue:function(r){return this.each(function(){l.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,s){var c,h=1,m=l.Deferred(),g=this,M=this.length,B=function(){--h||m.resolveWith(g,[g])};for(typeof r!="string"&&(s=r,r=void 0),r=r||"fx";M--;)c=S.get(g[M],r+"queueHooks"),c&&c.empty&&(h++,c.empty.add(B));return B(),m.promise(s)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],We=J.documentElement,bt=function(r){return l.contains(r.ownerDocument,r)},kt={composed:!0};We.getRootNode&&(bt=function(r){return l.contains(r.ownerDocument,r)||r.getRootNode(kt)===r.ownerDocument});var Pt=function(r,s){return r=s||r,r.style.display==="none"||r.style.display===""&&bt(r)&&l.css(r,"display")==="none"};function Ft(r,s,c,h){var m,g,M=20,B=h?function(){return h.cur()}:function(){return l.css(r,s,"")},A=B(),Q=c&&c[3]||(l.cssNumber[s]?"":"px"),ce=r.nodeType&&(l.cssNumber[s]||Q!=="px"&&+A)&&tt.exec(l.css(r,s));if(ce&&ce[3]!==Q){for(A=A/2,Q=Q||ce[3],ce=+A||1;M--;)l.style(r,s,ce+Q),(1-g)*(1-(g=B()/A||.5))<=0&&(M=0),ce=ce/g;ce=ce*2,l.style(r,s,ce+Q),c=c||[]}return c&&(ce=+ce||+A||0,m=c[1]?ce+(c[1]+1)*c[2]:+c[2],h&&(h.unit=Q,h.start=ce,h.end=m)),m}var Ot={};function Ht(r){var s,c=r.ownerDocument,h=r.nodeName,m=Ot[h];return m||(s=c.body.appendChild(c.createElement(h)),m=l.css(s,"display"),s.parentNode.removeChild(s),m==="none"&&(m="block"),Ot[h]=m,m)}function Wt(r,s){for(var c,h,m=[],g=0,M=r.length;g<M;g++)h=r[g],h.style&&(c=h.style.display,s?(c==="none"&&(m[g]=S.get(h,"display")||null,m[g]||(h.style.display="")),h.style.display===""&&Pt(h)&&(m[g]=Ht(h))):c!=="none"&&(m[g]="none",S.set(h,"display",c)));for(g=0;g<M;g++)m[g]!=null&&(r[g].style.display=m[g]);return r}l.fn.extend({show:function(){return Wt(this,!0)},hide:function(){return Wt(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){Pt(this)?l(this).show():l(this).hide()})}});var Kt=/^(?:checkbox|radio)$/i,Jt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,sn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var r=J.createDocumentFragment(),s=r.appendChild(J.createElement("div")),c=J.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),s.appendChild(c),re.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,s.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!s.cloneNode(!0).lastChild.defaultValue,s.innerHTML="<option></option>",re.option=!!s.lastChild})();var St={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};St.tbody=St.tfoot=St.colgroup=St.caption=St.thead,St.th=St.td,re.option||(St.optgroup=St.option=[1,"<select multiple='multiple'>","</select>"]);function Nt(r,s){var c;return typeof r.getElementsByTagName<"u"?c=r.getElementsByTagName(s||"*"):typeof r.querySelectorAll<"u"?c=r.querySelectorAll(s||"*"):c=[],s===void 0||s&&ye(r,s)?l.merge([r],c):c}function Bt(r,s){for(var c=0,h=r.length;c<h;c++)S.set(r[c],"globalEval",!s||S.get(s[c],"globalEval"))}var At=/<|&#?\w+;/;function Dn(r,s,c,h,m){for(var g,M,B,A,Q,ce,pe=s.createDocumentFragment(),oe=[],we=0,Qe=r.length;we<Qe;we++)if(g=r[we],g||g===0)if(ee(g)==="object")l.merge(oe,g.nodeType?[g]:g);else if(!At.test(g))oe.push(s.createTextNode(g));else{for(M=M||pe.appendChild(s.createElement("div")),B=(Jt.exec(g)||["",""])[1].toLowerCase(),A=St[B]||St._default,M.innerHTML=A[1]+l.htmlPrefilter(g)+A[2],ce=A[0];ce--;)M=M.lastChild;l.merge(oe,M.childNodes),M=pe.firstChild,M.textContent=""}for(pe.textContent="",we=0;g=oe[we++];){if(h&&l.inArray(g,h)>-1){m&&m.push(g);continue}if(Q=bt(g),M=Nt(pe.appendChild(g),"script"),Q&&Bt(M),c)for(ce=0;g=M[ce++];)sn.test(g.type||"")&&c.push(g)}return pe}var Ui=/^([^.]*)(?:\.(.+)|)/;function Rn(){return!0}function vn(){return!1}function fn(r,s,c,h,m,g){var M,B;if(typeof s=="object"){typeof c!="string"&&(h=h||c,c=void 0);for(B in s)fn(r,B,c,h,s[B],g);return r}if(h==null&&m==null?(m=c,h=c=void 0):m==null&&(typeof c=="string"?(m=h,h=void 0):(m=h,h=c,c=void 0)),m===!1)m=vn;else if(!m)return r;return g===1&&(M=m,m=function(A){return l().off(A),M.apply(this,arguments)},m.guid=M.guid||(M.guid=l.guid++)),r.each(function(){l.event.add(this,s,m,h,c)})}l.event={global:{},add:function(r,s,c,h,m){var g,M,B,A,Q,ce,pe,oe,we,Qe,pt,rt=S.get(r);if(D(r))for(c.handler&&(g=c,c=g.handler,m=g.selector),m&&l.find.matchesSelector(We,m),c.guid||(c.guid=l.guid++),(A=rt.events)||(A=rt.events=Object.create(null)),(M=rt.handle)||(M=rt.handle=function(Rt){return typeof l<"u"&&l.event.triggered!==Rt.type?l.event.dispatch.apply(r,arguments):void 0}),s=(s||"").match(Ut)||[""],Q=s.length;Q--;)B=Ui.exec(s[Q])||[],we=pt=B[1],Qe=(B[2]||"").split(".").sort(),we&&(pe=l.event.special[we]||{},we=(m?pe.delegateType:pe.bindType)||we,pe=l.event.special[we]||{},ce=l.extend({type:we,origType:pt,data:h,handler:c,guid:c.guid,selector:m,needsContext:m&&l.expr.match.needsContext.test(m),namespace:Qe.join(".")},g),(oe=A[we])||(oe=A[we]=[],oe.delegateCount=0,(!pe.setup||pe.setup.call(r,h,Qe,M)===!1)&&r.addEventListener&&r.addEventListener(we,M)),pe.add&&(pe.add.call(r,ce),ce.handler.guid||(ce.handler.guid=c.guid)),m?oe.splice(oe.delegateCount++,0,ce):oe.push(ce),l.event.global[we]=!0)},remove:function(r,s,c,h,m){var g,M,B,A,Q,ce,pe,oe,we,Qe,pt,rt=S.hasData(r)&&S.get(r);if(!(!rt||!(A=rt.events))){for(s=(s||"").match(Ut)||[""],Q=s.length;Q--;){if(B=Ui.exec(s[Q])||[],we=pt=B[1],Qe=(B[2]||"").split(".").sort(),!we){for(we in A)l.event.remove(r,we+s[Q],c,h,!0);continue}for(pe=l.event.special[we]||{},we=(h?pe.delegateType:pe.bindType)||we,oe=A[we]||[],B=B[2]&&new RegExp("(^|\\.)"+Qe.join("\\.(?:.*\\.|)")+"(\\.|$)"),M=g=oe.length;g--;)ce=oe[g],(m||pt===ce.origType)&&(!c||c.guid===ce.guid)&&(!B||B.test(ce.namespace))&&(!h||h===ce.selector||h==="**"&&ce.selector)&&(oe.splice(g,1),ce.selector&&oe.delegateCount--,pe.remove&&pe.remove.call(r,ce));M&&!oe.length&&((!pe.teardown||pe.teardown.call(r,Qe,rt.handle)===!1)&&l.removeEvent(r,we,rt.handle),delete A[we])}l.isEmptyObject(A)&&S.remove(r,"handle events")}},dispatch:function(r){var s,c,h,m,g,M,B=new Array(arguments.length),A=l.event.fix(r),Q=(S.get(this,"events")||Object.create(null))[A.type]||[],ce=l.event.special[A.type]||{};for(B[0]=A,s=1;s<arguments.length;s++)B[s]=arguments[s];if(A.delegateTarget=this,!(ce.preDispatch&&ce.preDispatch.call(this,A)===!1)){for(M=l.event.handlers.call(this,A,Q),s=0;(m=M[s++])&&!A.isPropagationStopped();)for(A.currentTarget=m.elem,c=0;(g=m.handlers[c++])&&!A.isImmediatePropagationStopped();)(!A.rnamespace||g.namespace===!1||A.rnamespace.test(g.namespace))&&(A.handleObj=g,A.data=g.data,h=((l.event.special[g.origType]||{}).handle||g.handler).apply(m.elem,B),h!==void 0&&(A.result=h)===!1&&(A.preventDefault(),A.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,A),A.result}},handlers:function(r,s){var c,h,m,g,M,B=[],A=s.delegateCount,Q=r.target;if(A&&Q.nodeType&&!(r.type==="click"&&r.button>=1)){for(;Q!==this;Q=Q.parentNode||this)if(Q.nodeType===1&&!(r.type==="click"&&Q.disabled===!0)){for(g=[],M={},c=0;c<A;c++)h=s[c],m=h.selector+" ",M[m]===void 0&&(M[m]=h.needsContext?l(m,this).index(Q)>-1:l.find(m,this,null,[Q]).length),M[m]&&g.push(h);g.length&&B.push({elem:Q,handlers:g})}}return Q=this,A<s.length&&B.push({elem:Q,handlers:s.slice(A)}),B},addProp:function(r,s){Object.defineProperty(l.Event.prototype,r,{enumerable:!0,configurable:!0,get:K(s)?function(){if(this.originalEvent)return s(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(c){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(r){return r[l.expando]?r:new l.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var s=this||r;return Kt.test(s.type)&&s.click&&ye(s,"input")&&Oe(s,"click",!0),!1},trigger:function(r){var s=this||r;return Kt.test(s.type)&&s.click&&ye(s,"input")&&Oe(s,"click"),!0},_default:function(r){var s=r.target;return Kt.test(s.type)&&s.click&&ye(s,"input")&&S.get(s,"click")||ye(s,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};function Oe(r,s,c){if(!c){S.get(r,s)===void 0&&l.event.add(r,s,Rn);return}S.set(r,s,!1),l.event.add(r,s,{namespace:!1,handler:function(h){var m,g=S.get(this,s);if(h.isTrigger&1&&this[s]){if(g)(l.event.special[s]||{}).delegateType&&h.stopPropagation();else if(g=v.call(arguments),S.set(this,s,g),this[s](),m=S.get(this,s),S.set(this,s,!1),g!==m)return h.stopImmediatePropagation(),h.preventDefault(),m}else g&&(S.set(this,s,l.event.trigger(g[0],g.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=Rn)}})}l.removeEvent=function(r,s,c){r.removeEventListener&&r.removeEventListener(s,c)},l.Event=function(r,s){if(!(this instanceof l.Event))return new l.Event(r,s);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?Rn:vn,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,s&&l.extend(this,s),this.timeStamp=r&&r.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:vn,isPropagationStopped:vn,isImmediatePropagationStopped:vn,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=Rn,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=Rn,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=Rn,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(r,s){function c(h){if(J.documentMode){var m=S.get(this,"handle"),g=l.event.fix(h);g.type=h.type==="focusin"?"focus":"blur",g.isSimulated=!0,m(h),g.target===g.currentTarget&&m(g)}else l.event.simulate(s,h.target,l.event.fix(h))}l.event.special[r]={setup:function(){var h;if(Oe(this,r,!0),J.documentMode)h=S.get(this,s),h||this.addEventListener(s,c),S.set(this,s,(h||0)+1);else return!1},trigger:function(){return Oe(this,r),!0},teardown:function(){var h;if(J.documentMode)h=S.get(this,s)-1,h?S.set(this,s,h):(this.removeEventListener(s,c),S.remove(this,s));else return!1},_default:function(h){return S.get(h.target,r)},delegateType:s},l.event.special[s]={setup:function(){var h=this.ownerDocument||this.document||this,m=J.documentMode?this:h,g=S.get(m,s);g||(J.documentMode?this.addEventListener(s,c):h.addEventListener(r,c,!0)),S.set(m,s,(g||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,m=J.documentMode?this:h,g=S.get(m,s)-1;g?S.set(m,s,g):(J.documentMode?this.removeEventListener(s,c):h.removeEventListener(r,c,!0),S.remove(m,s))}}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,s){l.event.special[r]={delegateType:s,bindType:s,handle:function(c){var h,m=this,g=c.relatedTarget,M=c.handleObj;return(!g||g!==m&&!l.contains(m,g))&&(c.type=M.origType,h=M.handler.apply(this,arguments),c.type=s),h}}}),l.fn.extend({on:function(r,s,c,h){return fn(this,r,s,c,h)},one:function(r,s,c,h){return fn(this,r,s,c,h,1)},off:function(r,s,c){var h,m;if(r&&r.preventDefault&&r.handleObj)return h=r.handleObj,l(r.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof r=="object"){for(m in r)this.off(m,s,r[m]);return this}return(s===!1||typeof s=="function")&&(c=s,s=void 0),c===!1&&(c=vn),this.each(function(){l.event.remove(this,r,c,s)})}});var Di=/<script|<style|<link/i,Ei=/checked\s*(?:[^=]|=\s*.checked.)/i,Fi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function En(r,s){return ye(r,"table")&&ye(s.nodeType!==11?s:s.firstChild,"tr")&&l(r).children("tbody")[0]||r}function Pn(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function tr(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Sn(r,s){var c,h,m,g,M,B,A;if(s.nodeType===1){if(S.hasData(r)&&(g=S.get(r),A=g.events,A)){S.remove(s,"handle events");for(m in A)for(c=0,h=A[m].length;c<h;c++)l.event.add(s,m,A[m][c])}he.hasData(r)&&(M=he.access(r),B=l.extend({},M),he.set(s,B))}}function si(r,s){var c=s.nodeName.toLowerCase();c==="input"&&Kt.test(r.type)?s.checked=r.checked:(c==="input"||c==="textarea")&&(s.defaultValue=r.defaultValue)}function fi(r,s,c,h){s=_(s);var m,g,M,B,A,Q,ce=0,pe=r.length,oe=pe-1,we=s[0],Qe=K(we);if(Qe||pe>1&&typeof we=="string"&&!re.checkClone&&Ei.test(we))return r.each(function(pt){var rt=r.eq(pt);Qe&&(s[0]=we.call(this,pt,rt.html())),fi(rt,s,c,h)});if(pe&&(m=Dn(s,r[0].ownerDocument,!1,r,h),g=m.firstChild,m.childNodes.length===1&&(m=g),g||h)){for(M=l.map(Nt(m,"script"),Pn),B=M.length;ce<pe;ce++)A=m,ce!==oe&&(A=l.clone(A,!0,!0),B&&l.merge(M,Nt(A,"script"))),c.call(r[ce],A,ce);if(B)for(Q=M[M.length-1].ownerDocument,l.map(M,tr),ce=0;ce<B;ce++)A=M[ce],sn.test(A.type||"")&&!S.access(A,"globalEval")&&l.contains(Q,A)&&(A.src&&(A.type||"").toLowerCase()!=="module"?l._evalUrl&&!A.noModule&&l._evalUrl(A.src,{nonce:A.nonce||A.getAttribute("nonce")},Q):$(A.textContent.replace(Fi,""),A,Q))}return r}function Hi(r,s,c){for(var h,m=s?l.filter(s,r):r,g=0;(h=m[g])!=null;g++)!c&&h.nodeType===1&&l.cleanData(Nt(h)),h.parentNode&&(c&&bt(h)&&Bt(Nt(h,"script")),h.parentNode.removeChild(h));return r}l.extend({htmlPrefilter:function(r){return r},clone:function(r,s,c){var h,m,g,M,B=r.cloneNode(!0),A=bt(r);if(!re.noCloneChecked&&(r.nodeType===1||r.nodeType===11)&&!l.isXMLDoc(r))for(M=Nt(B),g=Nt(r),h=0,m=g.length;h<m;h++)si(g[h],M[h]);if(s)if(c)for(g=g||Nt(r),M=M||Nt(B),h=0,m=g.length;h<m;h++)Sn(g[h],M[h]);else Sn(r,B);return M=Nt(B,"script"),M.length>0&&Bt(M,!A&&Nt(r,"script")),B},cleanData:function(r){for(var s,c,h,m=l.event.special,g=0;(c=r[g])!==void 0;g++)if(D(c)){if(s=c[S.expando]){if(s.events)for(h in s.events)m[h]?l.event.remove(c,h):l.removeEvent(c,h,s.handle);c[S.expando]=void 0}c[he.expando]&&(c[he.expando]=void 0)}}}),l.fn.extend({detach:function(r){return Hi(this,r,!0)},remove:function(r){return Hi(this,r)},text:function(r){return pn(this,function(s){return s===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=s)})},null,r,arguments.length)},append:function(){return fi(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var s=En(this,r);s.appendChild(r)}})},prepend:function(){return fi(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var s=En(this,r);s.insertBefore(r,s.firstChild)}})},before:function(){return fi(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return fi(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,s=0;(r=this[s])!=null;s++)r.nodeType===1&&(l.cleanData(Nt(r,!1)),r.textContent="");return this},clone:function(r,s){return r=r??!1,s=s??r,this.map(function(){return l.clone(this,r,s)})},html:function(r){return pn(this,function(s){var c=this[0]||{},h=0,m=this.length;if(s===void 0&&c.nodeType===1)return c.innerHTML;if(typeof s=="string"&&!Di.test(s)&&!St[(Jt.exec(s)||["",""])[1].toLowerCase()]){s=l.htmlPrefilter(s);try{for(;h<m;h++)c=this[h]||{},c.nodeType===1&&(l.cleanData(Nt(c,!1)),c.innerHTML=s);c=0}catch{}}c&&this.empty().append(s)},null,r,arguments.length)},replaceWith:function(){var r=[];return fi(this,arguments,function(s){var c=this.parentNode;l.inArray(this,r)<0&&(l.cleanData(Nt(this)),c&&c.replaceChild(s,this))},r)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,s){l.fn[r]=function(c){for(var h,m=[],g=l(c),M=g.length-1,B=0;B<=M;B++)h=B===M?this:this.clone(!0),l(g[B])[s](h),k.apply(m,h.get());return this.pushStack(m)}});var Pi=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Yi=/^--/,li=function(r){var s=r.ownerDocument.defaultView;return(!s||!s.opener)&&(s=P),s.getComputedStyle(r)},Si=function(r,s,c){var h,m,g={};for(m in s)g[m]=r.style[m],r.style[m]=s[m];h=c.call(r);for(m in s)r.style[m]=g[m];return h},Li=new RegExp(st.join("|"),"i");(function(){function r(){if(Q){A.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",We.appendChild(A).appendChild(Q);var ce=P.getComputedStyle(Q);c=ce.top!=="1%",B=s(ce.marginLeft)===12,Q.style.right="60%",g=s(ce.right)===36,h=s(ce.width)===36,Q.style.position="absolute",m=s(Q.offsetWidth/3)===12,We.removeChild(A),Q=null}}function s(ce){return Math.round(parseFloat(ce))}var c,h,m,g,M,B,A=J.createElement("div"),Q=J.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle=Q.style.backgroundClip==="content-box",l.extend(re,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),g},pixelPosition:function(){return r(),c},reliableMarginLeft:function(){return r(),B},scrollboxSize:function(){return r(),m},reliableTrDimensions:function(){var ce,pe,oe,we;return M==null&&(ce=J.createElement("table"),pe=J.createElement("tr"),oe=J.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",pe.style.cssText="box-sizing:content-box;border:1px solid",pe.style.height="1px",oe.style.height="9px",oe.style.display="block",We.appendChild(ce).appendChild(pe).appendChild(oe),we=P.getComputedStyle(pe),M=parseInt(we.height,10)+parseInt(we.borderTopWidth,10)+parseInt(we.borderBottomWidth,10)===pe.offsetHeight,We.removeChild(ce)),M}}))})();function Jn(r,s,c){var h,m,g,M,B=Yi.test(s),A=r.style;return c=c||li(r),c&&(M=c.getPropertyValue(s)||c[s],B&&M&&(M=M.replace(Ae,"$1")||void 0),M===""&&!bt(r)&&(M=l.style(r,s)),!re.pixelBoxStyles()&&Pi.test(M)&&Li.test(s)&&(h=A.width,m=A.minWidth,g=A.maxWidth,A.minWidth=A.maxWidth=A.width=M,M=c.width,A.width=h,A.minWidth=m,A.maxWidth=g)),M!==void 0?M+"":M}function nr(r,s){return{get:function(){if(r()){delete this.get;return}return(this.get=s).apply(this,arguments)}}}var wi=["Webkit","Moz","ms"],qi=J.createElement("div").style,ir={};function Xn(r){for(var s=r[0].toUpperCase()+r.slice(1),c=wi.length;c--;)if(r=wi[c]+s,r in qi)return r}function $n(r){var s=l.cssProps[r]||ir[r];return s||(r in qi?r:ir[r]=Xn(r)||r)}var Wi=/^(none|table(?!-c[ea]).+)/,Ni={position:"absolute",visibility:"hidden",display:"block"},ci={letterSpacing:"0",fontWeight:"400"};function ht(r,s,c){var h=tt.exec(s);return h?Math.max(0,h[2]-(c||0))+(h[3]||"px"):s}function Lt(r,s,c,h,m,g){var M=s==="width"?1:0,B=0,A=0,Q=0;if(c===(h?"border":"content"))return 0;for(;M<4;M+=2)c==="margin"&&(Q+=l.css(r,c+st[M],!0,m)),h?(c==="content"&&(A-=l.css(r,"padding"+st[M],!0,m)),c!=="margin"&&(A-=l.css(r,"border"+st[M]+"Width",!0,m))):(A+=l.css(r,"padding"+st[M],!0,m),c!=="padding"?A+=l.css(r,"border"+st[M]+"Width",!0,m):B+=l.css(r,"border"+st[M]+"Width",!0,m));return!h&&g>=0&&(A+=Math.max(0,Math.ceil(r["offset"+s[0].toUpperCase()+s.slice(1)]-g-A-B-.5))||0),A+Q}function Gn(r,s,c){var h=li(r),m=!re.boxSizingReliable()||c,g=m&&l.css(r,"boxSizing",!1,h)==="border-box",M=g,B=Jn(r,s,h),A="offset"+s[0].toUpperCase()+s.slice(1);if(Pi.test(B)){if(!c)return B;B="auto"}return(!re.boxSizingReliable()&&g||!re.reliableTrDimensions()&&ye(r,"tr")||B==="auto"||!parseFloat(B)&&l.css(r,"display",!1,h)==="inline")&&r.getClientRects().length&&(g=l.css(r,"boxSizing",!1,h)==="border-box",M=A in r,M&&(B=r[A])),B=parseFloat(B)||0,B+Lt(r,s,c||(g?"border":"content"),M,h,B)+"px"}l.extend({cssHooks:{opacity:{get:function(r,s){if(s){var c=Jn(r,"opacity");return c===""?"1":c}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,s,c,h){if(!(!r||r.nodeType===3||r.nodeType===8||!r.style)){var m,g,M,B=w(s),A=Yi.test(s),Q=r.style;if(A||(s=$n(B)),M=l.cssHooks[s]||l.cssHooks[B],c!==void 0){if(g=typeof c,g==="string"&&(m=tt.exec(c))&&m[1]&&(c=Ft(r,s,m),g="number"),c==null||c!==c)return;g==="number"&&!A&&(c+=m&&m[3]||(l.cssNumber[B]?"":"px")),!re.clearCloneStyle&&c===""&&s.indexOf("background")===0&&(Q[s]="inherit"),(!M||!("set"in M)||(c=M.set(r,c,h))!==void 0)&&(A?Q.setProperty(s,c):Q[s]=c)}else return M&&"get"in M&&(m=M.get(r,!1,h))!==void 0?m:Q[s]}},css:function(r,s,c,h){var m,g,M,B=w(s),A=Yi.test(s);return A||(s=$n(B)),M=l.cssHooks[s]||l.cssHooks[B],M&&"get"in M&&(m=M.get(r,!0,c)),m===void 0&&(m=Jn(r,s,h)),m==="normal"&&s in ci&&(m=ci[s]),c===""||c?(g=parseFloat(m),c===!0||isFinite(g)?g||0:m):m}}),l.each(["height","width"],function(r,s){l.cssHooks[s]={get:function(c,h,m){if(h)return Wi.test(l.css(c,"display"))&&(!c.getClientRects().length||!c.getBoundingClientRect().width)?Si(c,Ni,function(){return Gn(c,s,m)}):Gn(c,s,m)},set:function(c,h,m){var g,M=li(c),B=!re.scrollboxSize()&&M.position==="absolute",A=B||m,Q=A&&l.css(c,"boxSizing",!1,M)==="border-box",ce=m?Lt(c,s,m,Q,M):0;return Q&&B&&(ce-=Math.ceil(c["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(M[s])-Lt(c,s,"border",!1,M)-.5)),ce&&(g=tt.exec(h))&&(g[3]||"px")!=="px"&&(c.style[s]=h,h=l.css(c,s)),ht(c,h,ce)}}}),l.cssHooks.marginLeft=nr(re.reliableMarginLeft,function(r,s){if(s)return(parseFloat(Jn(r,"marginLeft"))||r.getBoundingClientRect().left-Si(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(r,s){l.cssHooks[r+s]={expand:function(c){for(var h=0,m={},g=typeof c=="string"?c.split(" "):[c];h<4;h++)m[r+st[h]+s]=g[h]||g[h-2]||g[0];return m}},r!=="margin"&&(l.cssHooks[r+s].set=ht)}),l.fn.extend({css:function(r,s){return pn(this,function(c,h,m){var g,M,B={},A=0;if(Array.isArray(h)){for(g=li(c),M=h.length;A<M;A++)B[h[A]]=l.css(c,h[A],!1,g);return B}return m!==void 0?l.style(c,h,m):l.css(c,h)},r,s,arguments.length>1)}});function Tt(r,s,c,h,m){return new Tt.prototype.init(r,s,c,h,m)}l.Tween=Tt,Tt.prototype={constructor:Tt,init:function(r,s,c,h,m,g){this.elem=r,this.prop=c,this.easing=m||l.easing._default,this.options=s,this.start=this.now=this.cur(),this.end=h,this.unit=g||(l.cssNumber[c]?"":"px")},cur:function(){var r=Tt.propHooks[this.prop];return r&&r.get?r.get(this):Tt.propHooks._default.get(this)},run:function(r){var s,c=Tt.propHooks[this.prop];return this.options.duration?this.pos=s=l.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=s=r,this.now=(this.end-this.start)*s+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Tt.propHooks._default.set(this),this}},Tt.prototype.init.prototype=Tt.prototype,Tt.propHooks={_default:{get:function(r){var s;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(s=l.css(r.elem,r.prop,""),!s||s==="auto"?0:s)},set:function(r){l.fx.step[r.prop]?l.fx.step[r.prop](r):r.elem.nodeType===1&&(l.cssHooks[r.prop]||r.elem.style[$n(r.prop)]!=null)?l.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}},Tt.propHooks.scrollTop=Tt.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},l.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},l.fx=Tt.prototype.init,l.fx.step={};var ln,ei,nt=/^(?:toggle|show|hide)$/,Dt=/queueHooks$/;function xi(){ei&&(J.hidden===!1&&P.requestAnimationFrame?P.requestAnimationFrame(xi):P.setTimeout(xi,l.fx.interval),l.fx.tick())}function ki(){return P.setTimeout(function(){ln=void 0}),ln=Date.now()}function Vt(r,s){var c,h=0,m={height:r};for(s=s?1:0;h<4;h+=2-s)c=st[h],m["margin"+c]=m["padding"+c]=r;return s&&(m.opacity=m.width=r),m}function Vi(r,s,c){for(var h,m=(mt.tweeners[s]||[]).concat(mt.tweeners["*"]),g=0,M=m.length;g<M;g++)if(h=m[g].call(c,s,r))return h}function Ai(r,s,c){var h,m,g,M,B,A,Q,ce,pe="width"in s||"height"in s,oe=this,we={},Qe=r.style,pt=r.nodeType&&Pt(r),rt=S.get(r,"fxshow");c.queue||(M=l._queueHooks(r,"fx"),M.unqueued==null&&(M.unqueued=0,B=M.empty.fire,M.empty.fire=function(){M.unqueued||B()}),M.unqueued++,oe.always(function(){oe.always(function(){M.unqueued--,l.queue(r,"fx").length||M.empty.fire()})}));for(h in s)if(m=s[h],nt.test(m)){if(delete s[h],g=g||m==="toggle",m===(pt?"hide":"show"))if(m==="show"&&rt&&rt[h]!==void 0)pt=!0;else continue;we[h]=rt&&rt[h]||l.style(r,h)}if(A=!l.isEmptyObject(s),!(!A&&l.isEmptyObject(we))){pe&&r.nodeType===1&&(c.overflow=[Qe.overflow,Qe.overflowX,Qe.overflowY],Q=rt&&rt.display,Q==null&&(Q=S.get(r,"display")),ce=l.css(r,"display"),ce==="none"&&(Q?ce=Q:(Wt([r],!0),Q=r.style.display||Q,ce=l.css(r,"display"),Wt([r]))),(ce==="inline"||ce==="inline-block"&&Q!=null)&&l.css(r,"float")==="none"&&(A||(oe.done(function(){Qe.display=Q}),Q==null&&(ce=Qe.display,Q=ce==="none"?"":ce)),Qe.display="inline-block")),c.overflow&&(Qe.overflow="hidden",oe.always(function(){Qe.overflow=c.overflow[0],Qe.overflowX=c.overflow[1],Qe.overflowY=c.overflow[2]})),A=!1;for(h in we)A||(rt?"hidden"in rt&&(pt=rt.hidden):rt=S.access(r,"fxshow",{display:Q}),g&&(rt.hidden=!pt),pt&&Wt([r],!0),oe.done(function(){pt||Wt([r]),S.remove(r,"fxshow");for(h in we)l.style(r,h,we[h])})),A=Vi(pt?rt[h]:0,h,oe),h in rt||(rt[h]=A.start,pt&&(A.end=A.start,A.start=0))}}function Nn(r,s){var c,h,m,g,M;for(c in r)if(h=w(c),m=s[h],g=r[c],Array.isArray(g)&&(m=g[1],g=r[c]=g[0]),c!==h&&(r[h]=g,delete r[c]),M=l.cssHooks[h],M&&"expand"in M){g=M.expand(g),delete r[h];for(c in g)c in r||(r[c]=g[c],s[c]=m)}else s[h]=m}function mt(r,s,c){var h,m,g=0,M=mt.prefilters.length,B=l.Deferred().always(function(){delete A.elem}),A=function(){if(m)return!1;for(var pe=ln||ki(),oe=Math.max(0,Q.startTime+Q.duration-pe),we=oe/Q.duration||0,Qe=1-we,pt=0,rt=Q.tweens.length;pt<rt;pt++)Q.tweens[pt].run(Qe);return B.notifyWith(r,[Q,Qe,oe]),Qe<1&&rt?oe:(rt||B.notifyWith(r,[Q,1,0]),B.resolveWith(r,[Q]),!1)},Q=B.promise({elem:r,props:l.extend({},s),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},c),originalProperties:s,originalOptions:c,startTime:ln||ki(),duration:c.duration,tweens:[],createTween:function(pe,oe){var we=l.Tween(r,Q.opts,pe,oe,Q.opts.specialEasing[pe]||Q.opts.easing);return Q.tweens.push(we),we},stop:function(pe){var oe=0,we=pe?Q.tweens.length:0;if(m)return this;for(m=!0;oe<we;oe++)Q.tweens[oe].run(1);return pe?(B.notifyWith(r,[Q,1,0]),B.resolveWith(r,[Q,pe])):B.rejectWith(r,[Q,pe]),this}}),ce=Q.props;for(Nn(ce,Q.opts.specialEasing);g<M;g++)if(h=mt.prefilters[g].call(Q,r,ce,Q.opts),h)return K(h.stop)&&(l._queueHooks(Q.elem,Q.opts.queue).stop=h.stop.bind(h)),h;return l.map(ce,Vi,Q),K(Q.opts.start)&&Q.opts.start.call(r,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),l.fx.timer(l.extend(A,{elem:r,anim:Q,queue:Q.opts.queue})),Q}l.Animation=l.extend(mt,{tweeners:{"*":[function(r,s){var c=this.createTween(r,s);return Ft(c.elem,r,tt.exec(s),c),c}]},tweener:function(r,s){K(r)?(s=r,r=["*"]):r=r.match(Ut);for(var c,h=0,m=r.length;h<m;h++)c=r[h],mt.tweeners[c]=mt.tweeners[c]||[],mt.tweeners[c].unshift(s)},prefilters:[Ai],prefilter:function(r,s){s?mt.prefilters.unshift(r):mt.prefilters.push(r)}}),l.speed=function(r,s,c){var h=r&&typeof r=="object"?l.extend({},r):{complete:c||!c&&s||K(r)&&r,duration:r,easing:c&&s||s&&!K(s)&&s};return l.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in l.fx.speeds?h.duration=l.fx.speeds[h.duration]:h.duration=l.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){K(h.old)&&h.old.call(this),h.queue&&l.dequeue(this,h.queue)},h},l.fn.extend({fadeTo:function(r,s,c,h){return this.filter(Pt).css("opacity",0).show().end().animate({opacity:s},r,c,h)},animate:function(r,s,c,h){var m=l.isEmptyObject(r),g=l.speed(s,c,h),M=function(){var B=mt(this,l.extend({},r),g);(m||S.get(this,"finish"))&&B.stop(!0)};return M.finish=M,m||g.queue===!1?this.each(M):this.queue(g.queue,M)},stop:function(r,s,c){var h=function(m){var g=m.stop;delete m.stop,g(c)};return typeof r!="string"&&(c=s,s=r,r=void 0),s&&this.queue(r||"fx",[]),this.each(function(){var m=!0,g=r!=null&&r+"queueHooks",M=l.timers,B=S.get(this);if(g)B[g]&&B[g].stop&&h(B[g]);else for(g in B)B[g]&&B[g].stop&&Dt.test(g)&&h(B[g]);for(g=M.length;g--;)M[g].elem===this&&(r==null||M[g].queue===r)&&(M[g].anim.stop(c),m=!1,M.splice(g,1));(m||!c)&&l.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var s,c=S.get(this),h=c[r+"queue"],m=c[r+"queueHooks"],g=l.timers,M=h?h.length:0;for(c.finish=!0,l.queue(this,r,[]),m&&m.stop&&m.stop.call(this,!0),s=g.length;s--;)g[s].elem===this&&g[s].queue===r&&(g[s].anim.stop(!0),g.splice(s,1));for(s=0;s<M;s++)h[s]&&h[s].finish&&h[s].finish.call(this);delete c.finish})}}),l.each(["toggle","show","hide"],function(r,s){var c=l.fn[s];l.fn[s]=function(h,m,g){return h==null||typeof h=="boolean"?c.apply(this,arguments):this.animate(Vt(s,!0),h,m,g)}}),l.each({slideDown:Vt("show"),slideUp:Vt("hide"),slideToggle:Vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,s){l.fn[r]=function(c,h,m){return this.animate(s,c,h,m)}}),l.timers=[],l.fx.tick=function(){var r,s=0,c=l.timers;for(ln=Date.now();s<c.length;s++)r=c[s],!r()&&c[s]===r&&c.splice(s--,1);c.length||l.fx.stop(),ln=void 0},l.fx.timer=function(r){l.timers.push(r),l.fx.start()},l.fx.interval=13,l.fx.start=function(){ei||(ei=!0,xi())},l.fx.stop=function(){ei=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(r,s){return r=l.fx&&l.fx.speeds[r]||r,s=s||"fx",this.queue(s,function(c,h){var m=P.setTimeout(c,r);h.stop=function(){P.clearTimeout(m)}})},function(){var r=J.createElement("input"),s=J.createElement("select"),c=s.appendChild(J.createElement("option"));r.type="checkbox",re.checkOn=r.value!=="",re.optSelected=c.selected,r=J.createElement("input"),r.value="t",r.type="radio",re.radioValue=r.value==="t"}();var An,Xt=l.expr.attrHandle;l.fn.extend({attr:function(r,s){return pn(this,l.attr,r,s,arguments.length>1)},removeAttr:function(r){return this.each(function(){l.removeAttr(this,r)})}}),l.extend({attr:function(r,s,c){var h,m,g=r.nodeType;if(!(g===3||g===8||g===2)){if(typeof r.getAttribute>"u")return l.prop(r,s,c);if((g!==1||!l.isXMLDoc(r))&&(m=l.attrHooks[s.toLowerCase()]||(l.expr.match.bool.test(s)?An:void 0)),c!==void 0){if(c===null){l.removeAttr(r,s);return}return m&&"set"in m&&(h=m.set(r,c,s))!==void 0?h:(r.setAttribute(s,c+""),c)}return m&&"get"in m&&(h=m.get(r,s))!==null?h:(h=l.find.attr(r,s),h??void 0)}},attrHooks:{type:{set:function(r,s){if(!re.radioValue&&s==="radio"&&ye(r,"input")){var c=r.value;return r.setAttribute("type",s),c&&(r.value=c),s}}}},removeAttr:function(r,s){var c,h=0,m=s&&s.match(Ut);if(m&&r.nodeType===1)for(;c=m[h++];)r.removeAttribute(c)}}),An={set:function(r,s,c){return s===!1?l.removeAttr(r,c):r.setAttribute(c,c),c}},l.each(l.expr.match.bool.source.match(/\w+/g),function(r,s){var c=Xt[s]||l.find.attr;Xt[s]=function(h,m,g){var M,B,A=m.toLowerCase();return g||(B=Xt[A],Xt[A]=M,M=c(h,m,g)!=null?A:null,Xt[A]=B),M}});var Zn=/^(?:input|select|textarea|button)$/i,Qi=/^(?:a|area)$/i;l.fn.extend({prop:function(r,s){return pn(this,l.prop,r,s,arguments.length>1)},removeProp:function(r){return this.each(function(){delete this[l.propFix[r]||r]})}}),l.extend({prop:function(r,s,c){var h,m,g=r.nodeType;if(!(g===3||g===8||g===2))return(g!==1||!l.isXMLDoc(r))&&(s=l.propFix[s]||s,m=l.propHooks[s]),c!==void 0?m&&"set"in m&&(h=m.set(r,c,s))!==void 0?h:r[s]=c:m&&"get"in m&&(h=m.get(r,s))!==null?h:r[s]},propHooks:{tabIndex:{get:function(r){var s=l.find.attr(r,"tabindex");return s?parseInt(s,10):Zn.test(r.nodeName)||Qi.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(l.propHooks.selected={get:function(r){var s=r.parentNode;return s&&s.parentNode&&s.parentNode.selectedIndex,null},set:function(r){var s=r.parentNode;s&&(s.selectedIndex,s.parentNode&&s.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function gn(r){var s=r.match(Ut)||[];return s.join(" ")}function wt(r){return r.getAttribute&&r.getAttribute("class")||""}function Un(r){return Array.isArray(r)?r:typeof r=="string"?r.match(Ut)||[]:[]}l.fn.extend({addClass:function(r){var s,c,h,m,g,M;return K(r)?this.each(function(B){l(this).addClass(r.call(this,B,wt(this)))}):(s=Un(r),s.length?this.each(function(){if(h=wt(this),c=this.nodeType===1&&" "+gn(h)+" ",c){for(g=0;g<s.length;g++)m=s[g],c.indexOf(" "+m+" ")<0&&(c+=m+" ");M=gn(c),h!==M&&this.setAttribute("class",M)}}):this)},removeClass:function(r){var s,c,h,m,g,M;return K(r)?this.each(function(B){l(this).removeClass(r.call(this,B,wt(this)))}):arguments.length?(s=Un(r),s.length?this.each(function(){if(h=wt(this),c=this.nodeType===1&&" "+gn(h)+" ",c){for(g=0;g<s.length;g++)for(m=s[g];c.indexOf(" "+m+" ")>-1;)c=c.replace(" "+m+" "," ");M=gn(c),h!==M&&this.setAttribute("class",M)}}):this):this.attr("class","")},toggleClass:function(r,s){var c,h,m,g,M=typeof r,B=M==="string"||Array.isArray(r);return K(r)?this.each(function(A){l(this).toggleClass(r.call(this,A,wt(this),s),s)}):typeof s=="boolean"&&B?s?this.addClass(r):this.removeClass(r):(c=Un(r),this.each(function(){if(B)for(g=l(this),m=0;m<c.length;m++)h=c[m],g.hasClass(h)?g.removeClass(h):g.addClass(h);else(r===void 0||M==="boolean")&&(h=wt(this),h&&S.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||r===!1?"":S.get(this,"__className__")||""))}))},hasClass:function(r){var s,c,h=0;for(s=" "+r+" ";c=this[h++];)if(c.nodeType===1&&(" "+gn(wt(c))+" ").indexOf(s)>-1)return!0;return!1}});var ui=/\r/g;l.fn.extend({val:function(r){var s,c,h,m=this[0];return arguments.length?(h=K(r),this.each(function(g){var M;this.nodeType===1&&(h?M=r.call(this,g,l(this).val()):M=r,M==null?M="":typeof M=="number"?M+="":Array.isArray(M)&&(M=l.map(M,function(B){return B==null?"":B+""})),s=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!s||!("set"in s)||s.set(this,M,"value")===void 0)&&(this.value=M))})):m?(s=l.valHooks[m.type]||l.valHooks[m.nodeName.toLowerCase()],s&&"get"in s&&(c=s.get(m,"value"))!==void 0?c:(c=m.value,typeof c=="string"?c.replace(ui,""):c??"")):void 0}}),l.extend({valHooks:{option:{get:function(r){var s=l.find.attr(r,"value");return s??gn(l.text(r))}},select:{get:function(r){var s,c,h,m=r.options,g=r.selectedIndex,M=r.type==="select-one",B=M?null:[],A=M?g+1:m.length;for(g<0?h=A:h=M?g:0;h<A;h++)if(c=m[h],(c.selected||h===g)&&!c.disabled&&(!c.parentNode.disabled||!ye(c.parentNode,"optgroup"))){if(s=l(c).val(),M)return s;B.push(s)}return B},set:function(r,s){for(var c,h,m=r.options,g=l.makeArray(s),M=m.length;M--;)h=m[M],(h.selected=l.inArray(l.valHooks.option.get(h),g)>-1)&&(c=!0);return c||(r.selectedIndex=-1),g}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(r,s){if(Array.isArray(s))return r.checked=l.inArray(l(r).val(),s)>-1}},re.checkOn||(l.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})});var ti=P.location,ji={guid:Date.now()},ni=/\?/;l.parseXML=function(r){var s,c;if(!r||typeof r!="string")return null;try{s=new P.DOMParser().parseFromString(r,"text/xml")}catch{}return c=s&&s.getElementsByTagName("parsererror")[0],(!s||c)&&l.error("Invalid XML: "+(c?l.map(c.childNodes,function(h){return h.textContent}).join(`
`):r)),s};var Ki=/^(?:focusinfocus|focusoutblur)$/,hi=function(r){r.stopPropagation()};l.extend(l.event,{trigger:function(r,s,c,h){var m,g,M,B,A,Q,ce,pe,oe=[c||J],we=q.call(r,"type")?r.type:r,Qe=q.call(r,"namespace")?r.namespace.split("."):[];if(g=pe=M=c=c||J,!(c.nodeType===3||c.nodeType===8)&&!Ki.test(we+l.event.triggered)&&(we.indexOf(".")>-1&&(Qe=we.split("."),we=Qe.shift(),Qe.sort()),A=we.indexOf(":")<0&&"on"+we,r=r[l.expando]?r:new l.Event(we,typeof r=="object"&&r),r.isTrigger=h?2:3,r.namespace=Qe.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+Qe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=c),s=s==null?[r]:l.makeArray(s,[r]),ce=l.event.special[we]||{},!(!h&&ce.trigger&&ce.trigger.apply(c,s)===!1))){if(!h&&!ce.noBubble&&!X(c)){for(B=ce.delegateType||we,Ki.test(B+we)||(g=g.parentNode);g;g=g.parentNode)oe.push(g),M=g;M===(c.ownerDocument||J)&&oe.push(M.defaultView||M.parentWindow||P)}for(m=0;(g=oe[m++])&&!r.isPropagationStopped();)pe=g,r.type=m>1?B:ce.bindType||we,Q=(S.get(g,"events")||Object.create(null))[r.type]&&S.get(g,"handle"),Q&&Q.apply(g,s),Q=A&&g[A],Q&&Q.apply&&D(g)&&(r.result=Q.apply(g,s),r.result===!1&&r.preventDefault());return r.type=we,!h&&!r.isDefaultPrevented()&&(!ce._default||ce._default.apply(oe.pop(),s)===!1)&&D(c)&&A&&K(c[we])&&!X(c)&&(M=c[A],M&&(c[A]=null),l.event.triggered=we,r.isPropagationStopped()&&pe.addEventListener(we,hi),c[we](),r.isPropagationStopped()&&pe.removeEventListener(we,hi),l.event.triggered=void 0,M&&(c[A]=M)),r.result}},simulate:function(r,s,c){var h=l.extend(new l.Event,c,{type:r,isSimulated:!0});l.event.trigger(h,null,s)}}),l.fn.extend({trigger:function(r,s){return this.each(function(){l.event.trigger(r,s,this)})},triggerHandler:function(r,s){var c=this[0];if(c)return l.event.trigger(r,s,c,!0)}});var Ji=/\[\]$/,$e=/\r?\n/g,Mn=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function t(r,s,c,h){var m;if(Array.isArray(s))l.each(s,function(g,M){c||Ji.test(r)?h(r,M):t(r+"["+(typeof M=="object"&&M!=null?g:"")+"]",M,c,h)});else if(!c&&ee(s)==="object")for(m in s)t(r+"["+m+"]",s[m],c,h);else h(r,s)}l.param=function(r,s){var c,h=[],m=function(g,M){var B=K(M)?M():M;h[h.length]=encodeURIComponent(g)+"="+encodeURIComponent(B??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!l.isPlainObject(r))l.each(r,function(){m(this.name,this.value)});else for(c in r)t(c,r[c],s,m);return h.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=l.prop(this,"elements");return r?l.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!l(this).is(":disabled")&&xt.test(this.nodeName)&&!Mn.test(r)&&(this.checked||!Kt.test(r))}).map(function(r,s){var c=l(this).val();return c==null?null:Array.isArray(c)?l.map(c,function(h){return{name:s.name,value:h.replace($e,`\r
`)}}):{name:s.name,value:c.replace($e,`\r
`)}}).get()}});var i=/%20/g,a=/#.*$/,u=/([?&])_=[^&]*/,p=/^(.*?):[ \t]*([^\r\n]*)$/mg,C=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,N=/^(?:GET|HEAD)$/,j=/^\/\//,O={},F={},te="*/".concat("*"),de=J.createElement("a");de.href=ti.href;function ue(r){return function(s,c){typeof s!="string"&&(c=s,s="*");var h,m=0,g=s.toLowerCase().match(Ut)||[];if(K(c))for(;h=g[m++];)h[0]==="+"?(h=h.slice(1)||"*",(r[h]=r[h]||[]).unshift(c)):(r[h]=r[h]||[]).push(c)}}function Le(r,s,c,h){var m={},g=r===F;function M(B){var A;return m[B]=!0,l.each(r[B]||[],function(Q,ce){var pe=ce(s,c,h);if(typeof pe=="string"&&!g&&!m[pe])return s.dataTypes.unshift(pe),M(pe),!1;if(g)return!(A=pe)}),A}return M(s.dataTypes[0])||!m["*"]&&M("*")}function Ee(r,s){var c,h,m=l.ajaxSettings.flatOptions||{};for(c in s)s[c]!==void 0&&((m[c]?r:h||(h={}))[c]=s[c]);return h&&l.extend(!0,r,h),r}function Fe(r,s,c){for(var h,m,g,M,B=r.contents,A=r.dataTypes;A[0]==="*";)A.shift(),h===void 0&&(h=r.mimeType||s.getResponseHeader("Content-Type"));if(h){for(m in B)if(B[m]&&B[m].test(h)){A.unshift(m);break}}if(A[0]in c)g=A[0];else{for(m in c){if(!A[0]||r.converters[m+" "+A[0]]){g=m;break}M||(M=m)}g=g||M}if(g)return g!==A[0]&&A.unshift(g),c[g]}function Pe(r,s,c,h){var m,g,M,B,A,Q={},ce=r.dataTypes.slice();if(ce[1])for(M in r.converters)Q[M.toLowerCase()]=r.converters[M];for(g=ce.shift();g;)if(r.responseFields[g]&&(c[r.responseFields[g]]=s),!A&&h&&r.dataFilter&&(s=r.dataFilter(s,r.dataType)),A=g,g=ce.shift(),g){if(g==="*")g=A;else if(A!=="*"&&A!==g){if(M=Q[A+" "+g]||Q["* "+g],!M){for(m in Q)if(B=m.split(" "),B[1]===g&&(M=Q[A+" "+B[0]]||Q["* "+B[0]],M)){M===!0?M=Q[m]:Q[m]!==!0&&(g=B[0],ce.unshift(B[1]));break}}if(M!==!0)if(M&&r.throws)s=M(s);else try{s=M(s)}catch(pe){return{state:"parsererror",error:M?pe:"No conversion from "+A+" to "+g}}}}return{state:"success",data:s}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ti.href,type:"GET",isLocal:C.test(ti.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,s){return s?Ee(Ee(r,l.ajaxSettings),s):Ee(l.ajaxSettings,r)},ajaxPrefilter:ue(O),ajaxTransport:ue(F),ajax:function(r,s){typeof r=="object"&&(s=r,r=void 0),s=s||{};var c,h,m,g,M,B,A,Q,ce,pe,oe=l.ajaxSetup({},s),we=oe.context||oe,Qe=oe.context&&(we.nodeType||we.jquery)?l(we):l.event,pt=l.Deferred(),rt=l.Callbacks("once memory"),Rt=oe.statusCode||{},Gt={},jn={},zn="canceled",ot={readyState:0,getResponseHeader:function(gt){var Ct;if(A){if(!g)for(g={};Ct=p.exec(m);)g[Ct[1].toLowerCase()+" "]=(g[Ct[1].toLowerCase()+" "]||[]).concat(Ct[2]);Ct=g[gt.toLowerCase()+" "]}return Ct==null?null:Ct.join(", ")},getAllResponseHeaders:function(){return A?m:null},setRequestHeader:function(gt,Ct){return A==null&&(gt=jn[gt.toLowerCase()]=jn[gt.toLowerCase()]||gt,Gt[gt]=Ct),this},overrideMimeType:function(gt){return A==null&&(oe.mimeType=gt),this},statusCode:function(gt){var Ct;if(gt)if(A)ot.always(gt[ot.status]);else for(Ct in gt)Rt[Ct]=[Rt[Ct],gt[Ct]];return this},abort:function(gt){var Ct=gt||zn;return c&&c.abort(Ct),mn(0,Ct),this}};if(pt.promise(ot),oe.url=((r||oe.url||ti.href)+"").replace(j,ti.protocol+"//"),oe.type=s.method||s.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Ut)||[""],oe.crossDomain==null){B=J.createElement("a");try{B.href=oe.url,B.href=B.href,oe.crossDomain=de.protocol+"//"+de.host!=B.protocol+"//"+B.host}catch{oe.crossDomain=!0}}if(oe.data&&oe.processData&&typeof oe.data!="string"&&(oe.data=l.param(oe.data,oe.traditional)),Le(O,oe,s,ot),A)return ot;Q=l.event&&oe.global,Q&&l.active++===0&&l.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!N.test(oe.type),h=oe.url.replace(a,""),oe.hasContent?oe.data&&oe.processData&&(oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oe.data=oe.data.replace(i,"+")):(pe=oe.url.slice(h.length),oe.data&&(oe.processData||typeof oe.data=="string")&&(h+=(ni.test(h)?"&":"?")+oe.data,delete oe.data),oe.cache===!1&&(h=h.replace(u,"$1"),pe=(ni.test(h)?"&":"?")+"_="+ji.guid+++pe),oe.url=h+pe),oe.ifModified&&(l.lastModified[h]&&ot.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&ot.setRequestHeader("If-None-Match",l.etag[h])),(oe.data&&oe.hasContent&&oe.contentType!==!1||s.contentType)&&ot.setRequestHeader("Content-Type",oe.contentType),ot.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+(oe.dataTypes[0]!=="*"?", "+te+"; q=0.01":""):oe.accepts["*"]);for(ce in oe.headers)ot.setRequestHeader(ce,oe.headers[ce]);if(oe.beforeSend&&(oe.beforeSend.call(we,ot,oe)===!1||A))return ot.abort();if(zn="abort",rt.add(oe.complete),ot.done(oe.success),ot.fail(oe.error),c=Le(F,oe,s,ot),!c)mn(-1,"No Transport");else{if(ot.readyState=1,Q&&Qe.trigger("ajaxSend",[ot,oe]),A)return ot;oe.async&&oe.timeout>0&&(M=P.setTimeout(function(){ot.abort("timeout")},oe.timeout));try{A=!1,c.send(Gt,mn)}catch(gt){if(A)throw gt;mn(-1,gt)}}function mn(gt,Ct,$t,or){var On,Xi,wn,Fn,di,xn=Ct;A||(A=!0,M&&P.clearTimeout(M),c=void 0,m=or||"",ot.readyState=gt>0?4:0,On=gt>=200&&gt<300||gt===304,$t&&(Fn=Fe(oe,ot,$t)),!On&&l.inArray("script",oe.dataTypes)>-1&&l.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),Fn=Pe(oe,Fn,ot,On),On?(oe.ifModified&&(di=ot.getResponseHeader("Last-Modified"),di&&(l.lastModified[h]=di),di=ot.getResponseHeader("etag"),di&&(l.etag[h]=di)),gt===204||oe.type==="HEAD"?xn="nocontent":gt===304?xn="notmodified":(xn=Fn.state,Xi=Fn.data,wn=Fn.error,On=!wn)):(wn=xn,(gt||!xn)&&(xn="error",gt<0&&(gt=0))),ot.status=gt,ot.statusText=(Ct||xn)+"",On?pt.resolveWith(we,[Xi,xn,ot]):pt.rejectWith(we,[ot,xn,wn]),ot.statusCode(Rt),Rt=void 0,Q&&Qe.trigger(On?"ajaxSuccess":"ajaxError",[ot,oe,On?Xi:wn]),rt.fireWith(we,[ot,xn]),Q&&(Qe.trigger("ajaxComplete",[ot,oe]),--l.active||l.event.trigger("ajaxStop")))}return ot},getJSON:function(r,s,c){return l.get(r,s,c,"json")},getScript:function(r,s){return l.get(r,void 0,s,"script")}}),l.each(["get","post"],function(r,s){l[s]=function(c,h,m,g){return K(h)&&(g=g||m,m=h,h=void 0),l.ajax(l.extend({url:c,type:s,dataType:g,data:h,success:m},l.isPlainObject(c)&&c))}}),l.ajaxPrefilter(function(r){var s;for(s in r.headers)s.toLowerCase()==="content-type"&&(r.contentType=r.headers[s]||"")}),l._evalUrl=function(r,s,c){return l.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){l.globalEval(h,s,c)}})},l.fn.extend({wrapAll:function(r){var s;return this[0]&&(K(r)&&(r=r.call(this[0])),s=l(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&s.insertBefore(this[0]),s.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(r){return K(r)?this.each(function(s){l(this).wrapInner(r.call(this,s))}):this.each(function(){var s=l(this),c=s.contents();c.length?c.wrapAll(r):s.append(r)})},wrap:function(r){var s=K(r);return this.each(function(c){l(this).wrapAll(s?r.call(this,c):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(r){return!l.expr.pseudos.visible(r)},l.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new P.XMLHttpRequest}catch{}};var vt={0:200,1223:204},ft=l.ajaxSettings.xhr();re.cors=!!ft&&"withCredentials"in ft,re.ajax=ft=!!ft,l.ajaxTransport(function(r){var s,c;if(re.cors||ft&&!r.crossDomain)return{send:function(h,m){var g,M=r.xhr();if(M.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(g in r.xhrFields)M[g]=r.xhrFields[g];r.mimeType&&M.overrideMimeType&&M.overrideMimeType(r.mimeType),!r.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(g in h)M.setRequestHeader(g,h[g]);s=function(B){return function(){s&&(s=c=M.onload=M.onerror=M.onabort=M.ontimeout=M.onreadystatechange=null,B==="abort"?M.abort():B==="error"?typeof M.status!="number"?m(0,"error"):m(M.status,M.statusText):m(vt[M.status]||M.status,M.statusText,(M.responseType||"text")!=="text"||typeof M.responseText!="string"?{binary:M.response}:{text:M.responseText},M.getAllResponseHeaders()))}},M.onload=s(),c=M.onerror=M.ontimeout=s("error"),M.onabort!==void 0?M.onabort=c:M.onreadystatechange=function(){M.readyState===4&&P.setTimeout(function(){s&&c()})},s=s("abort");try{M.send(r.hasContent&&r.data||null)}catch(B){if(s)throw B}},abort:function(){s&&s()}}}),l.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return l.globalEval(r),r}}}),l.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),l.ajaxTransport("script",function(r){if(r.crossDomain||r.scriptAttrs){var s,c;return{send:function(h,m){s=l("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",c=function(g){s.remove(),c=null,g&&m(g.type==="error"?404:200,g.type)}),J.head.appendChild(s[0])},abort:function(){c&&c()}}}});var dt=[],jt=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=dt.pop()||l.expando+"_"+ji.guid++;return this[r]=!0,r}}),l.ajaxPrefilter("json jsonp",function(r,s,c){var h,m,g,M=r.jsonp!==!1&&(jt.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&jt.test(r.data)&&"data");if(M||r.dataTypes[0]==="jsonp")return h=r.jsonpCallback=K(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,M?r[M]=r[M].replace(jt,"$1"+h):r.jsonp!==!1&&(r.url+=(ni.test(r.url)?"&":"?")+r.jsonp+"="+h),r.converters["script json"]=function(){return g||l.error(h+" was not called"),g[0]},r.dataTypes[0]="json",m=P[h],P[h]=function(){g=arguments},c.always(function(){m===void 0?l(P).removeProp(h):P[h]=m,r[h]&&(r.jsonpCallback=s.jsonpCallback,dt.push(h)),g&&K(m)&&m(g[0]),g=m=void 0}),"script"}),re.createHTMLDocument=function(){var r=J.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}(),l.parseHTML=function(r,s,c){if(typeof r!="string")return[];typeof s=="boolean"&&(c=s,s=!1);var h,m,g;return s||(re.createHTMLDocument?(s=J.implementation.createHTMLDocument(""),h=s.createElement("base"),h.href=J.location.href,s.head.appendChild(h)):s=J),m=Ze.exec(r),g=!c&&[],m?[s.createElement(m[1])]:(m=Dn([r],s,g),g&&g.length&&l(g).remove(),l.merge([],m.childNodes))},l.fn.load=function(r,s,c){var h,m,g,M=this,B=r.indexOf(" ");return B>-1&&(h=gn(r.slice(B)),r=r.slice(0,B)),K(s)?(c=s,s=void 0):s&&typeof s=="object"&&(m="POST"),M.length>0&&l.ajax({url:r,type:m||"GET",dataType:"html",data:s}).done(function(A){g=arguments,M.html(h?l("<div>").append(l.parseHTML(A)).find(h):A)}).always(c&&function(A,Q){M.each(function(){c.apply(this,g||[A.responseText,Q,A])})}),this},l.expr.pseudos.animated=function(r){return l.grep(l.timers,function(s){return r===s.elem}).length},l.offset={setOffset:function(r,s,c){var h,m,g,M,B,A,Q,ce=l.css(r,"position"),pe=l(r),oe={};ce==="static"&&(r.style.position="relative"),B=pe.offset(),g=l.css(r,"top"),A=l.css(r,"left"),Q=(ce==="absolute"||ce==="fixed")&&(g+A).indexOf("auto")>-1,Q?(h=pe.position(),M=h.top,m=h.left):(M=parseFloat(g)||0,m=parseFloat(A)||0),K(s)&&(s=s.call(r,c,l.extend({},B))),s.top!=null&&(oe.top=s.top-B.top+M),s.left!=null&&(oe.left=s.left-B.left+m),"using"in s?s.using.call(r,oe):pe.css(oe)}},l.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(m){l.offset.setOffset(this,r,m)});var s,c,h=this[0];if(h)return h.getClientRects().length?(s=h.getBoundingClientRect(),c=h.ownerDocument.defaultView,{top:s.top+c.pageYOffset,left:s.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var r,s,c,h=this[0],m={top:0,left:0};if(l.css(h,"position")==="fixed")s=h.getBoundingClientRect();else{for(s=this.offset(),c=h.ownerDocument,r=h.offsetParent||c.documentElement;r&&(r===c.body||r===c.documentElement)&&l.css(r,"position")==="static";)r=r.parentNode;r&&r!==h&&r.nodeType===1&&(m=l(r).offset(),m.top+=l.css(r,"borderTopWidth",!0),m.left+=l.css(r,"borderLeftWidth",!0))}return{top:s.top-m.top-l.css(h,"marginTop",!0),left:s.left-m.left-l.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&l.css(r,"position")==="static";)r=r.offsetParent;return r||We})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,s){var c=s==="pageYOffset";l.fn[r]=function(h){return pn(this,function(m,g,M){var B;if(X(m)?B=m:m.nodeType===9&&(B=m.defaultView),M===void 0)return B?B[s]:m[g];B?B.scrollTo(c?B.pageXOffset:M,c?M:B.pageYOffset):m[g]=M},r,h,arguments.length)}}),l.each(["top","left"],function(r,s){l.cssHooks[s]=nr(re.pixelPosition,function(c,h){if(h)return h=Jn(c,s),Pi.test(h)?l(c).position()[s]+"px":h})}),l.each({Height:"height",Width:"width"},function(r,s){l.each({padding:"inner"+r,content:s,"":"outer"+r},function(c,h){l.fn[h]=function(m,g){var M=arguments.length&&(c||typeof m!="boolean"),B=c||(m===!0||g===!0?"margin":"border");return pn(this,function(A,Q,ce){var pe;return X(A)?h.indexOf("outer")===0?A["inner"+r]:A.document.documentElement["client"+r]:A.nodeType===9?(pe=A.documentElement,Math.max(A.body["scroll"+r],pe["scroll"+r],A.body["offset"+r],pe["offset"+r],pe["client"+r])):ce===void 0?l.css(A,Q,B):l.style(A,Q,ce,B)},s,M?m:void 0,M)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,s){l.fn[s]=function(c){return this.on(s,c)}}),l.fn.extend({bind:function(r,s,c){return this.on(r,null,s,c)},unbind:function(r,s){return this.off(r,null,s)},delegate:function(r,s,c,h){return this.on(s,r,c,h)},undelegate:function(r,s,c){return arguments.length===1?this.off(r,"**"):this.off(s,r||"**",c)},hover:function(r,s){return this.on("mouseenter",r).on("mouseleave",s||r)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,s){l.fn[s]=function(c,h){return arguments.length>0?this.on(s,null,c,h):this.trigger(s)}});var cn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;l.proxy=function(r,s){var c,h,m;if(typeof s=="string"&&(c=r[s],s=r,r=c),!!K(r))return h=v.call(arguments,2),m=function(){return r.apply(s||this,h.concat(v.call(arguments)))},m.guid=r.guid=r.guid||l.guid++,m},l.holdReady=function(r){r?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=ye,l.isFunction=K,l.isWindow=X,l.camelCase=w,l.type=ee,l.now=Date.now,l.isNumeric=function(r){var s=l.type(r);return(s==="number"||s==="string")&&!isNaN(r-parseFloat(r))},l.trim=function(r){return r==null?"":(r+"").replace(cn,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return l});var Ln=P.jQuery,rr=P.$;return l.noConflict=function(r){return P.$===l&&(P.$=rr),r&&P.jQuery===l&&(P.jQuery=Ln),l},typeof ae>"u"&&(P.jQuery=P.$=l),l})});var Gi=br((Ir,mo)=>{(function(P,ae){typeof Ir=="object"&&typeof mo<"u"?ae(Ir):typeof define=="function"&&define.amd?define(["exports"],ae):(P=typeof globalThis<"u"?globalThis:P||self,ae(P.leaflet={}))})(Ir,function(P){"use strict";var ae="1.9.4";function W(e){var n,o,f,d;for(o=1,f=arguments.length;o<f;o++){d=arguments[o];for(n in d)e[n]=d[n]}return e}var y=Object.create||function(){function e(){}return function(n){return e.prototype=n,new e}}();function v(e,n){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var f=o.call(arguments,2);return function(){return e.apply(n,f.length?f.concat(o.call(arguments)):arguments)}}var _=0;function k(e){return"_leaflet_id"in e||(e._leaflet_id=++_),e._leaflet_id}function I(e,n,o){var f,d,x,Z;return Z=function(){f=!1,d&&(x.apply(o,d),d=!1)},x=function(){f?d=arguments:(e.apply(o,arguments),setTimeout(Z,n),f=!0)},x}function U(e,n,o){var f=n[1],d=n[0],x=f-d;return e===f&&o?e:((e-d)%x+x)%x+d}function E(){return!1}function q(e,n){if(n===!1)return e;var o=Math.pow(10,n===void 0?6:n);return Math.round(e*o)/o}function le(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function me(e){return le(e).split(/\s+/)}function re(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?y(e.options):{});for(var o in n)e.options[o]=n[o];return e.options}function K(e,n,o){var f=[];for(var d in e)f.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!n||n.indexOf("?")===-1?"?":"&")+f.join("&")}var X=/\{ *([\w_ -]+) *\}/g;function J(e,n){return e.replace(X,function(o,f){var d=n[f];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(n)),d})}var V=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function $(e,n){for(var o=0;o<e.length;o++)if(e[o]===n)return o;return-1}var ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Y=0;function l(e){var n=+new Date,o=Math.max(0,16-(n-Y));return Y=n+o,window.setTimeout(e,o)}var _e=window.requestAnimationFrame||z("RequestAnimationFrame")||l,ye=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function xe(e,n,o){if(o&&_e===l)e.call(n);else return _e.call(window,v(e,n))}function ke(e){e&&ye.call(window,e)}var Be={__proto__:null,extend:W,create:y,bind:v,get lastId(){return _},stamp:k,throttle:I,wrapNum:U,falseFn:E,formatNum:q,trim:le,splitWords:me,setOptions:re,getParamString:K,template:J,isArray:V,indexOf:$,emptyImageUrl:ee,requestFn:_e,cancelFn:ye,requestAnimFrame:xe,cancelAnimFrame:ke};function Me(){}Me.extend=function(e){var n=function(){re(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,f=y(o);f.constructor=n,n.prototype=f;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(n[d]=this[d]);return e.statics&&W(n,e.statics),e.includes&&(Ae(e.includes),W.apply(null,[f].concat(e.includes))),W(f,e),delete f.statics,delete f.includes,f.options&&(f.options=o.options?y(o.options):{},W(f.options,e.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,Z=f._initHooks.length;x<Z;x++)f._initHooks[x].call(this)}},n},Me.include=function(e){var n=this.prototype.options;return W(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},Me.mergeOptions=function(e){return W(this.prototype.options,e),this},Me.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Ae(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=V(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(e,n,o){if(typeof e=="object")for(var f in e)this._on(f,e[f],n);else{e=me(e);for(var d=0,x=e.length;d<x;d++)this._on(e[d],n,o)}return this},off:function(e,n,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],n);else{e=me(e);for(var d=arguments.length===1,x=0,Z=e.length;x<Z;x++)d?this._off(e[x]):this._off(e[x],n,o)}return this},_on:function(e,n,o,f){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,o)===!1){o===this&&(o=void 0);var d={fn:n,ctx:o};f&&(d.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(d)}},_off:function(e,n,o){var f,d,x;if(this._events&&(f=this._events[e],!!f)){if(arguments.length===1){if(this._firingCount)for(d=0,x=f.length;d<x;d++)f[d].fn=E;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var Z=this._listens(e,n,o);if(Z!==!1){var ne=f[Z];this._firingCount&&(ne.fn=E,this._events[e]=f=f.slice()),f.splice(Z,1)}}},fire:function(e,n,o){if(!this.listens(e,o))return this;var f=W({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var d=this._events[e];if(d){this._firingCount=this._firingCount+1||1;for(var x=0,Z=d.length;x<Z;x++){var ne=d[x],fe=ne.fn;ne.once&&this.off(e,fe,ne.ctx),fe.call(ne.ctx||this,f)}this._firingCount--}}return o&&this._propagateEvent(f),this},listens:function(e,n,o,f){typeof e!="string"&&console.warn('"string" type argument expected');var d=n;typeof n!="function"&&(f=!!n,d=void 0,o=void 0);var x=this._events&&this._events[e];if(x&&x.length&&this._listens(e,d,o)!==!1)return!0;if(f){for(var Z in this._eventParents)if(this._eventParents[Z].listens(e,n,o,f))return!0}return!1},_listens:function(e,n,o){if(!this._events)return!1;var f=this._events[e]||[];if(!n)return!!f.length;o===this&&(o=void 0);for(var d=0,x=f.length;d<x;d++)if(f[d].fn===n&&f[d].ctx===o)return d;return!1},once:function(e,n,o){if(typeof e=="object")for(var f in e)this._on(f,e[f],n,!0);else{e=me(e);for(var d=0,x=e.length;d<x;d++)this._on(e[d],n,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[k(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[k(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,W({layer:e.target,propagatedFrom:e.target},e),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var ze=Me.extend(Ve);function Ce(e,n,o){this.x=o?Math.round(e):e,this.y=o?Math.round(n):n}var yt=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};Ce.prototype={clone:function(){return new Ce(this.x,this.y)},add:function(e){return this.clone()._add(Te(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Te(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new Ce(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new Ce(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yt(this.x),this.y=yt(this.y),this},distanceTo:function(e){e=Te(e);var n=e.x-this.x,o=e.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(e){return e=Te(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Te(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}};function Te(e,n,o){return e instanceof Ce?e:V(e)?new Ce(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new Ce(e.x,e.y):new Ce(e,n,o)}function qe(e,n){if(e)for(var o=n?[e,n]:e,f=0,d=o.length;f<d;f++)this.extend(o[f])}qe.prototype={extend:function(e){var n,o;if(!e)return this;if(e instanceof Ce||typeof e[0]=="number"||"x"in e)n=o=Te(e);else if(e=_t(e),n=e.min,o=e.max,!n||!o)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=o.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return Te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Te(this.min.x,this.max.y)},getTopRight:function(){return Te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,o;return typeof e[0]=="number"||e instanceof Ce?e=Te(e):e=_t(e),e instanceof qe?(n=e.min,o=e.max):n=o=e,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=_t(e);var n=this.min,o=this.max,f=e.min,d=e.max,x=d.x>=n.x&&f.x<=o.x,Z=d.y>=n.y&&f.y<=o.y;return x&&Z},overlaps:function(e){e=_t(e);var n=this.min,o=this.max,f=e.min,d=e.max,x=d.x>n.x&&f.x<o.x,Z=d.y>n.y&&f.y<o.y;return x&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,o=this.max,f=Math.abs(n.x-o.x)*e,d=Math.abs(n.y-o.y)*e;return _t(Te(n.x-f,n.y-d),Te(o.x+f,o.y+d))},equals:function(e){return e?(e=_t(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function _t(e,n){return!e||e instanceof qe?e:new qe(e,n)}function Ze(e,n){if(e)for(var o=n?[e,n]:e,f=0,d=o.length;f<d;f++)this.extend(o[f])}Ze.prototype={extend:function(e){var n=this._southWest,o=this._northEast,f,d;if(e instanceof ct)f=e,d=e;else if(e instanceof Ze){if(f=e._southWest,d=e._northEast,!f||!d)return this}else return e?this.extend(it(e)||He(e)):this;return!n&&!o?(this._southWest=new ct(f.lat,f.lng),this._northEast=new ct(d.lat,d.lng)):(n.lat=Math.min(f.lat,n.lat),n.lng=Math.min(f.lng,n.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(e){var n=this._southWest,o=this._northEast,f=Math.abs(n.lat-o.lat)*e,d=Math.abs(n.lng-o.lng)*e;return new Ze(new ct(n.lat-f,n.lng-d),new ct(o.lat+f,o.lng+d))},getCenter:function(){return new ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ct||"lat"in e?e=it(e):e=He(e);var n=this._southWest,o=this._northEast,f,d;return e instanceof Ze?(f=e.getSouthWest(),d=e.getNorthEast()):f=d=e,f.lat>=n.lat&&d.lat<=o.lat&&f.lng>=n.lng&&d.lng<=o.lng},intersects:function(e){e=He(e);var n=this._southWest,o=this._northEast,f=e.getSouthWest(),d=e.getNorthEast(),x=d.lat>=n.lat&&f.lat<=o.lat,Z=d.lng>=n.lng&&f.lng<=o.lng;return x&&Z},overlaps:function(e){e=He(e);var n=this._southWest,o=this._northEast,f=e.getSouthWest(),d=e.getNorthEast(),x=d.lat>n.lat&&f.lat<o.lat,Z=d.lng>n.lng&&f.lng<o.lng;return x&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=He(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function He(e,n){return e instanceof Ze?e:new Ze(e,n)}function ct(e,n,o){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,o!==void 0&&(this.alt=+o)}ct.prototype={equals:function(e,n){if(!e)return!1;e=it(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+q(this.lat,e)+", "+q(this.lng,e)+")"},distanceTo:function(e){return zt.distance(this,it(e))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,o=n/Math.cos(Math.PI/180*this.lat);return He([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new ct(this.lat,this.lng,this.alt)}};function it(e,n,o){return e instanceof ct?e:V(e)&&typeof e[0]!="object"?e.length===3?new ct(e[0],e[1],e[2]):e.length===2?new ct(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ct(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new ct(e,n,o)}var nn={latLngToPoint:function(e,n){var o=this.projection.project(e),f=this.scale(n);return this.transformation._transform(o,f)},pointToLatLng:function(e,n){var o=this.scale(n),f=this.transformation.untransform(e,o);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(e),f=this.transformation.transform(n.min,o),d=this.transformation.transform(n.max,o);return new qe(f,d)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?U(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?U(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new ct(o,n,f)},wrapLatLngBounds:function(e){var n=e.getCenter(),o=this.wrapLatLng(n),f=n.lat-o.lat,d=n.lng-o.lng;if(f===0&&d===0)return e;var x=e.getSouthWest(),Z=e.getNorthEast(),ne=new ct(x.lat-f,x.lng-d),fe=new ct(Z.lat-f,Z.lng-d);return new Ze(ne,fe)}},zt=W({},nn,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var o=Math.PI/180,f=e.lat*o,d=n.lat*o,x=Math.sin((n.lat-e.lat)*o/2),Z=Math.sin((n.lng-e.lng)*o/2),ne=x*x+Math.cos(f)*Math.cos(d)*Z*Z,fe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*fe}}),vi=6378137,rn={R:vi,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,o=this.MAX_LATITUDE,f=Math.max(Math.min(o,e.lat),-o),d=Math.sin(f*n);return new Ce(this.R*e.lng*n,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(e){var n=180/Math.PI;return new ct((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:function(){var e=vi*Math.PI;return new qe([-e,-e],[e,e])}()};function Ut(e,n,o,f){if(V(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=o,this._d=f}Ut.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new Ce((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function an(e,n,o,f){return new Ut(e,n,o,f)}var yn=W({},zt,{code:"EPSG:3857",projection:rn,transformation:function(){var e=.5/(Math.PI*rn.R);return an(e,.5,-e,.5)}()}),Qn=W({},yn,{code:"EPSG:900913"});function ai(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function qt(e,n){var o="",f,d,x,Z,ne,fe;for(f=0,x=e.length;f<x;f++){for(ne=e[f],d=0,Z=ne.length;d<Z;d++)fe=ne[d],o+=(d?"L":"M")+fe.x+" "+fe.y;o+=n?Oe.svg?"z":"x":""}return o||"M0 0"}var Kn=document.documentElement.style,dn="ActiveXObject"in window,pn=dn&&!document.addEventListener,Mi="msLaunchUri"in navigator&&!("documentMode"in document),R=fn("webkit"),b=fn("android"),w=fn("android 2")||fn("android 3"),D=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),G=b&&fn("Google")&&D<537&&!("AudioNode"in window),S=!!window.opera,he=!Mi&&fn("chrome"),be=fn("gecko")&&!R&&!S&&!dn,Ie=!he&&fn("safari"),Ue=fn("phantom"),Xe="OTransition"in Kn,at=navigator.platform.indexOf("Win")===0,tt=dn&&"transition"in Kn,st="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!w,We="MozPerspective"in Kn,bt=!window.L_DISABLE_3D&&(tt||st||We)&&!Xe&&!Ue,kt=typeof orientation<"u"||fn("mobile"),Pt=kt&&R,Ft=kt&&st,Ot=!window.PointerEvent&&window.MSPointerEvent,Ht=!!(window.PointerEvent||Ot),Wt="ontouchstart"in window||!!window.TouchEvent,Kt=!window.L_NO_TOUCH&&(Wt||Ht),Jt=kt&&S,sn=kt&&be,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nt=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",E,n),window.removeEventListener("testPassiveEventSupport",E,n)}catch{}return e}(),Bt=function(){return!!document.createElement("canvas").getContext}(),At=!!(document.createElementNS&&ai("svg").createSVGRect),Dn=!!At&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ui=!At&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Rn=navigator.platform.indexOf("Mac")===0,vn=navigator.platform.indexOf("Linux")===0;function fn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Oe={ie:dn,ielt9:pn,edge:Mi,webkit:R,android:b,android23:w,androidStock:G,opera:S,chrome:he,gecko:be,safari:Ie,phantom:Ue,opera12:Xe,win:at,ie3d:tt,webkit3d:st,gecko3d:We,any3d:bt,mobile:kt,mobileWebkit:Pt,mobileWebkit3d:Ft,msPointer:Ot,pointer:Ht,touch:Kt,touchNative:Wt,mobileOpera:Jt,mobileGecko:sn,retina:St,passiveEvents:Nt,canvas:Bt,svg:At,vml:Ui,inlineSvg:Dn,mac:Rn,linux:vn},Di=Oe.msPointer?"MSPointerDown":"pointerdown",Ei=Oe.msPointer?"MSPointerMove":"pointermove",Fi=Oe.msPointer?"MSPointerUp":"pointerup",En=Oe.msPointer?"MSPointerCancel":"pointercancel",Pn={touchstart:Di,touchmove:Ei,touchend:Fi,touchcancel:En},tr={touchstart:Jn,touchmove:Li,touchend:Li,touchcancel:Li},Sn={},si=!1;function fi(e,n,o){return n==="touchstart"&&Si(),tr[n]?(o=tr[n].bind(this,o),e.addEventListener(Pn[n],o,!1),o):(console.warn("wrong event specified:",n),E)}function Hi(e,n,o){if(!Pn[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(Pn[n],o,!1)}function Pi(e){Sn[e.pointerId]=e}function Yi(e){Sn[e.pointerId]&&(Sn[e.pointerId]=e)}function li(e){delete Sn[e.pointerId]}function Si(){si||(document.addEventListener(Di,Pi,!0),document.addEventListener(Ei,Yi,!0),document.addEventListener(Fi,li,!0),document.addEventListener(En,li,!0),si=!0)}function Li(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in Sn)n.touches.push(Sn[o]);n.changedTouches=[n],e(n)}}function Jn(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&j(n),Li(e,n)}function nr(e){var n={},o,f;for(f in e)o=e[f],n[f]=o&&o.bind?o.bind(e):o;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var wi=200;function qi(e,n){e.addEventListener("dblclick",n);var o=0,f;function d(x){if(x.detail!==1){f=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var Z=F(x);if(!(Z.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!Z.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var ne=Date.now();ne-o<=wi?(f++,f===2&&n(nr(x))):f=1,o=ne}}}return e.addEventListener("click",d),{dblclick:n,simDblclick:d}}function ir(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var Xn=Ai(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$n=Ai(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wi=$n==="webkitTransition"||$n==="OTransition"?$n+"End":"transitionend";function Ni(e){return typeof e=="string"?document.getElementById(e):e}function ci(e,n){var o=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);o=f?f[n]:null}return o==="auto"?null:o}function ht(e,n,o){var f=document.createElement(e);return f.className=n||"",o&&o.appendChild(f),f}function Lt(e){var n=e.parentNode;n&&n.removeChild(e)}function Gn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Tt(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function ln(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function ei(e,n){if(e.classList!==void 0)return e.classList.contains(n);var o=ki(e);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function nt(e,n){if(e.classList!==void 0)for(var o=me(n),f=0,d=o.length;f<d;f++)e.classList.add(o[f]);else if(!ei(e,n)){var x=ki(e);xi(e,(x?x+" ":"")+n)}}function Dt(e,n){e.classList!==void 0?e.classList.remove(n):xi(e,le((" "+ki(e)+" ").replace(" "+n+" "," ")))}function xi(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function ki(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Vt(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&Vi(e,n)}function Vi(e,n){var o=!1,f="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(f)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):e.style.filter+=" progid:"+f+"(opacity="+n+")"}function Ai(e){for(var n=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in n)return e[o];return!1}function Nn(e,n,o){var f=n||new Ce(0,0);e.style[Xn]=(Oe.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(o?" scale("+o+")":"")}function mt(e,n){e._leaflet_pos=n,Oe.any3d?Nn(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function An(e){return e._leaflet_pos||new Ce(0,0)}var Xt,Zn,Qi;if("onselectstart"in document)Xt=function(){$e(window,"selectstart",j)},Zn=function(){xt(window,"selectstart",j)};else{var gn=Ai(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(gn){var e=document.documentElement.style;Qi=e[gn],e[gn]="none"}},Zn=function(){gn&&(document.documentElement.style[gn]=Qi,Qi=void 0)}}function wt(){$e(window,"dragstart",j)}function Un(){xt(window,"dragstart",j)}var ui,ti;function ji(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ni(),ui=e,ti=e.style.outlineStyle,e.style.outlineStyle="none",$e(window,"keydown",ni))}function ni(){ui&&(ui.style.outlineStyle=ti,ui=void 0,ti=void 0,xt(window,"keydown",ni))}function Ki(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function hi(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var Ji={__proto__:null,TRANSFORM:Xn,TRANSITION:$n,TRANSITION_END:Wi,get:Ni,getStyle:ci,create:ht,remove:Lt,empty:Gn,toFront:Tt,toBack:ln,hasClass:ei,addClass:nt,removeClass:Dt,setClass:xi,getClass:ki,setOpacity:Vt,testProp:Ai,setTransform:Nn,setPosition:mt,getPosition:An,get disableTextSelection(){return Xt},get enableTextSelection(){return Zn},disableImageDrag:wt,enableImageDrag:Un,preventOutline:ji,restoreOutline:ni,getSizedParentNode:Ki,getScale:hi};function $e(e,n,o,f){if(n&&typeof n=="object")for(var d in n)a(e,d,n[d],o);else{n=me(n);for(var x=0,Z=n.length;x<Z;x++)a(e,n[x],o,f)}return this}var Mn="_leaflet_events";function xt(e,n,o,f){if(arguments.length===1)t(e),delete e[Mn];else if(n&&typeof n=="object")for(var d in n)u(e,d,n[d],o);else if(n=me(n),arguments.length===2)t(e,function(ne){return $(n,ne)!==-1});else for(var x=0,Z=n.length;x<Z;x++)u(e,n[x],o,f);return this}function t(e,n){for(var o in e[Mn]){var f=o.split(/\d/)[0];(!n||n(f))&&u(e,f,null,null,o)}}var i={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function a(e,n,o,f){var d=n+k(o)+(f?"_"+k(f):"");if(e[Mn]&&e[Mn][d])return this;var x=function(ne){return o.call(f||e,ne||window.event)},Z=x;!Oe.touchNative&&Oe.pointer&&n.indexOf("touch")===0?x=fi(e,n,x):Oe.touch&&n==="dblclick"?x=qi(e,x):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(i[n]||n,x,Oe.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(x=function(ne){ne=ne||window.event,Le(e,ne)&&Z(ne)},e.addEventListener(i[n],x,!1)):e.addEventListener(n,Z,!1):e.attachEvent("on"+n,x),e[Mn]=e[Mn]||{},e[Mn][d]=x}function u(e,n,o,f,d){d=d||n+k(o)+(f?"_"+k(f):"");var x=e[Mn]&&e[Mn][d];if(!x)return this;!Oe.touchNative&&Oe.pointer&&n.indexOf("touch")===0?Hi(e,n,x):Oe.touch&&n==="dblclick"?ir(e,x):"removeEventListener"in e?e.removeEventListener(i[n]||n,x,!1):e.detachEvent("on"+n,x),e[Mn][d]=null}function p(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function C(e){return a(e,"wheel",p),this}function N(e){return $e(e,"mousedown touchstart dblclick contextmenu",p),e._leaflet_disable_click=!0,this}function j(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function O(e){return j(e),p(e),this}function F(e){if(e.composedPath)return e.composedPath();for(var n=[],o=e.target;o;)n.push(o),o=o.parentNode;return n}function te(e,n){if(!n)return new Ce(e.clientX,e.clientY);var o=hi(n),f=o.boundingClientRect;return new Ce((e.clientX-f.left)/o.x-n.clientLeft,(e.clientY-f.top)/o.y-n.clientTop)}var de=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ue(e){return Oe.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/de:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Le(e,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var Ee={__proto__:null,on:$e,off:xt,stopPropagation:p,disableScrollPropagation:C,disableClickPropagation:N,preventDefault:j,stop:O,getPropagationPath:F,getMousePosition:te,getWheelDelta:ue,isExternalTarget:Le,addListener:$e,removeListener:xt},Fe=ze.extend({run:function(e,n,o,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=An(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=xe(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var o=this._startPos.add(this._offset.multiplyBy(e));n&&o._round(),mt(this._el,o),this.fire("step")},_complete:function(){ke(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Pe=ze.extend({options:{crs:yn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=re(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(it(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$n&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,Wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(it(e),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=W({animate:o.animate},o.zoom),o.pan=W({animate:o.animate,duration:o.duration},o.pan));var f=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,o.zoom):this._tryAnimatedPan(e,o.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,o){var f=this.getZoomScale(n),d=this.getSize().divideBy(2),x=e instanceof Ce?e:this.latLngToContainerPoint(e),Z=x.subtract(d).multiplyBy(1-1/f),ne=this.containerPointToLatLng(d.add(Z));return this.setView(ne,n,{zoom:o})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():He(e);var o=Te(n.paddingTopLeft||n.padding||[0,0]),f=Te(n.paddingBottomRight||n.padding||[0,0]),d=this.getBoundsZoom(e,!1,o.add(f));if(d=typeof n.maxZoom=="number"?Math.min(n.maxZoom,d):d,d===1/0)return{center:e.getCenter(),zoom:d};var x=f.subtract(o).divideBy(2),Z=this.project(e.getSouthWest(),d),ne=this.project(e.getNorthEast(),d),fe=this.unproject(Z.add(ne).divideBy(2).add(x),d);return{center:fe,zoom:d}},fitBounds:function(e,n){if(e=He(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=Te(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,o){if(o=o||{},o.animate===!1||!Oe.any3d)return this.setView(e,n,o);this._stop();var f=this.project(this.getCenter()),d=this.project(e),x=this.getSize(),Z=this._zoom;e=it(e),n=n===void 0?Z:n;var ne=Math.max(x.x,x.y),fe=ne*this.getZoomScale(Z,n),ve=d.distanceTo(f)||1,je=1.42,Ke=je*je;function ut(Yt){var xr=Yt?-1:1,Yo=Yt?fe:ne,qo=fe*fe-ne*ne+xr*Ke*Ke*ve*ve,Wo=2*Yo*Ke*ve,Nr=qo/Wo,lo=Math.sqrt(Nr*Nr+1)-Nr,Vo=lo<1e-9?-18:Math.log(lo);return Vo}function _n(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function tn(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}function Wn(Yt){return _n(Yt)/tn(Yt)}var In=ut(0);function dr(Yt){return ne*(tn(In)/tn(In+je*Yt))}function Zo(Yt){return ne*(tn(In)*Wn(In+je*Yt)-_n(In))/Ke}function Uo(Yt){return 1-Math.pow(1-Yt,1.5)}var Fo=Date.now(),so=(ut(1)-In)/je,Ho=o.duration?1e3*o.duration:1e3*so*.8;function fo(){var Yt=(Date.now()-Fo)/Ho,xr=Uo(Yt)*so;Yt<=1?(this._flyToFrame=xe(fo,this),this._move(this.unproject(f.add(d.subtract(f).multiplyBy(Zo(xr)/ve)),Z),this.getScaleZoom(ne/dr(xr),Z),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),fo.call(this),this},flyToBounds:function(e,n){var o=this._getBoundsCenterZoom(e,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(e){return e=He(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var o=this.getCenter(),f=this._limitCenter(o,this._zoom,He(e));return o.equals(f)||this.panTo(f,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var o=Te(n.paddingTopLeft||n.padding||[0,0]),f=Te(n.paddingBottomRight||n.padding||[0,0]),d=this.project(this.getCenter()),x=this.project(e),Z=this.getPixelBounds(),ne=_t([Z.min.add(o),Z.max.subtract(f)]),fe=ne.getSize();if(!ne.contains(x)){this._enforcingBounds=!0;var ve=x.subtract(ne.getCenter()),je=ne.extend(x).getSize().subtract(fe);d.x+=ve.x<0?-je.x:je.x,d.y+=ve.y<0?-je.y:je.y,this.panTo(this.unproject(d),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=W({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),f=n.divideBy(2).round(),d=o.divideBy(2).round(),x=f.subtract(d);return!x.x&&!x.y?this:(e.animate&&e.pan?this.panBy(x):(e.pan&&this._rawPanBy(x),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=W({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=v(this._handleGeolocationResponse,this),o=v(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,e):navigator.geolocation.getCurrentPosition(n,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,o=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,o=e.coords.longitude,f=new ct(n,o),d=f.toBounds(e.coords.accuracy*2),x=this._locateOptions;if(x.setView){var Z=this.getBoundsZoom(d);this.setView(f,x.maxZoom?Math.min(Z,x.maxZoom):Z)}var ne={latlng:f,bounds:d,timestamp:e.timestamp};for(var fe in e.coords)typeof e.coords[fe]=="number"&&(ne[fe]=e.coords[fe]);this.fire("locationfound",ne)}},addHandler:function(e,n){if(!n)return this;var o=this[e]=new n(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ke(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Lt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=ht("div",o,n||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new Ze(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,o){e=He(e),o=Te(o||[0,0]);var f=this.getZoom()||0,d=this.getMinZoom(),x=this.getMaxZoom(),Z=e.getNorthWest(),ne=e.getSouthEast(),fe=this.getSize().subtract(o),ve=_t(this.project(ne,f),this.project(Z,f)).getSize(),je=Oe.any3d?this.options.zoomSnap:1,Ke=fe.x/ve.x,ut=fe.y/ve.y,_n=n?Math.max(Ke,ut):Math.min(Ke,ut);return f=this.getScaleZoom(_n,f),je&&(f=Math.round(f/(je/100))*(je/100),f=n?Math.ceil(f/je)*je:Math.floor(f/je)*je),Math.max(d,Math.min(x,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var o=this._getTopLeftPoint(e,n);return new qe(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(e)/o.scale(n)},getScaleZoom:function(e,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var f=o.zoom(e*o.scale(n));return isNaN(f)?1/0:f},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(it(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(Te(e),n)},layerPointToLatLng:function(e){var n=Te(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(it(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(it(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(He(e))},distance:function(e,n){return this.options.crs.distance(it(e),it(n))},containerPointToLayerPoint:function(e){return Te(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Te(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(Te(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(it(e)))},mouseEventToContainerPoint:function(e){return te(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=Ni(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(n,"scroll",this._onScroll,this),this._containerId=k(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,nt(e,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=ci(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new Ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(e.markerPane,"leaflet-zoom-hide"),nt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,o){mt(this._mapPane,new Ce(0,0));var f=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var d=this._zoom!==n;this._moveStart(d,o)._move(e,n)._moveEnd(d),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,o,f){n===void 0&&(n=this._zoom);var d=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),f?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ke(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){mt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[k(this._container)]=this;var n=e?xt:$e;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ke(this._resizeRequest),this._resizeRequest=xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var o=[],f,d=n==="mouseout"||n==="mouseover",x=e.target||e.srcElement,Z=!1;x;){if(f=this._targets[k(x)],f&&(n==="click"||n==="preclick")&&this._draggableMoved(f)){Z=!0;break}if(f&&f.listens(n,!0)&&(d&&!Le(x,e)||(o.push(f),d))||x===this._container)break;x=x.parentNode}return!o.length&&!Z&&!d&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var o=e.type;o==="mousedown"&&ji(n),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,o){if(e.type==="click"){var f=W({},e);f.type="preclick",this._fireDOMEvent(f,f.type,o)}var d=this._findEventTargets(e,n);if(o){for(var x=[],Z=0;Z<o.length;Z++)o[Z].listens(n,!0)&&x.push(o[Z]);d=x.concat(d)}if(d.length){n==="contextmenu"&&j(e);var ne=d[0],fe={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var ve=ne.getLatLng&&(!ne._radius||ne._radius<=10);fe.containerPoint=ve?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(e),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=ve?ne.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(Z=0;Z<d.length;Z++)if(d[Z].fire(n,fe,!0),fe.originalEvent._stopped||d[Z].options.bubblingMouseEvents===!1&&$(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return An(this._mapPane)||new Ce(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var o=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var o=this.getSize()._divideBy(2);return this.project(e,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,o){var f=this._getNewPixelOrigin(o,n);return this.project(e,n)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,n,o){var f=this._getNewPixelOrigin(o,n);return _t([this.project(e.getSouthWest(),n)._subtract(f),this.project(e.getNorthWest(),n)._subtract(f),this.project(e.getSouthEast(),n)._subtract(f),this.project(e.getNorthEast(),n)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,o){if(!o)return e;var f=this.project(e,n),d=this.getSize().divideBy(2),x=new qe(f.subtract(d),f.add(d)),Z=this._getBoundsOffset(x,o,n);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?e:this.unproject(f.add(Z),n)},_limitOffset:function(e,n){if(!n)return e;var o=this.getPixelBounds(),f=new qe(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(f,n))},_getBoundsOffset:function(e,n,o){var f=_t(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),d=f.min.subtract(e.min),x=f.max.subtract(e.max),Z=this._rebound(d.x,-x.x),ne=this._rebound(d.y,-x.y);return new Ce(Z,ne)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),o=this.getMaxZoom(),f=Oe.any3d?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(n,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var o=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var e=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var o=Xn,f=this._proxy.style[o];Nn(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),f===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Nn(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(n),d=this._getCenterOffset(e)._divideBy(1-1/f);return o.animate!==!0&&!this.getSize().contains(d)?!1:(xe(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,o,f){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vt(e,n){return new Pe(e,n)}var ft=Me.extend({options:{position:"topright"},initialize:function(e){re(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),o=this.getPosition(),f=e._controlCorners[o];return nt(n,"leaflet-control"),o.indexOf("bottom")!==-1?f.insertBefore(n,f.firstChild):f.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),dt=function(e){return new ft(e)};Pe.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=ht("div",n+"control-container",this._container);function f(d,x){var Z=n+d+" "+n+x;e[d+x]=ht("div",Z,o)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Lt(this._controlCorners[e]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jt=ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,o,f){return o<f?-1:f<o?1:0}},initialize:function(e,n,o){re(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in n)this._addLayer(n[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return ft.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(k(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=ht("div",e),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),N(n),C(n);var f=this._section=ht("section",e+"-list");o&&(this._map.on("click",this.collapse,this),$e(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=ht("a",e+"-toggle",n);d.href="#",d.title="Layers",d.setAttribute("role","button"),$e(d,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){j(x),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=ht("div",e+"-base",f),this._separator=ht("div",e+"-separator",f),this._overlaysList=ht("div",e+"-overlays",f),n.appendChild(f)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&k(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(v(function(f,d){return this.options.sortFunction(f.layer,d.layer,f.name,d.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gn(this._baseLayersList),Gn(this._overlaysList),this._layerControlInputs=[];var e,n,o,f,d=0;for(o=0;o<this._layers.length;o++)f=this._layers[o],this._addItem(f),n=n||f.overlay,e=e||!f.overlay,d+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&d>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(k(e.target)),o=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(e,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=o,f.firstChild},_addItem:function(e){var n=document.createElement("label"),o=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=o):f=this._createRadioElement("leaflet-base-layers_"+k(this),o),this._layerControlInputs.push(f),f.layerId=k(e.layer),$e(f,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+e.name;var x=document.createElement("span");n.appendChild(x),x.appendChild(f),x.appendChild(d);var Z=e.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,o,f=[],d=[];this._handlingClick=!0;for(var x=e.length-1;x>=0;x--)n=e[x],o=this._getLayer(n.layerId).layer,n.checked?f.push(o):n.checked||d.push(o);for(x=0;x<d.length;x++)this._map.hasLayer(d[x])&&this._map.removeLayer(d[x]);for(x=0;x<f.length;x++)this._map.hasLayer(f[x])||this._map.addLayer(f[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,o,f=this._map.getZoom(),d=e.length-1;d>=0;d--)n=e[d],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&f<o.options.minZoom||o.options.maxZoom!==void 0&&f>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,$e(e,"click",j),this.expand();var n=this;setTimeout(function(){xt(e,"click",j),n._preventClick=!1})}}),cn=function(e,n,o){return new jt(e,n,o)},Ln=ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",o=ht("div",n+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,o,f,d){var x=ht("a",o,f);return x.innerHTML=e,x.href="#",x.title=n,x.setAttribute("role","button"),x.setAttribute("aria-label",n),N(x),$e(x,"click",O),$e(x,"click",d,this),$e(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";Dt(this._zoomInButton,n),Dt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(nt(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(nt(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pe.mergeOptions({zoomControl:!0}),Pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ln,this.addControl(this.zoomControl))});var rr=function(e){return new Ln(e)},r=ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",o=ht("div",n),f=this.options;return this._addScales(f,n+"-line",o),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,o){e.metric&&(this._mScale=ht("div",n,o)),e.imperial&&(this._iScale=ht("div",n,o))},_update:function(){var e=this._map,n=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/e)},_updateImperial:function(e){var n=e*3.2808399,o,f,d;n>5280?(o=n/5280,f=this._getRoundNum(o),this._updateScale(this._iScale,f+" mi",f/o)):(d=this._getRoundNum(n),this._updateScale(this._iScale,d+" ft",d/n))},_updateScale:function(e,n,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),o=e/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),s=function(e){return new r(e)},c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',h=ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?c+" ":"")+"Leaflet</a>"},initialize:function(e){re(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),N(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Pe.mergeOptions({attributionControl:!0}),Pe.addInitHook(function(){this.options.attributionControl&&new h().addTo(this)});var m=function(e){return new h(e)};ft.Layers=jt,ft.Zoom=Ln,ft.Scale=r,ft.Attribution=h,dt.layers=cn,dt.zoom=rr,dt.scale=s,dt.attribution=m;var g=Me.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});g.addTo=function(e,n){return e.addHandler(n,this),this};var M={Events:Ve},B=Oe.touch?"touchstart mousedown":"mousedown",A=ze.extend({options:{clickTolerance:3},initialize:function(e,n,o,f){re(this,f),this._element=e,this._dragStartTarget=n||e,this._preventOutline=o},enable:function(){this._enabled||($e(this._dragStartTarget,B,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(A._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,B,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ei(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){A._dragging===this&&this.finishDrag();return}if(!(A._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(A._dragging=this,this._preventOutline&&ji(this._element),wt(),Xt(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,o=Ki(this._element);this._startPoint=new Ce(n.clientX,n.clientY),this._startPos=An(this._element),this._parentScale=hi(o);var f=e.type==="mousedown";$e(document,f?"mousemove":"touchmove",this._onMove,this),$e(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,o=new Ce(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,j(e),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),mt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Dt(document.body,"leaflet-dragging"),this._lastTarget&&(Dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),Un(),Zn();var n=this._moved&&this._moving;this._moving=!1,A._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Q(e,n,o){var f,d=[1,4,2,8],x,Z,ne,fe,ve,je,Ke,ut;for(x=0,je=e.length;x<je;x++)e[x]._code=mn(e[x],n);for(ne=0;ne<4;ne++){for(Ke=d[ne],f=[],x=0,je=e.length,Z=je-1;x<je;Z=x++)fe=e[x],ve=e[Z],fe._code&Ke?ve._code&Ke||(ut=ot(ve,fe,Ke,n,o),ut._code=mn(ut,n),f.push(ut)):(ve._code&Ke&&(ut=ot(ve,fe,Ke,n,o),ut._code=mn(ut,n),f.push(ut)),f.push(fe));e=f}return e}function ce(e,n){var o,f,d,x,Z,ne,fe,ve,je;if(!e||e.length===0)throw new Error("latlngs not passed");$t(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Ke=it([0,0]),ut=He(e),_n=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());_n<1700&&(Ke=pe(e));var tn=e.length,Wn=[];for(o=0;o<tn;o++){var In=it(e[o]);Wn.push(n.project(it([In.lat-Ke.lat,In.lng-Ke.lng])))}for(ne=fe=ve=0,o=0,f=tn-1;o<tn;f=o++)d=Wn[o],x=Wn[f],Z=d.y*x.x-x.y*d.x,fe+=(d.x+x.x)*Z,ve+=(d.y+x.y)*Z,ne+=Z*3;ne===0?je=Wn[0]:je=[fe/ne,ve/ne];var dr=n.unproject(Te(je));return it([dr.lat+Ke.lat,dr.lng+Ke.lng])}function pe(e){for(var n=0,o=0,f=0,d=0;d<e.length;d++){var x=it(e[d]);n+=x.lat,o+=x.lng,f++}return it([n/f,o/f])}var oe={__proto__:null,clipPolygon:Q,polygonCenter:ce,centroid:pe};function we(e,n){if(!n||!e.length)return e.slice();var o=n*n;return e=Gt(e,o),e=rt(e,o),e}function Qe(e,n,o){return Math.sqrt(Ct(e,n,o,!0))}function pt(e,n,o){return Ct(e,n,o)}function rt(e,n){var o=e.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,d=new f(o);d[0]=d[o-1]=1,Rt(e,d,n,0,o-1);var x,Z=[];for(x=0;x<o;x++)d[x]&&Z.push(e[x]);return Z}function Rt(e,n,o,f,d){var x=0,Z,ne,fe;for(ne=f+1;ne<=d-1;ne++)fe=Ct(e[ne],e[f],e[d],!0),fe>x&&(Z=ne,x=fe);x>o&&(n[Z]=1,Rt(e,n,o,f,Z),Rt(e,n,o,Z,d))}function Gt(e,n){for(var o=[e[0]],f=1,d=0,x=e.length;f<x;f++)gt(e[f],e[d])>n&&(o.push(e[f]),d=f);return d<x-1&&o.push(e[x-1]),o}var jn;function zn(e,n,o,f,d){var x=f?jn:mn(e,o),Z=mn(n,o),ne,fe,ve;for(jn=Z;;){if(!(x|Z))return[e,n];if(x&Z)return!1;ne=x||Z,fe=ot(e,n,ne,o,d),ve=mn(fe,o),ne===x?(e=fe,x=ve):(n=fe,Z=ve)}}function ot(e,n,o,f,d){var x=n.x-e.x,Z=n.y-e.y,ne=f.min,fe=f.max,ve,je;return o&8?(ve=e.x+x*(fe.y-e.y)/Z,je=fe.y):o&4?(ve=e.x+x*(ne.y-e.y)/Z,je=ne.y):o&2?(ve=fe.x,je=e.y+Z*(fe.x-e.x)/x):o&1&&(ve=ne.x,je=e.y+Z*(ne.x-e.x)/x),new Ce(ve,je,d)}function mn(e,n){var o=0;return e.x<n.min.x?o|=1:e.x>n.max.x&&(o|=2),e.y<n.min.y?o|=4:e.y>n.max.y&&(o|=8),o}function gt(e,n){var o=n.x-e.x,f=n.y-e.y;return o*o+f*f}function Ct(e,n,o,f){var d=n.x,x=n.y,Z=o.x-d,ne=o.y-x,fe=Z*Z+ne*ne,ve;return fe>0&&(ve=((e.x-d)*Z+(e.y-x)*ne)/fe,ve>1?(d=o.x,x=o.y):ve>0&&(d+=Z*ve,x+=ne*ve)),Z=e.x-d,ne=e.y-x,f?Z*Z+ne*ne:new Ce(d,x)}function $t(e){return!V(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function or(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$t(e)}function On(e,n){var o,f,d,x,Z,ne,fe,ve;if(!e||e.length===0)throw new Error("latlngs not passed");$t(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var je=it([0,0]),Ke=He(e),ut=Ke.getNorthWest().distanceTo(Ke.getSouthWest())*Ke.getNorthEast().distanceTo(Ke.getNorthWest());ut<1700&&(je=pe(e));var _n=e.length,tn=[];for(o=0;o<_n;o++){var Wn=it(e[o]);tn.push(n.project(it([Wn.lat-je.lat,Wn.lng-je.lng])))}for(o=0,f=0;o<_n-1;o++)f+=tn[o].distanceTo(tn[o+1])/2;if(f===0)ve=tn[0];else for(o=0,x=0;o<_n-1;o++)if(Z=tn[o],ne=tn[o+1],d=Z.distanceTo(ne),x+=d,x>f){fe=(x-f)/d,ve=[ne.x-fe*(ne.x-Z.x),ne.y-fe*(ne.y-Z.y)];break}var In=n.unproject(Te(ve));return it([In.lat+je.lat,In.lng+je.lng])}var Xi={__proto__:null,simplify:we,pointToSegmentDistance:Qe,closestPointOnSegment:pt,clipSegment:zn,_getEdgeIntersection:ot,_getBitCode:mn,_sqClosestPointOnSegment:Ct,isFlat:$t,_flat:or,polylineCenter:On},wn={project:function(e){return new Ce(e.lng,e.lat)},unproject:function(e){return new ct(e.y,e.x)},bounds:new qe([-180,-90],[180,90])},Fn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new qe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,o=this.R,f=e.lat*n,d=this.R_MINOR/o,x=Math.sqrt(1-d*d),Z=x*Math.sin(f),ne=Math.tan(Math.PI/4-f/2)/Math.pow((1-Z)/(1+Z),x/2);return f=-o*Math.log(Math.max(ne,1e-10)),new Ce(e.lng*n*o,f)},unproject:function(e){for(var n=180/Math.PI,o=this.R,f=this.R_MINOR/o,d=Math.sqrt(1-f*f),x=Math.exp(-e.y/o),Z=Math.PI/2-2*Math.atan(x),ne=0,fe=.1,ve;ne<15&&Math.abs(fe)>1e-7;ne++)ve=d*Math.sin(Z),ve=Math.pow((1-ve)/(1+ve),d/2),fe=Math.PI/2-2*Math.atan(x*ve)-Z,Z+=fe;return new ct(Z*n,e.x*n/o)}},di={__proto__:null,LonLat:wn,Mercator:Fn,SphericalMercator:rn},xn=W({},zt,{code:"EPSG:3395",projection:Fn,transformation:function(){var e=.5/(Math.PI*Fn.R);return an(e,.5,-e,.5)}()}),ar=W({},zt,{code:"EPSG:4326",projection:wn,transformation:an(1/180,1,-1/180,.5)}),ii=W({},nn,{projection:wn,transformation:an(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var o=n.lng-e.lng,f=n.lat-e.lat;return Math.sqrt(o*o+f*f)},infinite:!0});nn.Earth=zt,nn.EPSG3395=xn,nn.EPSG3857=yn,nn.EPSG900913=Qn,nn.EPSG4326=ar,nn.Simple=ii;var Zt=ze.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[k(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[k(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});Pe.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=k(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=k(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return k(e)in this._layers},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},_addLayers:function(e){e=e?V(e)?e:[e]:[];for(var n=0,o=e.length;n<o;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[k(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=k(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,o=this._getZoomSpan();for(var f in this._zoomBoundLayers){var d=this._zoomBoundLayers[f].options;e=d.minZoom===void 0?e:Math.min(e,d.minZoom),n=d.maxZoom===void 0?n:Math.max(n,d.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zi=Zt.extend({initialize:function(e,n){re(this,n),this._layers={};var o,f;if(e)for(o=0,f=e.length;o<f;o++)this.addLayer(e[o])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),o,f;for(o in this._layers)f=this._layers[o],f[e]&&f[e].apply(f,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return k(e)}}),Pr=function(e,n){return new zi(e,n)},ri=zi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),zi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),zi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Ze;for(var n in this._layers){var o=this._layers[n];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),Mt=function(e,n){return new ri(e,n)},oi=Me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){re(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(f,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(e,n){var o=this.options,f=o[n+"Size"];typeof f=="number"&&(f=[f,f]);var d=Te(f),x=Te(n==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(o.className||""),x&&(e.style.marginLeft=-x.x+"px",e.style.marginTop=-x.y+"px"),d&&(e.style.width=d.x+"px",e.style.height=d.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return Oe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Bn(e){return new oi(e)}var Hn=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Hn.imagePath!="string"&&(Hn.imagePath=this._detectIconPath()),(this.options.imagePath||Hn.imagePath)+oi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(o,f,d){var x=f.exec(o);return x&&x[d]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ht("div","leaflet-default-icon-path",document.body),n=ci(e,"background-image")||ci(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Mr=g.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new A(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,o=n._map,f=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,x=An(n._icon),Z=o.getPixelBounds(),ne=o.getPixelOrigin(),fe=_t(Z.min._subtract(ne).add(d),Z.max._subtract(ne).subtract(d));if(!fe.contains(x)){var ve=Te((Math.max(fe.max.x,x.x)-fe.max.x)/(Z.max.x-fe.max.x)-(Math.min(fe.min.x,x.x)-fe.min.x)/(Z.min.x-fe.min.x),(Math.max(fe.max.y,x.y)-fe.max.y)/(Z.max.y-fe.max.y)-(Math.min(fe.min.y,x.y)-fe.min.y)/(Z.min.y-fe.min.y)).multiplyBy(f);o.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),mt(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=xe(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(ke(this._panRequest),this._panRequest=xe(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,o=n._shadow,f=An(n._icon),d=n._map.layerPointToLatLng(f);o&&mt(o,f),n._latlng=d,e.latlng=d,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){ke(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),sr=Zt.extend({options:{icon:new Hn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){re(this,n),this._latlng=it(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=it(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),f=!1;o!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),nt(o,n),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(o,"focus",this._panOnFocus,this);var d=e.icon.createShadow(this._shadow),x=!1;d!==this._shadow&&(this._removeShadow(),x=!0),d&&(nt(d,n),d.alt=""),this._shadow=d,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&x&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&mt(this._icon,e),this._shadow&&mt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Vt(this._icon,e),this._shadow&&Vt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,o=n.iconSize?Te(n.iconSize):Te(0,0),f=n.iconAnchor?Te(n.iconAnchor):Te(0,0);e.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:o.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lr(e,n){return new sr(e,n)}var un=Zt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return re(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oi=un.extend({options:{fill:!0,radius:10},initialize:function(e,n){re(this,n),this._latlng=it(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=it(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return un.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,o=this._clickTolerance(),f=[e+o,n+o];this._pxBounds=new qe(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pi(e,n){return new Oi(e,n)}var fr=Oi.extend({initialize:function(e,n,o){if(typeof n=="number"&&(n=W({},o,{radius:n})),re(this,n),this._latlng=it(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Ze(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:un.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,o=this._map,f=o.options.crs;if(f.distance===zt.distance){var d=Math.PI/180,x=this._mRadius/zt.R/d,Z=o.project([n+x,e]),ne=o.project([n-x,e]),fe=Z.add(ne).divideBy(2),ve=o.unproject(fe).lat,je=Math.acos((Math.cos(x*d)-Math.sin(n*d)*Math.sin(ve*d))/(Math.cos(n*d)*Math.cos(ve*d)))/d;(isNaN(je)||je===0)&&(je=x/Math.cos(Math.PI/180*n)),this._point=fe.subtract(o.getPixelOrigin()),this._radius=isNaN(je)?0:fe.x-o.project([ve,e-je]).x,this._radiusY=fe.y-Z.y}else{var Ke=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(Ke).x}this._updateBounds()}});function $i(e,n,o){return new fr(e,n,o)}var kn=un.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){re(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,o=null,f=Ct,d,x,Z=0,ne=this._parts.length;Z<ne;Z++)for(var fe=this._parts[Z],ve=1,je=fe.length;ve<je;ve++){d=fe[ve-1],x=fe[ve];var Ke=f(e,d,x,!0);Ke<n&&(n=Ke,o=f(e,d,x))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return On(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=it(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Ze,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return $t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],o=$t(e),f=0,d=e.length;f<d;f++)o?(n[f]=it(e[f]),this._bounds.extend(n[f])):n[f]=this._convertLatLngs(e[f]);return n},_project:function(){var e=new qe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new Ce(e,e);this._rawPxBounds&&(this._pxBounds=new qe([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,o){var f=e[0]instanceof ct,d=e.length,x,Z;if(f){for(Z=[],x=0;x<d;x++)Z[x]=this._map.latLngToLayerPoint(e[x]),o.extend(Z[x]);n.push(Z)}else for(x=0;x<d;x++)this._projectLatlngs(e[x],n,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,f,d,x,Z,ne,fe;for(o=0,d=0,x=this._rings.length;o<x;o++)for(fe=this._rings[o],f=0,Z=fe.length;f<Z-1;f++)ne=zn(fe[f],fe[f+1],e,f,!0),ne&&(n[d]=n[d]||[],n[d].push(ne[0]),(ne[1]!==fe[f+1]||f===Z-2)&&(n[d].push(ne[1]),d++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,o=0,f=e.length;o<f;o++)e[o]=we(e[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var o,f,d,x,Z,ne,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,x=this._parts.length;o<x;o++)for(ne=this._parts[o],f=0,Z=ne.length,d=Z-1;f<Z;d=f++)if(!(!n&&f===0)&&Qe(e,ne[d],ne[f])<=fe)return!0;return!1}});function lr(e,n){return new kn(e,n)}kn._flat=or;var gi=kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ce(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=kn.prototype._convertLatLngs.call(this,e),o=n.length;return o>=2&&n[0]instanceof ct&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(e){kn.prototype._setLatLngs.call(this,e),$t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,o=new Ce(n,n);if(e=new qe(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,d=this._rings.length,x;f<d;f++)x=Q(this._rings[f],e,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,o,f,d,x,Z,ne,fe,ve;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(x=0,fe=this._parts.length;x<fe;x++)for(o=this._parts[x],Z=0,ve=o.length,ne=ve-1;Z<ve;ne=Z++)f=o[Z],d=o[ne],f.y>e.y!=d.y>e.y&&e.x<(d.x-f.x)*(e.y-f.y)/(d.y-f.y)+f.x&&(n=!n);return n||kn.prototype._containsPoint.call(this,e,!0)}});function Sr(e,n){return new gi(e,n)}var Cn=ri.extend({initialize:function(e,n){re(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=V(e)?e:e.features,o,f,d;if(n){for(o=0,f=n.length;o<f;o++)d=n[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var x=this.options;if(x.filter&&!x.filter(e))return this;var Z=Bi(e,x);return Z?(Z.feature=ie(e),Z.defaultOptions=Z.options,this.resetStyle(Z),x.onEachFeature&&x.onEachFeature(e,Z),this.addLayer(Z)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=W({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function Bi(e,n){var o=e.type==="Feature"?e.geometry:e,f=o?o.coordinates:null,d=[],x=n&&n.pointToLayer,Z=n&&n.coordsToLatLng||pr,ne,fe,ve,je;if(!f&&!o)return null;switch(o.type){case"Point":return ne=Z(f),cr(x,e,ne,n);case"MultiPoint":for(ve=0,je=f.length;ve<je;ve++)ne=Z(f[ve]),d.push(cr(x,e,ne,n));return new ri(d);case"LineString":case"MultiLineString":return fe=Ri(f,o.type==="LineString"?0:1,Z),new kn(fe,n);case"Polygon":case"MultiPolygon":return fe=Ri(f,o.type==="Polygon"?1:2,Z),new gi(fe,n);case"GeometryCollection":for(ve=0,je=o.geometries.length;ve<je;ve++){var Ke=Bi({geometry:o.geometries[ve],type:"Feature",properties:e.properties},n);Ke&&d.push(Ke)}return new ri(d);case"FeatureCollection":for(ve=0,je=o.features.length;ve<je;ve++){var ut=Bi(o.features[ve],n);ut&&d.push(ut)}return new ri(d);default:throw new Error("Invalid GeoJSON object.")}}function cr(e,n,o,f){return e?e(n,o):new sr(o,f&&f.markersInheritOptions&&f)}function pr(e){return new ct(e[1],e[0],e[2])}function Ri(e,n,o){for(var f=[],d=0,x=e.length,Z;d<x;d++)Z=n?Ri(e[d],n-1,o):(o||pr)(e[d]),f.push(Z);return f}function ur(e,n){return e=it(e),e.alt!==void 0?[q(e.lng,n),q(e.lat,n),q(e.alt,n)]:[q(e.lng,n),q(e.lat,n)]}function T(e,n,o,f){for(var d=[],x=0,Z=e.length;x<Z;x++)d.push(n?T(e[x],$t(e[x])?0:n-1,o,f):ur(e[x],f));return!n&&o&&d.length>0&&d.push(d[0].slice()),d}function H(e,n){return e.feature?W({},e.feature,{geometry:n}):ie(n)}function ie(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var se={toGeoJSON:function(e){return H(this,{type:"Point",coordinates:ur(this.getLatLng(),e)})}};sr.include(se),fr.include(se),Oi.include(se),kn.include({toGeoJSON:function(e){var n=!$t(this._latlngs),o=T(this._latlngs,n?1:0,!1,e);return H(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),gi.include({toGeoJSON:function(e){var n=!$t(this._latlngs),o=n&&!$t(this._latlngs[0]),f=T(this._latlngs,o?2:n?1:0,!0,e);return n||(f=[f]),H(this,{type:(o?"Multi":"")+"Polygon",coordinates:f})}}),zi.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(e).geometry.coordinates)}),H(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var o=n==="GeometryCollection",f=[];return this.eachLayer(function(d){if(d.toGeoJSON){var x=d.toGeoJSON(e);if(o)f.push(x.geometry);else{var Z=ie(x);Z.type==="FeatureCollection"?f.push.apply(f,Z.features):f.push(Z)}}}),o?H(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function ge(e,n){return new Cn(e,n)}var De=ge,Se=Zt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,o){this._url=e,this._bounds=He(n),re(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Tt(this._image),this},bringToBack:function(){return this._map&&ln(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=He(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:ht("img");if(nt(n,"leaflet-image-layer"),this._zoomAnimated&&nt(n,"leaflet-zoom-animated"),this.options.className&&nt(n,this.options.className),n.onselectstart=E,n.onmousemove=E,n.onload=v(this.fire,this,"load"),n.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Nn(this._image,o,n)},_reset:function(){var e=this._image,n=new qe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();mt(e,n.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){Vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Re=function(e,n,o){return new Se(e,n,o)},Ne=Se.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:ht("video");if(nt(n,"leaflet-image-layer"),this._zoomAnimated&&nt(n,"leaflet-zoom-animated"),this.options.className&&nt(n,this.options.className),n.onselectstart=E,n.onmousemove=E,n.onloadeddata=v(this.fire,this,"load"),e){for(var o=n.getElementsByTagName("source"),f=[],d=0;d<o.length;d++)f.push(o[d].src);this._url=o.length>0?f:[n.src];return}V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var Z=ht("source");Z.src=this._url[x],n.appendChild(Z)}}});function lt(e,n,o){return new Ne(e,n,o)}var Ye=Se.extend({_initImage:function(){var e=this._image=this._url;nt(e,"leaflet-image-layer"),this._zoomAnimated&&nt(e,"leaflet-zoom-animated"),this.options.className&&nt(e,this.options.className),e.onselectstart=E,e.onmousemove=E}});function et(e,n,o){return new Ye(e,n,o)}var Je=Zt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof ct||V(e))?(this._latlng=it(e),re(this,n)):(re(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Vt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Vt(this._container,0),this._removeTimeout=setTimeout(v(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=it(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Tt(this._container),this},bringToBack:function(){return this._map&&ln(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof ri){n=null;var o=this._source._layers;for(var f in o)if(o[f]._map){n=o[f];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=Te(this.options.offset),o=this._getAnchor();this._zoomAnimated?mt(this._container,e.add(o)):n=n.add(e).add(o);var f=this._containerBottom=-n.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=f+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Pe.include({_initOverlay:function(e,n,o,f){var d=n;return d instanceof e||(d=new e(f).setContent(n)),o&&d.setLatLng(o),d}}),Zt.include({_initOverlay:function(e,n,o,f){var d=o;return d instanceof e?(re(d,f),d._source=this):(d=n&&!f?n:new e(f,this),d.setContent(o)),d}});var Ge=Je.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Je.prototype.openOn.call(this,e)},onAdd:function(e){Je.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof un||this._source.on("preclick",p))},onRemove:function(e){Je.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof un||this._source.off("preclick",p))},getEvents:function(){var e=Je.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=ht("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ht("div",e+"-content-wrapper",n);if(this._contentNode=ht("div",e+"-content",o),N(n),C(this._contentNode),$e(n,"contextmenu",p),this._tipContainer=ht("div",e+"-tip-container",n),this._tip=ht("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ht("a",e+"-close-button",n);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',$e(f,"click",function(d){j(d),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var f=e.offsetHeight,d=this.options.maxHeight,x="leaflet-popup-scrolled";d&&f>d?(n.height=d+"px",nt(e,x)):Dt(e,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();mt(this._container,n.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(ci(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+n,f=this._containerWidth,d=new Ce(this._containerLeft,-o-this._containerBottom);d._add(An(this._container));var x=e.layerPointToContainerPoint(d),Z=Te(this.options.autoPanPadding),ne=Te(this.options.autoPanPaddingTopLeft||Z),fe=Te(this.options.autoPanPaddingBottomRight||Z),ve=e.getSize(),je=0,Ke=0;x.x+f+fe.x>ve.x&&(je=x.x+f-ve.x+fe.x),x.x-je-ne.x<0&&(je=x.x-ne.x),x.y+o+fe.y>ve.y&&(Ke=x.y+o-ve.y+fe.y),x.y-Ke-ne.y<0&&(Ke=x.y-ne.y),(je||Ke)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([je,Ke]))}},_getAnchor:function(){return Te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),It=function(e,n){return new Ge(e,n)};Pe.mergeOptions({closePopupOnClick:!0}),Pe.include({openPopup:function(e,n,o){return this._initOverlay(Ge,e,n,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Zt.include({bindPopup:function(e,n){return this._popup=this._initOverlay(Ge,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof ri||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){O(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof un)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Qt=Je.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Je.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Je.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Je.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,o,f=this._map,d=this._container,x=f.latLngToContainerPoint(f.getCenter()),Z=f.layerPointToContainerPoint(e),ne=this.options.direction,fe=d.offsetWidth,ve=d.offsetHeight,je=Te(this.options.offset),Ke=this._getAnchor();ne==="top"?(n=fe/2,o=ve):ne==="bottom"?(n=fe/2,o=0):ne==="center"?(n=fe/2,o=ve/2):ne==="right"?(n=0,o=ve/2):ne==="left"?(n=fe,o=ve/2):Z.x<x.x?(ne="right",n=0,o=ve/2):(ne="left",n=fe+(je.x+Ke.x)*2,o=ve/2),e=e.subtract(Te(n,o,!0)).add(je).add(Ke),Dt(d,"leaflet-tooltip-right"),Dt(d,"leaflet-tooltip-left"),Dt(d,"leaflet-tooltip-top"),Dt(d,"leaflet-tooltip-bottom"),nt(d,"leaflet-tooltip-"+ne),mt(d,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Vt(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return Te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),en=function(e,n){return new Qt(e,n)};Pe.include({openTooltip:function(e,n,o){return this._initOverlay(Qt,e,n,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Zt.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qt,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ri||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&($e(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),$e(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,o,f;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(n)}});var bn=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Gn(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var f=Te(o.bgPos);n.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Yn(e){return new bn(e)}oi.Default=Hn;var qn=Zt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){re(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Lt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Tt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ln(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=I(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof Ce?e:new Ce(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,o=-e(-1/0,1/0),f=0,d=n.length,x;f<d;f++)x=n[f].style.zIndex,n[f]!==this._container&&x&&(o=e(o,+x));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Vt(this._container,this.options.opacity);var e=+new Date,n=!1,o=!1;for(var f in this._tiles){var d=this._tiles[f];if(!(!d.current||!d.loaded)){var x=Math.min(1,(e-d.loaded)/200);Vt(d.el,x),x<1?n=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(ke(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=n-Math.abs(e-o),this._onUpdateLevel(o)):(Lt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var f=this._levels[e],d=this._map;return f||(f=this._levels[e]={},f.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=n,f.origin=d.project(d.unproject(d.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,d.getCenter(),d.getZoom()),E(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var e,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var f=n.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Lt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,o,f){var d=Math.floor(e/2),x=Math.floor(n/2),Z=o-1,ne=new Ce(+d,+x);ne.z=+Z;var fe=this._tileCoordsToKey(ne),ve=this._tiles[fe];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),Z>f?this._retainParent(d,x,Z,f):!1)},_retainChildren:function(e,n,o,f){for(var d=2*e;d<2*e+2;d++)for(var x=2*n;x<2*n+2;x++){var Z=new Ce(d,x);Z.z=o+1;var ne=this._tileCoordsToKey(Z),fe=this._tiles[ne];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);o+1<f&&this._retainChildren(d,x,o+1,f)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,o,f){var d=Math.round(n);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var x=this.options.updateWhenZooming&&d!==this._tileZoom;(!f||x)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,n)},_setZoomTransform:function(e,n,o){var f=this._map.getZoomScale(o,e.zoom),d=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(n,o)).round();Oe.any3d?Nn(e.el,d,f):mt(e.el,d)},_resetGrid:function(){var e=this._map,n=e.options.crs,o=this._tileSize=this.getTileSize(),f=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],f).x/o.x),Math.ceil(e.project([0,n.wrapLng[1]],f).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],f).y/o.x),Math.ceil(e.project([n.wrapLat[1],0],f).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),f=n.getZoomScale(o,this._tileZoom),d=n.project(e,this._tileZoom).floor(),x=n.getSize().divideBy(f*2);return new qe(d.subtract(x),d.add(x))},_update:function(e){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),d=this._pxBoundsToTileRange(f),x=d.getCenter(),Z=[],ne=this.options.keepBuffer,fe=new qe(d.getBottomLeft().subtract([ne,-ne]),d.getTopRight().add([ne,-ne]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var je=this._tiles[ve].coords;(je.z!==this._tileZoom||!fe.contains(new Ce(je.x,je.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var Ke=d.min.y;Ke<=d.max.y;Ke++)for(var ut=d.min.x;ut<=d.max.x;ut++){var _n=new Ce(ut,Ke);if(_n.z=this._tileZoom,!!this._isValidTile(_n)){var tn=this._tiles[this._tileCoordsToKey(_n)];tn?tn.current=!0:Z.push(_n)}}if(Z.sort(function(In,dr){return In.distanceTo(x)-dr.distanceTo(x)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wn=document.createDocumentFragment();for(ut=0;ut<Z.length;ut++)this._addTile(Z[ut],Wn);this._level.el.appendChild(Wn)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!n.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return He(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,o=this.getTileSize(),f=e.scaleBy(o),d=f.add(o),x=n.unproject(f,e.z),Z=n.unproject(d,e.z);return[x,Z]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),o=new Ze(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),o=new Ce(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(e){var n=this._tiles[e];n&&(Lt(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){nt(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=E,e.onmousemove=E,Oe.ielt9&&this.options.opacity<1&&Vt(e,this.options.opacity)},_addTile:function(e,n){var o=this._getTilePos(e),f=this._tileCoordsToKey(e),d=this.createTile(this._wrapCoords(e),v(this._tileReady,this,e));this._initTile(d),this.createTile.length<2&&xe(v(this._tileReady,this,e,null,d)),mt(d,o),this._tiles[f]={el:d,coords:e,current:!0},n.appendChild(d),this.fire("tileloadstart",{tile:d,coords:e})},_tileReady:function(e,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:e});var f=this._tileCoordsToKey(e);o=this._tiles[f],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Vt(o.el,0),ke(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(nt(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?xe(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new Ce(this._wrapX?U(e.x,this._wrapX):e.x,this._wrapY?U(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new qe(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function on(e){return new qn(e)}var hr=qn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=re(this,n),n.detectRetina&&Oe.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var o=document.createElement("img");return $e(o,"load",v(this._tileOnLoad,this,n,o)),$e(o,"error",v(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var n={r:Oe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=o),n["-y"]=o}return J(this._url,W(n,this.options))},_tileOnLoad:function(e,n){Oe.ielt9?setTimeout(v(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,o){var f=this.options.errorTileUrl;f&&n.getAttribute("src")!==f&&(n.src=f),e(o,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,f=this.options.zoomOffset;return o&&(e=n-e),e+f},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=E,n.onerror=E,!n.complete)){n.src=ee;var o=this._tiles[e].coords;Lt(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",ee),qn.prototype._removeTile.call(this,e)},_tileReady:function(e,n,o){if(!(!this._map||o&&o.getAttribute("src")===ee))return qn.prototype._tileReady.call(this,e,n,o)}});function Vr(e,n){return new hr(e,n)}var Qr=hr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var o=W({},this.defaultWmsParams);for(var f in n)f in this.options||(o[f]=n[f]);n=re(this,n);var d=n.detectRetina&&Oe.retina?2:1,x=this.getTileSize();o.width=x.x*d,o.height=x.y*d,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,hr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),o=this._crs,f=_t(o.project(n[0]),o.project(n[1])),d=f.min,x=f.max,Z=(this._wmsVersion>=1.3&&this._crs===ar?[d.y,d.x,x.y,x.x]:[d.x,d.y,x.x,x.y]).join(","),ne=hr.prototype.getTileUrl.call(this,e);return ne+K(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(e,n){return W(this.wmsParams,e),n||this.redraw(),this}});function zo(e,n){return new Qr(e,n)}hr.WMS=Qr,Vr.wms=zo;var Ci=Zt.extend({options:{padding:.1},initialize:function(e){re(this,e),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var o=this._map.getZoomScale(n,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,n),x=f.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(e,n));Oe.any3d?Nn(this._container,x,o):mt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new qe(o,o.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kr=Ci.extend({options:{tolerance:0},getEvents:function(){var e=Ci.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");$e(e,"mousemove",this._onMouseMove,this),$e(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){ke(this._redrawRequest),delete this._ctx,Lt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ci.prototype._update.call(this);var e=this._bounds,n=this._container,o=e.getSize(),f=Oe.retina?2:1;mt(n,e.min),n.width=f*o.x,n.height=f*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[k(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,o=n.next,f=n.prev;o?o.prev=f:this._drawLast=f,f?f.next=o:this._drawFirst=o,delete e._order,delete this._layers[k(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),o=[],f,d;for(d=0;d<n.length;d++){if(f=Number(n[d]),isNaN(f))return;o.push(f)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||xe(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new qe,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var o,f,d,x,Z=e._parts,ne=Z.length,fe=this._ctx;if(ne){for(fe.beginPath(),o=0;o<ne;o++){for(f=0,d=Z[o].length;f<d;f++)x=Z[o][f],fe[f?"lineTo":"moveTo"](x.x,x.y);n&&fe.closePath()}this._fillStroke(fe,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,o=this._ctx,f=Math.max(Math.round(e._radius),1),d=(Math.max(Math.round(e._radiusY),1)||f)/f;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(n.x,n.y/d,f,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,n){var o=n.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),o,f,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(f=o);this._fireEvent(f?[f]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var o,f,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(n)&&(f=o);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(nt(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,o){this._map._fireDOMEvent(n,o||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var o=n.next,f=n.prev;if(o)o.prev=f;else return;f?f.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var o=n.next,f=n.prev;if(f)f.next=o;else return;o?o.prev=f:f&&(this._drawLast=f),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function Jr(e){return Oe.canvas?new Kr(e):null}var gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Oo={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ci.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=gr("shape");nt(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=gr("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[k(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;Lt(n),e.removeInteractiveTarget(n),delete this._layers[k(e)]},_updateStyle:function(e){var n=e._stroke,o=e._fill,f=e.options,d=e._container;d.stroked=!!f.stroke,d.filled=!!f.fill,f.stroke?(n||(n=e._stroke=gr("stroke")),d.appendChild(n),n.weight=f.weight+"px",n.color=f.color,n.opacity=f.opacity,f.dashArray?n.dashStyle=V(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=f.lineCap.replace("butt","flat"),n.joinstyle=f.lineJoin):n&&(d.removeChild(n),e._stroke=null),f.fill?(o||(o=e._fill=gr("fill")),d.appendChild(o),o.color=f.fillColor||f.color,o.opacity=f.fillOpacity):o&&(d.removeChild(o),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),o=Math.round(e._radius),f=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+f+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){Tt(e._container)},_bringToBack:function(e){ln(e._container)}},wr=Oe.vml?gr:ai,mr=Ci.extend({_initContainer:function(){this._container=wr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ci.prototype._update.call(this);var e=this._bounds,n=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),mt(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=wr("path");e.options.className&&nt(n,e.options.className),e.options.interactive&&nt(n,"leaflet-interactive"),this._updateStyle(e),this._layers[k(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Lt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[k(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,o=e.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,qt(e._parts,n))},_updateCircle:function(e){var n=e._point,o=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||o,d="a"+o+","+f+" 0 1,0 ",x=e._empty()?"M0 0":"M"+(n.x-o)+","+n.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(e,x)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){Tt(e._path)},_bringToBack:function(e){ln(e._path)}});Oe.vml&&mr.include(Oo);function Xr(e){return Oe.svg||Oe.vml?new mr(e):null}Pe.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&Jr(e)||Xr(e)}});var $r=gi.extend({initialize:function(e,n){gi.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=He(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Bo(e,n){return new $r(e,n)}mr.create=wr,mr.pointsToPath=qt,Cn.geometryToLayer=Bi,Cn.coordsToLatLng=pr,Cn.coordsToLatLngs=Ri,Cn.latLngToCoords=ur,Cn.latLngsToCoords=T,Cn.getFeature=H,Cn.asFeature=ie,Pe.mergeOptions({boxZoom:!0});var eo=g.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),wt(),this._startPoint=this._map.mouseEventToContainerPoint(e),$e(document,{contextmenu:O,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new qe(this._point,this._startPoint),o=n.getSize();mt(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(Lt(this._box),Dt(this._container,"leaflet-crosshair")),Zn(),Un(),xt(document,{contextmenu:O,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var n=new Ze(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pe.addInitHook("addHandler","boxZoom",eo),Pe.mergeOptions({doubleClickZoom:!0});var to=g.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,o=n.getZoom(),f=n.options.zoomDelta,d=e.originalEvent.shiftKey?o-f:o+f;n.options.doubleClickZoom==="center"?n.setZoom(d):n.setZoomAround(e.containerPoint,d)}});Pe.addInitHook("addHandler","doubleClickZoom",to),Pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var no=g.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new A(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dt(this._map._container,"leaflet-grab"),Dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=He(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),o=this._initialWorldOffset,f=this._draggable._newPos.x,d=(f-n+o)%e+n-o,x=(f+n+o)%e-n-o,Z=Math.abs(d+o)<Math.abs(x+o)?d:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(e){var n=this._map,o=n.options,f=!o.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),f)n.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,Z=o.easeLinearity,ne=d.multiplyBy(Z/x),fe=ne.distanceTo([0,0]),ve=Math.min(o.inertiaMaxSpeed,fe),je=ne.multiplyBy(ve/fe),Ke=ve/(o.inertiaDeceleration*Z),ut=je.multiplyBy(-Ke/2).round();!ut.x&&!ut.y?n.fire("moveend"):(ut=n._limitOffset(ut,n.options.maxBounds),xe(function(){n.panBy(ut,{duration:Ke,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Pe.addInitHook("addHandler","dragging",no),Pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=g.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),$e(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,o=e.scrollTop||n.scrollTop,f=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(f,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},o=this.keyCodes,f,d;for(f=0,d=o.left.length;f<d;f++)n[o.left[f]]=[-1*e,0];for(f=0,d=o.right.length;f<d;f++)n[o.right[f]]=[e,0];for(f=0,d=o.down.length;f<d;f++)n[o.down[f]]=[0,e];for(f=0,d=o.up.length;f<d;f++)n[o.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},o=this.keyCodes,f,d;for(f=0,d=o.zoomIn.length;f<d;f++)n[o.zoomIn[f]]=e;for(f=0,d=o.zoomOut.length;f<d;f++)n[o.zoomOut[f]]=-e},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,o=this._map,f;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(f=this._panKeys[n],e.shiftKey&&(f=Te(f).multiplyBy(3)),o.options.maxBounds&&(f=o._limitOffset(Te(f),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(f)));o.panTo(d)}else o.panBy(f)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;O(e)}}});Pe.addInitHook("addHandler","keyboard",io),Pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ro=g.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=ue(e),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),f),O(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,x=o?Math.ceil(d/o)*o:d,Z=e._limitZoom(n+(this._delta>0?x:-x))-n;this._delta=0,this._startTime=null,Z&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+Z):e.setZoomAround(this._lastMousePos,n+Z))}});Pe.addInitHook("addHandler","scrollWheelZoom",ro);var Ro=600;Pe.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var oo=g.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new Ce(n.clientX,n.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",j),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Ro),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){xt(document,"touchend",j),xt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new Ce(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});Pe.addInitHook("addHandler","tapHold",oo),Pe.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var ao=g.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(f)._divideBy(2))),this._startDist=o.distanceTo(f),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),j(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]),d=o.distanceTo(f)/this._startDist;if(this._zoom=n.getScaleZoom(d,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&d<1||this._zoom>n.getMaxZoom()&&d>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var x=o._add(f)._divideBy(2)._subtract(this._centerPoint);if(d===1&&x.x===0&&x.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),ke(this._animRequest);var Z=v(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=xe(Z,this,!0),j(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ke(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pe.addInitHook("addHandler","touchZoom",ao),Pe.BoxZoom=eo,Pe.DoubleClickZoom=to,Pe.Drag=no,Pe.Keyboard=io,Pe.ScrollWheelZoom=ro,Pe.TapHold=oo,Pe.TouchZoom=ao,P.Bounds=qe,P.Browser=Oe,P.CRS=nn,P.Canvas=Kr,P.Circle=fr,P.CircleMarker=Oi,P.Class=Me,P.Control=ft,P.DivIcon=bn,P.DivOverlay=Je,P.DomEvent=Ee,P.DomUtil=Ji,P.Draggable=A,P.Evented=ze,P.FeatureGroup=ri,P.GeoJSON=Cn,P.GridLayer=qn,P.Handler=g,P.Icon=oi,P.ImageOverlay=Se,P.LatLng=ct,P.LatLngBounds=Ze,P.Layer=Zt,P.LayerGroup=zi,P.LineUtil=Xi,P.Map=Pe,P.Marker=sr,P.Mixin=M,P.Path=un,P.Point=Ce,P.PolyUtil=oe,P.Polygon=gi,P.Polyline=kn,P.Popup=Ge,P.PosAnimation=Fe,P.Projection=di,P.Rectangle=$r,P.Renderer=Ci,P.SVG=mr,P.SVGOverlay=Ye,P.TileLayer=hr,P.Tooltip=Qt,P.Transformation=Ut,P.Util=Be,P.VideoOverlay=Ne,P.bind=v,P.bounds=_t,P.canvas=Jr,P.circle=$i,P.circleMarker=pi,P.control=dt,P.divIcon=Yn,P.extend=W,P.featureGroup=Mt,P.geoJSON=ge,P.geoJson=De,P.gridLayer=on,P.icon=Bn,P.imageOverlay=Re,P.latLng=it,P.latLngBounds=He,P.layerGroup=Pr,P.map=vt,P.marker=Lr,P.point=Te,P.polygon=Sr,P.polyline=lr,P.popup=It,P.rectangle=Bo,P.setOptions=re,P.stamp=k,P.svg=Xr,P.svgOverlay=et,P.tileLayer=Vr,P.tooltip=en,P.transformation=an,P.version=ae,P.videoOverlay=lt;var Go=window.L;P.noConflict=function(){return window.L=Go,this},window.L=P})});var No=br((Ja,la)=>{la.exports="https://mrt-map.github.io/map/marker-icon-2x-SP63CLEO.png"});var Ao=br((Xa,ca)=>{ca.exports="https://mrt-map.github.io/map/marker-icon-2V3QKKVC.png"});var jo=br(($a,ua)=>{ua.exports="https://mrt-map.github.io/map/marker-shadow-MEXDWUU7.png"});var po=mi(Cr(),1),hn=(0,po.default)(".results__container"),Ar,Tn=0,ho=0;hn.on("touchstart",P=>{Ar=P.touches[0].clientY});hn.on("touchmove",P=>{if(window.innerWidth>1e3){hn.css("transform","none");return}let ae=P.touches[0].clientY,W=Ar-ae;Ar=ae;let y=hn.height()*2*.3;hn.scrollTop()==0&&(Tn+=W,P.preventDefault()),Tn>y&&(hn.scrollTop(hn.scrollTop()+W),Tn=y),Tn<0&&(Tn=0)});hn.on("wheel",()=>{if(window.innerWidth>1e3){hn.css("transform","none");return}let P=hn.scrollTop()-ho;ho=hn.scrollTop();let ae=hn.height()*2*.3;Tn<ae&&P>0&&(Tn+=P),Tn>0&&P<0&&hn.scrollTop()<500&&(Tn+=P),Tn>ae&&(hn.scrollTop(hn.scrollTop()+P),Tn=ae),Tn<0&&(Tn=0)});function go(){if(window.innerWidth>1e3){hn.css("transform","none");return}Tn=0}var vr=mi(Gi(),1);(function(){L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(W,y){y&&L.Util.setOptions(this,y),this._buildContainer(),this._buttons=[];for(var v=0;v<W.length;v++)W[v]._bar=this,W[v]._container=W[v].button,this._buttons.push(W[v]),this.container.appendChild(W[v].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(W){this._map=W;for(var y=0;y<this._buttons.length;y++)this._buttons[y]._map=W;var v=this._container=this.onAdd(W),_=this.getPosition(),k=W._controlCorners[_];return L.DomUtil.addClass(v,"leaflet-control"),_.indexOf("bottom")!==-1?k.insertBefore(v,k.firstChild):k.appendChild(v),this}}),L.easyBar=function(){for(var W=[L.Control.EasyBar],y=0;y<arguments.length;y++)W.push(arguments[y]);return new(Function.prototype.bind.apply(L.Control.EasyBar,W))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(W,y,v,_){this.options.states=[],_!=null&&(this.options.id=_),this.storage={},typeof arguments[arguments.length-1]=="object"&&L.Util.setOptions(this,arguments[arguments.length-1]),this.options.states.length===0&&typeof W=="string"&&typeof y=="function"&&this.options.states.push({icon:W,onClick:y,title:typeof v=="string"?v:""}),this._states=[];for(var k=0;k<this.options.states.length;k++)this._states.push(new P(this.options.states[k],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),this.options.tagName==="button"&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(y){L.DomEvent.stop(y),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),this.options.type=="replace")this.button.appendChild(this._currentState.icon);else for(var W=0;W<this._states.length;W++)this.button.appendChild(this._states[W].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(W){return arguments.length===0?this._currentState.stateName:(typeof W=="string"?this._activateStateNamed(W):typeof W=="number"&&this._activateState(this._states[W]),this)},_activateStateNamed:function(W){for(var y=0;y<this._states.length;y++)this._states[y].stateName==W&&this._activateState(this._states[y])},_activateState:function(W){if(W!==this._currentState){this.options.type=="replace"&&(this.button.appendChild(W.icon),this.button.removeChild(this._currentState.icon)),W.title?this.button.title=W.title:this.button.removeAttribute("title");for(var y=0;y<this._states.length;y++)L.DomUtil.removeClass(this._states[y].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[y].icon,W.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,W.stateName+"-active"),this._currentState=W}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(W){var y=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=y,this._container=y.container,this._anonymousBar.container},removeFrom:function(W){return this._map===W&&this.remove(),this}}),L.easyButton=function(){var W=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,W))};function P(W,y){this.title=W.title,this.stateName=W.stateName?W.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=ae(W.icon),this.onClick=L.Util.bind(W.onClick?W.onClick:function(){},y)}function ae(W){var y;return W.match(/[&;=<>"']/)?y=W:(W=W.replace(/(^\s*|\s*$)/g,""),y=L.DomUtil.create("span",""),W.indexOf("fa-")===0?L.DomUtil.addClass(y,"fa "+W):W.indexOf("glyphicon-")===0?L.DomUtil.addClass(y,"glyphicon "+W):L.DomUtil.addClass(y,W),y=y.outerHTML),y}})();(()=>{var P={9705:(y,v,_)=>{"use strict";var k=_(1540);function I(U){var E=[1/0,1/0,-1/0,-1/0];return k.coordEach(U,function(q){E[0]>q[0]&&(E[0]=q[0]),E[1]>q[1]&&(E[1]=q[1]),E[2]<q[0]&&(E[2]=q[0]),E[3]<q[1]&&(E[3]=q[1])}),E}I.default=I,v.Z=I},4102:(y,v)=>{"use strict";function _(V,$,ee){ee===void 0&&(ee={});var z={type:"Feature"};return(ee.id===0||ee.id)&&(z.id=ee.id),ee.bbox&&(z.bbox=ee.bbox),z.properties=$||{},z.geometry=V,z}function k(V,$,ee){if(ee===void 0&&(ee={}),!V)throw new Error("coordinates is required");if(!Array.isArray(V))throw new Error("coordinates must be an Array");if(V.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!J(V[0])||!J(V[1]))throw new Error("coordinates must contain numbers");return _({type:"Point",coordinates:V},$,ee)}function I(V,$,ee){ee===void 0&&(ee={});for(var z=0,Y=V;z<Y.length;z++){var l=Y[z];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _e=0;_e<l[l.length-1].length;_e++)if(l[l.length-1][_e]!==l[0][_e])throw new Error("First and last Position are not equivalent.")}return _({type:"Polygon",coordinates:V},$,ee)}function U(V,$,ee){if(ee===void 0&&(ee={}),V.length<2)throw new Error("coordinates must be an array of two or more positions");return _({type:"LineString",coordinates:V},$,ee)}function E(V,$){$===void 0&&($={});var ee={type:"FeatureCollection"};return $.id&&(ee.id=$.id),$.bbox&&(ee.bbox=$.bbox),ee.features=V,ee}function q(V,$,ee){return ee===void 0&&(ee={}),_({type:"MultiLineString",coordinates:V},$,ee)}function le(V,$,ee){return ee===void 0&&(ee={}),_({type:"MultiPoint",coordinates:V},$,ee)}function me(V,$,ee){return ee===void 0&&(ee={}),_({type:"MultiPolygon",coordinates:V},$,ee)}function re(V,$){$===void 0&&($="kilometers");var ee=v.factors[$];if(!ee)throw new Error($+" units is invalid");return V*ee}function K(V,$){$===void 0&&($="kilometers");var ee=v.factors[$];if(!ee)throw new Error($+" units is invalid");return V/ee}function X(V){return 180*(V%(2*Math.PI))/Math.PI}function J(V){return!isNaN(V)&&V!==null&&!Array.isArray(V)}Object.defineProperty(v,"__esModule",{value:!0}),v.earthRadius=63710088e-1,v.factors={centimeters:100*v.earthRadius,centimetres:100*v.earthRadius,degrees:v.earthRadius/111325,feet:3.28084*v.earthRadius,inches:39.37*v.earthRadius,kilometers:v.earthRadius/1e3,kilometres:v.earthRadius/1e3,meters:v.earthRadius,metres:v.earthRadius,miles:v.earthRadius/1609.344,millimeters:1e3*v.earthRadius,millimetres:1e3*v.earthRadius,nauticalmiles:v.earthRadius/1852,radians:1,yards:1.0936*v.earthRadius},v.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/v.earthRadius,yards:1.0936133},v.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},v.feature=_,v.geometry=function(V,$,ee){switch(ee===void 0&&(ee={}),V){case"Point":return k($).geometry;case"LineString":return U($).geometry;case"Polygon":return I($).geometry;case"MultiPoint":return le($).geometry;case"MultiLineString":return q($).geometry;case"MultiPolygon":return me($).geometry;default:throw new Error(V+" is invalid")}},v.point=k,v.points=function(V,$,ee){return ee===void 0&&(ee={}),E(V.map(function(z){return k(z,$)}),ee)},v.polygon=I,v.polygons=function(V,$,ee){return ee===void 0&&(ee={}),E(V.map(function(z){return I(z,$)}),ee)},v.lineString=U,v.lineStrings=function(V,$,ee){return ee===void 0&&(ee={}),E(V.map(function(z){return U(z,$)}),ee)},v.featureCollection=E,v.multiLineString=q,v.multiPoint=le,v.multiPolygon=me,v.geometryCollection=function(V,$,ee){return ee===void 0&&(ee={}),_({type:"GeometryCollection",geometries:V},$,ee)},v.round=function(V,$){if($===void 0&&($=0),$&&!($>=0))throw new Error("precision must be a positive number");var ee=Math.pow(10,$||0);return Math.round(V*ee)/ee},v.radiansToLength=re,v.lengthToRadians=K,v.lengthToDegrees=function(V,$){return X(K(V,$))},v.bearingToAzimuth=function(V){var $=V%360;return $<0&&($+=360),$},v.radiansToDegrees=X,v.degreesToRadians=function(V){return V%360*Math.PI/180},v.convertLength=function(V,$,ee){if($===void 0&&($="kilometers"),ee===void 0&&(ee="kilometers"),!(V>=0))throw new Error("length must be a positive number");return re(K(V,$),ee)},v.convertArea=function(V,$,ee){if($===void 0&&($="meters"),ee===void 0&&(ee="kilometers"),!(V>=0))throw new Error("area must be a positive number");var z=v.areaFactors[$];if(!z)throw new Error("invalid original units");var Y=v.areaFactors[ee];if(!Y)throw new Error("invalid final units");return V/z*Y},v.isNumber=J,v.isObject=function(V){return!!V&&V.constructor===Object},v.validateBBox=function(V){if(!V)throw new Error("bbox is required");if(!Array.isArray(V))throw new Error("bbox must be an Array");if(V.length!==4&&V.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");V.forEach(function($){if(!J($))throw new Error("bbox must only contain numbers")})},v.validateId=function(V){if(!V)throw new Error("id is required");if(["string","number"].indexOf(typeof V)===-1)throw new Error("id must be a number or a string")}},1540:(y,v,_)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});var k=_(4102);function I(K,X,J){if(K!==null)for(var V,$,ee,z,Y,l,_e,ye,xe=0,ke=0,Be=K.type,Me=Be==="FeatureCollection",Ae=Be==="Feature",Ve=Me?K.features.length:1,ze=0;ze<Ve;ze++){Y=(ye=!!(_e=Me?K.features[ze].geometry:Ae?K.geometry:K)&&_e.type==="GeometryCollection")?_e.geometries.length:1;for(var Ce=0;Ce<Y;Ce++){var yt=0,Te=0;if((z=ye?_e.geometries[Ce]:_e)!==null){l=z.coordinates;var qe=z.type;switch(xe=!J||qe!=="Polygon"&&qe!=="MultiPolygon"?0:1,qe){case null:break;case"Point":if(X(l,ke,ze,yt,Te)===!1)return!1;ke++,yt++;break;case"LineString":case"MultiPoint":for(V=0;V<l.length;V++){if(X(l[V],ke,ze,yt,Te)===!1)return!1;ke++,qe==="MultiPoint"&&yt++}qe==="LineString"&&yt++;break;case"Polygon":case"MultiLineString":for(V=0;V<l.length;V++){for($=0;$<l[V].length-xe;$++){if(X(l[V][$],ke,ze,yt,Te)===!1)return!1;ke++}qe==="MultiLineString"&&yt++,qe==="Polygon"&&Te++}qe==="Polygon"&&yt++;break;case"MultiPolygon":for(V=0;V<l.length;V++){for(Te=0,$=0;$<l[V].length;$++){for(ee=0;ee<l[V][$].length-xe;ee++){if(X(l[V][$][ee],ke,ze,yt,Te)===!1)return!1;ke++}Te++}yt++}break;case"GeometryCollection":for(V=0;V<z.geometries.length;V++)if(I(z.geometries[V],X,J)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function U(K,X){var J;switch(K.type){case"FeatureCollection":for(J=0;J<K.features.length&&X(K.features[J].properties,J)!==!1;J++);break;case"Feature":X(K.properties,0)}}function E(K,X){if(K.type==="Feature")X(K,0);else if(K.type==="FeatureCollection")for(var J=0;J<K.features.length&&X(K.features[J],J)!==!1;J++);}function q(K,X){var J,V,$,ee,z,Y,l,_e,ye,xe,ke=0,Be=K.type==="FeatureCollection",Me=K.type==="Feature",Ae=Be?K.features.length:1;for(J=0;J<Ae;J++){for(Y=Be?K.features[J].geometry:Me?K.geometry:K,_e=Be?K.features[J].properties:Me?K.properties:{},ye=Be?K.features[J].bbox:Me?K.bbox:void 0,xe=Be?K.features[J].id:Me?K.id:void 0,z=(l=!!Y&&Y.type==="GeometryCollection")?Y.geometries.length:1,$=0;$<z;$++)if((ee=l?Y.geometries[$]:Y)!==null)switch(ee.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(X(ee,ke,_e,ye,xe)===!1)return!1;break;case"GeometryCollection":for(V=0;V<ee.geometries.length;V++)if(X(ee.geometries[V],ke,_e,ye,xe)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(X(null,ke,_e,ye,xe)===!1)return!1;ke++}}function le(K,X){q(K,function(J,V,$,ee,z){var Y,l=J===null?null:J.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return X(k.feature(J,$,{bbox:ee,id:z}),V,0)!==!1&&void 0}switch(l){case"MultiPoint":Y="Point";break;case"MultiLineString":Y="LineString";break;case"MultiPolygon":Y="Polygon"}for(var _e=0;_e<J.coordinates.length;_e++){var ye={type:Y,coordinates:J.coordinates[_e]};if(X(k.feature(ye,$),V,_e)===!1)return!1}})}function me(K,X){le(K,function(J,V,$){var ee=0;if(J.geometry){var z=J.geometry.type;if(z!=="Point"&&z!=="MultiPoint"){var Y,l=0,_e=0,ye=0;return I(J,function(xe,ke,Be,Me,Ae){if(Y===void 0||V>l||Me>_e||Ae>ye)return Y=xe,l=V,_e=Me,ye=Ae,void(ee=0);var Ve=k.lineString([Y,xe],J.properties);if(X(Ve,V,$,Ae,ee)===!1)return!1;ee++,Y=xe})!==!1&&void 0}}})}function re(K,X){if(!K)throw new Error("geojson is required");le(K,function(J,V,$){if(J.geometry!==null){var ee=J.geometry.type,z=J.geometry.coordinates;switch(ee){case"LineString":if(X(J,V,$,0,0)===!1)return!1;break;case"Polygon":for(var Y=0;Y<z.length;Y++)if(X(k.lineString(z[Y],J.properties),V,$,Y)===!1)return!1}}})}v.coordAll=function(K){var X=[];return I(K,function(J){X.push(J)}),X},v.coordEach=I,v.coordReduce=function(K,X,J,V){var $=J;return I(K,function(ee,z,Y,l,_e){$=z===0&&J===void 0?ee:X($,ee,z,Y,l,_e)},V),$},v.featureEach=E,v.featureReduce=function(K,X,J){var V=J;return E(K,function($,ee){V=ee===0&&J===void 0?$:X(V,$,ee)}),V},v.findPoint=function(K,X){if(X=X||{},!k.isObject(X))throw new Error("options is invalid");var J,V=X.featureIndex||0,$=X.multiFeatureIndex||0,ee=X.geometryIndex||0,z=X.coordIndex||0,Y=X.properties;switch(K.type){case"FeatureCollection":V<0&&(V=K.features.length+V),Y=Y||K.features[V].properties,J=K.features[V].geometry;break;case"Feature":Y=Y||K.properties,J=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=K;break;default:throw new Error("geojson is invalid")}if(J===null)return null;var l=J.coordinates;switch(J.type){case"Point":return k.point(l,Y,X);case"MultiPoint":return $<0&&($=l.length+$),k.point(l[$],Y,X);case"LineString":return z<0&&(z=l.length+z),k.point(l[z],Y,X);case"Polygon":return ee<0&&(ee=l.length+ee),z<0&&(z=l[ee].length+z),k.point(l[ee][z],Y,X);case"MultiLineString":return $<0&&($=l.length+$),z<0&&(z=l[$].length+z),k.point(l[$][z],Y,X);case"MultiPolygon":return $<0&&($=l.length+$),ee<0&&(ee=l[$].length+ee),z<0&&(z=l[$][ee].length-z),k.point(l[$][ee][z],Y,X)}throw new Error("geojson is invalid")},v.findSegment=function(K,X){if(X=X||{},!k.isObject(X))throw new Error("options is invalid");var J,V=X.featureIndex||0,$=X.multiFeatureIndex||0,ee=X.geometryIndex||0,z=X.segmentIndex||0,Y=X.properties;switch(K.type){case"FeatureCollection":V<0&&(V=K.features.length+V),Y=Y||K.features[V].properties,J=K.features[V].geometry;break;case"Feature":Y=Y||K.properties,J=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=K;break;default:throw new Error("geojson is invalid")}if(J===null)return null;var l=J.coordinates;switch(J.type){case"Point":case"MultiPoint":return null;case"LineString":return z<0&&(z=l.length+z-1),k.lineString([l[z],l[z+1]],Y,X);case"Polygon":return ee<0&&(ee=l.length+ee),z<0&&(z=l[ee].length+z-1),k.lineString([l[ee][z],l[ee][z+1]],Y,X);case"MultiLineString":return $<0&&($=l.length+$),z<0&&(z=l[$].length+z-1),k.lineString([l[$][z],l[$][z+1]],Y,X);case"MultiPolygon":return $<0&&($=l.length+$),ee<0&&(ee=l[$].length+ee),z<0&&(z=l[$][ee].length-z-1),k.lineString([l[$][ee][z],l[$][ee][z+1]],Y,X)}throw new Error("geojson is invalid")},v.flattenEach=le,v.flattenReduce=function(K,X,J){var V=J;return le(K,function($,ee,z){V=ee===0&&z===0&&J===void 0?$:X(V,$,ee,z)}),V},v.geomEach=q,v.geomReduce=function(K,X,J){var V=J;return q(K,function($,ee,z,Y,l){V=ee===0&&J===void 0?$:X(V,$,ee,z,Y,l)}),V},v.lineEach=re,v.lineReduce=function(K,X,J){var V=J;return re(K,function($,ee,z,Y){V=ee===0&&J===void 0?$:X(V,$,ee,z,Y)}),V},v.propEach=U,v.propReduce=function(K,X,J){var V=J;return U(K,function($,ee){V=ee===0&&J===void 0?$:X(V,$,ee)}),V},v.segmentEach=me,v.segmentReduce=function(K,X,J){var V=J,$=!1;return me(K,function(ee,z,Y,l,_e){V=$===!1&&J===void 0?ee:X(V,ee,z,Y,l,_e),$=!0}),V}},5975:(y,v,_)=>{"use strict";_(7107);var k=_(2492),I=_.n(k);let U=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),E=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xF6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xF6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xFCpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"L\xE4nge","segmentLength":"Segment L\xE4nge","area":"Fl\xE4che","radius":"Radius","perimeter":"Umfang","height":"H\xF6he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),q=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),le=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),me=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri","pinningButton":"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103"}}'),re=JSON.parse('{"tooltips":{"placeMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442","continueLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435","finishLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F","finishPoly":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","finishRect":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","startCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C","cancel":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","removeLastVertex":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D","drawLineButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E","drawCircleButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439","cutButton":"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439","deleteButton":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439","drawCircleMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C","pinningButton":"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435"}}'),K=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xE9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del c\xEDrculo","finishCircle":"Presiona para finalizar el c\xEDrculo","placeCircleMarker":"Presiona para colocar un marcador de c\xEDrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xEDgono","drawLineButton":"Dibujar L\xEDnea","drawCircleButton":"Dibujar C\xEDrculo","drawRectButton":"Dibujar Rect\xE1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de C\xEDrculo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xE9rtices","pinningButton":"Fijar juntos los v\xE9rtices compartidos"}}'),X=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xEBindigen","finishPoly":"Klik op het eerst punt om te be\xEBindigen","finishRect":"Klik om te be\xEBindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xEBindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),J=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xE0 dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xC9diter des calques","dragButton":"D\xE9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"\xC9pingler ensemble les sommets partag\xE9s","rotateButton":"Tourner des calques"}}`),V=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0","firstVertex":"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9","continueLine":"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236","finishLine":"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210","finishPoly":"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210","finishRect":"\u5355\u51FB\u5B8C\u6210","startCircle":"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3","finishCircle":"\u5355\u51FB\u5B8C\u6210\u5706\u5F62","placeCircleMarker":"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},"buttonTitles":{"drawMarkerButton":"\u7ED8\u5236\u6807\u8BB0","drawPolyButton":"\u7ED8\u5236\u591A\u8FB9\u5F62","drawLineButton":"\u7ED8\u5236\u7EBF\u6BB5","drawCircleButton":"\u7ED8\u5236\u5706\u5F62","drawRectButton":"\u7ED8\u5236\u957F\u65B9\u5F62","editButton":"\u7F16\u8F91\u56FE\u5C42","dragButton":"\u62D6\u62FD\u56FE\u5C42","cutButton":"\u526A\u5207\u56FE\u5C42","deleteButton":"\u5220\u9664\u56FE\u5C42","drawCircleMarkerButton":"\u753B\u5706\u5708\u6807\u8BB0","snappingButton":"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9","pinningButton":"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77"}}'),$=JSON.parse('{"tooltips":{"placeMarker":"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18","firstVertex":"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE","continueLine":"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD","finishLine":"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210","finishPoly":"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210","finishRect":"\u55AE\u64CA\u5B8C\u6210","startCircle":"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3","finishCircle":"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62","placeCircleMarker":"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},"buttonTitles":{"drawMarkerButton":"\u653E\u7F6E\u6A19\u8A18","drawPolyButton":"\u7E6A\u88FD\u591A\u908A\u5F62","drawLineButton":"\u7E6A\u88FD\u7DDA\u6BB5","drawCircleButton":"\u7E6A\u88FD\u5713\u5F62","drawRectButton":"\u7E6A\u88FD\u65B9\u5F62","editButton":"\u7DE8\u8F2F\u5716\u5F62","dragButton":"\u79FB\u52D5\u5716\u5F62","cutButton":"\u88C1\u5207\u5716\u5F62","deleteButton":"\u522A\u9664\u5716\u5F62","drawCircleMarkerButton":"\u756B\u5713\u5708\u6A19\u8A18","snappingButton":"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE","pinningButton":"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77"}}'),ee={en:U,de:E,it:q,id:le,ro:me,ru:re,es:K,nl:X,fr:J,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xE9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xEDgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xEDrculo","finishCircle":"Clique para fechar o c\xEDrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xEDgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xEDrculo","drawRectButton":"Desenhar um ret\xE2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xEDrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xE9rtices","pinningButton":"V\xE9rtices compartilhados de pinos juntos"}}'),zh:V,zh_tw:$,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015Brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015Bcie\u017Ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xF3lne wierzcho\u0142ki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xF6r att placera mark\xF6r","firstVertex":"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet","continueLine":"Klicka f\xF6r att forts\xE4tta rita","finishLine":"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra","finishPoly":"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra","finishRect":"Klicka f\xF6r att slutf\xF6ra","startCircle":"Klicka f\xF6r att placera cirkelns centrum","finishCircle":"Klicka f\xF6r att slutf\xF6ra cirkeln","placeCircleMarker":"Klicka f\xF6r att placera cirkelmark\xF6r"},"actions":{"finish":"Slutf\xF6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xF6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xF6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xF6r","snappingButton":"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn","pinningButton":"F\xE4st delade h\xF6rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","firstVertex":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF","continueLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5","finishLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF","finishPoly":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","finishRect":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","startCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","finishCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF","placeCircleMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},"actions":{"finish":"\u03A4\u03AD\u03BB\u03BF\u03C2","cancel":"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7","removeLastVertex":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},"buttonTitles":{"drawMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","drawPolyButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5","drawLineButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2","drawCircleButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","drawRectButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5","editButton":"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","dragButton":"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","cutButton":"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","deleteButton":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","drawCircleMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","snappingButton":"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2","pinningButton":"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez","continueLine":"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez","finishLine":"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra","finishPoly":"A befejez\xE9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xE9shez","startCircle":"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez","finishCircle":"Kattintson a k\xF6r befejez\xE9s\xE9hez","placeCircleMarker":"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},"actions":{"finish":"Befejez\xE9s","cancel":"M\xE9gse","removeLastVertex":"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xF6l\u0151 rajzol\xE1sa","drawPolyButton":"Poligon rajzol\xE1sa","drawLineButton":"Vonal rajzol\xE1sa","drawCircleButton":"K\xF6r rajzol\xE1sa","drawRectButton":"N\xE9gyzet rajzol\xE1sa","editButton":"Elemek szerkeszt\xE9se","dragButton":"Elemek mozgat\xE1sa","cutButton":"Elemek v\xE1g\xE1sa","deleteButton":"Elemek t\xF6rl\xE9se","drawCircleMarkerButton":"K\xF6r jel\xF6l\u0151 rajzol\xE1sa","snappingButton":"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz","pinningButton":"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xF8r","firstVertex":"Tryk for at placere det f\xF8rste punkt","continueLine":"Tryk for at forts\xE6tte linjen","finishLine":"Tryk p\xE5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xE5 det f\xF8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xF8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xF8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xE6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xF8r","snappingButton":"Fastg\xF8r trukket mark\xF8r til andre elementer","pinningButton":"Sammenl\xE6g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xE5 plassere punkt","firstVertex":"Klikk for \xE5 plassere f\xF8rste punkt","continueLine":"Klikk for \xE5 tegne videre","finishLine":"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re","finishPoly":"Klikk f\xF8rste punkt for \xE5 fullf\xF8re","finishRect":"Klikk for \xE5 fullf\xF8re","startCircle":"Klikk for \xE5 sette sirkel midtpunkt","finishCircle":"Klikk for \xE5 fullf\xF8re sirkel","placeCircleMarker":"Klikk for \xE5 plassere sirkel"},"actions":{"finish":"Fullf\xF8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646","firstVertex":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633","continueLine":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishPoly":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishRect":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","startCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647","finishCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","placeCircleMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","placeText":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646"},"actions":{"finish":"\u067E\u0627\u06CC\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062F\u0631\u062C \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC","drawLineButton":"\u0631\u0633\u0645 \u062E\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC","editButton":"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","dragButton":"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","deleteButton":"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F","rotateButton":"\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647","drawTextButton":"\u0631\u0633\u0645 \u0645\u062A\u0646"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443","continueLine":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438","finishLine":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F","finishPoly":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","finishRect":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","startCircle":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430","finishCircle":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E","placeCircleMarker":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","cancel":"\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438","removeLastVertex":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443"},"buttonTitles":{"drawMarkerButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D","drawLineButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443","drawCircleButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E","drawRectButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438","cutButton":"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","deleteButton":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438","drawCircleMarkerButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D","pinningButton":"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","firstVertex":"\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","continueLine":"\xC7izime devam etmek i\xE7in t\u0131klay\u0131n","finishLine":"Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n","finishPoly":"Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n","finishRect":"Bitirmek i\xE7in t\u0131klay\u0131n","startCircle":"Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","finishCircle":"Daireyi bitirmek i\xE7in t\u0131klay\u0131n","placeCircleMarker":"Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n"},"actions":{"finish":"Bitir","cancel":"\u0130ptal","removeLastVertex":"Son k\xF6\u015Feyi kald\u0131r"},"buttonTitles":{"drawMarkerButton":"\xC7izim \u0130\u015Faret\xE7isi","drawPolyButton":"\xC7okgenler \xE7iz","drawLineButton":"\xC7oklu \xE7izgi \xE7iz","drawCircleButton":"\xC7ember \xE7iz","drawRectButton":"Dikd\xF6rtgen \xE7iz","editButton":"Katmanlar\u0131 d\xFCzenle","dragButton":"Katmanlar\u0131 s\xFCr\xFCkle","cutButton":"Katmanlar\u0131 kes","deleteButton":"Katmanlar\u0131 kald\u0131r","drawCircleMarkerButton":"Daire i\u015Faret\xE7isi \xE7iz","snappingButton":"S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r","pinningButton":"Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku","firstVertex":"Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt","continueLine":"Kliknut\xEDm pokra\u010Dujte v kreslen\xED","finishLine":"Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED","finishPoly":"Vyberte prvn\xED bod pro dokon\u010Den\xED","finishRect":"Klikn\u011Bte pro dokon\u010Den\xED","startCircle":"Kliknut\xEDm p\u0159idejte st\u0159ed kruhu","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"Kliknut\xEDm nastavte polom\u011Br"},"actions":{"finish":"Dokon\u010Dit","cancel":"Zru\u0161it","removeLastVertex":"Zru\u0161it posledn\xED akci"},"buttonTitles":{"drawMarkerButton":"P\u0159idat zna\u010Dku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit k\u0159ivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obd\xE9ln\xEDk","editButton":"Upravit vrstvu","dragButton":"P\u0159eneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"P\u0159idat kruhovou zna\u010Dku","snappingButton":"Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm","pinningButton":"Spojit spole\u010Dn\xE9 body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E","firstVertex":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E","continueLine":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B","finishLine":"\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","finishPoly":"\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","finishRect":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","startCircle":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E","finishCircle":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86","placeCircleMarker":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E","placeText":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E"},"actions":{"finish":"\u7D42\u4E86","cancel":"\u30AD\u30E3\u30F3\u30BB\u30EB","removeLastVertex":"\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664"},"buttonTitles":{"drawMarkerButton":"\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B","drawPolyButton":"\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B","drawLineButton":"\u6298\u308C\u7DDA\u3092\u63CF\u753B","drawCircleButton":"\u5186\u3092\u63CF\u753B","drawRectButton":"\u77E9\u5F62\u3092\u63CF\u753B","editButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6","dragButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0","cutButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A","deleteButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664","drawCircleMarkerButton":"\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B","snappingButton":"\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B","pinningButton":"\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059","rotateButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2","drawTextButton":"\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimm\xE4isen osuuden","continueLine":"Klikkaa jatkaaksesi piirt\xE4mist\xE4","finishLine":"Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi","finishPoly":"Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyr\xE4n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyr\xE4n","placeCircleMarker":"Klikkaa asettaaksesi ympyr\xE4merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr\xE4 merkkej\xE4","drawPolyButton":"Piirr\xE4 monikulmioita","drawLineButton":"Piirr\xE4 viivoja","drawCircleButton":"Piirr\xE4 ympyr\xE4","drawRectButton":"Piirr\xE4 neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr\xE4","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr\xE4 ympyr\xE4merkki","snappingButton":"Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin","pinningButton":"Kiinnit\xE4 jaetut muodot yhteen","rotateButton":"K\xE4\xE4nn\xE4","drawTextButton":"Piirr\xE4 teksti\xE4"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","firstVertex":"\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694","continueLine":"\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","finishLine":"\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishPoly":"\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishRect":"\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","startCircle":"\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishCircle":"\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","placeCircleMarker":"\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","placeText":"\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694"},"actions":{"finish":"\uB05D\uB0B4\uAE30","cancel":"\uCDE8\uC18C","removeLastVertex":"\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70"},"buttonTitles":{"drawMarkerButton":"\uB9C8\uCEE4 \uADF8\uB9AC\uAE30","drawPolyButton":"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30","drawLineButton":"\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30","drawCircleButton":"\uC6D0 \uADF8\uB9AC\uAE30","drawRectButton":"\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30","editButton":"\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30","dragButton":"\uB808\uC774\uC5B4 \uB04C\uAE30","cutButton":"\uB808\uC774\uC5B4 \uC790\uB974\uAE30","deleteButton":"\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30","drawCircleMarkerButton":"\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30","snappingButton":"\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30","pinningButton":"\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30","rotateButton":"\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30","drawTextButton":"\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30"}}')};function z(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function Y(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?z(Object(a),!0).forEach(function(u){l(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function l(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}let _e={_globalEditModeEnabled:!1,enableGlobalEditMode:function(t){var i=Y({},t);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(a){a.pm.enable(i)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(t){t.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)},handleLayerAdditionInGlobalEditMode:function(){var t=this._addedLayers;for(var i in this._addedLayers={},t){var a=t[i];this._isRelevantForEdit(a)&&this.globalEditModeEnabled()&&a.pm.enable(Y({},this.globalOptions))}},_layerAdded:function(t){var i=t.layer;this._addedLayers[L.stamp(i)]=i},_isRelevantForEdit:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowEditing}},ye={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var t=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},t.forEach(function(i){i.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var t=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,t.forEach(function(i){i.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var t=this._addedLayersDrag;for(var i in this._addedLayersDrag={},t){var a=t[i];this._isRelevantForDrag(a)&&this.globalDragModeEnabled()&&a.pm.enableLayerDrag()}},_layerAddedDrag:function(t){var i=t.layer;this._addedLayersDrag[L.stamp(i)]=i},_isRelevantForDrag:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.draggable}},xe={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var t=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(i){t._isRelevantForRemoval(i)&&(i.pm.disable(),i.on("click",t.removeLayer,t))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var t=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(i){i.off("click",t.removeLayer,t)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(t){var i=t.layer;this._isRelevantForRemoval(i)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(t){var i=t.target;this._isRelevantForRemoval(i)&&!i.pm.dragging()&&(i.removeFrom(this.map.pm._getContainingLayer()),i.remove(),i instanceof L.LayerGroup?(this._fireRemoveLayerGroup(i),this._fireRemoveLayerGroup(this.map,i)):(i.pm._fireRemove(i),i.pm._fireRemove(this.map,i)))},_isRelevantForRemoval:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowRemoval}},ke={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var t=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(i){return i instanceof L.Polyline}).forEach(function(i){t._isRelevantForRotate(i)&&i.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(t){return t instanceof L.Polyline}).forEach(function(t){t.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(t){var i=t.layer;this._isRelevantForRotate(i)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowRotation}};function Be(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function Me(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Be(Object(a),!0).forEach(function(u){Ae(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Ae(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}var Ve={_fireDrawStart:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},t,i)},_fireDrawEnd:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},t,i)},_fireCreate:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:t,layer:t},i,a)},_fireCenterPlaced:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t==="Draw"?this._layer:void 0,u=t!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:u,latlng:this._layer.getLatLng()},t,i)},_fireCut:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(t,"pm:cut",{shape:this._shape,layer:i,originalLayer:a},u,p)},_fireEdit:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(t,"pm:edit",{layer:this._layer,shape:this.getShape()},i,a)},_fireEnable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},t,i)},_fireDisable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},t,i)},_fireUpdate:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},t,i)},_fireMarkerDragStart:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:i},a,u)},_fireMarkerDrag:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:i},a,u)},_fireMarkerDragEnd:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:i,intersectionReset:a},u,p)},_fireDragStart:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},t,i)},_fireDrag:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",Me(Me({},t),{},{shape:this.getShape()}),i,a)},_fireDragEnd:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},t,i)},_fireDragEnable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},t,i)},_fireDragDisable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},t,i)},_fireRemove:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:remove",{layer:i,shape:this.getShape()},a,u)},_fireVertexAdded:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:t,indexPath:i,latlng:a,shape:this.getShape()},u,p)},_fireVertexRemoved:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:t,indexPath:i,shape:this.getShape()},a,u)},_fireVertexClick:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:t,indexPath:i,shape:this.getShape()},a,u)},_fireIntersect:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:t,shape:this.getShape()},i,a)},_fireLayerReset:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:t,indexPath:i,shape:this.getShape()},a,u)},_fireChange:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:t,shape:this.getShape()},i,a)},_fireTextChange:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:t,shape:this.getShape()},i,a)},_fireTextFocus:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},t,i)},_fireTextBlur:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},t,i)},_fireSnapDrag:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:snapdrag",i,a,u)},_fireSnap:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:snap",i,a,u)},_fireUnsnap:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:unsnap",i,a,u)},_fireRotationEnable:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,u)},_fireRotationDisable:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(t,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRotationStart:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:i},a,u)},_fireRotation:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(t,"pm:rotate",{layer:u,helpLayer:this._layer,startAngle:this._startAngle,angle:u.pm.getAngle(),angleDiff:i,oldLatLngs:a,newLatLngs:u.getLatLngs()},p,C)},_fireRotationEnd:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(t,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:i,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},u,p)},_fireActionClick:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:t.text,action:t,btnName:i,button:a},u,p)},_fireButtonClick:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:t,button:i},a,u)},_fireLangChange:function(t,i,a,u){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:t,activeLang:i,fallback:a,translations:u},p,C)},_fireGlobalDragModeToggled:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:t,map:this.map},i,a)},_fireGlobalEditModeToggled:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:t,map:this.map},i,a)},_fireGlobalRemovalModeToggled:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:t,map:this.map},i,a)},_fireGlobalCutModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},t,i)},_fireGlobalDrawModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},t,i)},_fireGlobalRotateModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},t,i)},_fireRemoveLayerGroup:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:remove",{layer:i,shape:void 0},a,u)},_fireKeyeventEvent:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:t,eventType:i,focusOn:a},u,p)},__fire:function(t,i,a,u){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a=I()(a,p,{source:u}),L.PM.Utils._fireEvent(t,i,a)}};let ze=Ve,Ce={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(t){this.map=t,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(t){var i="document";this.map.getContainer().contains(t.target)&&(i="map");var a={event:t,eventType:t.type,focusOn:i};this._lastEvents[t.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(t,t.type,i)},_onBlur:function(t){t.altKey=!1;var i={event:t,eventType:t.type,focusOn:"document"};this._lastEvents[t.type]=i,this._lastEvents.current=i},getLastKeyEvent:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[t]},isShiftKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.shiftKey},isAltKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.altKey},isCtrlKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.ctrlKey},isMetaKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.metaKey},getPressedKey:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.key}};var yt=_(7361),Te=_.n(yt),qe=_(8721),_t=_.n(qe);function Ze(t){var i=L.PM.activeLang;return _t()(ee,i)||(i="en"),Te()(ee[i],t)}function He(t){for(var i=0;i<t.length;i+=1){var a=t[i];if(Array.isArray(a)){if(He(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function ct(t){return t.reduce(function(i,a){if(a.length!==0){var u=Array.isArray(a)?ct(a):a;Array.isArray(u)?u.length!==0&&i.push(u):i.push(u)}return i},[])}function it(t,i,a){for(var u,p,C,N=6378137,j=63567523142e-4,O=.0033528106647474805,F=t.lng,te=t.lat,de=a,ue=Math.PI,Le=i*ue/180,Ee=Math.sin(Le),Fe=Math.cos(Le),Pe=(1-O)*Math.tan(te*ue/180),vt=1/Math.sqrt(1+Pe*Pe),ft=Pe*vt,dt=Math.atan2(Pe,Fe),jt=vt*Ee,cn=1-jt*jt,Ln=cn*(N*N-j*j)/(j*j),rr=1+Ln/16384*(4096+Ln*(Ln*(320-175*Ln)-768)),r=Ln/1024*(256+Ln*(Ln*(74-47*Ln)-128)),s=de/(j*rr),c=2*Math.PI;Math.abs(s-c)>1e-12;)u=Math.cos(2*dt+s),c=s,s=de/(j*rr)+r*(p=Math.sin(s))*(u+r/4*((C=Math.cos(s))*(2*u*u-1)-r/6*u*(4*p*p-3)*(4*u*u-3)));var h=ft*p-vt*C*Fe,m=Math.atan2(ft*C+vt*p*Fe,(1-O)*Math.sqrt(jt*jt+h*h)),g=O/16*cn*(4+O*(4-3*cn)),M=F+180*(Math.atan2(p*Ee,vt*C-ft*p*Fe)-(1-g)*O*jt*(s+g*p*(u+g*C*(2*u*u-1))))/ue,B=180*m/ue;return L.latLng(M,B)}function nn(t,i,a,u){for(var p,C,N=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],j=[],O=0;O<a;O+=1){if(N)p=it(t,360*O/a+u,i),C=L.latLng(p.lng,p.lat);else{var F=t.lat+Math.cos(2*O*Math.PI/a)*i,te=t.lng+Math.sin(2*O*Math.PI/a)*i;C=L.latLng(F,te)}j.push(C)}return j}function zt(t,i,a,u){var p=function(C,N,j){var O=C.latLngToContainerPoint(N),F=C.latLngToContainerPoint(j),te=180*Math.atan2(F.y-O.y,F.x-O.x)/Math.PI+90;return te+(te<0?360:0)}(t,i,a);return function(C,N,j){N=(N+360)%360;var O=Math.PI/180,F=180/Math.PI,te=6378137,de=C.lng*O,ue=C.lat*O,Le=N*O,Ee=Math.sin(ue),Fe=Math.cos(ue),Pe=Math.cos(j/te),vt=Math.sin(j/te),ft=Math.asin(Ee*Pe+Fe*vt*Math.cos(Le)),dt=de+Math.atan2(Math.sin(Le)*vt*Fe,Pe-Ee*Math.sin(ft));return dt=(dt*=F)>180?dt-360:dt<-180?dt+360:dt,L.latLng([ft*F,dt])}(i,p,u)}function vi(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!i||Object.keys(i).length===0)return function(O,F){return O-F};for(var u,p=Object.keys(i),C=p.length-1,N={};C>=0;)u=p[C],N[u.toLowerCase()]=i[u],C-=1;function j(O){return O instanceof L.Marker?"Marker":O instanceof L.Circle?"Circle":O instanceof L.CircleMarker?"CircleMarker":O instanceof L.Rectangle?"Rectangle":O instanceof L.Polygon?"Polygon":O instanceof L.Polyline?"Line":void 0}return function(O,F){var te,de;if(t==="instanceofShape"){if(te=j(O.layer).toLowerCase(),de=j(F.layer).toLowerCase(),!te||!de)return 0}else{if(!O.hasOwnProperty(t)||!F.hasOwnProperty(t))return 0;te=O[t].toLowerCase(),de=F[t].toLowerCase()}var ue=te in N?N[te]:Number.MAX_SAFE_INTEGER,Le=de in N?N[de]:Number.MAX_SAFE_INTEGER,Ee=0;return ue<Le?Ee=-1:ue>Le&&(Ee=1),a==="desc"?-1*Ee:Ee}}function rn(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLatLngs();return t instanceof L.Polygon?L.polygon(i).getLatLngs():L.polyline(i).getLatLngs()}function Ut(t,i){var a,u;if((a=i.options.crs)!==null&&a!==void 0&&(u=a.projection)!==null&&u!==void 0&&u.MAX_LATITUDE){var p,C,N=(p=i.options.crs)===null||p===void 0||(C=p.projection)===null||C===void 0?void 0:C.MAX_LATITUDE;t.lat=Math.max(Math.min(N,t.lat),-N)}return t}function an(t){return t.options.renderer||t._map&&(t._map._getPaneRenderer(t.options.pane)||t._map.options.renderer||t._map._renderer)||t._renderer}let yn=L.Class.extend({includes:[_e,ye,xe,ke,ze],initialize:function(t){this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t),this.Keyboard=Ce,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(t)},setLang:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",u=L.PM.activeLang;i&&(ee[t]=I()(ee[a],i)),L.PM.activeLang=t,this.map.pm.Toolbar.reinit(),this._fireLangChange(u,t,a,ee[t])},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",i=arguments.length>1?arguments[1]:void 0;t==="Poly"&&(t="Polygon"),this.Draw.enable(t,i)},disableDraw:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";t==="Poly"&&(t="Polygon"),this.Draw.disable(t)},setPathOptions:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.ignoreShapes||[],p=a.merge||!1;this.map.pm.Draw.shapes.forEach(function(C){u.indexOf(C)===-1&&i.map.pm.Draw[C].setPathOptions(t,p)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(t){var i=this,a=I()(this.globalOptions,t),u=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!a.editable&&(this.map.pm.Draw.CircleMarker.disable(),u=!0),this.map.pm.Draw.shapes.forEach(function(p){i.map.pm.Draw[p].setOptions(a)}),u&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(p){p.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(t){t.pm.enabled()&&t.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(t){return this.Draw.Cut.enable(t)},toggleGlobalCutMode:function(t){return this.Draw.Cut.toggle(t)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=L.PM.Utils.findLayers(this.map);if(!t)return i;var a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(function(u){a.addLayer(u)}),a},getGeomanDrawLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=L.PM.Utils.findLayers(this.map).filter(function(u){return u._drawnByGeoman===!0});if(!t)return i;var a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(function(u){a.addLayer(u)}),a},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(t){this._touchEventCounter===0&&(L.DomEvent.on(t,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(t,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(t){this._touchEventCounter===1&&(L.DomEvent.off(t,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(t,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(t){an(this.map)._onMouseMove(this._createMouseEvent("mousemove",t))},_canvasTouchClick:function(t){var i="";t.type==="touchstart"||t.type==="pointerdown"?i="mousedown":t.type==="touchend"||t.type==="pointerup"?i="mouseup":t.type!=="touchcancel"&&t.type!=="pointercancel"||(i="mouseup"),i&&an(this.map)._onClick(this._createMouseEvent(i,t))},_createMouseEvent:function(t,i){var a,u=i.touches[0]||i.changedTouches[0];try{a=new MouseEvent(t,{bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:u.detail,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,button:i.button,relatedTarget:i.relatedTarget})}catch{(a=document.createEvent("MouseEvents")).initMouseEvent(t,i.bubbles,i.cancelable,i.view,u.detail,u.screenX,u.screenY,u.clientX,u.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}return a}}),Qn=L.Control.extend({includes:[ze],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(t){this._button=L.Util.extend({},this.options,t)},onAdd:function(t){return this._map=t,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus=typeof t=="boolean"?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(t){t&&t.preventDefault(),this._button.disabled||(this._button.onClick(t,{button:this,event:t}),this._clicked(t),this._button.afterClick(t,{button:this,event:t}))},_makeButton:function(t){var i=this,a=this.options.position.indexOf("right")>-1?"pos-right":"",u=L.DomUtil.create("div","button-container  ".concat(a),this._container);t.title&&u.setAttribute("title",t.title);var p=L.DomUtil.create("a","leaflet-buttons-control-button",u);p.setAttribute("role","button"),p.setAttribute("tabindex","0"),p.href="#";var C=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(a),u),N=t.actions,j={cancel:{text:Ze("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Ze("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Ze("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[t.jsClass]._removeLastVertex()}},finish:{text:Ze("actions.finish"),onClick:function(F){this._map.pm.Draw[t.jsClass]._finishShape(F)}}};N.forEach(function(F){var te,de=typeof F=="string"?F:F.name;if(j[de])te=j[de];else{if(!F.text)return;te=F}var ue=L.DomUtil.create("a","leaflet-pm-action ".concat(a," action-").concat(de),C);ue.setAttribute("role","button"),ue.setAttribute("tabindex","0"),ue.href="#",ue.innerHTML=te.text,L.DomEvent.disableClickPropagation(ue),L.DomEvent.on(ue,"click",L.DomEvent.stop),!t.disabled&&te.onClick&&(L.DomEvent.addListener(ue,"click",function(Le){Le.preventDefault();var Ee="",Fe=i._map.pm.Toolbar.buttons;for(var Pe in Fe)if(Fe[Pe]._button===t){Ee=Pe;break}i._fireActionClick(te,Ee,t)},i),L.DomEvent.addListener(ue,"click",te.onClick,i))}),t.toggleStatus&&L.DomUtil.addClass(u,"active");var O=L.DomUtil.create("div","control-icon",p);return t.iconUrl&&O.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(O,t.className),L.DomEvent.disableClickPropagation(p),L.DomEvent.on(p,"click",L.DomEvent.stop),t.disabled||(L.DomEvent.addListener(p,"click",this._onBtnClick,this),L.DomEvent.addListener(p,"click",this._triggerClick,this)),t.disabled&&(L.DomUtil.addClass(p,"pm-disabled"),p.setAttribute("aria-disabled","true")),u},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var t="",i=this._map.pm.Toolbar.buttons;for(var a in i)if(i[a]._button===this._button){t=a;break}this._fireButtonClick(t,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var t="pm-disabled",i=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(i,t),i.setAttribute("aria-disabled","true"),L.DomEvent.off(i,"click",this._triggerClick,this),L.DomEvent.off(i,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(i,t),i.setAttribute("aria-disabled","false"),L.DomEvent.on(i,"click",this._triggerClick,this),L.DomEvent.on(i,"click",this._onBtnClick,this))}}});function ai(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function qt(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ai(Object(a),!0).forEach(function(u){Kn(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ai(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Kn(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function dn(t){return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},dn(t)}L.Control.PMButton=Qn;let pn=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(t){this.init(t)},reinit:function(){var t=this.isVisible;this.removeControls(),this._defineButtons(),t&&this.addControls()},init:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(t){var i="".concat(t,"Container");return this[i]||(this[i]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(t," leaflet-bar leaflet-control"))),this[i]},getButtons:function(){return this.buttons},addControls:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof t.editPolygon<"u"&&(t.editMode=t.editPolygon),typeof t.deleteLayer<"u"&&(t.removalMode=t.deleteLayer),L.Util.setOptions(this,t),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var t=this.getButtons(),i={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var a in t){var u=t[a];L.Util.setOptions(u,{className:i.geomanIcons[a]})}},removeControls:function(){var t=this.getButtons();for(var i in t)t[i].remove();this.isVisible=!1},toggleControls:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,i){return this.buttons[t]=i,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){for(var i in this.buttons){var a=this.buttons[i];a._button.disableByOtherButtons&&a!==t&&a.toggled()&&a._triggerClick()}},toggleButton:function(t,i){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return t==="editPolygon"&&(t="editMode"),t==="deleteLayer"&&(t="removalMode"),a&&this.triggerClickOnToggledButtons(this.buttons[t]),!!this.buttons[t]&&this.buttons[t].toggle(i)},_defineButtons:function(){var t=this,i={className:"control-icon leaflet-pm-icon-marker",title:Ze("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:Ze("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},u={className:"control-icon leaflet-pm-icon-polyline",title:Ze("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},p={title:Ze("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},C={title:Ze("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},N={title:Ze("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},j={title:Ze("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},O={title:Ze("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={title:Ze("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},te={title:Ze("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},de={title:Ze("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ue={className:"control-icon leaflet-pm-icon-text",title:Ze("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Le,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(i)),this._addButton("drawPolyline",new L.Control.PMButton(u)),this._addButton("drawRectangle",new L.Control.PMButton(N)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(p)),this._addButton("drawCircleMarker",new L.Control.PMButton(C)),this._addButton("drawText",new L.Control.PMButton(ue)),this._addButton("editMode",new L.Control.PMButton(j)),this._addButton("dragMode",new L.Control.PMButton(O)),this._addButton("cutPolygon",new L.Control.PMButton(F)),this._addButton("removalMode",new L.Control.PMButton(te)),this._addButton("rotateMode",new L.Control.PMButton(de))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var t=this.getButtons(),i=[];for(var a in this.options.drawControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return!t[p]._button.tool}))),this.options.editControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="edit"}))),this.options.optionsControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="options"}))),this.options.customControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="custom"}))),t)if(this.options[a]&&i.indexOf(a)===-1){var u=t[a]._button.tool;u||(u="draw"),t[a].setPosition(this._getBtnPosition(u)),t[a].addTo(this.map)}}},_getBtnPosition:function(t){return this.options.positions&&this.options.positions[t]?this.options.positions[t]:this.options.position},setBlockPosition:function(t,i){this.options.positions[t]=i,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(t,i){if(!i)throw new TypeError("Button has no name");dn(i)!=="object"&&(i={name:i});var a=this._btnNameMapping(t);if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");var u=this.map.pm.Draw.createNewDrawInstance(i.name,a);return i=qt(qt({},this.buttons[a]._button),i),{drawInstance:u,control:this.createCustomControl(i)}},createCustomControl:function(t){var i,a;if(!t.name)throw new TypeError("Button has no name");if(this.buttons[t.name])throw new TypeError("Button with this name already exists");t.onClick||(t.onClick=function(){}),t.afterClick||(t.afterClick=function(){}),t.toggle!==!1&&(t.toggle=!0),t.block&&(t.block=t.block.toLowerCase()),t.block&&t.block!=="draw"||(t.block=""),t.className?t.className.indexOf("control-icon")===-1&&(t.className="control-icon ".concat(t.className)):t.className="control-icon";var u={tool:t.block,className:t.className,title:t.title||"",jsClass:t.name,onClick:t.onClick,afterClick:t.afterClick,doToggle:t.toggle,toggleStatus:!1,disableOtherButtons:(i=t.disableOtherButtons)===null||i===void 0||i,disableByOtherButtons:(a=t.disableByOtherButtons)===null||a===void 0||a,cssToggle:t.toggle,position:this.options.position,actions:t.actions||[],disabled:!!t.disabled};this.options[t.name]!==!1&&(this.options[t.name]=!0);var p=this._addButton(t.name,new L.Control.PMButton(u));return this.changeControlOrder(),p},changeControlOrder:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this._shapeMapping(),a=[];t.forEach(function(F){i[F]?a.push(i[F]):a.push(F)});var u=this.getButtons(),p={};a.forEach(function(F){u[F]&&(p[F]=u[F])});var C=Object.keys(u).filter(function(F){return!u[F]._button.tool});C.forEach(function(F){a.indexOf(F)===-1&&(p[F]=u[F])});var N=Object.keys(u).filter(function(F){return u[F]._button.tool==="edit"});N.forEach(function(F){a.indexOf(F)===-1&&(p[F]=u[F])});var j=Object.keys(u).filter(function(F){return u[F]._button.tool==="options"});j.forEach(function(F){a.indexOf(F)===-1&&(p[F]=u[F])});var O=Object.keys(u).filter(function(F){return u[F]._button.tool==="custom"});O.forEach(function(F){a.indexOf(F)===-1&&(p[F]=u[F])}),Object.keys(u).forEach(function(F){a.indexOf(F)===-1&&(p[F]=u[F])}),this.map.pm.Toolbar.buttons=p,this._showHideButtons()},getControlOrder:function(){var t=this.getButtons(),i=[];for(var a in t)i.push(a);return i},changeActionsOfControl:function(t,i){var a=this._btnNameMapping(t);if(!a)throw new TypeError("No name passed");if(!i)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=i,this.changeControlOrder()},setButtonDisabled:function(t,i){var a=this._btnNameMapping(t);i?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(t){var i=this._shapeMapping();return i[t]?i[t]:t}});function Mi(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function R(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Mi(Object(a),!0).forEach(function(u){b(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Mi(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function b(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}var w={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var i=this;t.forEach(function(a){Array.isArray(a)?i._assignEvents(a):(a.off("drag",i._handleSnapping,i),a.on("drag",i._handleSnapping,i),a.off("dragend",i._cleanupSnapping,i),a.on("dragend",i._cleanupSnapping,i))})},_cleanupSnapping:function(t){t&&(t.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(i){i.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(t){var i=this,a=t.target;if(a._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var u=this._calcClosestLayer(a.getLatLng(),this._snapList);if(Object.keys(u).length===0)return!1;var p,C=u.layer instanceof L.Marker||u.layer instanceof L.CircleMarker||!this.options.snapSegment;p=C?u.latlng:this._checkPrioritiySnapping(u);var N=this.options.snapDistance,j={marker:a,shape:this._shape,snapLatLng:p,segment:u.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:u.layer,distance:u.distance};if(this._fireSnapDrag(j.marker,j),this._fireSnapDrag(this._layer,j),u.distance<N){a._orgLatLng=a.getLatLng(),a.setLatLng(p),a._snapped=!0,a._snapInfo=j;var O=this._snapLatLng||{},F=p||{};O.lat===F.lat&&O.lng===F.lng||(i._snapLatLng=p,i._fireSnap(a,j),i._fireSnap(i._layer,j))}else this._snapLatLng&&(this._unsnap(j),a._snapped=!1,a._snapInfo=void 0,this._fireUnsnap(j.marker,j),this._fireUnsnap(this._layer,j));return!0},_createSnapList:function(){var t=this,i=[],a=[],u=this._map;u.off("pm:remove",this._handleSnapLayerRemoval,this),u.on("pm:remove",this._handleSnapLayerRemoval,this),u.eachLayer(function(p){if((p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&p.options.snapIgnore!==!0){if(p.options.snapIgnore===void 0&&(!L.PM.optIn&&p.options.pmIgnore===!0||L.PM.optIn&&p.options.pmIgnore!==!1))return;(p instanceof L.Circle||p instanceof L.CircleMarker)&&p.pm&&p.pm._hiddenPolyCircle?i.push(p.pm._hiddenPolyCircle):p instanceof L.ImageOverlay&&(p=L.rectangle(p.getBounds())),i.push(p);var C=L.polyline([],{color:"red",pmIgnore:!0});C._pmTempLayer=!0,a.push(C),(p instanceof L.Circle||p instanceof L.CircleMarker)&&a.push(C)}}),i=(i=(i=i.filter(function(p){return t._layer!==p})).filter(function(p){return p._latlng||p._latlngs&&He(p._latlngs)})).filter(function(p){return!p._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,a.push(p)}),this._snapList=i.concat(this._otherSnapLayers)):this._snapList=i,this.debugIndicatorLines=a},_handleSnapLayerRemoval:function(t){var i=t.layer,a=this._snapList.findIndex(function(u){return u._leaflet_id===i._leaflet_id});this._snapList.splice(a,1)},_calcClosestLayer:function(t,i){return this._calcClosestLayers(t,i,1)[0]},_calcClosestLayers:function(t,i){var a=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=[],C={};i.forEach(function(j,O){if(!j._parentCopy||j._parentCopy!==a._layer){var F=a._calcLayerDistances(t,j);if(F.distance=Math.floor(F.distance),a.debugIndicatorLines){if(!a.debugIndicatorLines[O]){var te=L.polyline([],{color:"red",pmIgnore:!0});te._pmTempLayer=!0,a.debugIndicatorLines[O]=te}a.debugIndicatorLines[O].setLatLngs([t,F.latlng])}u===1&&(C.distance===void 0||F.distance<=C.distance)?(F.distance<C.distance&&(p=[]),(C=F).layer=j,p.push(C)):u!==1&&(C={},(C=F).layer=j,p.push(C))}}),u!==1&&(p=p.sort(function(j,O){return j.distance-O.distance})),u===-1&&(u=p.length);var N=this._getClosestLayerByPriority(p,u);return L.Util.isArray(N)?N:[N]},_calcLayerDistances:function(t,i){var a=this._map,u=i instanceof L.Marker||i instanceof L.CircleMarker,p=i instanceof L.Polygon,C=t;if(u){var N=i.getLatLng();return{latlng:R({},N),distance:this._getDistance(a,N,C)}}return this._calcLatLngDistances(C,i.getLatLngs(),a,p)},_calcLatLngDistances:function(t,i,a){var u,p,C,N=this,j=arguments.length>3&&arguments[3]!==void 0&&arguments[3],O=function te(de){de.forEach(function(ue,Le){if(Array.isArray(ue))te(ue);else if(N.options.snapSegment){var Ee,Fe=ue;Ee=j?Le+1===de.length?0:Le+1:Le+1===de.length?void 0:Le+1;var Pe=de[Ee];if(Pe){var vt=N._getDistanceToSegment(a,t,Fe,Pe);(p===void 0||vt<p)&&(p=vt,C=[Fe,Pe])}}else{var ft=N._getDistance(a,t,ue);(p===void 0||ft<p)&&(p=ft,u=ue)}})};if(O(i),this.options.snapSegment){var F=this._getClosestPointOnSegment(a,t,C[0],C[1]);return{latlng:R({},F),segment:C,distance:p}}return{latlng:u,distance:p}},_getClosestLayerByPriority:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;t=t.sort(function(N,j){return N._leaflet_id-j._leaflet_id});var a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],u=this._map.pm.globalOptions.snappingOrder||[],p=0,C={};return u.concat(a).forEach(function(N){C[N]||(p+=1,C[N]=p)}),t.sort(vi("instanceofShape",C)),i===1?t[0]||{}:t.slice(0,i)},_checkPrioritiySnapping:function(t){var i=this._map,a=t.segment[0],u=t.segment[1],p=t.latlng,C=this._getDistance(i,a,p),N=this._getDistance(i,u,p),j=C<N?a:u,O=C<N?C:N;if(this.options.snapMiddle){var F=L.PM.Utils.calcMiddleLatLng(i,a,u),te=this._getDistance(i,F,p);te<C&&te<N&&(j=F,O=te)}return R({},O<this.options.snapDistance?j:p)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(t,i,a,u){var p=t.getMaxZoom();p===1/0&&(p=t.getZoom());var C=t.project(i,p),N=t.project(a,p),j=t.project(u,p),O=L.LineUtil.closestPointOnSegment(C,N,j);return t.unproject(O,p)},_getDistanceToSegment:function(t,i,a,u){var p=t.latLngToLayerPoint(i),C=t.latLngToLayerPoint(a),N=t.latLngToLayerPoint(u);return L.LineUtil.pointToSegmentDistance(p,C,N)},_getDistance:function(t,i,a){return t.latLngToLayerPoint(i).distanceTo(t.latLngToLayerPoint(a))}};let D=w,G=L.Class.extend({includes:[D,ze],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(t){L.Util.setOptions(this,t),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(t){var i=this,a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=t,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(u){i[u]=new L.PM.Draw[u](i._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(t){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=i?I()(this.options.pathOptions,t):t},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(t,i){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[t].enable(i)},disable:function(){var t=this;this.shapes.forEach(function(i){t[i].disable()})},addControls:function(){var t=this;this.shapes.forEach(function(i){t[i].addButton()})},getActiveShape:function(){var t,i=this;return this.shapes.forEach(function(a){i[a]._enabled&&(t=a)}),t},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var t=L.PM.Utils.findLayers(this._map);this._enabled?t.forEach(function(i){L.PM.Utils.disablePopup(i)}):t.forEach(function(i){L.PM.Utils.enablePopup(i)})},createNewDrawInstance:function(t,i){var a=this._getShapeFromBtnName(i);if(this[t])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError("There is no class L.PM.Draw.".concat(a));return this[t]=new L.PM.Draw[a](this._map),this[t].toolbarButtonName=t,this[t]._shape=t,this.shapes.push(t),this[i]&&this[t].setOptions(this[i].options),this[t].setOptions(this[t].options),this[t]},_getShapeFromBtnName:function(t){var i={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return i[t]?i[t]:this[t]?this[t]._shape:t},_finishLayer:function(t){t.pm&&(t.pm.setOptions(this.options),t.pm._shape=this._shape,t.pm._map=this._map),this._addDrawnLayerProp(t)},_addDrawnLayerProp:function(t){t._drawnByGeoman=!0},_setPane:function(t,i){i==="layerPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});G.Marker=G.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){var i=this;L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(a){i.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var t=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(i){t.isRelevantMarker(i)&&i.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},isRelevantMarker:function(t){return t instanceof L.Marker&&t.pm&&!t._pmTempLayer&&!t.pm._initTextMarker},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(t){if(t.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=new L.Marker(i,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var t,i;(t=this.options.markerStyle)!==null&&t!==void 0&&t.icon&&((i=this._hintMarker)===null||i===void 0||i.setIcon(this.options.markerStyle.icon))}});var S=63710088e-1,he={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*S,kilometers:6371.0088,kilometres:6371.0088,meters:S,metres:S,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:S/1852,radians:1,yards:6967335223679999e-9};function be(t,i,a){a===void 0&&(a={});var u={type:"Feature"};return(a.id===0||a.id)&&(u.id=a.id),a.bbox&&(u.bbox=a.bbox),u.properties=i||{},u.geometry=t,u}function Ie(t,i,a){if(a===void 0&&(a={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!bt(t[0])||!bt(t[1]))throw new Error("coordinates must contain numbers");return be({type:"Point",coordinates:t},i,a)}function Ue(t,i,a){if(a===void 0&&(a={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return be({type:"LineString",coordinates:t},i,a)}function Xe(t,i){i===void 0&&(i={});var a={type:"FeatureCollection"};return i.id&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.features=t,a}function at(t,i){i===void 0&&(i="kilometers");var a=he[i];if(!a)throw new Error(i+" units is invalid");return t*a}function tt(t,i){i===void 0&&(i="kilometers");var a=he[i];if(!a)throw new Error(i+" units is invalid");return t/a}function st(t){return 180*(t%(2*Math.PI))/Math.PI}function We(t){return t%360*Math.PI/180}function bt(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function kt(t){var i,a,u={type:"FeatureCollection",features:[]};if((a=t.type==="Feature"?t.geometry:t).type==="LineString")i=[a.coordinates];else if(a.type==="MultiLineString")i=a.coordinates;else if(a.type==="MultiPolygon")i=[].concat.apply([],a.coordinates);else{if(a.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");i=a.coordinates}return i.forEach(function(p){i.forEach(function(C){for(var N=0;N<p.length-1;N++)for(var j=N;j<C.length-1;j++)if(!(p===C&&(Math.abs(N-j)===1||N===0&&j===p.length-2&&p[N][0]===p[p.length-1][0]&&p[N][1]===p[p.length-1][1]))){var O=Pt(p[N][0],p[N][1],p[N+1][0],p[N+1][1],C[j][0],C[j][1],C[j+1][0],C[j+1][1]);O&&u.features.push(Ie([O[0],O[1]]))}})}),u}function Pt(t,i,a,u,p,C,N,j){var O,F,te,de,ue={x:null,y:null,onLine1:!1,onLine2:!1};return(O=(j-C)*(a-t)-(N-p)*(u-i))===0?ue.x!==null&&ue.y!==null&&ue:(de=(a-t)*(F=i-C)-(u-i)*(te=t-p),F=((N-p)*F-(j-C)*te)/O,te=de/O,ue.x=t+F*(a-t),ue.y=i+F*(u-i),F>=0&&F<=1&&(ue.onLine1=!0),te>=0&&te<=1&&(ue.onLine2=!0),!(!ue.onLine1||!ue.onLine2)&&[ue.x,ue.y])}function Ft(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function Ot(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Ft(Object(a),!0).forEach(function(u){Ht(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Ht(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Wt(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function Kt(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Wt(Object(a),!0).forEach(function(u){Jt(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Wt(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Jt(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function sn(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function St(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?sn(Object(a),!0).forEach(function(u){Nt(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sn(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Nt(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Bt(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function At(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Dn(t){return t.type==="Feature"?t.geometry:t}function Ui(t,i){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}function Rn(t,i,a){if(t!==null)for(var u,p,C,N,j,O,F,te,de=0,ue=0,Le=t.type,Ee=Le==="FeatureCollection",Fe=Le==="Feature",Pe=Ee?t.features.length:1,vt=0;vt<Pe;vt++){j=(te=!!(F=Ee?t.features[vt].geometry:Fe?t.geometry:t)&&F.type==="GeometryCollection")?F.geometries.length:1;for(var ft=0;ft<j;ft++){var dt=0,jt=0;if((N=te?F.geometries[ft]:F)!==null){O=N.coordinates;var cn=N.type;switch(de=!a||cn!=="Polygon"&&cn!=="MultiPolygon"?0:1,cn){case null:break;case"Point":if(i(O,ue,vt,dt,jt)===!1)return!1;ue++,dt++;break;case"LineString":case"MultiPoint":for(u=0;u<O.length;u++){if(i(O[u],ue,vt,dt,jt)===!1)return!1;ue++,cn==="MultiPoint"&&dt++}cn==="LineString"&&dt++;break;case"Polygon":case"MultiLineString":for(u=0;u<O.length;u++){for(p=0;p<O[u].length-de;p++){if(i(O[u][p],ue,vt,dt,jt)===!1)return!1;ue++}cn==="MultiLineString"&&dt++,cn==="Polygon"&&jt++}cn==="Polygon"&&dt++;break;case"MultiPolygon":for(u=0;u<O.length;u++){for(jt=0,p=0;p<O[u].length;p++){for(C=0;C<O[u][p].length-de;C++){if(i(O[u][p][C],ue,vt,dt,jt)===!1)return!1;ue++}jt++}dt++}break;case"GeometryCollection":for(u=0;u<N.geometries.length;u++)if(Rn(N.geometries[u],i,a)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function vn(t,i){if(t.type==="Feature")i(t,0);else if(t.type==="FeatureCollection")for(var a=0;a<t.features.length&&i(t.features[a],a)!==!1;a++);}function fn(t,i){var a,u,p,C,N,j,O,F,te,de,ue=0,Le=t.type==="FeatureCollection",Ee=t.type==="Feature",Fe=Le?t.features.length:1;for(a=0;a<Fe;a++){for(j=Le?t.features[a].geometry:Ee?t.geometry:t,F=Le?t.features[a].properties:Ee?t.properties:{},te=Le?t.features[a].bbox:Ee?t.bbox:void 0,de=Le?t.features[a].id:Ee?t.id:void 0,N=(O=!!j&&j.type==="GeometryCollection")?j.geometries.length:1,p=0;p<N;p++)if((C=O?j.geometries[p]:j)!==null)switch(C.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(C,ue,F,te,de)===!1)return!1;break;case"GeometryCollection":for(u=0;u<C.geometries.length;u++)if(i(C.geometries[u],ue,F,te,de)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,ue,F,te,de)===!1)return!1;ue++}}function Oe(t,i){fn(t,function(a,u,p,C,N){var j,O=a===null?null:a.type;switch(O){case null:case"Point":case"LineString":case"Polygon":return i(be(a,p,{bbox:C,id:N}),u,0)!==!1&&void 0}switch(O){case"MultiPoint":j="Point";break;case"MultiLineString":j="LineString";break;case"MultiPolygon":j="Polygon"}for(var F=0;F<a.coordinates.length;F++){var te=a.coordinates[F];if(i(be({type:j,coordinates:te},p),u,F)===!1)return!1}})}G.Line=G.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ot(Ot({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._layer.getLatLngs();if(t.length>0){var i=t[t.length-1];this._hintline.setLatLngs([i,this._hintMarker.getLatLng()])}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection:function(){return kt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(t,i){var a=L.polyline(this._layer.getLatLngs());t&&(i||(i=this._hintMarker.getLatLng()),a.addLatLng(i));var u=kt(a.toGeoJSON(15));this._doesSelfIntersect=u.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,t.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),u=a[a.length-1];if(i.equals(a[0])||a.length>0&&i.equals(u))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:i,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(i);var p=this._createMarker(i);this._setTooltipText(),this._setHintLineAfterNewVertex(i),this._fireVertexAdded(p,void 0,i,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(t)}}},_setHintLineAfterNewVertex:function(t){this._hintline.setLatLngs([t,t])},_removeLastVertex:function(){var t=this._markers;if(t.length<=1)this.disable();else{var i=this._layer.getLatLngs(),a=t[t.length-1],u=L.PM.Utils.findDeepMarkerIndex(t,a).indexPath;t.pop(),this._layerGroup.removeLayer(a);var p=t[t.length-1],C=i.indexOf(p.getLatLng());i=i.slice(0,C+1),this._layer.setLatLngs(i),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,u,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=1)){var i=L.polyline(t,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(t){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),i.on("click",this._finishShape,this),i},_setTooltipText:function(){var t="";t=Ze(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(t)},_change:function(t){this._fireChange(t,"Draw")},setStyle:function(){var t,i;(t=this._layer)===null||t===void 0||t.setStyle(this.options.templineStyle),(i=this._hintline)===null||i===void 0||i.setStyle(this.options.hintlineStyle)}}),G.Polygon=G.Line.extend({initialize:function(t){this._map=t,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(t){L.PM.Draw.Line.prototype.enable.call(this,t),this._layer.pm._shape="Polygon"},_createMarker:function(t){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),this._layer.getLatLngs().flat().length===1?(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()):i.on("click",function(){return 1}),i},_setTooltipText:function(){var t="";t=Ze(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(t)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=2)){var i=L.polygon(t,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),G.Rectangle=G.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(L.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var i=0;i<2;i+=1){var a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(i),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(a){L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(i)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Ze("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}var a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize:function(){var t=this,i=Ut(this._startMarker.getLatLng(),this._map),a=Ut(this._hintMarker.getLatLng(),this._map),u=L.PM.Utils._getRotatedRectangle(i,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(u),this.options.cursorMarker&&this._styleMarkers){var p=[];u.forEach(function(C){C.equals(i,1e-8)||C.equals(a,1e-8)||p.push(C)}),p.forEach(function(C,N){try{t._styleMarkers[N].setLatLng(C)}catch{}})}},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var u=L.rectangle([a,i],this.options.pathOptions);if(this.options.rectangleAngle){var p=L.PM.Utils._getRotatedRectangle(a,i,this.options.rectangleAngle||0,this._map);u.setLatLngs(p),u.pm&&u.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(u,"layerPane"),this._finishLayer(u),u.addTo(this._map.pm._getContainingLayer()),this._fireCreate(u),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var t;(t=this._layer)===null||t===void 0||t.setStyle(this.options.pathOptions)}}),G.Circle=G.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(t){L.Util.setOptions(this,t),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),Kt(Kt({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([t,i])},_syncCircleRadius:function(){var t,i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng();t=this._map.options.crs===L.CRS.Simple?this._map.distance(i,a):i.distanceTo(a),this.options.minRadiusCircle&&t<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&t>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(t)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this._handleHintMarkerSnapping();var a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},_placeCenterMarker:function(t){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ze("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(t){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i,a=this._centerMarker.getLatLng(),u=this._hintMarker.getLatLng();i=this._map.options.crs===L.CRS.Simple?this._map.distance(a,u):a.distanceTo(u),this.options.minRadiusCircle&&i<this.options.minRadiusCircle?i=this.options.minRadiusCircle:this.options.maxRadiusCircle&&i>this.options.maxRadiusCircle&&(i=this.options.maxRadiusCircle);var p=Kt(Kt({},this.options.pathOptions),{},{radius:i}),C=L.circle(a,p);this._setPane(C,"layerPane"),this._finishLayer(C),C.addTo(this._map.pm._getContainingLayer()),C.pm&&C.pm._updateHiddenPolyCircle(),this._fireCreate(C),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var t=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return t;var i=this._centerMarker.getLatLng(),a=i.distanceTo(t);return this.options.minRadiusCircle&&a<this.options.minRadiusCircle?t=zt(this._map,i,t,this.options.minRadiusCircle):this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(t=zt(this._map,i,t,this.options.maxRadiusCircle)),t},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var t=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=t.distanceTo(i);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&a<this.options.minRadiusCircle||this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var t,i;(t=this._layer)===null||t===void 0||t.setStyle(this.options.templineStyle),(i=this._hintline)===null||i===void 0||i.setStyle(this.options.hintlineStyle)}}),G.CircleMarker=G.Marker.extend({initialize:function(t){this._map=t,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(t){var i=this;if(L.Util.setOptions(this,t),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var a={};L.extend(a,this.options.templineStyle),a.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),a),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(u){i.isRelevantMarker(u)&&u.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var t=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(i){t.isRelevantMarker(i)&&i.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(t){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ze("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([t,i])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._map.project(t).distanceTo(this._map.project(i));this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(a)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this._handleHintMarkerSnapping();var a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker:function(t){return t instanceof L.CircleMarker&&!(t instanceof L.Circle)&&t.pm&&!t._pmTempLayer},_createMarker:function(t){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&t.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=L.circleMarker(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable&&a.pm.enable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(t){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),u=this._map.project(i).distanceTo(this._map.project(a));this.options.editable&&(this.options.minRadiusCircleMarker&&u<this.options.minRadiusCircleMarker?u=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&u>this.options.maxRadiusCircleMarker&&(u=this.options.maxRadiusCircleMarker));var p=St(St({},this.options.pathOptions),{},{radius:u}),C=L.circleMarker(i,p);this._setPane(C,"layerPane"),this._finishLayer(C),C.addTo(this._map.pm._getContainingLayer()),C.pm&&C.pm._updateHiddenPolyCircle(),this._fireCreate(C),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var t=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return t;var i=this._centerMarker.getLatLng(),a=this._map.project(i).distanceTo(this._map.project(t));this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?t=zt(this._map,i,t,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker&&(t=zt(this._map,i,t,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return t},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var t=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._map.project(t).distanceTo(this._map.project(i));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(t){var i=this._centerMarker.getLatLng(),a=this._map.project(i),u=L.point(a.x+t,a.y);return this._map.unproject(u).distanceTo(i)},setStyle:function(){var t,i,a={};L.extend(a,this.options.templineStyle),this.options.editable&&(a.radius=0),(t=this._layer)===null||t===void 0||t.setStyle(a),(i=this._hintline)===null||i===void 0||i.setStyle(this.options.hintlineStyle)}});let Di=function(t){if(!t)throw new Error("geojson is required");var i=[];return Oe(t,function(a){(function(u,p){var C=[],N=u.geometry;if(N!==null){switch(N.type){case"Polygon":C=At(N);break;case"LineString":C=[At(N)]}C.forEach(function(j){var O=function(F,te){var de=[];return F.reduce(function(ue,Le){var Ee,Fe,Pe,vt,ft,dt,jt=Ue([ue,Le],te);return jt.bbox=(Fe=Le,Pe=(Ee=ue)[0],vt=Ee[1],ft=Fe[0],dt=Fe[1],[Pe<ft?Pe:ft,vt<dt?vt:dt,Pe>ft?Pe:ft,vt>dt?vt:dt]),de.push(jt),Le}),de}(j,u.properties);O.forEach(function(F){F.id=p.length,p.push(F)})})}})(a,i)}),Xe(i)};var Ei=_(1787);function Fi(t,i){var a=At(t),u=At(i);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(u.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var p=a[0][0],C=a[0][1],N=a[1][0],j=a[1][1],O=u[0][0],F=u[0][1],te=u[1][0],de=u[1][1],ue=(de-F)*(N-p)-(te-O)*(j-C),Le=(te-O)*(C-F)-(de-F)*(p-O),Ee=(N-p)*(C-F)-(j-C)*(p-O);if(ue===0)return null;var Fe=Le/ue,Pe=Ee/ue;return Fe>=0&&Fe<=1&&Pe>=0&&Pe<=1?Ie([p+Fe*(N-p),C+Fe*(j-C)]):null}let En=function(t,i){var a={},u=[];if(t.type==="LineString"&&(t=be(t)),i.type==="LineString"&&(i=be(i)),t.type==="Feature"&&i.type==="Feature"&&t.geometry!==null&&i.geometry!==null&&t.geometry.type==="LineString"&&i.geometry.type==="LineString"&&t.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var p=Fi(t,i);return p&&u.push(p),Xe(u)}var C=Ei();return C.load(Di(i)),vn(Di(t),function(N){vn(C.search(N),function(j){var O=Fi(N,j);if(O){var F=At(O).join(",");a[F]||(a[F]=!0,u.push(O))}})}),Xe(u)},Pn=function(t,i,a){a===void 0&&(a={});var u=Bt(t),p=Bt(i),C=We(p[1]-u[1]),N=We(p[0]-u[0]),j=We(u[1]),O=We(p[1]),F=Math.pow(Math.sin(C/2),2)+Math.pow(Math.sin(N/2),2)*Math.cos(j)*Math.cos(O);return at(2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F)),a.units)},tr=function(t){var i=t[0],a=t[1],u=t[2],p=t[3];if(Pn(t.slice(0,2),[u,a])>=Pn(t.slice(0,2),[i,p])){var C=(a+p)/2;return[i,C-(u-i)/2,u,C+(u-i)/2]}var N=(i+u)/2;return[N-(p-a)/2,a,N+(p-a)/2,p]};function Sn(t){var i=[1/0,1/0,-1/0,-1/0];return Rn(t,function(a){i[0]>a[0]&&(i[0]=a[0]),i[1]>a[1]&&(i[1]=a[1]),i[2]<a[0]&&(i[2]=a[0]),i[3]<a[1]&&(i[3]=a[1])}),i}Sn.default=Sn;let si=Sn,fi=function(t,i){i===void 0&&(i={});var a=i.precision,u=i.coordinates,p=i.mutate;if(a=a==null||isNaN(a)?6:a,u=u==null||isNaN(u)?3:u,!t)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof u!="number")throw new Error("<coordinates> must be a number");p!==!1&&p!==void 0||(t=JSON.parse(JSON.stringify(t)));var C=Math.pow(10,a);return Rn(t,function(N){(function(j,O,F){j.length>F&&j.splice(F,j.length);for(var te=0;te<j.length;te++)j[te]=Math.round(j[te]*O)/O})(N,C,u)}),t};function Hi(t,i,a){if(a===void 0&&(a={}),a.final===!0)return function(de,ue){var Le=Hi(ue,de);return Le=(Le+180)%360}(t,i);var u=Bt(t),p=Bt(i),C=We(u[0]),N=We(p[0]),j=We(u[1]),O=We(p[1]),F=Math.sin(N-C)*Math.cos(O),te=Math.cos(j)*Math.sin(O)-Math.sin(j)*Math.cos(O)*Math.cos(N-C);return st(Math.atan2(F,te))}function Pi(t,i,a,u){u===void 0&&(u={});var p=Bt(t),C=We(p[0]),N=We(p[1]),j=We(a),O=tt(i,u.units),F=Math.asin(Math.sin(N)*Math.cos(O)+Math.cos(N)*Math.sin(O)*Math.cos(j));return Ie([st(C+Math.atan2(Math.sin(j)*Math.sin(O)*Math.cos(N),Math.cos(O)-Math.sin(N)*Math.sin(F))),st(F)],u.properties)}let Yi=function(t,i,a){a===void 0&&(a={});var u=Ie([1/0,1/0],{dist:1/0}),p=0;return Oe(t,function(C){for(var N=At(C),j=0;j<N.length-1;j++){var O=Ie(N[j]);O.properties.dist=Pn(i,O,a);var F=Ie(N[j+1]);F.properties.dist=Pn(i,F,a);var te=Pn(O,F,a),de=Math.max(O.properties.dist,F.properties.dist),ue=Hi(O,F),Le=Pi(i,de,ue+90,a),Ee=Pi(i,de,ue-90,a),Fe=En(Ue([Le.geometry.coordinates,Ee.geometry.coordinates]),Ue([O.geometry.coordinates,F.geometry.coordinates])),Pe=null;Fe.features.length>0&&((Pe=Fe.features[0]).properties.dist=Pn(i,Pe,a),Pe.properties.location=p+Pn(O,Pe,a)),O.properties.dist<u.properties.dist&&((u=O).properties.index=j,u.properties.location=p),F.properties.dist<u.properties.dist&&((u=F).properties.index=j+1,u.properties.location=p+te),Pe&&Pe.properties.dist<u.properties.dist&&((u=Pe).properties.index=j),p+=te}}),u};function li(t,i){var a=[],u=Ei();return Oe(i,function(p){if(a.forEach(function(j,O){j.id=O}),a.length){var C=u.search(p);if(C.features.length){var N=Li(p,C);a=a.filter(function(j){return j.id!==N.id}),u.remove(N),vn(Si(N,p),function(j){a.push(j),u.insert(j)})}}else(a=Si(t,p).features).forEach(function(j){j.bbox||(j.bbox=tr(si(j)))}),u.load(Xe(a))}),Xe(a)}function Si(t,i){var a=[],u=At(t)[0],p=At(t)[t.geometry.coordinates.length-1];if(Jn(u,Bt(i))||Jn(p,Bt(i)))return Xe([t]);var C=Ei(),N=Di(t);C.load(N);var j=C.search(i);if(!j.features.length)return Xe([t]);var O=Li(i,j),F=function(te,de,ue){var Le=ue;return vn(te,function(Ee,Fe){Le=Fe===0&&ue===void 0?Ee:de(Le,Ee,Fe)}),Le}(N,function(te,de,ue){var Le=At(de)[1],Ee=Bt(i);return ue===O.id?(te.push(Ee),a.push(Ue(te)),Jn(Ee,Le)?[Ee]:[Ee,Le]):(te.push(Le),te)},[u]);return F.length>1&&a.push(Ue(F)),Xe(a)}function Li(t,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var a,u=1/0;return vn(i,function(p){var C=Yi(p,t).properties.dist;C<u&&(a=p,u=C)}),a}function Jn(t,i){return t[0]===i[0]&&t[1]===i[1]}let nr=function(t,i){if(!t)throw new Error("line is required");if(!i)throw new Error("splitter is required");var a=Ui(t),u=Ui(i);if(a!=="LineString")throw new Error("line must be LineString");if(u==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(u==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var p=fi(i,{precision:7});switch(u){case"Point":return Si(t,p);case"MultiPoint":return li(t,p);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return li(t,En(t,p))}};function wi(t,i,a){if(a===void 0&&(a={}),!t)throw new Error("point is required");if(!i)throw new Error("polygon is required");var u=Bt(t),p=Dn(i),C=p.type,N=i.bbox,j=p.coordinates;if(N&&function(ue,Le){return Le[0]<=ue[0]&&Le[1]<=ue[1]&&Le[2]>=ue[0]&&Le[3]>=ue[1]}(u,N)===!1)return!1;C==="Polygon"&&(j=[j]);for(var O=!1,F=0;F<j.length&&!O;F++)if(qi(u,j[F][0],a.ignoreBoundary)){for(var te=!1,de=1;de<j[F].length&&!te;)qi(u,j[F][de],!a.ignoreBoundary)&&(te=!0),de++;te||(O=!0)}return O}function qi(t,i,a){var u=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var p=0,C=i.length-1;p<i.length;C=p++){var N=i[p][0],j=i[p][1],O=i[C][0],F=i[C][1];if(t[1]*(N-O)+j*(O-t[0])+F*(t[0]-N)==0&&(N-t[0])*(O-t[0])<=0&&(j-t[1])*(F-t[1])<=0)return!a;j>t[1]!=F>t[1]&&t[0]<(O-N)*(t[1]-j)/(F-j)+N&&(u=!u)}return u}function ir(t,i,a,u,p){var C=a[0],N=a[1],j=t[0],O=t[1],F=i[0],te=i[1],de=F-j,ue=te-O,Le=(a[0]-j)*ue-(a[1]-O)*de;if(p!==null){if(Math.abs(Le)>p)return!1}else if(Le!==0)return!1;return u?u==="start"?Math.abs(de)>=Math.abs(ue)?de>0?j<C&&C<=F:F<=C&&C<j:ue>0?O<N&&N<=te:te<=N&&N<O:u==="end"?Math.abs(de)>=Math.abs(ue)?de>0?j<=C&&C<F:F<C&&C<=j:ue>0?O<=N&&N<te:te<N&&N<=O:u==="both"&&(Math.abs(de)>=Math.abs(ue)?de>0?j<C&&C<F:F<C&&C<j:ue>0?O<N&&N<te:te<N&&N<O):Math.abs(de)>=Math.abs(ue)?de>0?j<=C&&C<=F:F<=C&&C<=j:ue>0?O<=N&&N<=te:te<=N&&N<=O}let Xn=function(t,i,a){a===void 0&&(a={});for(var u=Bt(t),p=At(i),C=0;C<p.length-1;C++){var N=!1;if(a.ignoreEndVertices&&(C===0&&(N="start"),C===p.length-2&&(N="end"),C===0&&C+1===p.length-1&&(N="both")),ir(p[C],p[C+1],u,N,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1};function $n(t,i){var a=Dn(t),u=Dn(i),p=a.type,C=u.type,N=a.coordinates,j=u.coordinates;switch(p){case"Point":if(C==="Point")return Ni(N,j);throw new Error("feature2 "+C+" geometry not supported");case"MultiPoint":switch(C){case"Point":return function(O,F){var te,de=!1;for(te=0;te<O.coordinates.length;te++)if(Ni(O.coordinates[te],F.coordinates)){de=!0;break}return de}(a,u);case"MultiPoint":return function(O,F){for(var te=0,de=F.coordinates;te<de.length;te++){for(var ue=de[te],Le=!1,Ee=0,Fe=O.coordinates;Ee<Fe.length;Ee++)if(Ni(ue,Fe[Ee])){Le=!0;break}if(!Le)return!1}return!0}(a,u);default:throw new Error("feature2 "+C+" geometry not supported")}case"LineString":switch(C){case"Point":return Xn(u,a,{ignoreEndVertices:!0});case"LineString":return function(O,F){for(var te=!1,de=0,ue=F.coordinates;de<ue.length;de++){var Le=ue[de];if(Xn({type:"Point",coordinates:Le},O,{ignoreEndVertices:!0})&&(te=!0),!Xn({type:"Point",coordinates:Le},O,{ignoreEndVertices:!1}))return!1}return te}(a,u);case"MultiPoint":return function(O,F){for(var te=!1,de=0,ue=F.coordinates;de<ue.length;de++){var Le=ue[de];if(Xn(Le,O,{ignoreEndVertices:!0})&&(te=!0),!Xn(Le,O))return!1}return!!te}(a,u);default:throw new Error("feature2 "+C+" geometry not supported")}case"Polygon":switch(C){case"Point":return wi(u,a,{ignoreBoundary:!0});case"LineString":return function(O,F){var te=!1,de=0,ue=si(O),Le=si(F);if(!Wi(ue,Le))return!1;for(;de<F.coordinates.length-1;de++)if(wi({type:"Point",coordinates:ci(F.coordinates[de],F.coordinates[de+1])},O,{ignoreBoundary:!0})){te=!0;break}return te}(a,u);case"Polygon":return function(O,F){if(O.type==="Feature"&&O.geometry===null||F.type==="Feature"&&F.geometry===null)return!1;var te=si(O),de=si(F);if(!Wi(te,de))return!1;for(var ue=Dn(F).coordinates,Le=0,Ee=ue;Le<Ee.length;Le++)for(var Fe=0,Pe=Ee[Le];Fe<Pe.length;Fe++)if(!wi(Pe[Fe],O))return!1;return!0}(a,u);case"MultiPoint":return function(O,F){for(var te=0,de=F.coordinates;te<de.length;te++)if(!wi(de[te],O,{ignoreBoundary:!0}))return!1;return!0}(a,u);default:throw new Error("feature2 "+C+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function Wi(t,i){return!(t[0]>i[0])&&!(t[2]<i[2])&&!(t[1]>i[1])&&!(t[3]<i[3])}function Ni(t,i){return t[0]===i[0]&&t[1]===i[1]}function ci(t,i){return[(t[0]+i[0])/2,(t[1]+i[1])/2]}var ht=_(2676),Lt=_.n(ht);function Gn(t){var i={type:"Feature"};return i.geometry=t,i}function Tt(t){return t.type==="Feature"?t.geometry:t}function ln(t){return t&&t.geometry&&t.geometry.coordinates?t.geometry.coordinates:t}function ei(t){return Gn({type:"Polygon",coordinates:t})}function nt(t){return Gn({type:"MultiPolygon",coordinates:t})}function Dt(t){return Array.isArray(t)?1+Dt(t[0]):-1}function xi(t){t instanceof L.Polyline&&(t=t.toGeoJSON(15));var i=ln(t),a=Dt(i),u=[];return a>1?i.forEach(function(p){u.push(function(C){return Gn({type:"LineString",coordinates:C})}(p))}):u.push(t),u}function ki(t){var i=[];return t.eachLayer(function(a){i.push(ln(a.toGeoJSON(15)))}),function(a){return Gn({type:"MultiLineString",coordinates:a})}(i)}function Vt(t,i){return function(a){if(Array.isArray(a))return a}(t)||function(a,u){var p=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var C,N,j=[],O=!0,F=!1;try{for(p=p.call(a);!(O=(C=p.next()).done)&&(j.push(C.value),!u||j.length!==u);O=!0);}catch(te){F=!0,N=te}finally{try{O||p.return==null||p.return()}finally{if(F)throw N}}return j}}(t,i)||function(a,u){if(a){if(typeof a=="string")return Vi(a,u);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Vi(a,u)}}(t,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vi(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}function Ai(t){return function(i){if(Array.isArray(i))return Nn(i)}(t)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(t)||function(i,a){if(i){if(typeof i=="string")return Nn(i,a);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Nn(i,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nn(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}G.Cut=G.Polygon.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var t=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var i=this._layer.getLatLngs();if(!(i.length<=2)){var a=L.polygon(i,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(u){var p=u.layer,C=u.originalLayer;t._fireCut(C,p,C),t._fireCut(t._map,p,C),C.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(t){var i=this,a=this._map._layers,u=t._latlngInfos||[];Object.keys(a).map(function(p){return a[p]}).filter(function(p){return p.pm}).filter(function(p){return!p._pmTempLayer}).filter(function(p){return!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1}).filter(function(p){return p instanceof L.Polyline}).filter(function(p){return p!==t}).filter(function(p){return p.pm.options.allowCutting}).filter(function(p){return!(i.options.layersToCut&&L.Util.isArray(i.options.layersToCut)&&i.options.layersToCut.length>0)||i.options.layersToCut.indexOf(p)>-1}).filter(function(p){return!i._layerGroup.hasLayer(p)}).filter(function(p){try{var C=!!En(t.toGeoJSON(15),p.toGeoJSON(15)).features.length>0;return C||p instanceof L.Polyline&&!(p instanceof L.Polygon)?C:(N=t.toGeoJSON(15),j=p.toGeoJSON(15),O=Tt(N),F=Tt(j),!((te=Lt().intersection(O.coordinates,F.coordinates)).length===0||!(te.length===1?ei(te[0]):nt(te))))}catch{return p instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var N,j,O,F,te}).forEach(function(p){var C;if(p instanceof L.Polygon){var N=(C=L.polygon(p.getLatLngs())).getLatLngs();u.forEach(function(ue){if(ue&&ue.snapInfo){var Le=ue.latlng,Ee=i._calcClosestLayer(Le,[C]);if(Ee&&Ee.segment&&Ee.distance<i.options.snapDistance){var Fe=Ee.segment;if(Fe&&Fe.length===2){var Pe=L.PM.Utils._getIndexFromSegment(N,Fe),vt=Pe.indexPath,ft=Pe.parentPath,dt=Pe.newIndex;(vt.length>1?Te()(N,ft):N).splice(dt,0,Le)}}}})}else C=p;var j=i._cutLayer(t,C),O=L.geoJSON(j,p.options);if(O.getLayers().length===1){var F=O.getLayers();O=Vt(F,1)[0]}i._setPane(O,"layerPane");var te=O.addTo(i._map.pm._getContainingLayer());if(te.pm.enable(p.pm.options),te.pm.disable(),p._pmTempLayer=!0,t._pmTempLayer=!0,p.remove(),p.removeFrom(i._map.pm._getContainingLayer()),t.remove(),t.removeFrom(i._map.pm._getContainingLayer()),te.getLayers&&te.getLayers().length===0&&i._map.pm.removeLayer({target:te}),te instanceof L.LayerGroup&&te.eachLayer(function(ue){i._addDrawnLayerProp(ue)}),i._addDrawnLayerProp(te),i.options.layersToCut&&L.Util.isArray(i.options.layersToCut)&&i.options.layersToCut.length>0){var de=i.options.layersToCut.indexOf(p);de>-1&&i.options.layersToCut.splice(de,1)}i._editedLayers.push({layer:te,originalLayer:p})})},_cutLayer:function(t,i){var a,u,p,C,N,j,O=L.geoJSON();if(i instanceof L.Polygon)u=i.toGeoJSON(15),p=t.toGeoJSON(15),C=Tt(u),N=Tt(p),a=(j=Lt().difference(C.coordinates,N.coordinates)).length===0?null:j.length===1?ei(j[0]):nt(j);else{var F=xi(i);F.forEach(function(te){var de=nr(te,t.toGeoJSON(15));(de&&de.features.length>0?L.geoJSON(de):L.geoJSON(te)).getLayers().forEach(function(ue){$n(t.toGeoJSON(15),ue.toGeoJSON(15))||ue.addTo(O)})}),a=F.length>1?ki(O):O.toGeoJSON(15)}return a},_change:L.Util.falseFn}),G.Text=G.extend({initialize:function(t){this._map=t,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ze("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}},_createMarker:function(t){var i;if(t.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(i=this.options.textOptions)!==null&&i!==void 0&&i.className){var u,p=this.options.textOptions.className.split(" ");(u=this.textArea.classList).add.apply(u,Ai(p))}var C=this._createTextIcon(this.textArea),N=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:C});if(this._setPane(N,"markerPane"),this._finishLayer(N),N.pm||(N.options.draggable=!1),N.addTo(this._map.pm._getContainingLayer()),N.pm){var j,O,F,te,de;N.pm.textArea=this.textArea,L.setOptions(N.pm,{removeIfEmpty:(j=(O=this.options.textOptions)===null||O===void 0?void 0:O.removeIfEmpty)===null||j===void 0||j});var ue=(F=(te=this.options.textOptions)===null||te===void 0?void 0:te.focusAfterDraw)===null||F===void 0||F;N.pm._createTextMarker(ue),(de=this.options.textOptions)!==null&&de!==void 0&&de.text&&N.pm.setText(this.options.textOptions.text)}this._fireCreate(N),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var t=document.createElement("textarea");return t.autofocus=!0,t.readOnly=!0,t.classList.add("pm-textarea","pm-disabled"),t},_createTextIcon:function(t){return L.divIcon({className:"pm-text-marker",html:t})}});let mt={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,an(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var t=this._getDOMElem();t&&(an(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(t)):L.DomEvent.on(t,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,an(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var t=this._getDOMElem();t&&(an(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(t)):L.DomEvent.off(t,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(t){var i=t.touches?t.touches[0]:t,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent:function(t){var i=t.touches?t.touches[0]:t,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent:function(t){var i={originalEvent:t.touches?t.touches[0]:t,target:this._layer};return t.type.indexOf("touch")===-1&&(i.containerPoint=this._map.mouseEventToContainerPoint(t),i.latlng=this._map.containerPointToLatLng(i.containerPoint)),this._dragMixinOnMouseUp(i),!1},_dragMixinOnMouseDown:function(t){if(!(t.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(t);var i=t._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",t);this._layer instanceof L.Marker&&(!this.options.snappable||i||a?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||i||a?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(t){this._overwriteEventIfItComesFromMarker(t);var i=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",t),this._dragging||(this._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=t.latlng),this._onLayerDrag(t),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(t){var i=this,a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",t),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){i._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),i._fireDragEnd(),i._fireEdit(),i._layerEdited=!0},10),!0)},_onLayerDrag:function(t){var i=t.latlng,a=i.lat-this._tempDragCoord.lat,u=i.lng-this._tempDragCoord.lng,p=function te(de){return de.map(function(ue){if(Array.isArray(ue))return te(ue);var Le={lat:ue.lat+a,lng:ue.lng+u};return(ue.alt||ue.alt===0)&&(Le.alt=ue.alt),Le})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var C=p([this._layer.getLatLng()]);this._layer.setLatLng(C[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var N=this._layer.getLatLng();this._layer._snapped&&(N=this._layer._orgLatLng);var j=p([N]);this._layer.setLatLng(j[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var O=p([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(O),this._fireChange(this._layer.getBounds(),"Edit")}else{var F=p(this._layer.getLatLngs());this._layer.setLatLngs(F),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=i,t.layer=this._layer,this._fireDrag(t)},addDraggingClass:function(){var t=this._getDOMElem();t&&L.DomUtil.addClass(t,"leaflet-pm-draggable")},removeDraggingClass:function(){var t=this._getDOMElem();t&&L.DomUtil.removeClass(t,"leaflet-pm-draggable")},_getDOMElem:function(){var t=null;return this._layer._path?t=this._layer._path:this._layer._renderer&&this._layer._renderer._container?t=this._layer._renderer._container:this._layer._image?t=this._layer._image:this._layer._icon&&(t=this._layer._icon),t},_overwriteEventIfItComesFromMarker:function(t){t.target.getLatLng&&(!t.target._radius||t.target._radius<=10)&&(t.containerPoint=this._map.mouseEventToContainerPoint(t.originalEvent),t.latlng=this._map.containerPointToLatLng(t.containerPoint))},_syncLayers:function(t,i){var a=this;if(this.enabled())return!1;if(!i._fromLayerSync&&this._layer===i.target&&this.options.syncLayersOnDrag){i._fromLayerSync=!0;var u=[];if(L.Util.isArray(this.options.syncLayersOnDrag))u=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(N){N instanceof L.LayerGroup&&(u=u.concat(N.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var p in this._parentLayerGroup){var C=this._parentLayerGroup[p];C.pm&&(u=C.pm.getLayers(!0))}return L.Util.isArray(u)&&u.length>0&&(u=u.filter(function(N){return!!N.pm}).filter(function(N){return!!N.pm.options.draggable})).forEach(function(N){N!==a._layer&&N.pm[t]&&(N._snapped=!1,N.pm[t](i))}),u.length>0}return!1},_stopDOMImageDrag:function(t){return t.preventDefault(),!1}};function An(t,i,a){var u=a.getMaxZoom();if(u===1/0&&(u=a.getZoom()),L.Util.isArray(t)){var p=[];return t.forEach(function(C){p.push(An(C,i,a))}),p}return t instanceof L.LatLng?function(C,N,j,O){return j.unproject(N.transform(j.project(C,O)),O)}(t,i,a,u):null}function Xt(t,i){i instanceof L.Layer&&(i=i.getLatLng());var a=t.getMaxZoom();return a===1/0&&(a=t.getZoom()),t.project(i,a)}function Zn(t,i){var a=t.getMaxZoom();return a===1/0&&(a=t.getZoom()),t.unproject(i,a)}var Qi={_onRotateStart:function(t){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Xt(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Xt(this._map,t.target.getLatLng()),this._initialRotateLatLng=rn(this._layer),this._startAngle=this.getAngle();var i=rn(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,i),this._fireRotationStart(this._map,i)},_onRotate:function(t){var i=Xt(this._map,t.target.getLatLng()),a=this._rotationStartPoint,u=this._rotationOriginPoint,p=Math.atan2(i.y-u.y,i.x-u.x)-Math.atan2(a.y-u.y,a.x-u.x);this._layer.setLatLngs(this._rotateLayer(p,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var C=this;(function F(te){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ue>-1&&de.push(ue),L.Util.isArray(te[0]))te.forEach(function(Ee,Fe){return F(Ee,de.slice(),Fe)});else{var Le=Te()(C._markers,de);te.forEach(function(Ee,Fe){Le[Fe].setLatLng(Ee)})}})(this._layer.getLatLngs());var N=rn(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(p,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var j=180*p/Math.PI,O=(j=j<0?j+360:j)+this._startAngle;this._setAngle(O),this._rotationLayer.pm._setAngle(O),this._fireRotation(this._rotationLayer,j,N),this._fireRotation(this._map,j,N),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var t=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var i=rn(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=rn(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,t,i),this._fireRotationEnd(this._map,t,i),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(t,i,a,u,p){var C=Xt(p,a);return this._matrix=u.clone().rotate(t,C).flip(),An(i,this._matrix,p)},_setAngle:function(t){t=t<0?t+360:t,this._angle=t%360},_getRotationCenter:function(){var t=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),i=t.getCenter();return t.removeFrom(this._layer._map),i},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=rn(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(t){var i=this.getAngle(),a=this._layer.getLatLngs(),u=t*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(u,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+t),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(u,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var p=this.getAngle()-i;p=p<0?p+360:p,this._startAngle=i,this._fireRotation(this._layer,p,a,this._layer),this._fireRotation(this._map||this._layer._map,p,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(t){var i=t-this.getAngle();this.rotateLayer(i)},getAngle:function(){return this._angle||0},setInitAngle:function(t){this._setAngle(t)}};let gn=Qi,wt=L.Class.extend({includes:[mt,D,gn,ze],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(t){L.Util.setOptions(this,t)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(t,i){i==="layerPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(t,i){var a=i.target,u={layer:this._layer,marker:a,event:i},p="";return t==="move"?p="moveVertexValidation":t==="add"?p="addVertexValidation":t==="remove"&&(p="removeVertexValidation"),this.options[p]&&typeof this.options[p]=="function"&&!this.options[p](u)?(t==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(t){return!t._cancelDragEventChain||(t._latlng=t._cancelDragEventChain,t.update(),!1)},_vertexValidationDragEnd:function(t){return!t._cancelDragEventChain||(t._cancelDragEventChain=null,!1)}});function Un(t){return function(i){if(Array.isArray(i))return ui(i)}(t)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(t)||function(i,a){if(i){if(typeof i=="string")return ui(i,a);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ui(i,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ui(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}wt.LayerGroup=L.Class.extend({initialize:function(t){var i=this;this._layerGroup=t,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(a){return i._initLayer(a)}),this._layerGroup.on("layeradd",L.Util.throttle(function(a){if(!a.layer._pmTempLayer){i._layers=i.getLayers();var u=i._layers.filter(function(p){return!p.pm._parentLayerGroup||!(i._layerGroup._leaflet_id in p.pm._parentLayerGroup)});u.forEach(function(p){i._initLayer(p)}),u.length>0&&i._getMap()&&i._getMap().pm.globalEditModeEnabled()&&i.enabled()&&i.enable(i.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(a){i._removeLayerFromGroup(a.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(a){a.target._pmTempLayer||(i._layers=i.getLayers())},100,this),this)},enable:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.length===0&&(this._layers=this.getLayers()),this._options=t,this._layers.forEach(function(a){a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.enable(t,i)):a.pm.enable(t)})},disable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(i){i instanceof L.LayerGroup?t.indexOf(i._leaflet_id)===-1&&(t.push(i._leaflet_id),i.pm.disable(t)):i.pm.disable()})},enabled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length===0&&(this._layers=this.getLayers());var i=this._layers.find(function(a){return a instanceof L.LayerGroup?t.indexOf(a._leaflet_id)===-1&&(t.push(a._leaflet_id),a.pm.enabled(t)):a.pm.enabled()});return!!i},toggleEdit:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.length===0&&(this._layers=this.getLayers()),this._options=t,this._layers.forEach(function(a){a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.toggleEdit(t,i)):a.pm.toggleEdit(t)})},_initLayer:function(t){var i=L.Util.stamp(this._layerGroup);t.pm._parentLayerGroup||(t.pm._parentLayerGroup={}),t.pm._parentLayerGroup[i]=this._layerGroup},_removeLayerFromGroup:function(t){if(t.pm&&t.pm._layerGroup){var i=L.Util.stamp(this._layerGroup);delete t.pm._layerGroup[i]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var t=this._layers.find(function(i){return i.pm.dragging()});return!!t}return!1},getOptions:function(){return this.options},_getMap:function(){var t;return this._map||((t=this._layers.find(function(i){return!!i._map}))===null||t===void 0?void 0:t._map)||null},getLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],p=[];return t?this._layerGroup.getLayers().forEach(function(C){p.push(C),C instanceof L.LayerGroup&&u.indexOf(C._leaflet_id)===-1&&(u.push(C._leaflet_id),p=p.concat(C.pm.getLayers(!0,!0,!0,u)))}):p=this._layerGroup.getLayers(),a&&(p=p.filter(function(C){return!(C instanceof L.LayerGroup)})),i&&(p=(p=(p=p.filter(function(C){return!!C.pm})).filter(function(C){return!C._pmTempLayer})).filter(function(C){return!L.PM.optIn&&!C.options.pmIgnore||L.PM.optIn&&C.options.pmIgnore===!1})),p},setOptions:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.length===0&&(this._layers=this.getLayers()),this.options=t,this._layers.forEach(function(a){a.pm&&(a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.setOptions(t,i)):a.pm.setOptions(t))})}}),wt.Marker=wt.extend({_shape:"Marker",initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,t),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(t){var i=t.target;i.remove(),this._fireRemove(i),this._fireRemove(this._map,i)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)}});let ti={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var t=[].concat(Un(this._markerGroup.getLayers()),Un(this.markerCache));this.markerCache=t.filter(function(i,a,u){return u.indexOf(i)===a})},renderLimits:function(t){var i=this;this.markerCache.forEach(function(a){t.includes(a)?i._markerGroup.addLayer(a):i._markerGroup.removeLayer(a)})},applyLimitFilters:function(t){var i=t.latlng,a=i===void 0?{lat:0,lng:0}:i;if(!this._preventRenderMarkers){var u=Un(this._filterClosestMarkers(a));this.renderLimits(u)}},_filterClosestMarkers:function(t){var i=Un(this.markerCache),a=this.options.limitMarkersToCount;return a===-1?i:(i.sort(function(u,p){return u._latlng.distanceTo(t)-p._latlng.distanceTo(t)}),i.filter(function(u,p){return!(a>-1)||p<a}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(t){this._preventRenderMarkers=!!t}};function ji(t,i){return function(a){if(Array.isArray(a))return a}(t)||function(a,u){var p=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var C,N,j=[],O=!0,F=!1;try{for(p=p.call(a);!(O=(C=p.next()).done)&&(j.push(C.value),!u||j.length!==u);O=!0);}catch(te){F=!0,N=te}finally{try{O||p.return==null||p.return()}finally{if(F)throw N}}return j}}(t,i)||function(a,u){if(a){if(typeof a=="string")return ni(a,u);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return ni(a,u)}}(t,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ni(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}function Ki(t){return function(i){if(Array.isArray(i))return hi(i)}(t)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(t)||function(i,a){if(i){if(typeof i=="string")return hi(i,a);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return hi(i,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hi(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}wt.Line=wt.extend({includes:[ti],_shape:"Line",initialize:function(t){this._layer=t,this._enabled=!1},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(t,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(t){return this.enabled()?this.disable():this.enable(t),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var t=this,i=this._map,a=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function u(p){if(Array.isArray(p[0]))return p.map(u,t);var C=p.map(t._createMarker,t);return t.options.hideMiddleMarkers!==!0&&p.map(function(N,j){var O=t.isPolygon()?(j+1)%p.length:j+1;return t._createMiddleMarker(C[j],C[O])}),C}(a),this.filterMarkerGroup(),i.addLayer(this._markerGroup)},_createMarker:function(t){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this.options.rotate?(i.on("dragstart",this._onRotateStart,this),i.on("drag",this._onRotate,this),i.on("dragend",this._onRotateEnd,this)):(i.on("click",this._onVertexClick,this),i.on("dragstart",this._onMarkerDragStart,this),i.on("move",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(i),i},_createMiddleMarker:function(t,i){if(!t||!i)return!1;var a=L.PM.Utils.calcMiddleLatLng(this._map,t.getLatLng(),i.getLatLng()),u=this._createMarker(a),p=L.divIcon({className:"marker-icon marker-icon-middle"});return u.setIcon(p),u.leftM=t,u.rightM=i,t._middleMarkerNext=u,i._middleMarkerPrev=u,u.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),u.on("movestart",this._onMiddleMarkerMoveStart,this),u},_onMiddleMarkerClick:function(t){var i=t.target;if(this._vertexValidation("add",t)){var a=L.divIcon({className:"marker-icon"});i.setIcon(a),this._addMarker(i,i.leftM,i.rightM)}},_onMiddleMarkerMoveStart:function(t){var i=t.target;i.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",t)?(i._dragging=!0,this._addMarker(i,i.leftM,i.rightM)):i.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(t){var i=t.target;this._vertexValidationDrag(i)},_onMiddleMarkerMoveEnd:function(t){var i=t.target;if(i.off("move",this._onMiddleMarkerMovePrevent,this),i.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(i)){var a=L.divIcon({className:"marker-icon"});i.setIcon(a),setTimeout(function(){delete i._dragging},100)}},_addMarker:function(t,i,a){t.off("movestart",this._onMiddleMarkerMoveStart,this),t.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var u=t.getLatLng(),p=this._layer._latlngs;delete t.leftM,delete t.rightM;var C=L.PM.Utils.findDeepMarkerIndex(this._markers,i),N=C.indexPath,j=C.index,O=C.parentPath,F=N.length>1?Te()(p,O):p,te=N.length>1?Te()(this._markers,O):this._markers;F.splice(j+1,0,u),te.splice(j+1,0,t),this._layer.setLatLngs(p),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(i,t),this._createMiddleMarker(t,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(t,L.PM.Utils.findDeepMarkerIndex(this._markers,t).indexPath,u),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return kt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var i=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;t?this._flashLayer():(i.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(kt(this._layer.toGeoJSON(15)))}else i.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var t=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){t._layer.setStyle({color:t.cachedColor}),t.isRed=!1},200)},_updateDisabledMarkerStyle:function(t,i){var a=this;t.forEach(function(u){Array.isArray(u)?a._updateDisabledMarkerStyle(u,i):u._icon&&(i&&!a._checkMarkerAllowedToDrag(u)?L.DomUtil.addClass(u._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(u._icon,"vertexmarker-disabled"))})},_removeMarker:function(t){var i=t.target;if(this._vertexValidation("remove",t)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=rn(this._layer,this._layer.getLatLngs()));var a=this._layer.getLatLngs(),u=L.PM.Utils.findDeepMarkerIndex(this._markers,i),p=u.indexPath,C=u.index,N=u.parentPath;if(p){var j=p.length>1?Te()(a,N):a,O=p.length>1?Te()(this._markers,N):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(j.length<=2||this.isPolygon()&&j.length<=3)){j.splice(C,1),this._layer.setLatLngs(a),this.isPolygon()&&j.length<=2&&j.splice(0,j.length);var F=!1;if(j.length<=1&&(j.splice(0,j.length),N.length>1&&p.length>1&&(a=ct(a)),this._layer.setLatLngs(a),this._initMarkers(),F=!0),He(a)||this._layer.remove(),a=ct(a),this._layer.setLatLngs(a),this._markers=ct(this._markers),!F&&(O=p.length>1?Te()(this._markers,N):this._markers,i._middleMarkerPrev&&this._markerGroup.removeLayer(i._middleMarkerPrev),i._middleMarkerNext&&this._markerGroup.removeLayer(i._middleMarkerNext),this._markerGroup.removeLayer(i),O)){var te,de;if(this.isPolygon()?(te=(C+1)%O.length,de=(C+(O.length-1))%O.length):(de=C-1<0?void 0:C-1,te=C+1>=O.length?void 0:C+1),te!==de){var ue=O[de],Le=O[te];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ue,Le)}O.splice(C,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(i,p),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(t){var i=this._layer.getLatLngs(),a=t.getLatLng(),u=L.PM.Utils.findDeepMarkerIndex(this._markers,t),p=u.indexPath,C=u.index,N=u.parentPath;(p.length>1?Te()(i,N):i).splice(C,1,a),this._layer.setLatLngs(i)},_getNeighborMarkers:function(t){var i=L.PM.Utils.findDeepMarkerIndex(this._markers,t),a=i.indexPath,u=i.index,p=i.parentPath,C=a.length>1?Te()(this._markers,p):this._markers,N=(u+1)%C.length;return{prevMarker:C[(u+(C.length-1))%C.length],nextMarker:C[N]}},_checkMarkerAllowedToDrag:function(t){var i=this._getNeighborMarkers(t),a=i.prevMarker,u=i.nextMarker,p=L.polyline([a.getLatLng(),t.getLatLng()]),C=L.polyline([t.getLatLng(),u.getLatLng()]),N=En(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,j=En(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return t.getLatLng()===this._markers[0][0].getLatLng()?j+=1:t.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(N+=1),!(N<=2&&j<=2)},_onMarkerDragStart:function(t){var i=t.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",t)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath;this._fireMarkerDragStart(t,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=rn(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(i):this._markerAllowedToDrag=null}},_onMarkerDrag:function(t){var i=t.target;if(this._vertexValidationDrag(i)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i),u=a.indexPath,p=a.index,C=a.parentPath;if(u){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(i);var N=u.length>1?Te()(this._markers,C):this._markers,j=(p+1)%N.length,O=(p+(N.length-1))%N.length,F=i.getLatLng(),te=N[O].getLatLng(),de=N[j].getLatLng();if(i._middleMarkerNext){var ue=L.PM.Utils.calcMiddleLatLng(this._map,F,de);i._middleMarkerNext.setLatLng(ue)}if(i._middleMarkerPrev){var Le=L.PM.Utils.calcMiddleLatLng(this._map,F,te);i._middleMarkerPrev.setLatLng(Le)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(t,u),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(t){var i=t.target;if(this._vertexValidationDragEnd(i)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,u=this.hasSelfIntersection();u&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(u=!1);var p=!this.options.allowSelfIntersection&&u;if(this._fireMarkerDragEnd(t,a,p),p)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(t,a);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(t){var i=t.target;if(!i._dragging){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath;this._fireVertexClick(t,a)}}}),wt.Polygon=wt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(t){var i=this._getNeighborMarkers(t),a=i.prevMarker,u=i.nextMarker,p=L.polyline([a.getLatLng(),t.getLatLng()]),C=L.polyline([t.getLatLng(),u.getLatLng()]),N=En(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,j=En(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return!(N<=2&&j<=2)}}),wt.Rectangle=wt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var t=this,i=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this);var u=ji(this._markers,1);this._cornerMarkers=u[0],this._layer.getLatLngs()[0].forEach(function(p,C){var N=t._cornerMarkers.find(function(j){return j._index===C});N&&N.setLatLng(p)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(t,i){var a=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=t,a._index=i,a._pmTempLayer=!0,this._markerGroup.addLayer(a),a},_addMarkerEvents:function(){var t=this;this._markers[0].forEach(function(i){i.on("dragstart",t._onMarkerDragStart,t),i.on("drag",t._onMarkerDrag,t),i.on("dragend",t._onMarkerDragEnd,t),t.options.preventMarkerRemoval||i.on("contextmenu",t._removeMarker,t)})},_removeMarker:function(){return null},_onMarkerDragStart:function(t){if(this._vertexValidation("move",t)){var i=t.target,a=this._cornerMarkers;i._oppositeCornerLatLng=a.find(function(u){return u._index===(i._index+2)%4}).getLatLng(),i._snapped=!1,this._fireMarkerDragStart(t)}},_onMarkerDrag:function(t){var i=t.target;this._vertexValidationDrag(i)&&i._index!==void 0&&(this._adjustRectangleForMarkerMove(i),this._fireMarkerDrag(t),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(t){var i=t.target;this._vertexValidationDragEnd(i)&&(this._cornerMarkers.forEach(function(a){delete a._oppositeCornerLatLng}),this._fireMarkerDragEnd(t),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(t){L.extend(t._origLatLng,t._latlng);var i=L.PM.Utils._getRotatedRectangle(t.getLatLng(),t._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(i),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var t=this,i=this._layer.getLatLngs()[0];i&&i.length!==4&&i.length>0?(i.forEach(function(a,u){t._cornerMarkers[u].setLatLng(a)}),this._cornerMarkers.slice(i.length).forEach(function(a){a.setLatLng(i[0])})):i&&i.length?this._cornerMarkers.forEach(function(a){a.setLatLng(i[a._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var t=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(t[0],t[2],this._angle||0,this._map)}}),wt.Circle=wt.extend({_shape:"Circle",initialize:function(t){this._layer=t,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var i=this._layer.getLatLng(),a=this._layer._radius,u=this._getLatLngOnCircle(i,a);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(u),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(t,i){var a=t.getLatLng(),u=i.getLatLng();this._hintline=L.polyline([a,u],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var i=this._createMarker(t);return L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"),i.on("drag",this._moveCircle,this),i.on("dragstart",this._onCircleDragStart,this),i.on("drag",this._onCircleDrag,this),i.on("dragend",this._onCircleDragEnd,this),i},_createOuterMarker:function(t){var i=this._createMarker(t);return i.on("drag",this._resizeCircle,this),i},_createMarker:function(t){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=t,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(i),i},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(t){if(!t.target._cancelDragEventChain){var i=t.latlng;this._layer.setLatLng(i);var a=this._layer._radius,u=this._getLatLngOnCircle(i,a);this._outerMarker._latlng=u,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._map.distance(t,i);this.options.minRadiusCircle&&a<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,i])},_disableSnapping:function(){var t=this;this._markers.forEach(function(i){i.off("move",t._syncHintLine,t),i.off("move",t._syncCircleRadius,t),i.off("drag",t._handleSnapping,t),i.off("dragend",t._cleanupSnapping,t)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(t){this._vertexValidation("move",t)&&this._fireMarkerDragStart(t)},_onMarkerDrag:function(t){var i=t.target;this._vertexValidationDrag(i)&&this._fireMarkerDrag(t)},_onMarkerDragEnd:function(t){var i=t.target;this._vertexValidationDragEnd(i)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(t))},_onCircleDragStart:function(t){this._vertexValidationDrag(t.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(t){this._vertexValidationReset||this._fireDrag(t)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var t=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!t).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!t),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(t,i){var a=this._map.project(t),u=L.point(a.x+i,a.y);return this._map.unproject(u)},_getNewDestinationOfOuterMarker:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._map.distance(t,i);return this.options.minRadiusCircle&&a<this.options.minRadiusCircle?i=zt(this._map,t,i,this.options.minRadiusCircle):this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(i=zt(this._map,t,i,this.options.maxRadiusCircle)),i},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._map.distance(t,i);(this.options.minRadiusCircle&&a<this.options.minRadiusCircle||this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),wt.CircleMarker=wt.extend({_shape:"CircleMarker",initialize:function(t){this._layer=t,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var i=this._layer.getLatLng(),a=this._layer._radius,u=this._getLatLngOnCircle(i,a);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(u),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(t,i){var a=this._map.project(t),u=L.point(a.x+i,a.y);return this._map.unproject(u)},_createHintLine:function(t,i){var a=t.getLatLng(),u=i.getLatLng();this._hintline=L.polyline([a,u],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var i=this._createMarker(t);return this.options.draggable?L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"):i.dragging.disable(),i},_createOuterMarker:function(t){var i=this._createMarker(t);return i.on("drag",this._resizeCircle,this),i},_createMarker:function(t){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=t,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(i),i},_moveCircle:function(){var t=this._centerMarker.getLatLng();this._layer.setLatLng(t);var i=this._layer._radius,a=this._getLatLngOnCircle(t,i);this._outerMarker._latlng=a,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var t=this._layer.getLatLng(),i=this._layer._radius,a=this._getLatLngOnCircle(t,i);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(t),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._map.project(t).distanceTo(this._map.project(i));this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,i])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(t){this._vertexValidation("move",t)&&this._fireMarkerDragStart(t)},_onMarkerDrag:function(t){var i=t.target;i instanceof L.Marker&&!this._vertexValidationDrag(i)||this._fireMarkerDrag(t)},_onMarkerDragEnd:function(t){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var i=t.target;this._vertexValidationDragEnd(i)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(t))},_initSnappableMarkersDrag:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var t=this._layer._map||this._map;if(t){var i=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),t,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(i);var u=t&&t.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!u).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!u),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._map.project(t).distanceTo(this._map.project(i));return this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?i=zt(this._map,t,i,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,t)):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker&&(i=zt(this._map,t,i,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,t))),i},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._map.project(t).distanceTo(this._map.project(i));(this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),wt.ImageOverlay=wt.extend({_shape:"ImageOverlay",initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),wt.Text=wt.extend({_shape:"Text",initialize:function(t){this._layer=t,this._enabled=!1},enable:function(t){L.Util.setOptions(this,t),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var t=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),t.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var t=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,i=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(t,"px"),this.textArea.style.width="".concat(i,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var t=this;this._disableOnBlurActive=!0,setTimeout(function(){t.enabled()&&L.DomEvent.on(document,"click",t._documentClick,t)},100)},_documentClick:function(t){t.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this._hasFocus;this._hasFocus=t.type==="focus",!i!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(t){this.textArea.value=t,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var t,i=this.options.className.split(" ");(t=this.textArea.classList).add.apply(t,Ki(i))}var a=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(a),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),t===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(t){t.preventDefault()}});var Ji=function(t,i,a,u,p,C){this._matrix=[t,i,a,u,p,C]};Ji.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Ji.prototype={transform:function(t){return this._transform(t.clone())},_transform:function(t){var i=this._matrix,a=t.x,u=t.y;return t.x=i[0]*a+i[1]*u+i[4],t.y=i[2]*a+i[3]*u+i[5],t},untransform:function(t){var i=this._matrix;return new L.Point((t.x/i[0]-i[4])/i[0],(t.y/i[2]-i[5])/i[2])},clone:function(){var t=this._matrix;return new L.PM.Matrix(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(t){return t===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof t=="number"?(i=t,a=t):(i=t.x,a=t.y),this._add(1,0,0,1,i,a));var i,a},scale:function(t,i){return t===void 0?new L.Point(this._matrix[0],this._matrix[3]):(i=i||L.point(0,0),typeof t=="number"?(a=t,u=t):(a=t.x,u=t.y),this._add(a,0,0,u,i.x,i.y)._add(1,0,0,1,-i.x,-i.y));var a,u},rotate:function(t,i){var a=Math.cos(t),u=Math.sin(t);return i=i||new L.Point(0,0),this._add(a,u,-u,a,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(t,i,a,u,p,C){var N,j=[[],[],[]],O=this._matrix,F=[[O[0],O[2],O[4]],[O[1],O[3],O[5]],[0,0,1]],te=[[t,a,p],[i,u,C],[0,0,1]];t&&t instanceof L.PM.Matrix&&(te=[[(O=t._matrix)[0],O[2],O[4]],[O[1],O[3],O[5]],[0,0,1]]);for(var de=0;de<3;de+=1)for(var ue=0;ue<3;ue+=1){N=0;for(var Le=0;Le<3;Le+=1)N+=F[de][Le]*te[Le][ue];j[de][ue]=N}return this._matrix=[j[0][0],j[1][0],j[0][1],j[1][1],j[0][2],j[1][2]],this}};let $e=Ji;var Mn={calcMiddleLatLng:function(t,i,a){var u=t.project(i),p=t.project(a);return t.unproject(u._add(p)._divideBy(2))},findLayers:function(t){var i=[];return t.eachLayer(function(a){(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&i.push(a)}),i=(i=(i=i.filter(function(a){return!!a.pm})).filter(function(a){return!a._pmTempLayer})).filter(function(a){return!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1})},circleToPolygon:function(t){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=t.getLatLng(),p=t.getRadius(),C=nn(u,p,i,0,a),N=[],j=0;j<C.length;j+=1){var O=[C[j].lat,C[j].lng];N.push(O)}return L.polygon(N,t.options)},disablePopup:function(t){t.getPopup()&&(t._tempPopupCopy=t.getPopup(),t.unbindPopup())},enablePopup:function(t){t._tempPopupCopy&&(t.bindPopup(t._tempPopupCopy),delete t._tempPopupCopy)},_fireEvent:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t.fire(i,a,u);var p=this.getAllParentGroups(t),C=p.groups;C.forEach(function(N){N.fire(i,a,u)})},getAllParentGroups:function(t){var i=[],a=[];return!t._pmLastGroupFetch||!t._pmLastGroupFetch.time||new Date().getTime()-t._pmLastGroupFetch.time>1e3?(function u(p){for(var C in p._eventParents)if(i.indexOf(C)===-1){i.push(C);var N=p._eventParents[C];a.push(N),u(N)}}(t),t._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:i},{groupIds:i,groups:a}):{groups:t._pmLastGroupFetch.groups,groupIds:t._pmLastGroupFetch.groupIds}},createGeodesicPolygon:nn,getTranslation:Ze,findDeepCoordIndex:function(t,i){var a,u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=function N(j){return function(O,F){var te=j.concat(F);if(u){if(O.lat&&O.lat===i.lat&&O.lng===i.lng)return a=te,!0}else if(O.lat&&L.latLng(O).equals(i))return a=te,!0;return Array.isArray(O)&&O.some(N(te))}};t.some(p([]));var C={};return a&&(C={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),C},findDeepMarkerIndex:function(t,i){var a;t.some(function p(C){return function(N,j){var O=C.concat(j);return N._leaflet_id===i._leaflet_id?(a=O,!0):Array.isArray(N)&&N.some(p(O))}}([]));var u={};return a&&(u={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),u},_getIndexFromSegment:function(t,i){if(i&&i.length===2){var a=this.findDeepCoordIndex(t,i[0]),u=this.findDeepCoordIndex(t,i[1]),p=Math.max(a.index,u.index);return a.index!==0&&u.index!==0||p===1||(p+=1),{indexA:a,indexB:u,newIndex:p,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle:function(t,i,a,u){var p=Xt(u,t),C=Xt(u,i),N=a*Math.PI/180,j=Math.cos(N),O=Math.sin(N),F=(C.x-p.x)*j+(C.y-p.y)*O,te=(C.y-p.y)*j-(C.x-p.x)*O,de=F*j+p.x,ue=F*O+p.y,Le=-te*O+p.x,Ee=te*j+p.y;return[Zn(u,p),Zn(u,{x:de,y:ue}),Zn(u,C),Zn(u,{x:Le,y:Ee})]},pxRadiusToMeterRadius:function(t,i,a){var u=i.project(a),p=L.point(u.x+t,u.y);return i.distance(i.unproject(p),a)}};let xt=Mn;L.PM=L.PM||{version:"2.14.2",Map:yn,Toolbar:pn,Draw:G,Edit:wt,Utils:xt,Matrix:$e,activeLang:"en",optIn:!1,initialize:function(t){this.addInitHooks(t)},setOptIn:function(t){this.optIn=!!t},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(t){var i=this;t instanceof L.LayerGroup&&t.eachLayer(function(a){i.reInitLayer(a)}),t.pm||L.PM.optIn&&t.options.pmIgnore!==!1||t.options.pmIgnore||(t instanceof L.Map?t.pm=new L.PM.Map(t):t instanceof L.Marker?t.options.textMarker?(t.pm=new L.PM.Edit.Text(t),t.pm._initTextMarker(),t.pm._createTextMarker(!1)):t.pm=new L.PM.Edit.Marker(t):t instanceof L.Circle?t.pm=new L.PM.Edit.Circle(t):t instanceof L.CircleMarker?t.pm=new L.PM.Edit.CircleMarker(t):t instanceof L.Rectangle?t.pm=new L.PM.Edit.Rectangle(t):t instanceof L.Polygon?t.pm=new L.PM.Edit.Polygon(t):t instanceof L.Polyline?t.pm=new L.PM.Edit.Line(t):t instanceof L.LayerGroup?t.pm=new L.PM.Edit.LayerGroup(t):t instanceof L.ImageOverlay&&(t.pm=new L.PM.Edit.ImageOverlay(t)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(t){for(var i,a,u=this._map.mouseEventToLayerPoint(t),p=this._drawFirst;p;p=p.next)(i=p.layer).options.interactive&&i._containsPoint(u)&&(t.type!=="click"&&t.type!=="preclick"||!this._map._draggableMoved(i))&&(a=i);a&&(L.DomEvent.fakeStop(t),this._fireEvent([a],t))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(y){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof y!="function")throw new TypeError("callback must be a function");for(var v=Object(this),_=v.length>>>0,k=arguments[1],I=0;I<_;I++)if(y.call(k,v[I],I,v))return I;return-1},Array.prototype.find=Array.prototype.find||function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("callback must be a function");for(var v=Object(this),_=v.length>>>0,k=arguments[1],I=0;I<_;I++){var U=v[I];if(y.call(k,U,I,v))return U}},typeof Object.assign!="function"&&(Object.assign=function(y){"use strict";if(y==null)throw new TypeError("Cannot convert undefined or null to object");y=Object(y);for(var v=1;v<arguments.length;v++){var _=arguments[v];if(_!=null)for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(y[k]=_[k])}return y}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(y){y.hasOwnProperty("remove")||Object.defineProperty(y,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(y,v){if(this==null)throw new TypeError('"this" is null or not defined');var _=Object(this),k=_.length>>>0;if(k===0)return!1;for(var I,U,E=0|v,q=Math.max(E>=0?E:k-Math.abs(E),0);q<k;){if((I=_[q])===(U=y)||typeof I=="number"&&typeof U=="number"&&isNaN(I)&&isNaN(U))return!0;q++}return!1}})},1787:(y,v,_)=>{var k=_(2582),I=_(4102),U=_(1540),E=_(9705).Z,q=U.featureEach,le=(U.coordEach,I.polygon,I.featureCollection);function me(re){var K=new k(re);return K.insert=function(X){if(X.type!=="Feature")throw new Error("invalid feature");return X.bbox=X.bbox?X.bbox:E(X),k.prototype.insert.call(this,X)},K.load=function(X){var J=[];return Array.isArray(X)?X.forEach(function(V){if(V.type!=="Feature")throw new Error("invalid features");V.bbox=V.bbox?V.bbox:E(V),J.push(V)}):q(X,function(V){if(V.type!=="Feature")throw new Error("invalid features");V.bbox=V.bbox?V.bbox:E(V),J.push(V)}),k.prototype.load.call(this,J)},K.remove=function(X,J){if(X.type!=="Feature")throw new Error("invalid feature");return X.bbox=X.bbox?X.bbox:E(X),k.prototype.remove.call(this,X,J)},K.clear=function(){return k.prototype.clear.call(this)},K.search=function(X){var J=k.prototype.search.call(this,this.toBBox(X));return le(J)},K.collides=function(X){return k.prototype.collides.call(this,this.toBBox(X))},K.all=function(){var X=k.prototype.all.call(this);return le(X)},K.toJSON=function(){return k.prototype.toJSON.call(this)},K.fromJSON=function(X){return k.prototype.fromJSON.call(this,X)},K.toBBox=function(X){var J;if(X.bbox)J=X.bbox;else if(Array.isArray(X)&&X.length===4)J=X;else if(Array.isArray(X)&&X.length===6)J=[X[0],X[1],X[3],X[4]];else if(X.type==="Feature")J=E(X);else{if(X.type!=="FeatureCollection")throw new Error("invalid geojson");J=E(X)}return{minX:J[0],minY:J[1],maxX:J[2],maxY:J[3]}},K}y.exports=me,y.exports.default=me},1989:(y,v,_)=>{var k=_(1789),I=_(401),U=_(7667),E=_(1327),q=_(1866);function le(me){var re=-1,K=me==null?0:me.length;for(this.clear();++re<K;){var X=me[re];this.set(X[0],X[1])}}le.prototype.clear=k,le.prototype.delete=I,le.prototype.get=U,le.prototype.has=E,le.prototype.set=q,y.exports=le},8407:(y,v,_)=>{var k=_(7040),I=_(4125),U=_(2117),E=_(7518),q=_(4705);function le(me){var re=-1,K=me==null?0:me.length;for(this.clear();++re<K;){var X=me[re];this.set(X[0],X[1])}}le.prototype.clear=k,le.prototype.delete=I,le.prototype.get=U,le.prototype.has=E,le.prototype.set=q,y.exports=le},7071:(y,v,_)=>{var k=_(852)(_(5639),"Map");y.exports=k},3369:(y,v,_)=>{var k=_(4785),I=_(1285),U=_(6e3),E=_(9916),q=_(5265);function le(me){var re=-1,K=me==null?0:me.length;for(this.clear();++re<K;){var X=me[re];this.set(X[0],X[1])}}le.prototype.clear=k,le.prototype.delete=I,le.prototype.get=U,le.prototype.has=E,le.prototype.set=q,y.exports=le},6384:(y,v,_)=>{var k=_(8407),I=_(7465),U=_(3779),E=_(7599),q=_(4758),le=_(4309);function me(re){var K=this.__data__=new k(re);this.size=K.size}me.prototype.clear=I,me.prototype.delete=U,me.prototype.get=E,me.prototype.has=q,me.prototype.set=le,y.exports=me},2705:(y,v,_)=>{var k=_(5639).Symbol;y.exports=k},1149:(y,v,_)=>{var k=_(5639).Uint8Array;y.exports=k},6874:y=>{y.exports=function(v,_,k){switch(k.length){case 0:return v.call(_);case 1:return v.call(_,k[0]);case 2:return v.call(_,k[0],k[1]);case 3:return v.call(_,k[0],k[1],k[2])}return v.apply(_,k)}},4636:(y,v,_)=>{var k=_(2545),I=_(5694),U=_(1469),E=_(4144),q=_(5776),le=_(6719),me=Object.prototype.hasOwnProperty;y.exports=function(re,K){var X=U(re),J=!X&&I(re),V=!X&&!J&&E(re),$=!X&&!J&&!V&&le(re),ee=X||J||V||$,z=ee?k(re.length,String):[],Y=z.length;for(var l in re)!K&&!me.call(re,l)||ee&&(l=="length"||V&&(l=="offset"||l=="parent")||$&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||q(l,Y))||z.push(l);return z}},9932:y=>{y.exports=function(v,_){for(var k=-1,I=v==null?0:v.length,U=Array(I);++k<I;)U[k]=_(v[k],k,v);return U}},6556:(y,v,_)=>{var k=_(9465),I=_(7813);y.exports=function(U,E,q){(q!==void 0&&!I(U[E],q)||q===void 0&&!(E in U))&&k(U,E,q)}},4865:(y,v,_)=>{var k=_(9465),I=_(7813),U=Object.prototype.hasOwnProperty;y.exports=function(E,q,le){var me=E[q];U.call(E,q)&&I(me,le)&&(le!==void 0||q in E)||k(E,q,le)}},8470:(y,v,_)=>{var k=_(7813);y.exports=function(I,U){for(var E=I.length;E--;)if(k(I[E][0],U))return E;return-1}},9465:(y,v,_)=>{var k=_(8777);y.exports=function(I,U,E){U=="__proto__"&&k?k(I,U,{configurable:!0,enumerable:!0,value:E,writable:!0}):I[U]=E}},3118:(y,v,_)=>{var k=_(3218),I=Object.create,U=function(){function E(){}return function(q){if(!k(q))return{};if(I)return I(q);E.prototype=q;var le=new E;return E.prototype=void 0,le}}();y.exports=U},8483:(y,v,_)=>{var k=_(5063)();y.exports=k},7786:(y,v,_)=>{var k=_(1811),I=_(327);y.exports=function(U,E){for(var q=0,le=(E=k(E,U)).length;U!=null&&q<le;)U=U[I(E[q++])];return q&&q==le?U:void 0}},4239:(y,v,_)=>{var k=_(2705),I=_(9607),U=_(2333),E=k?k.toStringTag:void 0;y.exports=function(q){return q==null?q===void 0?"[object Undefined]":"[object Null]":E&&E in Object(q)?I(q):U(q)}},8565:y=>{var v=Object.prototype.hasOwnProperty;y.exports=function(_,k){return _!=null&&v.call(_,k)}},9454:(y,v,_)=>{var k=_(4239),I=_(7005);y.exports=function(U){return I(U)&&k(U)=="[object Arguments]"}},8458:(y,v,_)=>{var k=_(3560),I=_(5346),U=_(3218),E=_(346),q=/^\[object .+?Constructor\]$/,le=Function.prototype,me=Object.prototype,re=le.toString,K=me.hasOwnProperty,X=RegExp("^"+re.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");y.exports=function(J){return!(!U(J)||I(J))&&(k(J)?X:q).test(E(J))}},8749:(y,v,_)=>{var k=_(4239),I=_(1780),U=_(7005),E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Arguments]"]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object Boolean]"]=E["[object DataView]"]=E["[object Date]"]=E["[object Error]"]=E["[object Function]"]=E["[object Map]"]=E["[object Number]"]=E["[object Object]"]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object WeakMap]"]=!1,y.exports=function(q){return U(q)&&I(q.length)&&!!E[k(q)]}},313:(y,v,_)=>{var k=_(3218),I=_(5726),U=_(3498),E=Object.prototype.hasOwnProperty;y.exports=function(q){if(!k(q))return U(q);var le=I(q),me=[];for(var re in q)(re!="constructor"||!le&&E.call(q,re))&&me.push(re);return me}},2980:(y,v,_)=>{var k=_(6384),I=_(6556),U=_(8483),E=_(9783),q=_(3218),le=_(1704),me=_(6390);y.exports=function re(K,X,J,V,$){K!==X&&U(X,function(ee,z){if($||($=new k),q(ee))E(K,X,z,J,re,V,$);else{var Y=V?V(me(K,z),ee,z+"",K,X,$):void 0;Y===void 0&&(Y=ee),I(K,z,Y)}},le)}},9783:(y,v,_)=>{var k=_(6556),I=_(4626),U=_(7133),E=_(278),q=_(8517),le=_(5694),me=_(1469),re=_(9246),K=_(4144),X=_(3560),J=_(3218),V=_(8630),$=_(6719),ee=_(6390),z=_(9881);y.exports=function(Y,l,_e,ye,xe,ke,Be){var Me=ee(Y,_e),Ae=ee(l,_e),Ve=Be.get(Ae);if(Ve)k(Y,_e,Ve);else{var ze=ke?ke(Me,Ae,_e+"",Y,l,Be):void 0,Ce=ze===void 0;if(Ce){var yt=me(Ae),Te=!yt&&K(Ae),qe=!yt&&!Te&&$(Ae);ze=Ae,yt||Te||qe?me(Me)?ze=Me:re(Me)?ze=E(Me):Te?(Ce=!1,ze=I(Ae,!0)):qe?(Ce=!1,ze=U(Ae,!0)):ze=[]:V(Ae)||le(Ae)?(ze=Me,le(Me)?ze=z(Me):J(Me)&&!X(Me)||(ze=q(Ae))):Ce=!1}Ce&&(Be.set(Ae,ze),xe(ze,Ae,ye,ke,Be),Be.delete(Ae)),k(Y,_e,ze)}}},5976:(y,v,_)=>{var k=_(6557),I=_(5357),U=_(61);y.exports=function(E,q){return U(I(E,q,k),E+"")}},6560:(y,v,_)=>{var k=_(5703),I=_(8777),U=_(6557),E=I?function(q,le){return I(q,"toString",{configurable:!0,enumerable:!1,value:k(le),writable:!0})}:U;y.exports=E},2545:y=>{y.exports=function(v,_){for(var k=-1,I=Array(v);++k<v;)I[k]=_(k);return I}},531:(y,v,_)=>{var k=_(2705),I=_(9932),U=_(1469),E=_(3448),q=k?k.prototype:void 0,le=q?q.toString:void 0;y.exports=function me(re){if(typeof re=="string")return re;if(U(re))return I(re,me)+"";if(E(re))return le?le.call(re):"";var K=re+"";return K=="0"&&1/re==-1/0?"-0":K}},1717:y=>{y.exports=function(v){return function(_){return v(_)}}},1811:(y,v,_)=>{var k=_(1469),I=_(5403),U=_(5514),E=_(9833);y.exports=function(q,le){return k(q)?q:I(q,le)?[q]:U(E(q))}},4318:(y,v,_)=>{var k=_(1149);y.exports=function(I){var U=new I.constructor(I.byteLength);return new k(U).set(new k(I)),U}},4626:(y,v,_)=>{y=_.nmd(y);var k=_(5639),I=v&&!v.nodeType&&v,U=I&&y&&!y.nodeType&&y,E=U&&U.exports===I?k.Buffer:void 0,q=E?E.allocUnsafe:void 0;y.exports=function(le,me){if(me)return le.slice();var re=le.length,K=q?q(re):new le.constructor(re);return le.copy(K),K}},7133:(y,v,_)=>{var k=_(4318);y.exports=function(I,U){var E=U?k(I.buffer):I.buffer;return new I.constructor(E,I.byteOffset,I.length)}},278:y=>{y.exports=function(v,_){var k=-1,I=v.length;for(_||(_=Array(I));++k<I;)_[k]=v[k];return _}},8363:(y,v,_)=>{var k=_(4865),I=_(9465);y.exports=function(U,E,q,le){var me=!q;q||(q={});for(var re=-1,K=E.length;++re<K;){var X=E[re],J=le?le(q[X],U[X],X,q,U):void 0;J===void 0&&(J=U[X]),me?I(q,X,J):k(q,X,J)}return q}},4429:(y,v,_)=>{var k=_(5639)["__core-js_shared__"];y.exports=k},1463:(y,v,_)=>{var k=_(5976),I=_(6612);y.exports=function(U){return k(function(E,q){var le=-1,me=q.length,re=me>1?q[me-1]:void 0,K=me>2?q[2]:void 0;for(re=U.length>3&&typeof re=="function"?(me--,re):void 0,K&&I(q[0],q[1],K)&&(re=me<3?void 0:re,me=1),E=Object(E);++le<me;){var X=q[le];X&&U(E,X,le,re)}return E})}},5063:y=>{y.exports=function(v){return function(_,k,I){for(var U=-1,E=Object(_),q=I(_),le=q.length;le--;){var me=q[v?le:++U];if(k(E[me],me,E)===!1)break}return _}}},8777:(y,v,_)=>{var k=_(852),I=function(){try{var U=k(Object,"defineProperty");return U({},"",{}),U}catch{}}();y.exports=I},1957:(y,v,_)=>{var k=typeof _.g=="object"&&_.g&&_.g.Object===Object&&_.g;y.exports=k},5050:(y,v,_)=>{var k=_(7019);y.exports=function(I,U){var E=I.__data__;return k(U)?E[typeof U=="string"?"string":"hash"]:E.map}},852:(y,v,_)=>{var k=_(8458),I=_(7801);y.exports=function(U,E){var q=I(U,E);return k(q)?q:void 0}},5924:(y,v,_)=>{var k=_(5569)(Object.getPrototypeOf,Object);y.exports=k},9607:(y,v,_)=>{var k=_(2705),I=Object.prototype,U=I.hasOwnProperty,E=I.toString,q=k?k.toStringTag:void 0;y.exports=function(le){var me=U.call(le,q),re=le[q];try{le[q]=void 0;var K=!0}catch{}var X=E.call(le);return K&&(me?le[q]=re:delete le[q]),X}},7801:y=>{y.exports=function(v,_){return v?.[_]}},222:(y,v,_)=>{var k=_(1811),I=_(5694),U=_(1469),E=_(5776),q=_(1780),le=_(327);y.exports=function(me,re,K){for(var X=-1,J=(re=k(re,me)).length,V=!1;++X<J;){var $=le(re[X]);if(!(V=me!=null&&K(me,$)))break;me=me[$]}return V||++X!=J?V:!!(J=me==null?0:me.length)&&q(J)&&E($,J)&&(U(me)||I(me))}},1789:(y,v,_)=>{var k=_(4536);y.exports=function(){this.__data__=k?k(null):{},this.size=0}},401:y=>{y.exports=function(v){var _=this.has(v)&&delete this.__data__[v];return this.size-=_?1:0,_}},7667:(y,v,_)=>{var k=_(4536),I=Object.prototype.hasOwnProperty;y.exports=function(U){var E=this.__data__;if(k){var q=E[U];return q==="__lodash_hash_undefined__"?void 0:q}return I.call(E,U)?E[U]:void 0}},1327:(y,v,_)=>{var k=_(4536),I=Object.prototype.hasOwnProperty;y.exports=function(U){var E=this.__data__;return k?E[U]!==void 0:I.call(E,U)}},1866:(y,v,_)=>{var k=_(4536);y.exports=function(I,U){var E=this.__data__;return this.size+=this.has(I)?0:1,E[I]=k&&U===void 0?"__lodash_hash_undefined__":U,this}},8517:(y,v,_)=>{var k=_(3118),I=_(5924),U=_(5726);y.exports=function(E){return typeof E.constructor!="function"||U(E)?{}:k(I(E))}},5776:y=>{var v=/^(?:0|[1-9]\d*)$/;y.exports=function(_,k){var I=typeof _;return!!(k=k??9007199254740991)&&(I=="number"||I!="symbol"&&v.test(_))&&_>-1&&_%1==0&&_<k}},6612:(y,v,_)=>{var k=_(7813),I=_(8612),U=_(5776),E=_(3218);y.exports=function(q,le,me){if(!E(me))return!1;var re=typeof le;return!!(re=="number"?I(me)&&U(le,me.length):re=="string"&&le in me)&&k(me[le],q)}},5403:(y,v,_)=>{var k=_(1469),I=_(3448),U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;y.exports=function(q,le){if(k(q))return!1;var me=typeof q;return!(me!="number"&&me!="symbol"&&me!="boolean"&&q!=null&&!I(q))||E.test(q)||!U.test(q)||le!=null&&q in Object(le)}},7019:y=>{y.exports=function(v){var _=typeof v;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?v!=="__proto__":v===null}},5346:(y,v,_)=>{var k,I=_(4429),U=(k=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";y.exports=function(E){return!!U&&U in E}},5726:y=>{var v=Object.prototype;y.exports=function(_){var k=_&&_.constructor;return _===(typeof k=="function"&&k.prototype||v)}},7040:y=>{y.exports=function(){this.__data__=[],this.size=0}},4125:(y,v,_)=>{var k=_(8470),I=Array.prototype.splice;y.exports=function(U){var E=this.__data__,q=k(E,U);return!(q<0)&&(q==E.length-1?E.pop():I.call(E,q,1),--this.size,!0)}},2117:(y,v,_)=>{var k=_(8470);y.exports=function(I){var U=this.__data__,E=k(U,I);return E<0?void 0:U[E][1]}},7518:(y,v,_)=>{var k=_(8470);y.exports=function(I){return k(this.__data__,I)>-1}},4705:(y,v,_)=>{var k=_(8470);y.exports=function(I,U){var E=this.__data__,q=k(E,I);return q<0?(++this.size,E.push([I,U])):E[q][1]=U,this}},4785:(y,v,_)=>{var k=_(1989),I=_(8407),U=_(7071);y.exports=function(){this.size=0,this.__data__={hash:new k,map:new(U||I),string:new k}}},1285:(y,v,_)=>{var k=_(5050);y.exports=function(I){var U=k(this,I).delete(I);return this.size-=U?1:0,U}},6e3:(y,v,_)=>{var k=_(5050);y.exports=function(I){return k(this,I).get(I)}},9916:(y,v,_)=>{var k=_(5050);y.exports=function(I){return k(this,I).has(I)}},5265:(y,v,_)=>{var k=_(5050);y.exports=function(I,U){var E=k(this,I),q=E.size;return E.set(I,U),this.size+=E.size==q?0:1,this}},4523:(y,v,_)=>{var k=_(8306);y.exports=function(I){var U=k(I,function(q){return E.size===500&&E.clear(),q}),E=U.cache;return U}},4536:(y,v,_)=>{var k=_(852)(Object,"create");y.exports=k},3498:y=>{y.exports=function(v){var _=[];if(v!=null)for(var k in Object(v))_.push(k);return _}},1167:(y,v,_)=>{y=_.nmd(y);var k=_(1957),I=v&&!v.nodeType&&v,U=I&&y&&!y.nodeType&&y,E=U&&U.exports===I&&k.process,q=function(){try{var le=U&&U.require&&U.require("util").types;return le||E&&E.binding&&E.binding("util")}catch{}}();y.exports=q},2333:y=>{var v=Object.prototype.toString;y.exports=function(_){return v.call(_)}},5569:y=>{y.exports=function(v,_){return function(k){return v(_(k))}}},5357:(y,v,_)=>{var k=_(6874),I=Math.max;y.exports=function(U,E,q){return E=I(E===void 0?U.length-1:E,0),function(){for(var le=arguments,me=-1,re=I(le.length-E,0),K=Array(re);++me<re;)K[me]=le[E+me];me=-1;for(var X=Array(E+1);++me<E;)X[me]=le[me];return X[E]=q(K),k(U,this,X)}}},5639:(y,v,_)=>{var k=_(1957),I=typeof self=="object"&&self&&self.Object===Object&&self,U=k||I||Function("return this")();y.exports=U},6390:y=>{y.exports=function(v,_){if((_!=="constructor"||typeof v[_]!="function")&&_!="__proto__")return v[_]}},61:(y,v,_)=>{var k=_(6560),I=_(1275)(k);y.exports=I},1275:y=>{var v=Date.now;y.exports=function(_){var k=0,I=0;return function(){var U=v(),E=16-(U-I);if(I=U,E>0){if(++k>=800)return arguments[0]}else k=0;return _.apply(void 0,arguments)}}},7465:(y,v,_)=>{var k=_(8407);y.exports=function(){this.__data__=new k,this.size=0}},3779:y=>{y.exports=function(v){var _=this.__data__,k=_.delete(v);return this.size=_.size,k}},7599:y=>{y.exports=function(v){return this.__data__.get(v)}},4758:y=>{y.exports=function(v){return this.__data__.has(v)}},4309:(y,v,_)=>{var k=_(8407),I=_(7071),U=_(3369);y.exports=function(E,q){var le=this.__data__;if(le instanceof k){var me=le.__data__;if(!I||me.length<199)return me.push([E,q]),this.size=++le.size,this;le=this.__data__=new U(me)}return le.set(E,q),this.size=le.size,this}},5514:(y,v,_)=>{var k=_(4523),I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/\\(\\)?/g,E=k(function(q){var le=[];return q.charCodeAt(0)===46&&le.push(""),q.replace(I,function(me,re,K,X){le.push(K?X.replace(U,"$1"):re||me)}),le});y.exports=E},327:(y,v,_)=>{var k=_(3448);y.exports=function(I){if(typeof I=="string"||k(I))return I;var U=I+"";return U=="0"&&1/I==-1/0?"-0":U}},346:y=>{var v=Function.prototype.toString;y.exports=function(_){if(_!=null){try{return v.call(_)}catch{}try{return _+""}catch{}}return""}},5703:y=>{y.exports=function(v){return function(){return v}}},7813:y=>{y.exports=function(v,_){return v===_||v!=v&&_!=_}},7361:(y,v,_)=>{var k=_(7786);y.exports=function(I,U,E){var q=I==null?void 0:k(I,U);return q===void 0?E:q}},8721:(y,v,_)=>{var k=_(8565),I=_(222);y.exports=function(U,E){return U!=null&&I(U,E,k)}},6557:y=>{y.exports=function(v){return v}},5694:(y,v,_)=>{var k=_(9454),I=_(7005),U=Object.prototype,E=U.hasOwnProperty,q=U.propertyIsEnumerable,le=k(function(){return arguments}())?k:function(me){return I(me)&&E.call(me,"callee")&&!q.call(me,"callee")};y.exports=le},1469:y=>{var v=Array.isArray;y.exports=v},8612:(y,v,_)=>{var k=_(3560),I=_(1780);y.exports=function(U){return U!=null&&I(U.length)&&!k(U)}},9246:(y,v,_)=>{var k=_(8612),I=_(7005);y.exports=function(U){return I(U)&&k(U)}},4144:(y,v,_)=>{y=_.nmd(y);var k=_(5639),I=_(5062),U=v&&!v.nodeType&&v,E=U&&y&&!y.nodeType&&y,q=E&&E.exports===U?k.Buffer:void 0,le=(q?q.isBuffer:void 0)||I;y.exports=le},3560:(y,v,_)=>{var k=_(4239),I=_(3218);y.exports=function(U){if(!I(U))return!1;var E=k(U);return E=="[object Function]"||E=="[object GeneratorFunction]"||E=="[object AsyncFunction]"||E=="[object Proxy]"}},1780:y=>{y.exports=function(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=9007199254740991}},3218:y=>{y.exports=function(v){var _=typeof v;return v!=null&&(_=="object"||_=="function")}},7005:y=>{y.exports=function(v){return v!=null&&typeof v=="object"}},8630:(y,v,_)=>{var k=_(4239),I=_(5924),U=_(7005),E=Function.prototype,q=Object.prototype,le=E.toString,me=q.hasOwnProperty,re=le.call(Object);y.exports=function(K){if(!U(K)||k(K)!="[object Object]")return!1;var X=I(K);if(X===null)return!0;var J=me.call(X,"constructor")&&X.constructor;return typeof J=="function"&&J instanceof J&&le.call(J)==re}},3448:(y,v,_)=>{var k=_(4239),I=_(7005);y.exports=function(U){return typeof U=="symbol"||I(U)&&k(U)=="[object Symbol]"}},6719:(y,v,_)=>{var k=_(8749),I=_(1717),U=_(1167),E=U&&U.isTypedArray,q=E?I(E):k;y.exports=q},1704:(y,v,_)=>{var k=_(4636),I=_(313),U=_(8612);y.exports=function(E){return U(E)?k(E,!0):I(E)}},8306:(y,v,_)=>{var k=_(3369);function I(U,E){if(typeof U!="function"||E!=null&&typeof E!="function")throw new TypeError("Expected a function");var q=function(){var le=arguments,me=E?E.apply(this,le):le[0],re=q.cache;if(re.has(me))return re.get(me);var K=U.apply(this,le);return q.cache=re.set(me,K)||re,K};return q.cache=new(I.Cache||k),q}I.Cache=k,y.exports=I},2492:(y,v,_)=>{var k=_(2980),I=_(1463)(function(U,E,q){k(U,E,q)});y.exports=I},5062:y=>{y.exports=function(){return!1}},9881:(y,v,_)=>{var k=_(8363),I=_(1704);y.exports=function(U){return k(U,I(U))}},9833:(y,v,_)=>{var k=_(531);y.exports=function(I){return I==null?"":k(I)}},2676:function(y){y.exports=function(){"use strict";function v(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}function _(R,b){for(var w=0;w<b.length;w++){var D=b[w];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(R,D.key,D)}}function k(R,b,w){return b&&_(R.prototype,b),w&&_(R,w),R}var I=function(){function R(b,w){this.next=null,this.key=b,this.data=w,this.left=null,this.right=null}return R}();function U(R,b){return R>b?1:R<b?-1:0}function E(R,b,w){for(var D=new I(null,null),G=D,S=D;;){var he=w(R,b.key);if(he<0){if(b.left===null)break;if(w(R,b.left.key)<0){var be=b.left;if(b.left=be.right,be.right=b,(b=be).left===null)break}S.left=b,S=b,b=b.left}else{if(!(he>0)||b.right===null||w(R,b.right.key)>0&&(be=b.right,b.right=be.left,be.left=b,(b=be).right===null))break;G.right=b,G=b,b=b.right}}return G.right=b.left,S.left=b.right,b.left=D.right,b.right=D.left,b}function q(R,b,w,D){var G=new I(R,b);if(w===null)return G.left=G.right=null,G;var S=D(R,(w=E(R,w,D)).key);return S<0?(G.left=w.left,G.right=w,w.left=null):S>=0&&(G.right=w.right,G.left=w,w.right=null),G}function le(R,b,w){var D=null,G=null;if(b){var S=w((b=E(R,b,w)).key,R);S===0?(D=b.left,G=b.right):S<0?(G=b.right,b.right=null,D=b):(D=b.left,b.left=null,G=b)}return{left:D,right:G}}function me(R,b,w){return b===null?R:(R===null||((b=E(R.key,b,w)).left=R),b)}function re(R,b,w,D,G){if(R){D(b+(w?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+G(R)+`
`);var S=b+(w?"    ":"\u2502   ");R.left&&re(R.left,S,!1,D,G),R.right&&re(R.right,S,!0,D,G)}}var K=function(){function R(b){b===void 0&&(b=U),this._root=null,this._size=0,this._comparator=b}return R.prototype.insert=function(b,w){return this._size++,this._root=q(b,w,this._root,this._comparator)},R.prototype.add=function(b,w){var D=new I(b,w);this._root===null&&(D.left=D.right=null,this._size++,this._root=D);var G=this._comparator,S=E(b,this._root,G),he=G(b,S.key);return he===0?this._root=S:(he<0?(D.left=S.left,D.right=S,S.left=null):he>0&&(D.right=S.right,D.left=S,S.right=null),this._size++,this._root=D),this._root},R.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},R.prototype._remove=function(b,w,D){var G;return w===null?null:D(b,(w=E(b,w,D)).key)===0?(w.left===null?G=w.right:(G=E(b,w.left,D)).right=w.right,this._size--,G):w},R.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=E(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},R.prototype.findStatic=function(b){for(var w=this._root,D=this._comparator;w;){var G=D(b,w.key);if(G===0)return w;w=G<0?w.left:w.right}return null},R.prototype.find=function(b){return this._root&&(this._root=E(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},R.prototype.contains=function(b){for(var w=this._root,D=this._comparator;w;){var G=D(b,w.key);if(G===0)return!0;w=G<0?w.left:w.right}return!1},R.prototype.forEach=function(b,w){for(var D=this._root,G=[],S=!1;!S;)D!==null?(G.push(D),D=D.left):G.length!==0?(D=G.pop(),b.call(w,D),D=D.right):S=!0;return this},R.prototype.range=function(b,w,D,G){for(var S=[],he=this._comparator,be=this._root;S.length!==0||be;)if(be)S.push(be),be=be.left;else{if(he((be=S.pop()).key,w)>0)break;if(he(be.key,b)>=0&&D.call(G,be))return this;be=be.right}return this},R.prototype.keys=function(){var b=[];return this.forEach(function(w){var D=w.key;return b.push(D)}),b},R.prototype.values=function(){var b=[];return this.forEach(function(w){var D=w.data;return b.push(D)}),b},R.prototype.min=function(){return this._root?this.minNode(this._root).key:null},R.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},R.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},R.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},R.prototype.at=function(b){for(var w=this._root,D=!1,G=0,S=[];!D;)if(w)S.push(w),w=w.left;else if(S.length>0){if(w=S.pop(),G===b)return w;G++,w=w.right}else D=!0;return null},R.prototype.next=function(b){var w=this._root,D=null;if(b.right){for(D=b.right;D.left;)D=D.left;return D}for(var G=this._comparator;w;){var S=G(b.key,w.key);if(S===0)break;S<0?(D=w,w=w.left):w=w.right}return D},R.prototype.prev=function(b){var w=this._root,D=null;if(b.left!==null){for(D=b.left;D.right;)D=D.right;return D}for(var G=this._comparator;w;){var S=G(b.key,w.key);if(S===0)break;S<0?w=w.left:(D=w,w=w.right)}return D},R.prototype.clear=function(){return this._root=null,this._size=0,this},R.prototype.toList=function(){return V(this._root)},R.prototype.load=function(b,w,D){w===void 0&&(w=[]),D===void 0&&(D=!1);var G=b.length,S=this._comparator;if(D&&z(b,w,0,G-1,S),this._root===null)this._root=X(b,w,0,G),this._size=G;else{var he=ee(this.toList(),J(b,w),S);G=this._size+G,this._root=$({head:he},0,G)}return this},R.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(R.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),R.prototype.toString=function(b){b===void 0&&(b=function(D){return String(D.key)});var w=[];return re(this._root,"",!0,function(D){return w.push(D)},b),w.join("")},R.prototype.update=function(b,w,D){var G=this._comparator,S=le(b,this._root,G),he=S.left,be=S.right;G(b,w)<0?be=q(w,D,be,G):he=q(w,D,he,G),this._root=me(he,be,G)},R.prototype.split=function(b){return le(b,this._root,this._comparator)},R}();function X(R,b,w,D){var G=D-w;if(G>0){var S=w+Math.floor(G/2),he=R[S],be=b[S],Ie=new I(he,be);return Ie.left=X(R,b,w,S),Ie.right=X(R,b,S+1,D),Ie}return null}function J(R,b){for(var w=new I(null,null),D=w,G=0;G<R.length;G++)D=D.next=new I(R[G],b[G]);return D.next=null,w.next}function V(R){for(var b=R,w=[],D=!1,G=new I(null,null),S=G;!D;)b?(w.push(b),b=b.left):w.length>0?b=(b=S=S.next=w.pop()).right:D=!0;return S.next=null,G.next}function $(R,b,w){var D=w-b;if(D>0){var G=b+Math.floor(D/2),S=$(R,b,G),he=R.head;return he.left=S,R.head=R.head.next,he.right=$(R,G+1,w),he}return null}function ee(R,b,w){for(var D=new I(null,null),G=D,S=R,he=b;S!==null&&he!==null;)w(S.key,he.key)<0?(G.next=S,S=S.next):(G.next=he,he=he.next),G=G.next;return S!==null?G.next=S:he!==null&&(G.next=he),D.next}function z(R,b,w,D,G){if(!(w>=D)){for(var S=R[w+D>>1],he=w-1,be=D+1;;){do he++;while(G(R[he],S)<0);do be--;while(G(R[be],S)>0);if(he>=be)break;var Ie=R[he];R[he]=R[be],R[be]=Ie,Ie=b[he],b[he]=b[be],b[be]=Ie}z(R,b,w,be,G),z(R,b,be+1,D,G)}}var Y=function(R,b){return R.ll.x<=b.x&&b.x<=R.ur.x&&R.ll.y<=b.y&&b.y<=R.ur.y},l=function(R,b){if(b.ur.x<R.ll.x||R.ur.x<b.ll.x||b.ur.y<R.ll.y||R.ur.y<b.ll.y)return null;var w=R.ll.x<b.ll.x?b.ll.x:R.ll.x,D=R.ur.x<b.ur.x?R.ur.x:b.ur.x;return{ll:{x:w,y:R.ll.y<b.ll.y?b.ll.y:R.ll.y},ur:{x:D,y:R.ur.y<b.ur.y?R.ur.y:b.ur.y}}},_e=Number.EPSILON;_e===void 0&&(_e=Math.pow(2,-52));var ye=_e*_e,xe=function(R,b){if(-_e<R&&R<_e&&-_e<b&&b<_e)return 0;var w=R-b;return w*w<ye*R*b?0:R<b?-1:1},ke=function(){function R(){v(this,R),this.reset()}return k(R,[{key:"reset",value:function(){this.xRounder=new Be,this.yRounder=new Be}},{key:"round",value:function(b,w){return{x:this.xRounder.round(b),y:this.yRounder.round(w)}}}]),R}(),Be=function(){function R(){v(this,R),this.tree=new K,this.round(0)}return k(R,[{key:"round",value:function(b){var w=this.tree.add(b),D=this.tree.prev(w);if(D!==null&&xe(w.key,D.key)===0)return this.tree.remove(b),D.key;var G=this.tree.next(w);return G!==null&&xe(w.key,G.key)===0?(this.tree.remove(b),G.key):b}}]),R}(),Me=new ke,Ae=function(R,b){return R.x*b.y-R.y*b.x},Ve=function(R,b){return R.x*b.x+R.y*b.y},ze=function(R,b,w){var D={x:b.x-R.x,y:b.y-R.y},G={x:w.x-R.x,y:w.y-R.y},S=Ae(D,G);return xe(S,0)},Ce=function(R){return Math.sqrt(Ve(R,R))},yt=function(R,b,w){var D={x:b.x-R.x,y:b.y-R.y},G={x:w.x-R.x,y:w.y-R.y};return Ae(G,D)/Ce(G)/Ce(D)},Te=function(R,b,w){var D={x:b.x-R.x,y:b.y-R.y},G={x:w.x-R.x,y:w.y-R.y};return Ve(G,D)/Ce(G)/Ce(D)},qe=function(R,b,w){return b.y===0?null:{x:R.x+b.x/b.y*(w-R.y),y:w}},_t=function(R,b,w){return b.x===0?null:{x:w,y:R.y+b.y/b.x*(w-R.x)}},Ze=function(R,b,w,D){if(b.x===0)return _t(w,D,R.x);if(D.x===0)return _t(R,b,w.x);if(b.y===0)return qe(w,D,R.y);if(D.y===0)return qe(R,b,w.y);var G=Ae(b,D);if(G==0)return null;var S={x:w.x-R.x,y:w.y-R.y},he=Ae(S,b)/G,be=Ae(S,D)/G;return{x:(R.x+be*b.x+(w.x+he*D.x))/2,y:(R.y+be*b.y+(w.y+he*D.y))/2}},He=function(){function R(b,w){v(this,R),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=w}return k(R,null,[{key:"compare",value:function(b,w){var D=R.comparePoints(b.point,w.point);return D!==0?D:(b.point!==w.point&&b.link(w),b.isLeft!==w.isLeft?b.isLeft?1:-1:it.compare(b.segment,w.segment))}},{key:"comparePoints",value:function(b,w){return b.x<w.x?-1:b.x>w.x?1:b.y<w.y?-1:b.y>w.y?1:0}}]),k(R,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var w=b.point.events,D=0,G=w.length;D<G;D++){var S=w[D];this.point.events.push(S),S.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,w=0;w<b;w++){var D=this.point.events[w];if(D.segment.consumedBy===void 0)for(var G=w+1;G<b;G++){var S=this.point.events[G];S.consumedBy===void 0&&D.otherSE.point.events===S.otherSE.point.events&&D.segment.consume(S.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],w=0,D=this.point.events.length;w<D;w++){var G=this.point.events[w];G!==this&&!G.segment.ringOut&&G.segment.isInResult()&&b.push(G)}return b}},{key:"getLeftmostComparator",value:function(b){var w=this,D=new Map,G=function(S){var he=S.otherSE;D.set(S,{sine:yt(w.point,b.point,he.point),cosine:Te(w.point,b.point,he.point)})};return function(S,he){D.has(S)||G(S),D.has(he)||G(he);var be=D.get(S),Ie=be.sine,Ue=be.cosine,Xe=D.get(he),at=Xe.sine,tt=Xe.cosine;return Ie>=0&&at>=0?Ue<tt?1:Ue>tt?-1:0:Ie<0&&at<0?Ue<tt?-1:Ue>tt?1:0:at<Ie?-1:at>Ie?1:0}}}]),R}(),ct=0,it=function(){function R(b,w,D,G){v(this,R),this.id=++ct,this.leftSE=b,b.segment=this,b.otherSE=w,this.rightSE=w,w.segment=this,w.otherSE=b,this.rings=D,this.windings=G}return k(R,null,[{key:"compare",value:function(b,w){var D=b.leftSE.point.x,G=w.leftSE.point.x,S=b.rightSE.point.x,he=w.rightSE.point.x;if(he<D)return 1;if(S<G)return-1;var be=b.leftSE.point.y,Ie=w.leftSE.point.y,Ue=b.rightSE.point.y,Xe=w.rightSE.point.y;if(D<G){if(Ie<be&&Ie<Ue)return 1;if(Ie>be&&Ie>Ue)return-1;var at=b.comparePoint(w.leftSE.point);if(at<0)return 1;if(at>0)return-1;var tt=w.comparePoint(b.rightSE.point);return tt!==0?tt:-1}if(D>G){if(be<Ie&&be<Xe)return-1;if(be>Ie&&be>Xe)return 1;var st=w.comparePoint(b.leftSE.point);if(st!==0)return st;var We=b.comparePoint(w.rightSE.point);return We<0?1:We>0?-1:1}if(be<Ie)return-1;if(be>Ie)return 1;if(S<he){var bt=w.comparePoint(b.rightSE.point);if(bt!==0)return bt}if(S>he){var kt=b.comparePoint(w.rightSE.point);if(kt<0)return 1;if(kt>0)return-1}if(S!==he){var Pt=Ue-be,Ft=S-D,Ot=Xe-Ie,Ht=he-G;if(Pt>Ft&&Ot<Ht)return 1;if(Pt<Ft&&Ot>Ht)return-1}return S>he?1:S<he||Ue<Xe?-1:Ue>Xe?1:b.id<w.id?-1:b.id>w.id?1:0}}]),k(R,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,w=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<w?b:w},ur:{x:this.rightSE.point.x,y:b>w?b:w}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var w=this.leftSE.point,D=this.rightSE.point,G=this.vector();if(w.x===D.x)return b.x===w.x?0:b.x<w.x?1:-1;var S=(b.y-w.y)/G.y,he=w.x+S*G.x;if(b.x===he)return 0;var be=(b.x-w.x)/G.x,Ie=w.y+be*G.y;return b.y===Ie?0:b.y<Ie?-1:1}},{key:"getIntersection",value:function(b){var w=this.bbox(),D=b.bbox(),G=l(w,D);if(G===null)return null;var S=this.leftSE.point,he=this.rightSE.point,be=b.leftSE.point,Ie=b.rightSE.point,Ue=Y(w,be)&&this.comparePoint(be)===0,Xe=Y(D,S)&&b.comparePoint(S)===0,at=Y(w,Ie)&&this.comparePoint(Ie)===0,tt=Y(D,he)&&b.comparePoint(he)===0;if(Xe&&Ue)return tt&&!at?he:!tt&&at?Ie:null;if(Xe)return at&&S.x===Ie.x&&S.y===Ie.y?null:S;if(Ue)return tt&&he.x===be.x&&he.y===be.y?null:be;if(tt&&at)return null;if(tt)return he;if(at)return Ie;var st=Ze(S,this.vector(),be,b.vector());return st===null?null:Y(G,st)?Me.round(st.x,st.y):null}},{key:"split",value:function(b){var w=[],D=b.events!==void 0,G=new He(b,!0),S=new He(b,!1),he=this.rightSE;this.replaceRightSE(S),w.push(S),w.push(G);var be=new R(G,he,this.rings.slice(),this.windings.slice());return He.comparePoints(be.leftSE.point,be.rightSE.point)>0&&be.swapEvents(),He.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),D&&(G.checkForConsuming(),S.checkForConsuming()),w}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var w=0,D=this.windings.length;w<D;w++)this.windings[w]*=-1}},{key:"consume",value:function(b){for(var w=this,D=b;w.consumedBy;)w=w.consumedBy;for(;D.consumedBy;)D=D.consumedBy;var G=R.compare(w,D);if(G!==0){if(G>0){var S=w;w=D,D=S}if(w.prev===D){var he=w;w=D,D=he}for(var be=0,Ie=D.rings.length;be<Ie;be++){var Ue=D.rings[be],Xe=D.windings[be],at=w.rings.indexOf(Ue);at===-1?(w.rings.push(Ue),w.windings.push(Xe)):w.windings[at]+=Xe}D.rings=null,D.windings=null,D.consumedBy=w,D.leftSE.consumedBy=w.leftSE,D.rightSE.consumedBy=w.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var w=this._afterState.rings,D=this._afterState.windings,G=this._afterState.multiPolys,S=0,he=this.rings.length;S<he;S++){var be=this.rings[S],Ie=this.windings[S],Ue=w.indexOf(be);Ue===-1?(w.push(be),D.push(Ie)):D[Ue]+=Ie}for(var Xe=[],at=[],tt=0,st=w.length;tt<st;tt++)if(D[tt]!==0){var We=w[tt],bt=We.poly;if(at.indexOf(bt)===-1)if(We.isExterior)Xe.push(bt);else{at.indexOf(bt)===-1&&at.push(bt);var kt=Xe.indexOf(We.poly);kt!==-1&&Xe.splice(kt,1)}}for(var Pt=0,Ft=Xe.length;Pt<Ft;Pt++){var Ot=Xe[Pt].multiPoly;G.indexOf(Ot)===-1&&G.push(Ot)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,w=this.afterState().multiPolys;switch(qt.type){case"union":var D=b.length===0,G=w.length===0;this._isInResult=D!==G;break;case"intersection":var S,he;b.length<w.length?(S=b.length,he=w.length):(S=w.length,he=b.length),this._isInResult=he===qt.numMultiPolys&&S<he;break;case"xor":var be=Math.abs(b.length-w.length);this._isInResult=be%2==1;break;case"difference":var Ie=function(Ue){return Ue.length===1&&Ue[0].isSubject};this._isInResult=Ie(b)!==Ie(w);break;default:throw new Error("Unrecognized operation type found ".concat(qt.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,w,D){var G,S,he,be=He.comparePoints(b,w);if(be<0)G=b,S=w,he=1;else{if(!(be>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));G=w,S=b,he=-1}return new R(new He(G,!0),new He(S,!1),[D],[he])}}]),R}(),nn=function(){function R(b,w,D){if(v(this,R),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=w,this.isExterior=D,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var G=Me.round(b[0][0],b[0][1]);this.bbox={ll:{x:G.x,y:G.y},ur:{x:G.x,y:G.y}};for(var S=G,he=1,be=b.length;he<be;he++){if(typeof b[he][0]!="number"||typeof b[he][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ie=Me.round(b[he][0],b[he][1]);Ie.x===S.x&&Ie.y===S.y||(this.segments.push(it.fromRing(S,Ie,this)),Ie.x<this.bbox.ll.x&&(this.bbox.ll.x=Ie.x),Ie.y<this.bbox.ll.y&&(this.bbox.ll.y=Ie.y),Ie.x>this.bbox.ur.x&&(this.bbox.ur.x=Ie.x),Ie.y>this.bbox.ur.y&&(this.bbox.ur.y=Ie.y),S=Ie)}G.x===S.x&&G.y===S.y||this.segments.push(it.fromRing(S,G,this))}return k(R,[{key:"getSweepEvents",value:function(){for(var b=[],w=0,D=this.segments.length;w<D;w++){var G=this.segments[w];b.push(G.leftSE),b.push(G.rightSE)}return b}}]),R}(),zt=function(){function R(b,w){if(v(this,R),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new nn(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var D=1,G=b.length;D<G;D++){var S=new nn(b[D],this,!1);S.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=S.bbox.ll.x),S.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=S.bbox.ll.y),S.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=S.bbox.ur.x),S.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=S.bbox.ur.y),this.interiorRings.push(S)}this.multiPoly=w}return k(R,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),w=0,D=this.interiorRings.length;w<D;w++)for(var G=this.interiorRings[w].getSweepEvents(),S=0,he=G.length;S<he;S++)b.push(G[S]);return b}}]),R}(),vi=function(){function R(b,w){if(v(this,R),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var D=0,G=b.length;D<G;D++){var S=new zt(b[D],this);S.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=S.bbox.ll.x),S.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=S.bbox.ll.y),S.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=S.bbox.ur.x),S.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=S.bbox.ur.y),this.polys.push(S)}this.isSubject=w}return k(R,[{key:"getSweepEvents",value:function(){for(var b=[],w=0,D=this.polys.length;w<D;w++)for(var G=this.polys[w].getSweepEvents(),S=0,he=G.length;S<he;S++)b.push(G[S]);return b}}]),R}(),rn=function(){function R(b){v(this,R),this.events=b;for(var w=0,D=b.length;w<D;w++)b[w].segment.ringOut=this;this.poly=null}return k(R,null,[{key:"factory",value:function(b){for(var w=[],D=0,G=b.length;D<G;D++){var S=b[D];if(S.isInResult()&&!S.ringOut){for(var he=null,be=S.leftSE,Ie=S.rightSE,Ue=[be],Xe=be.point,at=[];he=be,be=Ie,Ue.push(be),be.point!==Xe;)for(;;){var tt=be.getAvailableLinkedEvents();if(tt.length===0){var st=Ue[0].point,We=Ue[Ue.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(st.x,",")+" ".concat(st.y,"]. Last matching segment found ends at")+" [".concat(We.x,", ").concat(We.y,"]."))}if(tt.length===1){Ie=tt[0].otherSE;break}for(var bt=null,kt=0,Pt=at.length;kt<Pt;kt++)if(at[kt].point===be.point){bt=kt;break}if(bt===null){at.push({index:Ue.length,point:be.point});var Ft=be.getLeftmostComparator(he);Ie=tt.sort(Ft)[0].otherSE;break}var Ot=at.splice(bt)[0],Ht=Ue.splice(Ot.index);Ht.unshift(Ht[0].otherSE),w.push(new R(Ht.reverse()))}w.push(new R(Ue))}}return w}}]),k(R,[{key:"getGeom",value:function(){for(var b=this.events[0].point,w=[b],D=1,G=this.events.length-1;D<G;D++){var S=this.events[D].point,he=this.events[D+1].point;ze(S,b,he)!==0&&(w.push(S),b=S)}if(w.length===1)return null;var be=w[0],Ie=w[1];ze(be,b,Ie)===0&&w.shift(),w.push(w[0]);for(var Ue=this.isExteriorRing()?1:-1,Xe=this.isExteriorRing()?0:w.length-1,at=this.isExteriorRing()?w.length:-1,tt=[],st=Xe;st!=at;st+=Ue)tt.push([w[st].x,w[st].y]);return tt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],w=1,D=this.events.length;w<D;w++){var G=this.events[w];He.compare(b,G)>0&&(b=G)}for(var S=b.segment.prevInResult(),he=S?S.prevInResult():null;;){if(!S)return null;if(!he)return S.ringOut;if(he.ringOut!==S.ringOut)return he.ringOut.enclosingRing()!==S.ringOut?S.ringOut:S.ringOut.enclosingRing();S=he.prevInResult(),he=S?S.prevInResult():null}}}]),R}(),Ut=function(){function R(b){v(this,R),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return k(R,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var w=0,D=this.interiorRings.length;w<D;w++){var G=this.interiorRings[w].getGeom();G!==null&&b.push(G)}return b}}]),R}(),an=function(){function R(b){v(this,R),this.rings=b,this.polys=this._composePolys(b)}return k(R,[{key:"getGeom",value:function(){for(var b=[],w=0,D=this.polys.length;w<D;w++){var G=this.polys[w].getGeom();G!==null&&b.push(G)}return b}},{key:"_composePolys",value:function(b){for(var w=[],D=0,G=b.length;D<G;D++){var S=b[D];if(!S.poly)if(S.isExteriorRing())w.push(new Ut(S));else{var he=S.enclosingRing();he.poly||w.push(new Ut(he)),he.poly.addInterior(S)}}return w}}]),R}(),yn=function(){function R(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it.compare;v(this,R),this.queue=b,this.tree=new K(w),this.segments=[]}return k(R,[{key:"process",value:function(b){var w=b.segment,D=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(w),D;var G=b.isLeft?this.tree.insert(w):this.tree.find(w);if(!G)throw new Error("Unable to find segment #".concat(w.id," ")+"[".concat(w.leftSE.point.x,", ").concat(w.leftSE.point.y,"] -> ")+"[".concat(w.rightSE.point.x,", ").concat(w.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var S=G,he=G,be=void 0,Ie=void 0;be===void 0;)(S=this.tree.prev(S))===null?be=null:S.key.consumedBy===void 0&&(be=S.key);for(;Ie===void 0;)(he=this.tree.next(he))===null?Ie=null:he.key.consumedBy===void 0&&(Ie=he.key);if(b.isLeft){var Ue=null;if(be){var Xe=be.getIntersection(w);if(Xe!==null&&(w.isAnEndpoint(Xe)||(Ue=Xe),!be.isAnEndpoint(Xe)))for(var at=this._splitSafely(be,Xe),tt=0,st=at.length;tt<st;tt++)D.push(at[tt])}var We=null;if(Ie){var bt=Ie.getIntersection(w);if(bt!==null&&(w.isAnEndpoint(bt)||(We=bt),!Ie.isAnEndpoint(bt)))for(var kt=this._splitSafely(Ie,bt),Pt=0,Ft=kt.length;Pt<Ft;Pt++)D.push(kt[Pt])}if(Ue!==null||We!==null){var Ot=null;Ot=Ue===null?We:We===null||He.comparePoints(Ue,We)<=0?Ue:We,this.queue.remove(w.rightSE),D.push(w.rightSE);for(var Ht=w.split(Ot),Wt=0,Kt=Ht.length;Wt<Kt;Wt++)D.push(Ht[Wt])}D.length>0?(this.tree.remove(w),D.push(b)):(this.segments.push(w),w.prev=be)}else{if(be&&Ie){var Jt=be.getIntersection(Ie);if(Jt!==null){if(!be.isAnEndpoint(Jt))for(var sn=this._splitSafely(be,Jt),St=0,Nt=sn.length;St<Nt;St++)D.push(sn[St]);if(!Ie.isAnEndpoint(Jt))for(var Bt=this._splitSafely(Ie,Jt),At=0,Dn=Bt.length;At<Dn;At++)D.push(Bt[At])}}this.tree.remove(w)}return D}},{key:"_splitSafely",value:function(b,w){this.tree.remove(b);var D=b.rightSE;this.queue.remove(D);var G=b.split(w);return G.push(D),b.consumedBy===void 0&&this.tree.insert(b),G}}]),R}(),Qn=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ai=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,qt=new(function(){function R(){v(this,R)}return k(R,[{key:"run",value:function(b,w,D){qt.type=b,Me.reset();for(var G=[new vi(w,!0)],S=0,he=D.length;S<he;S++)G.push(new vi(D[S],!1));if(qt.numMultiPolys=G.length,qt.type==="difference")for(var be=G[0],Ie=1;Ie<G.length;)l(G[Ie].bbox,be.bbox)!==null?Ie++:G.splice(Ie,1);if(qt.type==="intersection"){for(var Ue=0,Xe=G.length;Ue<Xe;Ue++)for(var at=G[Ue],tt=Ue+1,st=G.length;tt<st;tt++)if(l(at.bbox,G[tt].bbox)===null)return[]}for(var We=new K(He.compare),bt=0,kt=G.length;bt<kt;bt++)for(var Pt=G[bt].getSweepEvents(),Ft=0,Ot=Pt.length;Ft<Ot;Ft++)if(We.insert(Pt[Ft]),We.size>Qn)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ht=new yn(We),Wt=We.size,Kt=We.pop();Kt;){var Jt=Kt.key;if(We.size===Wt){var sn=Jt.segment;throw new Error("Unable to pop() ".concat(Jt.isLeft?"left":"right"," SweepEvent ")+"[".concat(Jt.point.x,", ").concat(Jt.point.y,"] from segment #").concat(sn.id," ")+"[".concat(sn.leftSE.point.x,", ").concat(sn.leftSE.point.y,"] -> ")+"[".concat(sn.rightSE.point.x,", ").concat(sn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(We.size>Qn)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ht.segments.length>ai)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var St=Ht.process(Jt),Nt=0,Bt=St.length;Nt<Bt;Nt++){var At=St[Nt];At.consumedBy===void 0&&We.insert(At)}Wt=We.size,Kt=We.pop()}Me.reset();var Dn=rn.factory(Ht.segments);return new an(Dn).getGeom()}}]),R}()),Kn=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),D=1;D<b;D++)w[D-1]=arguments[D];return qt.run("union",R,w)},dn=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),D=1;D<b;D++)w[D-1]=arguments[D];return qt.run("intersection",R,w)},pn=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),D=1;D<b;D++)w[D-1]=arguments[D];return qt.run("xor",R,w)},Mi=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),D=1;D<b;D++)w[D-1]=arguments[D];return qt.run("difference",R,w)};return{union:Kn,intersection:dn,xor:pn,difference:Mi}}()},2582:function(y){y.exports=function(){"use strict";function v(z,Y,l,_e,ye){(function xe(ke,Be,Me,Ae,Ve){for(;Ae>Me;){if(Ae-Me>600){var ze=Ae-Me+1,Ce=Be-Me+1,yt=Math.log(ze),Te=.5*Math.exp(2*yt/3),qe=.5*Math.sqrt(yt*Te*(ze-Te)/ze)*(Ce-ze/2<0?-1:1);xe(ke,Be,Math.max(Me,Math.floor(Be-Ce*Te/ze+qe)),Math.min(Ae,Math.floor(Be+(ze-Ce)*Te/ze+qe)),Ve)}var _t=ke[Be],Ze=Me,He=Ae;for(_(ke,Me,Be),Ve(ke[Ae],_t)>0&&_(ke,Me,Ae);Ze<He;){for(_(ke,Ze,He),Ze++,He--;Ve(ke[Ze],_t)<0;)Ze++;for(;Ve(ke[He],_t)>0;)He--}Ve(ke[Me],_t)===0?_(ke,Me,He):_(ke,++He,Ae),He<=Be&&(Me=He+1),Be<=He&&(Ae=He-1)}})(z,Y,l||0,_e||z.length-1,ye||k)}function _(z,Y,l){var _e=z[Y];z[Y]=z[l],z[l]=_e}function k(z,Y){return z<Y?-1:z>Y?1:0}var I=function(z){z===void 0&&(z=9),this._maxEntries=Math.max(4,z),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function U(z,Y,l){if(!l)return Y.indexOf(z);for(var _e=0;_e<Y.length;_e++)if(l(z,Y[_e]))return _e;return-1}function E(z,Y){q(z,0,z.children.length,Y,z)}function q(z,Y,l,_e,ye){ye||(ye=$(null)),ye.minX=1/0,ye.minY=1/0,ye.maxX=-1/0,ye.maxY=-1/0;for(var xe=Y;xe<l;xe++){var ke=z.children[xe];le(ye,z.leaf?_e(ke):ke)}return ye}function le(z,Y){return z.minX=Math.min(z.minX,Y.minX),z.minY=Math.min(z.minY,Y.minY),z.maxX=Math.max(z.maxX,Y.maxX),z.maxY=Math.max(z.maxY,Y.maxY),z}function me(z,Y){return z.minX-Y.minX}function re(z,Y){return z.minY-Y.minY}function K(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function X(z){return z.maxX-z.minX+(z.maxY-z.minY)}function J(z,Y){return z.minX<=Y.minX&&z.minY<=Y.minY&&Y.maxX<=z.maxX&&Y.maxY<=z.maxY}function V(z,Y){return Y.minX<=z.maxX&&Y.minY<=z.maxY&&Y.maxX>=z.minX&&Y.maxY>=z.minY}function $(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ee(z,Y,l,_e,ye){for(var xe=[Y,l];xe.length;)if(!((l=xe.pop())-(Y=xe.pop())<=_e)){var ke=Y+Math.ceil((l-Y)/_e/2)*_e;v(z,ke,Y,l,ye),xe.push(Y,ke,ke,l)}}return I.prototype.all=function(){return this._all(this.data,[])},I.prototype.search=function(z){var Y=this.data,l=[];if(!V(z,Y))return l;for(var _e=this.toBBox,ye=[];Y;){for(var xe=0;xe<Y.children.length;xe++){var ke=Y.children[xe],Be=Y.leaf?_e(ke):ke;V(z,Be)&&(Y.leaf?l.push(ke):J(z,Be)?this._all(ke,l):ye.push(ke))}Y=ye.pop()}return l},I.prototype.collides=function(z){var Y=this.data;if(!V(z,Y))return!1;for(var l=[];Y;){for(var _e=0;_e<Y.children.length;_e++){var ye=Y.children[_e],xe=Y.leaf?this.toBBox(ye):ye;if(V(z,xe)){if(Y.leaf||J(z,xe))return!0;l.push(ye)}}Y=l.pop()}return!1},I.prototype.load=function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var Y=0;Y<z.length;Y++)this.insert(z[Y]);return this}var l=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var _e=this.data;this.data=l,l=_e}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},I.prototype.insert=function(z){return z&&this._insert(z,this.data.height-1),this},I.prototype.clear=function(){return this.data=$([]),this},I.prototype.remove=function(z,Y){if(!z)return this;for(var l,_e,ye,xe=this.data,ke=this.toBBox(z),Be=[],Me=[];xe||Be.length;){if(xe||(xe=Be.pop(),_e=Be[Be.length-1],l=Me.pop(),ye=!0),xe.leaf){var Ae=U(z,xe.children,Y);if(Ae!==-1)return xe.children.splice(Ae,1),Be.push(xe),this._condense(Be),this}ye||xe.leaf||!J(xe,ke)?_e?(l++,xe=_e.children[l],ye=!1):xe=null:(Be.push(xe),Me.push(l),l=0,_e=xe,xe=xe.children[0])}return this},I.prototype.toBBox=function(z){return z},I.prototype.compareMinX=function(z,Y){return z.minX-Y.minX},I.prototype.compareMinY=function(z,Y){return z.minY-Y.minY},I.prototype.toJSON=function(){return this.data},I.prototype.fromJSON=function(z){return this.data=z,this},I.prototype._all=function(z,Y){for(var l=[];z;)z.leaf?Y.push.apply(Y,z.children):l.push.apply(l,z.children),z=l.pop();return Y},I.prototype._build=function(z,Y,l,_e){var ye,xe=l-Y+1,ke=this._maxEntries;if(xe<=ke)return E(ye=$(z.slice(Y,l+1)),this.toBBox),ye;_e||(_e=Math.ceil(Math.log(xe)/Math.log(ke)),ke=Math.ceil(xe/Math.pow(ke,_e-1))),(ye=$([])).leaf=!1,ye.height=_e;var Be=Math.ceil(xe/ke),Me=Be*Math.ceil(Math.sqrt(ke));ee(z,Y,l,Me,this.compareMinX);for(var Ae=Y;Ae<=l;Ae+=Me){var Ve=Math.min(Ae+Me-1,l);ee(z,Ae,Ve,Be,this.compareMinY);for(var ze=Ae;ze<=Ve;ze+=Be){var Ce=Math.min(ze+Be-1,Ve);ye.children.push(this._build(z,ze,Ce,_e-1))}}return E(ye,this.toBBox),ye},I.prototype._chooseSubtree=function(z,Y,l,_e){for(;_e.push(Y),!Y.leaf&&_e.length-1!==l;){for(var ye=1/0,xe=1/0,ke=void 0,Be=0;Be<Y.children.length;Be++){var Me=Y.children[Be],Ae=K(Me),Ve=(ze=z,Ce=Me,(Math.max(Ce.maxX,ze.maxX)-Math.min(Ce.minX,ze.minX))*(Math.max(Ce.maxY,ze.maxY)-Math.min(Ce.minY,ze.minY))-Ae);Ve<xe?(xe=Ve,ye=Ae<ye?Ae:ye,ke=Me):Ve===xe&&Ae<ye&&(ye=Ae,ke=Me)}Y=ke||Y.children[0]}var ze,Ce;return Y},I.prototype._insert=function(z,Y,l){var _e=l?z:this.toBBox(z),ye=[],xe=this._chooseSubtree(_e,this.data,Y,ye);for(xe.children.push(z),le(xe,_e);Y>=0&&ye[Y].children.length>this._maxEntries;)this._split(ye,Y),Y--;this._adjustParentBBoxes(_e,ye,Y)},I.prototype._split=function(z,Y){var l=z[Y],_e=l.children.length,ye=this._minEntries;this._chooseSplitAxis(l,ye,_e);var xe=this._chooseSplitIndex(l,ye,_e),ke=$(l.children.splice(xe,l.children.length-xe));ke.height=l.height,ke.leaf=l.leaf,E(l,this.toBBox),E(ke,this.toBBox),Y?z[Y-1].children.push(ke):this._splitRoot(l,ke)},I.prototype._splitRoot=function(z,Y){this.data=$([z,Y]),this.data.height=z.height+1,this.data.leaf=!1,E(this.data,this.toBBox)},I.prototype._chooseSplitIndex=function(z,Y,l){for(var _e,ye,xe,ke,Be,Me,Ae,Ve=1/0,ze=1/0,Ce=Y;Ce<=l-Y;Ce++){var yt=q(z,0,Ce,this.toBBox),Te=q(z,Ce,l,this.toBBox),qe=(ye=yt,xe=Te,ke=void 0,Be=void 0,Me=void 0,Ae=void 0,ke=Math.max(ye.minX,xe.minX),Be=Math.max(ye.minY,xe.minY),Me=Math.min(ye.maxX,xe.maxX),Ae=Math.min(ye.maxY,xe.maxY),Math.max(0,Me-ke)*Math.max(0,Ae-Be)),_t=K(yt)+K(Te);qe<Ve?(Ve=qe,_e=Ce,ze=_t<ze?_t:ze):qe===Ve&&_t<ze&&(ze=_t,_e=Ce)}return _e||l-Y},I.prototype._chooseSplitAxis=function(z,Y,l){var _e=z.leaf?this.compareMinX:me,ye=z.leaf?this.compareMinY:re;this._allDistMargin(z,Y,l,_e)<this._allDistMargin(z,Y,l,ye)&&z.children.sort(_e)},I.prototype._allDistMargin=function(z,Y,l,_e){z.children.sort(_e);for(var ye=this.toBBox,xe=q(z,0,Y,ye),ke=q(z,l-Y,l,ye),Be=X(xe)+X(ke),Me=Y;Me<l-Y;Me++){var Ae=z.children[Me];le(xe,z.leaf?ye(Ae):Ae),Be+=X(xe)}for(var Ve=l-Y-1;Ve>=Y;Ve--){var ze=z.children[Ve];le(ke,z.leaf?ye(ze):ze),Be+=X(ke)}return Be},I.prototype._adjustParentBBoxes=function(z,Y,l){for(var _e=l;_e>=0;_e--)le(Y[_e],z)},I.prototype._condense=function(z){for(var Y=z.length-1,l=void 0;Y>=0;Y--)z[Y].children.length===0?Y>0?(l=z[Y-1].children).splice(l.indexOf(z[Y]),1):this.clear():E(z[Y],this.toBBox)},I}()}},ae={};function W(y){var v=ae[y];if(v!==void 0)return v.exports;var _=ae[y]={id:y,loaded:!1,exports:{}};return P[y].call(_.exports,_,_.exports,W),_.loaded=!0,_.exports}W.n=y=>{var v=y&&y.__esModule?()=>y.default:()=>y;return W.d(v,{a:v}),v},W.d=(y,v)=>{for(var _ in v)W.o(v,_)&&!W.o(y,_)&&Object.defineProperty(y,_,{enumerable:!0,get:v[_]})},W.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),W.o=(y,v)=>Object.prototype.hasOwnProperty.call(y,v),W.nmd=y=>(y.paths=[],y.children||(y.children=[]),y),W(5975)})();var _i=mi(Gi(),1);var jr=mi(Gi(),1);function Zi([P,ae]){let W=ae/-64-.5,y=P/64;return[W,y]}function bo([P,ae]){let W=ae*64,y=(P+.5)*-64;return[W,y]}var _o=mi(Cr(),1);async function yo(){let ae=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1JSmJtYkYrEx6Am5drhSet17qwJzOKDI7tE7FxPx4YNI&sheetName=New%20World")).json();ta(ae),Ii(),zr().city.enable(),zr().airportCalc.enable(),(0,_o.default)("#search__input").removeAttr("disabled")}function Ii(){let{cityLayers:P,CC:ae,searchLayer:W}=bi(),y=Et().map;if(Et().displayTowns)y.removeLayer(W),console.log(P.entries()),y.addLayer(P.get("Community")),y.addLayer(P.get("Premier")),y.addLayer(P.get("Governor")),y.addLayer(P.get("Senator")),y.addLayer(P.get("Mayor")),y.addLayer(P.get("Councillor")),y.addLayer(P.get("Unranked")),y.addLayer(ae);else{y.removeLayer(P.get("Community")),y.removeLayer(P.get("Premier")),y.removeLayer(P.get("Governor")),y.removeLayer(P.get("Senator")),y.removeLayer(P.get("Mayor")),y.removeLayer(P.get("Councillor")),y.removeLayer(P.get("Unranked")),y.removeLayer(ae);return}}function ta(P){let ae={Premier:"#fffc04",Governor:"#08fc04",Senator:"#08ac04",Mayor:"#0804fc",Councillor:"#5084ec",Community:"#781c44",Unranked:"#ffffff"};bi().towns=P;let{cityMarkers:W,cityLayers:y}=bi();for(let v of P){v.Name=v["Town Name"];let _=[v.X,v.Y,v.Z];if(isNaN(_[0])||isNaN(_[2]))console.warn(`Not displaying town ${v.Name}: invalid or missing coordinates`);else{let k=Zi([_[0],_[2]]);W.has(v["Town Rank"])||W.set(v["Town Rank"],[]),W.get(v["Town Rank"]).push(jr.default.circleMarker(k,{color:ae[v["Town Rank"]],radius:7}).bindPopup(`Name: ${v.Name}<br>Mayor: ${v.Mayor}<br>Deputy Mayor: ${v["Deputy Mayor"]}<br>Rank: ${v["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(v.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}}_r.cityTypes.forEach(v=>{let _=jr.default.featureGroup();W.get(v).forEach(k=>{_.addLayer(k)}),y.set(v,_)}),Et().map.on("zoomend",Ii)}var Ti=mi(Gi(),1);L.Control.Bar=L.Control.extend({includes:L.Mixin.Events,options:{position:"top",visible:"true"},initialize:function(P,ae){L.setOptions(this,ae);var W=this._contentContainer=L.DomUtil.get(P);W.parentNode.removeChild(W);var y=this.options.visible?"visible":"",v=this._container=L.DomUtil.create("div","leaflet-control-bar-"+this.options.position+" leaflet-control-bar "+y);L.DomUtil.addClass(W,"leaflet-control"),v.appendChild(W)},addTo:function(P){var ae=this._container,W=this._contentContainer;L.DomEvent.on(ae,"transitionend",this._handleTransitionEvent,this).on(ae,"webkitTransitionEnd",this._handleTransitionEvent,this);var y=P._controlContainer;y.insertBefore(ae,y.firstChild),this._map=P;var v=L.DomEvent.stopPropagation;return L.DomEvent.on(W,"contextmenu",v).on(W,"click",v).on(W,"mousedown",v).on(W,"touchstart",v).on(W,"dblclick",v).on(W,"mousewheel",v).on(W,"MozMousePixelScroll",v),this},removeFrom:function(P){this.hide();var ae=this._contentContainer,W=P._controlContainer;W.removeChild(this._container),this._map=null;var y=L.DomEvent.stopPropagation;return L.DomEvent.off(ae,"contextmenu",y).off(ae,"click",y).off(ae,"mousedown",y).off(ae,"touchstart",y).off(ae,"dblclick",y).off(ae,"mousewheel",y).off(ae,"MozMousePixelScroll",y),L.DomEvent.off(container,"transitionend",this._handleTransitionEvent,this).off(container,"webkitTransitionEnd",this._handleTransitionEvent,this),this},isVisible:function(){return L.DomUtil.hasClass(this._container,"visible")},show:function(){this.isVisible()||(L.DomUtil.addClass(this._container,"visible"),this.fire("show"))},hide:function(P){this.isVisible()&&(L.DomUtil.removeClass(this._container,"visible"),this.fire("hide")),P&&L.DomEvent.stopPropagation(P)},toggle:function(){this.isVisible()?this.hide():this.show()},getContainer:function(){return this._contentContainer},setContent:function(P){return this.getContainer().innerHTML=P,this},_handleTransitionEvent:function(P){(P.propertyName=="left"||P.propertyName=="right"||P.propertyName=="bottom"||P.propertyName=="top")&&this.fire(this.isVisible()?"shown":"hidden")}});L.control.bar=function(P,ae){return new L.Control.Bar(P,ae)};var na="2.2 (12/5/23)",Vn=Ti.default.layerGroup([]),Or=document.getElementById("downloader"),Gr=document.getElementById("importer"),er,Br="city",vo=1,yr="";function Mo(){let P=Et().map;P.pm.setGlobalOptions({layerGroup:Vn,pathOptions:{color:"#ff0000"}}),P.pm.Toolbar.createCustomControl({name:"cityspace",title:"City Space",block:"custom",className:"fas fa-city icon",toggle:!1,onClick:()=>{P.pm.setGlobalOptions({layerGroup:Vn,pathOptions:{color:"#ff0000"}}),Br="city"}}),P.pm.Toolbar.createCustomControl({name:"airportspace",title:"Airport Space",block:"custom",className:"fas fa-plane icon",toggle:!1,onClick:()=>{P.pm.setGlobalOptions({layerGroup:Vn,pathOptions:{color:"#00dd00"}}),Br="airport"}}),P.pm.Toolbar.createCustomControl({name:"clearall",title:"Clear All",block:"custom",className:"fas fa-times icon",toggle:!1,onClick:()=>{Lo("Are you sure you want to clear all polygons?")}}),P.pm.Toolbar.createCustomControl({name:"export",title:"Export",block:"custom",className:"fas fa-file-export icon",toggle:!1,onClick:()=>{let ae="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(xo(),null,2));Or.href=ae,Or.download="city.apc",Or.click(),Tr("Polygons exported")}}),P.pm.Toolbar.createCustomControl({name:"import",title:"Import",block:"custom",className:"fas fa-file-import icon",toggle:!1,onClick:()=>{document.getElementById("importer").click()}}),er=Ti.default.control.bar("bar",{position:"bottom",visible:!1}),P.addControl(er),P.pm.removeControls(),setInterval(()=>{if(er?.isVisible()){let[ae,W,y]=ia();isNaN(y)&&(y=0);let v=`<img src="media/airportcalcicon.png" style="height: 100%; float: right;" title="Logo by Cortesi">
            <b>City area size:</b> ${Math.round(ae)}m^2
            <b>| Airport area size:</b> ${Math.round(W)}m^2
            <b>| Percentage:</b> <span style="color: ${y<50?"green":"red"};">${Math.round(y*100)/100}%</span>
            <b>| Drawing for:</b> ${Br}`+(yr!=""?`<br><b>${yr}</b>`:"");er.getContainer()?.innerHTML!=v&&er.setContent(v)}},50)}function Lo(P){Vn.getLayers().length!=0&&confirm(P)&&(Vn.clearLayers(),Tr("Polygons cleared"))}var Rr=!1;function wo(){let P=Et().map;Rr?(P.pm.removeControls(),P.removeLayer(Vn),Et().displayTowns=vo==1,Ii(),P.addControl(Et().logo),er?.hide()):(P.pm.addControls({position:"bottomleft",drawCircleMarker:!1,drawPolyline:!1,drawMarker:!1}),window.localStorage.airportcalc!=null&&(ko(JSON.parse(window.localStorage.airportcalc)),delete window.localStorage.airportcalc),P.addLayer(Vn),vo=Et().displayTowns?1:0,Et().displayTowns=!1,Ii(),er?.show(),P.removeControl(Et().logo),Tr("Airportcalc "+na)),Rr=!Rr}function ia(){let P=0,ae=0;return Vn.getLayers().forEach(W=>{let y=0;if(W instanceof Ti.default.Polygon)for(let v=0;v<W.getLatLngs().length;v++){let _=0,k=W.getLatLngs()[v].map(I=>bo([I.lat,I.lng]));for(let I=0;I<k.length;I++){let U=k[I],E=k[I+1];I==k.length-1&&(E=k[0]),_+=.5*(U[1]+E[1])*(E[0]-U[0])}v==0?y+=Math.abs(_):y-=Math.abs(_)}else{let v=W.getRadius()*64;y=Math.PI*v**2}W.options.color=="#ff0000"?P+=Math.abs(y):ae+=Math.abs(y)}),[P,ae,ae/P*100]}function xo(){let P=[];return Vn.getLayers().forEach(ae=>{let W={type:"feature",geometry:{type:ae instanceof Ti.default.Circle?"point":"polygon",coordinates:[]},properties:{space:ae.options.color=="#ff0000"?"city":"airport",shape:ae.pm.getShape(),color:ae.options.color}};if(ae instanceof Ti.default.Circle){W.properties.radius=ae.getRadius();let y=ae.getLatLng();W.geometry.coordinates=[y.lat,y.lng]}else{let y=ae.getLatLngs();W.geometry.coordinates=y.map(v=>v.map(_=>[_.lat,_.lng]))}P.push(W)}),{type:"FeatureCollection",features:P}}function ko(P){P.features.forEach(ae=>{ae.properties.shape=="Circle"?Vn.addLayer(Ti.default.circle(ae.geometry.coordinates,{color:ae.properties.color,radius:ae.properties.radius}).addTo(Et().map)):ae.properties.shape=="Rectangle"?Vn.addLayer(Ti.default.rectangle([ae.geometry.coordinates[0],ae.geometry.coordinates[2]],{color:ae.properties.color}).addTo(Et().map)):Vn.addLayer(Ti.default.polygon(ae.geometry.coordinates,{color:ae.properties.color}).addTo(Et().map))})}function ra(){let P=Gr.files?.[0];if(P===void 0)return;let ae=new FileReader;ae.onload=function(){Lo("Do you want to clear all polygons?");let W=JSON.parse(ae.result?.toString()??"");Gr.value="",ko(W),Tr("New polygons imported")},ae.readAsText(P)}Gr.oninput=ra;function Tr(P){yr=P,setTimeout(()=>{yr==P&&(yr="")},3e3)}window.addEventListener("beforeunload",()=>{window.localStorage.airportcalc=JSON.stringify(xo())});var Dr=class{displayTowns=!0;map;cityMap=new _r;streetMapVisible=!1;buttons;logo;constructor(ae){this.map=ae,this.buttons=new Ur(this.map),this.logo=new Zr(this.map)}},_r=class{static cityTypes=["Premier","Governor","Senator","Community","Mayor","Councillor","Unranked"];searchLayer=_i.default.featureGroup();CC=_i.default.featureGroup();cityLayers=new Map;cityMarkers=new Map;towns=[]},Zr=class extends _i.default.Control{onAdd(){let ae=_i.default.DomUtil.create("div");return ae.innerHTML="<img src='media/mrtmapicon_lighttext.png' style='height: 50px;' title='Logo by Cortesi'>",ae}onRemove(){}constructor(ae,W){super(W),this.setPosition("bottomright").addTo(ae)}},Ur=class{city;guide;streetMap;airportCalc;constructor(ae){this.guide=_i.default.easyButton("fa-question",()=>{window.open("https://github.com/mrt-map/map/wiki/City-Map","_blank")},"Guide").setPosition("topright").addTo(ae);let W=_i.default.tileLayer("https://raw.githubusercontent.com/MRT-Map/map-data/main/tiles/{z}/{x}/{y}.webp");this.streetMap=_i.default.easyButton("fa-map",()=>{Et().streetMapVisible?W.removeFrom(ae):W.addTo(ae),Et().streetMapVisible=!Et().streetMapVisible},"Show Streetmap").setPosition("topright").addTo(ae),this.city=_i.default.easyButton("fa-city",()=>{Et().displayTowns=!Et().displayTowns,Ii()},"Show/Hide towns").setPosition("topright").addTo(ae),this.city.disable(),this.airportCalc=_i.default.easyButton("fa-ruler",wo,"Open Airportcalc 2").setPosition("topright").addTo(ae),this.airportCalc.disable()}};function Et(){return window.globals}function bi(){return window.globals.cityMap}function zr(){return window.globals.buttons}var Fr=class extends vr.default.TileLayer{getTileUrl(ae){let W=2**(8-ae.z),y=ae.x*1,v=ae.y*-1,_={x:Math.floor(y*W/32),y:Math.floor(v*W/32)},k={x:Math.floor(y*W),y:Math.floor(v*W)},I="";for(let E=8;E>ae.z;E--)I+="z";return I.length!=0&&(I+="_"),`https://dynmap.minecartrapidtransit.net/tiles/new/flat/${_.x}_${_.y}/${I}${k.x}_${k.y}.png`}},oa=function(P,ae){return new Fr(P,ae)};function Co(){let P=vr.default.map("map",{crs:vr.default.CRS.Simple}).setView([0,0],8);oa("unused url; check custom function",{maxZoom:8,id:"map",tileSize:128,zoomOffset:0,noWrap:!0,bounds:[[-900,-900],[900,900]],attribution:"Minecart Rapid Transit"}).addTo(P),vr.default.control.zoom({position:"topright"}).addTo(P),window.globals=new Dr(P)}var Hr=mi(Gi(),1);var yi=mi(Cr(),1),Yr;async function To(){Yr=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1Hhj_Cghfhfs8Xh5v5gt65kGc4mDW0sC5GWULKidOBW8&sheetName=Members")).json();for(let ae of Yr){if(ae.names=[ae.Username],ae["Former Usernames"]!=""){let W=ae["Former Usernames"].split(",");for(let y of W)ae.names.push(y.trim())}if(ae["Temporary Usernames"]!=""){let W=ae["Temporary Usernames"].split(",");for(let y of W)ae.names.push(y.trim())}}}function aa(P){let ae=Et().map;ae.removeLayer(bi().CC),ae.removeLayer(bi().searchLayer),bi().searchLayer=Hr.default.featureGroup(),window.globals.displayTowns=!1;let W=[];for(let v of Yr)for(let _ of v.names)typeof _!="string"&&(_=_.toString()),_=_.toLowerCase(),_.toLowerCase().includes(P.toLowerCase())&&W.push(_);let y=window.globals.cityMap.towns.filter(v=>v.Name?.toString().toLowerCase().includes(P.toLowerCase())??W.includes(v.Mayor.toString().toLowerCase()));for(let v of window.globals.cityMap.cityLayers.values())ae.removeLayer(v);for(let v of y){let _=[v.X,v.Y,v.Z];isNaN(_[0])||isNaN(_[2])?console.log(`Not displaying town ${v.Name} in search results popup: invalid or missing coordinates`):bi().searchLayer.addLayer(Hr.default.marker(Zi([_[0],_[2]])).addTo(ae).bindPopup(`Name: ${v.Name}<br>Mayor: ${v.Mayor}<br>Deputy Mayor: ${v["Deputy Mayor"]}<br>Rank: ${v["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(v.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}return ae.addLayer(bi().searchLayer),y}function qr(){try{go()}catch{console.log("couldn't reset results")}let P=(0,yi.default)("#search__input").val();if(P==null||P=="")(0,yi.default)(".results__container").css("display","none"),window.globals.displayTowns=!0,Ii(),document.getElementById("search__results").innerHTML="";else{(0,yi.default)(".results__container").css("display","block");let ae=aa(P);document.getElementById("search__results").innerHTML="",ae.length==0&&(document.getElementById("search__results").innerHTML="<div>No Results</div>");for(let W of ae){let y=document.getElementById("search__results");y.innerHTML+=`<div class="result"><div class="result__name">${W.Name}</div><div class="result__details"><div class="result__rank">Rank: ${W["Town Rank"]}</div><div class="result__mayor">Mayor: ${W.Mayor}</div></div></div>`,y.querySelector("div").onclick=()=>fa(W.X,W.Z)}}}function Do(){document.activeElement?.blur(),(0,yi.default)("input").blur()}function sa(){let P=!1;return function(ae){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(ae)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ae.substr(0,4)))&&(P=!0)}(navigator.userAgent||navigator.vendor||window.opera),P}var Io;(0,yi.default)("#search__input").on("input",function(){(0,yi.default)(".results__container").css("display","none");let P=(0,yi.default)("#search__input").val();(!sa()||P==null||P=="")&&(clearTimeout(Io),Io=setTimeout(function(){qr()},500))});(0,yi.default)("#search__input").keypress(function(P){P.which==13&&(Do(),qr())});(0,yi.default)(".search__bar button").click(function(){Do(),qr()});function fa(P,ae){if(isNaN(P)||isNaN(ae))return alert("This town cannot be displayed because it contains invalid coordinates. Please contact a staff member to fix.");console.log(P,ae),Et().map.flyTo(Zi([P,ae]),5)}var Er=mi(Gi(),1);var Eo=new URL(document.location.toString()).searchParams;async function Po(){if(Eo.get("waypoints")){let ae=(await(await fetch("https://docs.google.com/spreadsheets/d/11E60uIBKs5cOSIRHLz0O0nLCefpj7HgndS1gIXY_1hw/export?format=csv&gid=707730663")).text()).split(`
`).map(W=>W.split(","));ae.shift();for(let W of ae)console.log(W),Er.circleMarker(Zi(W[1].split(" ").map(y=>parseInt(y))),{radius:5}).bindPopup(W[0]).addTo(Et().map)}}async function So(){if(Eo.get("airways")){let ae=await(await fetch("https://raw.githubusercontent.com/MRT-Map/mrt-flightradar/main/data/airway_coords.json")).json();for(let W of ae)console.log(W),Er.polyline(W.map(([y,v])=>[y,-v]).map(Zi),{color:"red"}).addTo(Et().map)}}var Wr=mi(Gi(),1);delete Wr.default.Icon.Default.prototype._getIconUrl;Wr.default.Icon.Default.mergeOptions({iconRetinaUrl:No(),iconUrl:Ao(),shadowUrl:jo()});Co();yo();To();Mo();Po();So();})();
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)
*/
//# sourceMappingURL=https://mrt-map.github.io/map/out.js.map
