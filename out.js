"use strict";(()=>{var $o=Object.create;var Rr=Object.defineProperty;var Jo=Object.getOwnPropertyDescriptor;var Yo=Object.getOwnPropertyNames;var Xo=Object.getPrototypeOf,Qo=Object.prototype.hasOwnProperty;var ta=(E,rt,V)=>rt in E?Rr(E,rt,{enumerable:!0,configurable:!0,writable:!0,value:V}):E[rt]=V;var mr=(E,rt)=>()=>(rt||E((rt={exports:{}}).exports,rt),rt.exports);var ea=(E,rt,V,v)=>{if(rt&&typeof rt=="object"||typeof rt=="function")for(let b of Yo(rt))!Qo.call(E,b)&&b!==V&&Rr(E,b,{get:()=>rt[b],enumerable:!(v=Jo(rt,b))||v.enumerable});return E};var cn=(E,rt,V)=>(V=E!=null?$o(Xo(E)):{},ea(rt||!E||!E.__esModule?Rr(V,"default",{value:E,enumerable:!0}):V,E));var ni=(E,rt,V)=>(ta(E,typeof rt!="symbol"?rt+"":rt,V),V);var wr=mr((co,xr)=>{(function(E,rt){"use strict";typeof xr=="object"&&typeof xr.exports=="object"?xr.exports=E.document?rt(E,!0):function(V){if(!V.document)throw new Error("jQuery requires a window with a document");return rt(V)}:rt(E)})(typeof window<"u"?window:co,function(E,rt){"use strict";var V=[],v=Object.getPrototypeOf,b=V.slice,y=V.flat?function(r){return V.flat.call(r)}:function(r){return V.concat.apply([],r)},M=V.push,P=V.indexOf,Z={},O=Z.toString,W=Z.hasOwnProperty,ut=W.toString,mt=ut.call(Object),ot={},J=function(s){return typeof s=="function"&&typeof s.nodeType!="number"&&typeof s.item!="function"},X=function(s){return s!=null&&s===s.window},Y=E.document,K={type:!0,src:!0,nonce:!0,noModule:!0};function Q(r,s,h){h=h||Y;var f,m,g=h.createElement("script");if(g.text=r,s)for(f in K)m=s[f]||s.getAttribute&&s.getAttribute(f),m&&g.setAttribute(f,m);h.head.appendChild(g).parentNode.removeChild(g)}function tt(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?Z[O.call(r)]||"object":typeof r}var A="3.7.0",q=/HTML$/i,u=function(r,s){return new u.fn.init(r,s)};u.fn=u.prototype={jquery:A,constructor:u,length:0,toArray:function(){return b.call(this)},get:function(r){return r==null?b.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var s=u.merge(this.constructor(),r);return s.prevObject=this,s},each:function(r){return u.each(this,r)},map:function(r){return this.pushStack(u.map(this,function(s,h){return r.call(s,h,s)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(u.grep(this,function(r,s){return(s+1)%2}))},odd:function(){return this.pushStack(u.grep(this,function(r,s){return s%2}))},eq:function(r){var s=this.length,h=+r+(r<0?s:0);return this.pushStack(h>=0&&h<s?[this[h]]:[])},end:function(){return this.prevObject||this.constructor()},push:M,sort:V.sort,splice:V.splice},u.extend=u.fn.extend=function(){var r,s,h,f,m,g,k=arguments[0]||{},z=1,R=arguments.length,$=!1;for(typeof k=="boolean"&&($=k,k=arguments[z]||{},z++),typeof k!="object"&&!J(k)&&(k={}),z===R&&(k=this,z--);z<R;z++)if((r=arguments[z])!=null)for(s in r)f=r[s],!(s==="__proto__"||k===f)&&($&&f&&(u.isPlainObject(f)||(m=Array.isArray(f)))?(h=k[s],m&&!Array.isArray(h)?g=[]:!m&&!u.isPlainObject(h)?g={}:g=h,m=!1,k[s]=u.extend($,g,f)):f!==void 0&&(k[s]=f));return k},u.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var s,h;return!r||O.call(r)!=="[object Object]"?!1:(s=v(r),s?(h=W.call(s,"constructor")&&s.constructor,typeof h=="function"&&ut.call(h)===mt):!0)},isEmptyObject:function(r){var s;for(s in r)return!1;return!0},globalEval:function(r,s,h){Q(r,{nonce:s&&s.nonce},h)},each:function(r,s){var h,f=0;if(yt(r))for(h=r.length;f<h&&s.call(r[f],f,r[f])!==!1;f++);else for(f in r)if(s.call(r[f],f,r[f])===!1)break;return r},text:function(r){var s,h="",f=0,m=r.nodeType;if(m){if(m===1||m===9||m===11)return r.textContent;if(m===3||m===4)return r.nodeValue}else for(;s=r[f++];)h+=u.text(s);return h},makeArray:function(r,s){var h=s||[];return r!=null&&(yt(Object(r))?u.merge(h,typeof r=="string"?[r]:r):M.call(h,r)),h},inArray:function(r,s,h){return s==null?-1:P.call(s,r,h)},isXMLDoc:function(r){var s=r&&r.namespaceURI,h=r&&(r.ownerDocument||r).documentElement;return!q.test(s||h&&h.nodeName||"HTML")},merge:function(r,s){for(var h=+s.length,f=0,m=r.length;f<h;f++)r[m++]=s[f];return r.length=m,r},grep:function(r,s,h){for(var f,m=[],g=0,k=r.length,z=!h;g<k;g++)f=!s(r[g],g),f!==z&&m.push(r[g]);return m},map:function(r,s,h){var f,m,g=0,k=[];if(yt(r))for(f=r.length;g<f;g++)m=s(r[g],g,h),m!=null&&k.push(m);else for(g in r)m=s(r[g],g,h),m!=null&&k.push(m);return y(k)},guid:1,support:ot}),typeof Symbol=="function"&&(u.fn[Symbol.iterator]=V[Symbol.iterator]),u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,s){Z["[object "+s+"]"]=s.toLowerCase()});function yt(r){var s=!!r&&"length"in r&&r.length,h=tt(r);return J(r)||X(r)?!1:h==="array"||s===0||typeof s=="number"&&s>0&&s-1 in r}function vt(r,s){return r.nodeName&&r.nodeName.toLowerCase()===s.toLowerCase()}var wt=V.pop,Mt=V.sort,jt=V.splice,Lt="[\\x20\\t\\r\\n\\f]",It=new RegExp("^"+Lt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Lt+"+$","g");u.contains=function(r,s){var h=s&&s.parentNode;return r===h||!!(h&&h.nodeType===1&&(r.contains?r.contains(h):r.compareDocumentPosition&&r.compareDocumentPosition(h)&16))};var Kt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function At(r,s){return s?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}u.escapeSelector=function(r){return(r+"").replace(Kt,At)};var Ct=Y,be=M;(function(){var r,s,h,f,m,g=be,k,z,R,$,ht,gt=u.expando,at=0,xt=0,Yt=or(),fe=or(),ne=or(),Ne=or(),Pe=function(T,U){return T===U&&(m=!0),0},Ai="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ui="(?:\\\\[\\da-fA-F]{1,6}"+Lt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Jt="\\["+Lt+"*("+ui+")(?:"+Lt+"*([*^$|!~]?=)"+Lt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ui+"))|)"+Lt+"*\\]",ln=":("+ui+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Jt+")*)|.*)\\)|)",de=new RegExp(Lt+"+","g"),Re=new RegExp("^"+Lt+"*,"+Lt+"*"),Rn=new RegExp("^"+Lt+"*([>+~]|"+Lt+")"+Lt+"*"),rr=new RegExp(Lt+"|>"),Ni=new RegExp(ln),Ln=new RegExp("^"+ui+"$"),ki={ID:new RegExp("^#("+ui+")"),CLASS:new RegExp("^\\.("+ui+")"),TAG:new RegExp("^("+ui+"|[*])"),ATTR:new RegExp("^"+Jt),PSEUDO:new RegExp("^"+ln),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Lt+"*(even|odd|(([+-]|)(\\d*)n|)"+Lt+"*(?:([+-]|)"+Lt+"*(\\d+)|))"+Lt+"*\\)|)","i"),bool:new RegExp("^(?:"+Ai+")$","i"),needsContext:new RegExp("^"+Lt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Lt+"*((?:-\\d)?\\d*)"+Lt+"*\\)|)(?=[^-]|$)","i")},un=/^(?:input|select|textarea|button)$/i,hn=/^h\d$/i,_i=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cr=/[+~]/,Ze=new RegExp("\\\\[\\da-fA-F]{1,6}"+Lt+"?|\\\\([^\\r\\n\\f])","g"),hi=function(T,U){var nt="0x"+T.slice(1)-65536;return U||(nt<0?String.fromCharCode(nt+65536):String.fromCharCode(nt>>10|55296,nt&1023|56320))},Sr=function(){ji()},Ji=Xi(function(T){return T.disabled===!0&&vt(T,"fieldset")},{dir:"parentNode",next:"legend"});function Er(){try{return k.activeElement}catch{}}try{g.apply(V=b.call(Ct.childNodes),Ct.childNodes),V[Ct.childNodes.length].nodeType}catch{g={apply:function(U,nt){be.apply(U,b.call(nt))},call:function(U){be.apply(U,b.call(arguments,1))}}}function me(T,U,nt,st){var pt,Pt,Dt,zt,Bt,oe,Wt,Gt=U&&U.ownerDocument,re=U?U.nodeType:9;if(nt=nt||[],typeof T!="string"||!T||re!==1&&re!==9&&re!==11)return nt;if(!st&&(ji(U),U=U||k,R)){if(re!==11&&(Bt=_i.exec(T)))if(pt=Bt[1]){if(re===9)if(Dt=U.getElementById(pt)){if(Dt.id===pt)return g.call(nt,Dt),nt}else return nt;else if(Gt&&(Dt=Gt.getElementById(pt))&&me.contains(U,Dt)&&Dt.id===pt)return g.call(nt,Dt),nt}else{if(Bt[2])return g.apply(nt,U.getElementsByTagName(T)),nt;if((pt=Bt[3])&&U.getElementsByClassName)return g.apply(nt,U.getElementsByClassName(pt)),nt}if(!Ne[T+" "]&&(!$||!$.test(T))){if(Wt=T,Gt=U,re===1&&(rr.test(T)||Rn.test(T))){for(Gt=cr.test(T)&&fr(U.parentNode)||U,(Gt!=U||!ot.scope)&&((zt=U.getAttribute("id"))?zt=u.escapeSelector(zt):U.setAttribute("id",zt=gt)),oe=xi(T),Pt=oe.length;Pt--;)oe[Pt]=(zt?"#"+zt:":scope")+" "+sr(oe[Pt]);Wt=oe.join(",")}try{return g.apply(nt,Gt.querySelectorAll(Wt)),nt}catch{Ne(T,!0)}finally{zt===gt&&U.removeAttribute("id")}}}return Yn(T.replace(It,"$1"),U,nt,st)}function or(){var T=[];function U(nt,st){return T.push(nt+" ")>s.cacheLength&&delete U[T.shift()],U[nt+" "]=st}return U}function ii(T){return T[gt]=!0,T}function kn(T){var U=k.createElement("fieldset");try{return!!T(U)}catch{return!1}finally{U.parentNode&&U.parentNode.removeChild(U),U=null}}function ar(T){return function(U){return vt(U,"input")&&U.type===T}}function Or(T){return function(U){return(vt(U,"input")||vt(U,"button"))&&U.type===T}}function Yi(T){return function(U){return"form"in U?U.parentNode&&U.disabled===!1?"label"in U?"label"in U.parentNode?U.parentNode.disabled===T:U.disabled===T:U.isDisabled===T||U.isDisabled!==!T&&Ji(U)===T:U.disabled===T:"label"in U?U.disabled===T:!1}}function zi(T){return ii(function(U){return U=+U,ii(function(nt,st){for(var pt,Pt=T([],nt.length,U),Dt=Pt.length;Dt--;)nt[pt=Pt[Dt]]&&(nt[pt]=!(st[pt]=nt[pt]))})})}function fr(T){return T&&typeof T.getElementsByTagName<"u"&&T}function ji(T){var U,nt=T?T.ownerDocument||T:Ct;return nt==k||nt.nodeType!==9||!nt.documentElement||(k=nt,z=k.documentElement,R=!u.isXMLDoc(k),ht=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,Ct!=k&&(U=k.defaultView)&&U.top!==U&&U.addEventListener("unload",Sr),ot.getById=kn(function(st){return z.appendChild(st).id=u.expando,!k.getElementsByName||!k.getElementsByName(u.expando).length}),ot.disconnectedMatch=kn(function(st){return ht.call(st,"*")}),ot.scope=kn(function(){return k.querySelectorAll(":scope")}),ot.cssHas=kn(function(){try{return k.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),ot.getById?(s.filter.ID=function(st){var pt=st.replace(Ze,hi);return function(Pt){return Pt.getAttribute("id")===pt}},s.find.ID=function(st,pt){if(typeof pt.getElementById<"u"&&R){var Pt=pt.getElementById(st);return Pt?[Pt]:[]}}):(s.filter.ID=function(st){var pt=st.replace(Ze,hi);return function(Pt){var Dt=typeof Pt.getAttributeNode<"u"&&Pt.getAttributeNode("id");return Dt&&Dt.value===pt}},s.find.ID=function(st,pt){if(typeof pt.getElementById<"u"&&R){var Pt,Dt,zt,Bt=pt.getElementById(st);if(Bt){if(Pt=Bt.getAttributeNode("id"),Pt&&Pt.value===st)return[Bt];for(zt=pt.getElementsByName(st),Dt=0;Bt=zt[Dt++];)if(Pt=Bt.getAttributeNode("id"),Pt&&Pt.value===st)return[Bt]}return[]}}),s.find.TAG=function(st,pt){return typeof pt.getElementsByTagName<"u"?pt.getElementsByTagName(st):pt.querySelectorAll(st)},s.find.CLASS=function(st,pt){if(typeof pt.getElementsByClassName<"u"&&R)return pt.getElementsByClassName(st)},$=[],kn(function(st){var pt;z.appendChild(st).innerHTML="<a id='"+gt+"' href='' disabled='disabled'></a><select id='"+gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",st.querySelectorAll("[selected]").length||$.push("\\["+Lt+"*(?:value|"+Ai+")"),st.querySelectorAll("[id~="+gt+"-]").length||$.push("~="),st.querySelectorAll("a#"+gt+"+*").length||$.push(".#.+[+~]"),st.querySelectorAll(":checked").length||$.push(":checked"),pt=k.createElement("input"),pt.setAttribute("type","hidden"),st.appendChild(pt).setAttribute("name","D"),z.appendChild(st).disabled=!0,st.querySelectorAll(":disabled").length!==2&&$.push(":enabled",":disabled"),pt=k.createElement("input"),pt.setAttribute("name",""),st.appendChild(pt),st.querySelectorAll("[name='']").length||$.push("\\["+Lt+"*name"+Lt+"*="+Lt+`*(?:''|"")`)}),ot.cssHas||$.push(":has"),$=$.length&&new RegExp($.join("|")),Pe=function(st,pt){if(st===pt)return m=!0,0;var Pt=!st.compareDocumentPosition-!pt.compareDocumentPosition;return Pt||(Pt=(st.ownerDocument||st)==(pt.ownerDocument||pt)?st.compareDocumentPosition(pt):1,Pt&1||!ot.sortDetached&&pt.compareDocumentPosition(st)===Pt?st===k||st.ownerDocument==Ct&&me.contains(Ct,st)?-1:pt===k||pt.ownerDocument==Ct&&me.contains(Ct,pt)?1:f?P.call(f,st)-P.call(f,pt):0:Pt&4?-1:1)}),k}me.matches=function(T,U){return me(T,null,null,U)},me.matchesSelector=function(T,U){if(ji(T),R&&!Ne[U+" "]&&(!$||!$.test(U)))try{var nt=ht.call(T,U);if(nt||ot.disconnectedMatch||T.document&&T.document.nodeType!==11)return nt}catch{Ne(U,!0)}return me(U,k,null,[T]).length>0},me.contains=function(T,U){return(T.ownerDocument||T)!=k&&ji(T),u.contains(T,U)},me.attr=function(T,U){(T.ownerDocument||T)!=k&&ji(T);var nt=s.attrHandle[U.toLowerCase()],st=nt&&W.call(s.attrHandle,U.toLowerCase())?nt(T,U,!R):void 0;return st!==void 0?st:T.getAttribute(U)},me.error=function(T){throw new Error("Syntax error, unrecognized expression: "+T)},u.uniqueSort=function(T){var U,nt=[],st=0,pt=0;if(m=!ot.sortStable,f=!ot.sortStable&&b.call(T,0),Mt.call(T,Pe),m){for(;U=T[pt++];)U===T[pt]&&(st=nt.push(pt));for(;st--;)jt.call(T,nt[st],1)}return f=null,T},u.fn.uniqueSort=function(){return this.pushStack(u.uniqueSort(b.apply(this)))},s=u.expr={cacheLength:50,createPseudo:ii,match:ki,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(T){return T[1]=T[1].replace(Ze,hi),T[3]=(T[3]||T[4]||T[5]||"").replace(Ze,hi),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},CHILD:function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||me.error(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&me.error(T[0]),T},PSEUDO:function(T){var U,nt=!T[6]&&T[2];return ki.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":nt&&Ni.test(nt)&&(U=xi(nt,!0))&&(U=nt.indexOf(")",nt.length-U)-nt.length)&&(T[0]=T[0].slice(0,U),T[2]=nt.slice(0,U)),T.slice(0,3))}},filter:{TAG:function(T){var U=T.replace(Ze,hi).toLowerCase();return T==="*"?function(){return!0}:function(nt){return vt(nt,U)}},CLASS:function(T){var U=Yt[T+" "];return U||(U=new RegExp("(^|"+Lt+")"+T+"("+Lt+"|$)"))&&Yt(T,function(nt){return U.test(typeof nt.className=="string"&&nt.className||typeof nt.getAttribute<"u"&&nt.getAttribute("class")||"")})},ATTR:function(T,U,nt){return function(st){var pt=me.attr(st,T);return pt==null?U==="!=":U?(pt+="",U==="="?pt===nt:U==="!="?pt!==nt:U==="^="?nt&&pt.indexOf(nt)===0:U==="*="?nt&&pt.indexOf(nt)>-1:U==="$="?nt&&pt.slice(-nt.length)===nt:U==="~="?(" "+pt.replace(de," ")+" ").indexOf(nt)>-1:U==="|="?pt===nt||pt.slice(0,nt.length+1)===nt+"-":!1):!0}},CHILD:function(T,U,nt,st,pt){var Pt=T.slice(0,3)!=="nth",Dt=T.slice(-4)!=="last",zt=U==="of-type";return st===1&&pt===0?function(Bt){return!!Bt.parentNode}:function(Bt,oe,Wt){var Gt,re,Ht,ke,ci,Je=Pt!==Dt?"nextSibling":"previousSibling",wi=Bt.parentNode,fi=zt&&Bt.nodeName.toLowerCase(),In=!Wt&&!zt,ze=!1;if(wi){if(Pt){for(;Je;){for(Ht=Bt;Ht=Ht[Je];)if(zt?vt(Ht,fi):Ht.nodeType===1)return!1;ci=Je=T==="only"&&!ci&&"nextSibling"}return!0}if(ci=[Dt?wi.firstChild:wi.lastChild],Dt&&In){for(re=wi[gt]||(wi[gt]={}),Gt=re[T]||[],ke=Gt[0]===at&&Gt[1],ze=ke&&Gt[2],Ht=ke&&wi.childNodes[ke];Ht=++ke&&Ht&&Ht[Je]||(ze=ke=0)||ci.pop();)if(Ht.nodeType===1&&++ze&&Ht===Bt){re[T]=[at,ke,ze];break}}else if(In&&(re=Bt[gt]||(Bt[gt]={}),Gt=re[T]||[],ke=Gt[0]===at&&Gt[1],ze=ke),ze===!1)for(;(Ht=++ke&&Ht&&Ht[Je]||(ze=ke=0)||ci.pop())&&!((zt?vt(Ht,fi):Ht.nodeType===1)&&++ze&&(In&&(re=Ht[gt]||(Ht[gt]={}),re[T]=[at,ze]),Ht===Bt)););return ze-=pt,ze===st||ze%st===0&&ze/st>=0}}},PSEUDO:function(T,U){var nt,st=s.pseudos[T]||s.setFilters[T.toLowerCase()]||me.error("unsupported pseudo: "+T);return st[gt]?st(U):st.length>1?(nt=[T,T,"",U],s.setFilters.hasOwnProperty(T.toLowerCase())?ii(function(pt,Pt){for(var Dt,zt=st(pt,U),Bt=zt.length;Bt--;)Dt=P.call(pt,zt[Bt]),pt[Dt]=!(Pt[Dt]=zt[Bt])}):function(pt){return st(pt,0,nt)}):st}},pseudos:{not:ii(function(T){var U=[],nt=[],st=Jn(T.replace(It,"$1"));return st[gt]?ii(function(pt,Pt,Dt,zt){for(var Bt,oe=st(pt,null,zt,[]),Wt=pt.length;Wt--;)(Bt=oe[Wt])&&(pt[Wt]=!(Pt[Wt]=Bt))}):function(pt,Pt,Dt){return U[0]=pt,st(U,null,Dt,nt),U[0]=null,!nt.pop()}}),has:ii(function(T){return function(U){return me(T,U).length>0}}),contains:ii(function(T){return T=T.replace(Ze,hi),function(U){return(U.textContent||u.text(U)).indexOf(T)>-1}}),lang:ii(function(T){return Ln.test(T||"")||me.error("unsupported lang: "+T),T=T.replace(Ze,hi).toLowerCase(),function(U){var nt;do if(nt=R?U.lang:U.getAttribute("xml:lang")||U.getAttribute("lang"))return nt=nt.toLowerCase(),nt===T||nt.indexOf(T+"-")===0;while((U=U.parentNode)&&U.nodeType===1);return!1}}),target:function(T){var U=E.location&&E.location.hash;return U&&U.slice(1)===T.id},root:function(T){return T===z},focus:function(T){return T===Er()&&k.hasFocus()&&!!(T.type||T.href||~T.tabIndex)},enabled:Yi(!1),disabled:Yi(!0),checked:function(T){return vt(T,"input")&&!!T.checked||vt(T,"option")&&!!T.selected},selected:function(T){return T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},empty:function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},parent:function(T){return!s.pseudos.empty(T)},header:function(T){return hn.test(T.nodeName)},input:function(T){return un.test(T.nodeName)},button:function(T){return vt(T,"input")&&T.type==="button"||vt(T,"button")},text:function(T){var U;return vt(T,"input")&&T.type==="text"&&((U=T.getAttribute("type"))==null||U.toLowerCase()==="text")},first:zi(function(){return[0]}),last:zi(function(T,U){return[U-1]}),eq:zi(function(T,U,nt){return[nt<0?nt+U:nt]}),even:zi(function(T,U){for(var nt=0;nt<U;nt+=2)T.push(nt);return T}),odd:zi(function(T,U){for(var nt=1;nt<U;nt+=2)T.push(nt);return T}),lt:zi(function(T,U,nt){var st;for(nt<0?st=nt+U:nt>U?st=U:st=nt;--st>=0;)T.push(st);return T}),gt:zi(function(T,U,nt){for(var st=nt<0?nt+U:nt;++st<U;)T.push(st);return T})}},s.pseudos.nth=s.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[r]=ar(r);for(r in{submit:!0,reset:!0})s.pseudos[r]=Or(r);function vr(){}vr.prototype=s.filters=s.pseudos,s.setFilters=new vr;function xi(T,U){var nt,st,pt,Pt,Dt,zt,Bt,oe=fe[T+" "];if(oe)return U?0:oe.slice(0);for(Dt=T,zt=[],Bt=s.preFilter;Dt;){(!nt||(st=Re.exec(Dt)))&&(st&&(Dt=Dt.slice(st[0].length)||Dt),zt.push(pt=[])),nt=!1,(st=Rn.exec(Dt))&&(nt=st.shift(),pt.push({value:nt,type:st[0].replace(It," ")}),Dt=Dt.slice(nt.length));for(Pt in s.filter)(st=ki[Pt].exec(Dt))&&(!Bt[Pt]||(st=Bt[Pt](st)))&&(nt=st.shift(),pt.push({value:nt,type:Pt,matches:st}),Dt=Dt.slice(nt.length));if(!nt)break}return U?Dt.length:Dt?me.error(T):fe(T,zt).slice(0)}function sr(T){for(var U=0,nt=T.length,st="";U<nt;U++)st+=T[U].value;return st}function Xi(T,U,nt){var st=U.dir,pt=U.next,Pt=pt||st,Dt=nt&&Pt==="parentNode",zt=xt++;return U.first?function(Bt,oe,Wt){for(;Bt=Bt[st];)if(Bt.nodeType===1||Dt)return T(Bt,oe,Wt);return!1}:function(Bt,oe,Wt){var Gt,re,Ht=[at,zt];if(Wt){for(;Bt=Bt[st];)if((Bt.nodeType===1||Dt)&&T(Bt,oe,Wt))return!0}else for(;Bt=Bt[st];)if(Bt.nodeType===1||Dt)if(re=Bt[gt]||(Bt[gt]={}),pt&&vt(Bt,pt))Bt=Bt[st]||Bt;else{if((Gt=re[Pt])&&Gt[0]===at&&Gt[1]===zt)return Ht[2]=Gt[2];if(re[Pt]=Ht,Ht[2]=T(Bt,oe,Wt))return!0}return!1}}function dr(T){return T.length>1?function(U,nt,st){for(var pt=T.length;pt--;)if(!T[pt](U,nt,st))return!1;return!0}:T[0]}function Qi(T,U,nt){for(var st=0,pt=U.length;st<pt;st++)me(T,U[st],nt);return nt}function xn(T,U,nt,st,pt){for(var Pt,Dt=[],zt=0,Bt=T.length,oe=U!=null;zt<Bt;zt++)(Pt=T[zt])&&(!nt||nt(Pt,st,pt))&&(Dt.push(Pt),oe&&U.push(zt));return Dt}function lr(T,U,nt,st,pt,Pt){return st&&!st[gt]&&(st=lr(st)),pt&&!pt[gt]&&(pt=lr(pt,Pt)),ii(function(Dt,zt,Bt,oe){var Wt,Gt,re,Ht,ke=[],ci=[],Je=zt.length,wi=Dt||Qi(U||"*",Bt.nodeType?[Bt]:Bt,[]),fi=T&&(Dt||!U)?xn(wi,ke,T,Bt,oe):wi;if(nt?(Ht=pt||(Dt?T:Je||st)?[]:zt,nt(fi,Ht,Bt,oe)):Ht=fi,st)for(Wt=xn(Ht,ci),st(Wt,[],Bt,oe),Gt=Wt.length;Gt--;)(re=Wt[Gt])&&(Ht[ci[Gt]]=!(fi[ci[Gt]]=re));if(Dt){if(pt||T){if(pt){for(Wt=[],Gt=Ht.length;Gt--;)(re=Ht[Gt])&&Wt.push(fi[Gt]=re);pt(null,Ht=[],Wt,oe)}for(Gt=Ht.length;Gt--;)(re=Ht[Gt])&&(Wt=pt?P.call(Dt,re):ke[Gt])>-1&&(Dt[Wt]=!(zt[Wt]=re))}}else Ht=xn(Ht===zt?Ht.splice(Je,Ht.length):Ht),pt?pt(null,zt,Ht,oe):g.apply(zt,Ht)})}function $n(T){for(var U,nt,st,pt=T.length,Pt=s.relative[T[0].type],Dt=Pt||s.relative[" "],zt=Pt?1:0,Bt=Xi(function(Gt){return Gt===U},Dt,!0),oe=Xi(function(Gt){return P.call(U,Gt)>-1},Dt,!0),Wt=[function(Gt,re,Ht){var ke=!Pt&&(Ht||re!=h)||((U=re).nodeType?Bt(Gt,re,Ht):oe(Gt,re,Ht));return U=null,ke}];zt<pt;zt++)if(nt=s.relative[T[zt].type])Wt=[Xi(dr(Wt),nt)];else{if(nt=s.filter[T[zt].type].apply(null,T[zt].matches),nt[gt]){for(st=++zt;st<pt&&!s.relative[T[st].type];st++);return lr(zt>1&&dr(Wt),zt>1&&sr(T.slice(0,zt-1).concat({value:T[zt-2].type===" "?"*":""})).replace(It,"$1"),nt,zt<st&&$n(T.slice(zt,st)),st<pt&&$n(T=T.slice(st)),st<pt&&sr(T))}Wt.push(nt)}return dr(Wt)}function ur(T,U){var nt=U.length>0,st=T.length>0,pt=function(Pt,Dt,zt,Bt,oe){var Wt,Gt,re,Ht=0,ke="0",ci=Pt&&[],Je=[],wi=h,fi=Pt||st&&s.find.TAG("*",oe),In=at+=wi==null?1:Math.random()||.1,ze=fi.length;for(oe&&(h=Dt==k||Dt||oe);ke!==ze&&(Wt=fi[ke])!=null;ke++){if(st&&Wt){for(Gt=0,!Dt&&Wt.ownerDocument!=k&&(ji(Wt),zt=!R);re=T[Gt++];)if(re(Wt,Dt||k,zt)){g.call(Bt,Wt);break}oe&&(at=In)}nt&&((Wt=!re&&Wt)&&Ht--,Pt&&ci.push(Wt))}if(Ht+=ke,nt&&ke!==Ht){for(Gt=0;re=U[Gt++];)re(ci,Je,Dt,zt);if(Pt){if(Ht>0)for(;ke--;)ci[ke]||Je[ke]||(Je[ke]=wt.call(Bt));Je=xn(Je)}g.apply(Bt,Je),oe&&!Pt&&Je.length>0&&Ht+U.length>1&&u.uniqueSort(Bt)}return oe&&(at=In,h=wi),ci};return nt?ii(pt):pt}function Jn(T,U){var nt,st=[],pt=[],Pt=ne[T+" "];if(!Pt){for(U||(U=xi(T)),nt=U.length;nt--;)Pt=$n(U[nt]),Pt[gt]?st.push(Pt):pt.push(Pt);Pt=ne(T,ur(pt,st)),Pt.selector=T}return Pt}function Yn(T,U,nt,st){var pt,Pt,Dt,zt,Bt,oe=typeof T=="function"&&T,Wt=!st&&xi(T=oe.selector||T);if(nt=nt||[],Wt.length===1){if(Pt=Wt[0]=Wt[0].slice(0),Pt.length>2&&(Dt=Pt[0]).type==="ID"&&U.nodeType===9&&R&&s.relative[Pt[1].type]){if(U=(s.find.ID(Dt.matches[0].replace(Ze,hi),U)||[])[0],U)oe&&(U=U.parentNode);else return nt;T=T.slice(Pt.shift().value.length)}for(pt=ki.needsContext.test(T)?0:Pt.length;pt--&&(Dt=Pt[pt],!s.relative[zt=Dt.type]);)if((Bt=s.find[zt])&&(st=Bt(Dt.matches[0].replace(Ze,hi),cr.test(Pt[0].type)&&fr(U.parentNode)||U))){if(Pt.splice(pt,1),T=st.length&&sr(Pt),!T)return g.apply(nt,st),nt;break}}return(oe||Jn(T,Wt))(st,U,!R,nt,!U||cr.test(T)&&fr(U.parentNode)||U),nt}ot.sortStable=gt.split("").sort(Pe).join("")===gt,ji(),ot.sortDetached=kn(function(T){return T.compareDocumentPosition(k.createElement("fieldset"))&1}),u.find=me,u.expr[":"]=u.expr.pseudos,u.unique=u.uniqueSort,me.compile=Jn,me.select=Yn,me.setDocument=ji,me.escape=u.escapeSelector,me.getText=u.text,me.isXML=u.isXMLDoc,me.selectors=u.expr,me.support=u.support,me.uniqueSort=u.uniqueSort})();var St=function(r,s,h){for(var f=[],m=h!==void 0;(r=r[s])&&r.nodeType!==9;)if(r.nodeType===1){if(m&&u(r).is(h))break;f.push(r)}return f},qt=function(r,s){for(var h=[];r;r=r.nextSibling)r.nodeType===1&&r!==s&&h.push(r);return h},ve=u.expr.match.needsContext,Ft=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $t(r,s,h){return J(s)?u.grep(r,function(f,m){return!!s.call(f,m,f)!==h}):s.nodeType?u.grep(r,function(f){return f===s!==h}):typeof s!="string"?u.grep(r,function(f){return P.call(s,f)>-1!==h}):u.filter(s,r,h)}u.filter=function(r,s,h){var f=s[0];return h&&(r=":not("+r+")"),s.length===1&&f.nodeType===1?u.find.matchesSelector(f,r)?[f]:[]:u.find.matches(r,u.grep(s,function(m){return m.nodeType===1}))},u.fn.extend({find:function(r){var s,h,f=this.length,m=this;if(typeof r!="string")return this.pushStack(u(r).filter(function(){for(s=0;s<f;s++)if(u.contains(m[s],this))return!0}));for(h=this.pushStack([]),s=0;s<f;s++)u.find(r,m[s],h);return f>1?u.uniqueSort(h):h},filter:function(r){return this.pushStack($t(this,r||[],!1))},not:function(r){return this.pushStack($t(this,r||[],!0))},is:function(r){return!!$t(this,typeof r=="string"&&ve.test(r)?u(r):r||[],!1).length}});var ue,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ti=u.fn.init=function(r,s,h){var f,m;if(!r)return this;if(h=h||ue,typeof r=="string")if(r[0]==="<"&&r[r.length-1]===">"&&r.length>=3?f=[null,r,null]:f=ge.exec(r),f&&(f[1]||!s))if(f[1]){if(s=s instanceof u?s[0]:s,u.merge(this,u.parseHTML(f[1],s&&s.nodeType?s.ownerDocument||s:Y,!0)),Ft.test(f[1])&&u.isPlainObject(s))for(f in s)J(this[f])?this[f](s[f]):this.attr(f,s[f]);return this}else return m=Y.getElementById(f[2]),m&&(this[0]=m,this.length=1),this;else return!s||s.jquery?(s||h).find(r):this.constructor(s).find(r);else{if(r.nodeType)return this[0]=r,this.length=1,this;if(J(r))return h.ready!==void 0?h.ready(r):r(u)}return u.makeArray(r,this)};ti.prototype=u.fn,ue=u(Y);var je=/^(?:parents|prev(?:Until|All))/,gn={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(r){var s=u(r,this),h=s.length;return this.filter(function(){for(var f=0;f<h;f++)if(u.contains(this,s[f]))return!0})},closest:function(r,s){var h,f=0,m=this.length,g=[],k=typeof r!="string"&&u(r);if(!ve.test(r)){for(;f<m;f++)for(h=this[f];h&&h!==s;h=h.parentNode)if(h.nodeType<11&&(k?k.index(h)>-1:h.nodeType===1&&u.find.matchesSelector(h,r))){g.push(h);break}}return this.pushStack(g.length>1?u.uniqueSort(g):g)},index:function(r){return r?typeof r=="string"?P.call(u(r),this[0]):P.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,s){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(r,s))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}});function ei(r,s){for(;(r=r[s])&&r.nodeType!==1;);return r}u.each({parent:function(r){var s=r.parentNode;return s&&s.nodeType!==11?s:null},parents:function(r){return St(r,"parentNode")},parentsUntil:function(r,s,h){return St(r,"parentNode",h)},next:function(r){return ei(r,"nextSibling")},prev:function(r){return ei(r,"previousSibling")},nextAll:function(r){return St(r,"nextSibling")},prevAll:function(r){return St(r,"previousSibling")},nextUntil:function(r,s,h){return St(r,"nextSibling",h)},prevUntil:function(r,s,h){return St(r,"previousSibling",h)},siblings:function(r){return qt((r.parentNode||{}).firstChild,r)},children:function(r){return qt(r.firstChild)},contents:function(r){return r.contentDocument!=null&&v(r.contentDocument)?r.contentDocument:(vt(r,"template")&&(r=r.content||r),u.merge([],r.childNodes))}},function(r,s){u.fn[r]=function(h,f){var m=u.map(this,s,h);return r.slice(-5)!=="Until"&&(f=h),f&&typeof f=="string"&&(m=u.filter(f,m)),this.length>1&&(gn[r]||u.uniqueSort(m),je.test(r)&&m.reverse()),this.pushStack(m)}});var He=/[^\x20\t\r\n\f]+/g;function ri(r){var s={};return u.each(r.match(He)||[],function(h,f){s[f]=!0}),s}u.Callbacks=function(r){r=typeof r=="string"?ri(r):u.extend({},r);var s,h,f,m,g=[],k=[],z=-1,R=function(){for(m=m||r.once,f=s=!0;k.length;z=-1)for(h=k.shift();++z<g.length;)g[z].apply(h[0],h[1])===!1&&r.stopOnFalse&&(z=g.length,h=!1);r.memory||(h=!1),s=!1,m&&(h?g=[]:g="")},$={add:function(){return g&&(h&&!s&&(z=g.length-1,k.push(h)),function ht(gt){u.each(gt,function(at,xt){J(xt)?(!r.unique||!$.has(xt))&&g.push(xt):xt&&xt.length&&tt(xt)!=="string"&&ht(xt)})}(arguments),h&&!s&&R()),this},remove:function(){return u.each(arguments,function(ht,gt){for(var at;(at=u.inArray(gt,g,at))>-1;)g.splice(at,1),at<=z&&z--}),this},has:function(ht){return ht?u.inArray(ht,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return m=k=[],g=h="",this},disabled:function(){return!g},lock:function(){return m=k=[],!h&&!s&&(g=h=""),this},locked:function(){return!!m},fireWith:function(ht,gt){return m||(gt=gt||[],gt=[ht,gt.slice?gt.slice():gt],k.push(gt),s||R()),this},fire:function(){return $.fireWith(this,arguments),this},fired:function(){return!!f}};return $};function yi(r){return r}function Zi(r){throw r}function tn(r,s,h,f){var m;try{r&&J(m=r.promise)?m.call(r).done(s).fail(h):r&&J(m=r.then)?m.call(r,s,h):s.apply(void 0,[r].slice(f))}catch(g){h.apply(void 0,[g])}}u.extend({Deferred:function(r){var s=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],h="pending",f={state:function(){return h},always:function(){return m.done(arguments).fail(arguments),this},catch:function(g){return f.then(null,g)},pipe:function(){var g=arguments;return u.Deferred(function(k){u.each(s,function(z,R){var $=J(g[R[4]])&&g[R[4]];m[R[1]](function(){var ht=$&&$.apply(this,arguments);ht&&J(ht.promise)?ht.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[R[0]+"With"](this,$?[ht]:arguments)})}),g=null}).promise()},then:function(g,k,z){var R=0;function $(ht,gt,at,xt){return function(){var Yt=this,fe=arguments,ne=function(){var Pe,Ai;if(!(ht<R)){if(Pe=at.apply(Yt,fe),Pe===gt.promise())throw new TypeError("Thenable self-resolution");Ai=Pe&&(typeof Pe=="object"||typeof Pe=="function")&&Pe.then,J(Ai)?xt?Ai.call(Pe,$(R,gt,yi,xt),$(R,gt,Zi,xt)):(R++,Ai.call(Pe,$(R,gt,yi,xt),$(R,gt,Zi,xt),$(R,gt,yi,gt.notifyWith))):(at!==yi&&(Yt=void 0,fe=[Pe]),(xt||gt.resolveWith)(Yt,fe))}},Ne=xt?ne:function(){try{ne()}catch(Pe){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(Pe,Ne.error),ht+1>=R&&(at!==Zi&&(Yt=void 0,fe=[Pe]),gt.rejectWith(Yt,fe))}};ht?Ne():(u.Deferred.getErrorHook?Ne.error=u.Deferred.getErrorHook():u.Deferred.getStackHook&&(Ne.error=u.Deferred.getStackHook()),E.setTimeout(Ne))}}return u.Deferred(function(ht){s[0][3].add($(0,ht,J(z)?z:yi,ht.notifyWith)),s[1][3].add($(0,ht,J(g)?g:yi)),s[2][3].add($(0,ht,J(k)?k:Zi))}).promise()},promise:function(g){return g!=null?u.extend(g,f):f}},m={};return u.each(s,function(g,k){var z=k[2],R=k[5];f[k[1]]=z.add,R&&z.add(function(){h=R},s[3-g][2].disable,s[3-g][3].disable,s[0][2].lock,s[0][3].lock),z.add(k[3].fire),m[k[0]]=function(){return m[k[0]+"With"](this===m?void 0:this,arguments),this},m[k[0]+"With"]=z.fireWith}),f.promise(m),r&&r.call(m,m),m},when:function(r){var s=arguments.length,h=s,f=Array(h),m=b.call(arguments),g=u.Deferred(),k=function(z){return function(R){f[z]=this,m[z]=arguments.length>1?b.call(arguments):R,--s||g.resolveWith(f,m)}};if(s<=1&&(tn(r,g.done(k(h)).resolve,g.reject,!s),g.state()==="pending"||J(m[h]&&m[h].then)))return g.then();for(;h--;)tn(m[h],k(h),g.reject);return g.promise()}});var We=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(r,s){E.console&&E.console.warn&&r&&We.test(r.name)&&E.console.warn("jQuery.Deferred exception: "+r.message,r.stack,s)},u.readyException=function(r){E.setTimeout(function(){throw r})};var Hi=u.Deferred();u.fn.ready=function(r){return Hi.then(r).catch(function(s){u.readyException(s)}),this},u.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--u.readyWait:u.isReady)||(u.isReady=!0,!(r!==!0&&--u.readyWait>0)&&Hi.resolveWith(Y,[u]))}}),u.ready.then=Hi.then;function pi(){Y.removeEventListener("DOMContentLoaded",pi),E.removeEventListener("load",pi),u.ready()}Y.readyState==="complete"||Y.readyState!=="loading"&&!Y.documentElement.doScroll?E.setTimeout(u.ready):(Y.addEventListener("DOMContentLoaded",pi),E.addEventListener("load",pi));var gi=function(r,s,h,f,m,g,k){var z=0,R=r.length,$=h==null;if(tt(h)==="object"){m=!0;for(z in h)gi(r,s,z,h[z],!0,g,k)}else if(f!==void 0&&(m=!0,J(f)||(k=!0),$&&(k?(s.call(r,f),s=null):($=s,s=function(ht,gt,at){return $.call(u(ht),at)})),s))for(;z<R;z++)s(r[z],h,k?f:f.call(r[z],z,s(r[z],h)));return m?r:$?s.call(r):R?s(r[0],h):g},mn=/^-ms-/,j=/-([a-z])/g;function _(r,s){return s.toUpperCase()}function x(r){return r.replace(mn,"ms-").replace(j,_)}var S=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function G(){this.expando=u.expando+G.uid++}G.uid=1,G.prototype={cache:function(r){var s=r[this.expando];return s||(s={},S(r)&&(r.nodeType?r[this.expando]=s:Object.defineProperty(r,this.expando,{value:s,configurable:!0}))),s},set:function(r,s,h){var f,m=this.cache(r);if(typeof s=="string")m[x(s)]=h;else for(f in s)m[x(f)]=s[f];return m},get:function(r,s){return s===void 0?this.cache(r):r[this.expando]&&r[this.expando][x(s)]},access:function(r,s,h){return s===void 0||s&&typeof s=="string"&&h===void 0?this.get(r,s):(this.set(r,s,h),h!==void 0?h:s)},remove:function(r,s){var h,f=r[this.expando];if(f!==void 0){if(s!==void 0)for(Array.isArray(s)?s=s.map(x):(s=x(s),s=s in f?[s]:s.match(He)||[]),h=s.length;h--;)delete f[s[h]];(s===void 0||u.isEmptyObject(f))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var s=r[this.expando];return s!==void 0&&!u.isEmptyObject(s)}};var D=new G,ft=new G,_t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/[A-Z]/g;function Zt(r){return r==="true"?!0:r==="false"?!1:r==="null"?null:r===+r+""?+r:_t.test(r)?JSON.parse(r):r}function Xt(r,s,h){var f;if(h===void 0&&r.nodeType===1)if(f="data-"+s.replace(Tt,"-$&").toLowerCase(),h=r.getAttribute(f),typeof h=="string"){try{h=Zt(h)}catch{}ft.set(r,s,h)}else h=void 0;return h}u.extend({hasData:function(r){return ft.hasData(r)||D.hasData(r)},data:function(r,s,h){return ft.access(r,s,h)},removeData:function(r,s){ft.remove(r,s)},_data:function(r,s,h){return D.access(r,s,h)},_removeData:function(r,s){D.remove(r,s)}}),u.fn.extend({data:function(r,s){var h,f,m,g=this[0],k=g&&g.attributes;if(r===void 0){if(this.length&&(m=ft.get(g),g.nodeType===1&&!D.get(g,"hasDataAttrs"))){for(h=k.length;h--;)k[h]&&(f=k[h].name,f.indexOf("data-")===0&&(f=x(f.slice(5)),Xt(g,f,m[f])));D.set(g,"hasDataAttrs",!0)}return m}return typeof r=="object"?this.each(function(){ft.set(this,r)}):gi(this,function(z){var R;if(g&&z===void 0)return R=ft.get(g,r),R!==void 0||(R=Xt(g,r),R!==void 0)?R:void 0;this.each(function(){ft.set(this,r,z)})},null,s,arguments.length>1,null,!0)},removeData:function(r){return this.each(function(){ft.remove(this,r)})}}),u.extend({queue:function(r,s,h){var f;if(r)return s=(s||"fx")+"queue",f=D.get(r,s),h&&(!f||Array.isArray(h)?f=D.access(r,s,u.makeArray(h)):f.push(h)),f||[]},dequeue:function(r,s){s=s||"fx";var h=u.queue(r,s),f=h.length,m=h.shift(),g=u._queueHooks(r,s),k=function(){u.dequeue(r,s)};m==="inprogress"&&(m=h.shift(),f--),m&&(s==="fx"&&h.unshift("inprogress"),delete g.stop,m.call(r,k,g)),!f&&g&&g.empty.fire()},_queueHooks:function(r,s){var h=s+"queueHooks";return D.get(r,h)||D.access(r,h,{empty:u.Callbacks("once memory").add(function(){D.remove(r,[s+"queue",h])})})}}),u.fn.extend({queue:function(r,s){var h=2;return typeof r!="string"&&(s=r,r="fx",h--),arguments.length<h?u.queue(this[0],r):s===void 0?this:this.each(function(){var f=u.queue(this,r,s);u._queueHooks(this,r),r==="fx"&&f[0]!=="inprogress"&&u.dequeue(this,r)})},dequeue:function(r){return this.each(function(){u.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,s){var h,f=1,m=u.Deferred(),g=this,k=this.length,z=function(){--f||m.resolveWith(g,[g])};for(typeof r!="string"&&(s=r,r=void 0),r=r||"fx";k--;)h=D.get(g[k],r+"queueHooks"),h&&h.empty&&(f++,h.empty.add(z));return z(),m.promise(s)}});var ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),se=["Top","Right","Bottom","Left"],Vt=Y.documentElement,ye=function(r){return u.contains(r.ownerDocument,r)},Ce={composed:!0};Vt.getRootNode&&(ye=function(r){return u.contains(r.ownerDocument,r)||r.getRootNode(Ce)===r.ownerDocument});var Oe=function(r,s){return r=s||r,r.style.display==="none"||r.style.display===""&&ye(r)&&u.css(r,"display")==="none"};function Ue(r,s,h,f){var m,g,k=20,z=f?function(){return f.cur()}:function(){return u.css(r,s,"")},R=z(),$=h&&h[3]||(u.cssNumber[s]?"":"px"),ht=r.nodeType&&(u.cssNumber[s]||$!=="px"&&+R)&&ee.exec(u.css(r,s));if(ht&&ht[3]!==$){for(R=R/2,$=$||ht[3],ht=+R||1;k--;)u.style(r,s,ht+$),(1-g)*(1-(g=z()/R||.5))<=0&&(k=0),ht=ht/g;ht=ht*2,u.style(r,s,ht+$),h=h||[]}return h&&(ht=+ht||+R||0,m=h[1]?ht+(h[1]+1)*h[2]:+h[2],f&&(f.unit=$,f.start=ht,f.end=m)),m}var Ge={};function qe(r){var s,h=r.ownerDocument,f=r.nodeName,m=Ge[f];return m||(s=h.body.appendChild(h.createElement(f)),m=u.css(s,"display"),s.parentNode.removeChild(s),m==="none"&&(m="block"),Ge[f]=m,m)}function Ke(r,s){for(var h,f,m=[],g=0,k=r.length;g<k;g++)f=r[g],f.style&&(h=f.style.display,s?(h==="none"&&(m[g]=D.get(f,"display")||null,m[g]||(f.style.display="")),f.style.display===""&&Oe(f)&&(m[g]=qe(f))):h!=="none"&&(m[g]="none",D.set(f,"display",h)));for(g=0;g<k;g++)m[g]!=null&&(r[g].style.display=m[g]);return r}u.fn.extend({show:function(){return Ke(this,!0)},hide:function(){return Ke(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){Oe(this)?u(this).show():u(this).hide()})}});var Ye=/^(?:checkbox|radio)$/i,Xe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,oi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var r=Y.createDocumentFragment(),s=r.appendChild(Y.createElement("div")),h=Y.createElement("input");h.setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),s.appendChild(h),ot.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,s.innerHTML="<textarea>x</textarea>",ot.noCloneChecked=!!s.cloneNode(!0).lastChild.defaultValue,s.innerHTML="<option></option>",ot.option=!!s.lastChild})();var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,ot.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);function Be(r,s){var h;return typeof r.getElementsByTagName<"u"?h=r.getElementsByTagName(s||"*"):typeof r.querySelectorAll<"u"?h=r.querySelectorAll(s||"*"):h=[],s===void 0||s&&vt(r,s)?u.merge([r],h):h}function Fe(r,s){for(var h=0,f=r.length;h<f;h++)D.set(r[h],"globalEval",!s||D.get(s[h],"globalEval"))}var Ie=/<|&#?\w+;/;function Ci(r,s,h,f,m){for(var g,k,z,R,$,ht,gt=s.createDocumentFragment(),at=[],xt=0,Yt=r.length;xt<Yt;xt++)if(g=r[xt],g||g===0)if(tt(g)==="object")u.merge(at,g.nodeType?[g]:g);else if(!Ie.test(g))at.push(s.createTextNode(g));else{for(k=k||gt.appendChild(s.createElement("div")),z=(Xe.exec(g)||["",""])[1].toLowerCase(),R=De[z]||De._default,k.innerHTML=R[1]+u.htmlPrefilter(g)+R[2],ht=R[0];ht--;)k=k.lastChild;u.merge(at,k.childNodes),k=gt.firstChild,k.textContent=""}for(gt.textContent="",xt=0;g=at[xt++];){if(f&&u.inArray(g,f)>-1){m&&m.push(g);continue}if($=ye(g),k=Be(gt.appendChild(g),"script"),$&&Fe(k),h)for(ht=0;g=k[ht++];)oi.test(g.type||"")&&h.push(g)}return gt}var jn=/^([^.]*)(?:\.(.+)|)/;function Di(){return!0}function vi(){return!1}function ai(r,s,h,f,m,g){var k,z;if(typeof s=="object"){typeof h!="string"&&(f=f||h,h=void 0);for(z in s)ai(r,z,h,f,s[z],g);return r}if(f==null&&m==null?(m=h,f=h=void 0):m==null&&(typeof h=="string"?(m=f,f=void 0):(m=f,f=h,h=void 0)),m===!1)m=vi;else if(!m)return r;return g===1&&(k=m,m=function(R){return u().off(R),k.apply(this,arguments)},m.guid=k.guid||(k.guid=u.guid++)),r.each(function(){u.event.add(this,s,m,f,h)})}u.event={global:{},add:function(r,s,h,f,m){var g,k,z,R,$,ht,gt,at,xt,Yt,fe,ne=D.get(r);if(S(r))for(h.handler&&(g=h,h=g.handler,m=g.selector),m&&u.find.matchesSelector(Vt,m),h.guid||(h.guid=u.guid++),(R=ne.events)||(R=ne.events=Object.create(null)),(k=ne.handle)||(k=ne.handle=function(Ne){return typeof u<"u"&&u.event.triggered!==Ne.type?u.event.dispatch.apply(r,arguments):void 0}),s=(s||"").match(He)||[""],$=s.length;$--;)z=jn.exec(s[$])||[],xt=fe=z[1],Yt=(z[2]||"").split(".").sort(),xt&&(gt=u.event.special[xt]||{},xt=(m?gt.delegateType:gt.bindType)||xt,gt=u.event.special[xt]||{},ht=u.extend({type:xt,origType:fe,data:f,handler:h,guid:h.guid,selector:m,needsContext:m&&u.expr.match.needsContext.test(m),namespace:Yt.join(".")},g),(at=R[xt])||(at=R[xt]=[],at.delegateCount=0,(!gt.setup||gt.setup.call(r,f,Yt,k)===!1)&&r.addEventListener&&r.addEventListener(xt,k)),gt.add&&(gt.add.call(r,ht),ht.handler.guid||(ht.handler.guid=h.guid)),m?at.splice(at.delegateCount++,0,ht):at.push(ht),u.event.global[xt]=!0)},remove:function(r,s,h,f,m){var g,k,z,R,$,ht,gt,at,xt,Yt,fe,ne=D.hasData(r)&&D.get(r);if(!(!ne||!(R=ne.events))){for(s=(s||"").match(He)||[""],$=s.length;$--;){if(z=jn.exec(s[$])||[],xt=fe=z[1],Yt=(z[2]||"").split(".").sort(),!xt){for(xt in R)u.event.remove(r,xt+s[$],h,f,!0);continue}for(gt=u.event.special[xt]||{},xt=(f?gt.delegateType:gt.bindType)||xt,at=R[xt]||[],z=z[2]&&new RegExp("(^|\\.)"+Yt.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=g=at.length;g--;)ht=at[g],(m||fe===ht.origType)&&(!h||h.guid===ht.guid)&&(!z||z.test(ht.namespace))&&(!f||f===ht.selector||f==="**"&&ht.selector)&&(at.splice(g,1),ht.selector&&at.delegateCount--,gt.remove&&gt.remove.call(r,ht));k&&!at.length&&((!gt.teardown||gt.teardown.call(r,Yt,ne.handle)===!1)&&u.removeEvent(r,xt,ne.handle),delete R[xt])}u.isEmptyObject(R)&&D.remove(r,"handle events")}},dispatch:function(r){var s,h,f,m,g,k,z=new Array(arguments.length),R=u.event.fix(r),$=(D.get(this,"events")||Object.create(null))[R.type]||[],ht=u.event.special[R.type]||{};for(z[0]=R,s=1;s<arguments.length;s++)z[s]=arguments[s];if(R.delegateTarget=this,!(ht.preDispatch&&ht.preDispatch.call(this,R)===!1)){for(k=u.event.handlers.call(this,R,$),s=0;(m=k[s++])&&!R.isPropagationStopped();)for(R.currentTarget=m.elem,h=0;(g=m.handlers[h++])&&!R.isImmediatePropagationStopped();)(!R.rnamespace||g.namespace===!1||R.rnamespace.test(g.namespace))&&(R.handleObj=g,R.data=g.data,f=((u.event.special[g.origType]||{}).handle||g.handler).apply(m.elem,z),f!==void 0&&(R.result=f)===!1&&(R.preventDefault(),R.stopPropagation()));return ht.postDispatch&&ht.postDispatch.call(this,R),R.result}},handlers:function(r,s){var h,f,m,g,k,z=[],R=s.delegateCount,$=r.target;if(R&&$.nodeType&&!(r.type==="click"&&r.button>=1)){for(;$!==this;$=$.parentNode||this)if($.nodeType===1&&!(r.type==="click"&&$.disabled===!0)){for(g=[],k={},h=0;h<R;h++)f=s[h],m=f.selector+" ",k[m]===void 0&&(k[m]=f.needsContext?u(m,this).index($)>-1:u.find(m,this,null,[$]).length),k[m]&&g.push(f);g.length&&z.push({elem:$,handlers:g})}}return $=this,R<s.length&&z.push({elem:$,handlers:s.slice(R)}),z},addProp:function(r,s){Object.defineProperty(u.Event.prototype,r,{enumerable:!0,configurable:!0,get:J(s)?function(){if(this.originalEvent)return s(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(h){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:h})}})},fix:function(r){return r[u.expando]?r:new u.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var s=this||r;return Ye.test(s.type)&&s.click&&vt(s,"input")&&Nt(s,"click",!0),!1},trigger:function(r){var s=this||r;return Ye.test(s.type)&&s.click&&vt(s,"input")&&Nt(s,"click"),!0},_default:function(r){var s=r.target;return Ye.test(s.type)&&s.click&&vt(s,"input")&&D.get(s,"click")||vt(s,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};function Nt(r,s,h){if(!h){D.get(r,s)===void 0&&u.event.add(r,s,Di);return}D.set(r,s,!1),u.event.add(r,s,{namespace:!1,handler:function(f){var m,g=D.get(this,s);if(f.isTrigger&1&&this[s]){if(g)(u.event.special[s]||{}).delegateType&&f.stopPropagation();else if(g=b.call(arguments),D.set(this,s,g),this[s](),m=D.get(this,s),D.set(this,s,!1),g!==m)return f.stopImmediatePropagation(),f.preventDefault(),m}else g&&(D.set(this,s,u.event.trigger(g[0],g.slice(1),this)),f.stopPropagation(),f.isImmediatePropagationStopped=Di)}})}u.removeEvent=function(r,s,h){r.removeEventListener&&r.removeEventListener(s,h)},u.Event=function(r,s){if(!(this instanceof u.Event))return new u.Event(r,s);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?Di:vi,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,s&&u.extend(this,s),this.timeStamp=r&&r.timeStamp||Date.now(),this[u.expando]=!0},u.Event.prototype={constructor:u.Event,isDefaultPrevented:vi,isPropagationStopped:vi,isImmediatePropagationStopped:vi,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=Di,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=Di,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=Di,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},u.event.addProp),u.each({focus:"focusin",blur:"focusout"},function(r,s){function h(f){if(Y.documentMode){var m=D.get(this,"handle"),g=u.event.fix(f);g.type=f.type==="focusin"?"focus":"blur",g.isSimulated=!0,m(f),g.target===g.currentTarget&&m(g)}else u.event.simulate(s,f.target,u.event.fix(f))}u.event.special[r]={setup:function(){var f;if(Nt(this,r,!0),Y.documentMode)f=D.get(this,s),f||this.addEventListener(s,h),D.set(this,s,(f||0)+1);else return!1},trigger:function(){return Nt(this,r),!0},teardown:function(){var f;if(Y.documentMode)f=D.get(this,s)-1,f?D.set(this,s,f):(this.removeEventListener(s,h),D.remove(this,s));else return!1},_default:function(f){return D.get(f.target,r)},delegateType:s},u.event.special[s]={setup:function(){var f=this.ownerDocument||this.document||this,m=Y.documentMode?this:f,g=D.get(m,s);g||(Y.documentMode?this.addEventListener(s,h):f.addEventListener(r,h,!0)),D.set(m,s,(g||0)+1)},teardown:function(){var f=this.ownerDocument||this.document||this,m=Y.documentMode?this:f,g=D.get(m,s)-1;g?D.set(m,s,g):(Y.documentMode?this.removeEventListener(s,h):f.removeEventListener(r,h,!0),D.remove(m,s))}}}),u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,s){u.event.special[r]={delegateType:s,bindType:s,handle:function(h){var f,m=this,g=h.relatedTarget,k=h.handleObj;return(!g||g!==m&&!u.contains(m,g))&&(h.type=k.origType,f=k.handler.apply(this,arguments),h.type=s),f}}}),u.fn.extend({on:function(r,s,h,f){return ai(this,r,s,h,f)},one:function(r,s,h,f){return ai(this,r,s,h,f,1)},off:function(r,s,h){var f,m;if(r&&r.preventDefault&&r.handleObj)return f=r.handleObj,u(r.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof r=="object"){for(m in r)this.off(m,s,r[m]);return this}return(s===!1||typeof s=="function")&&(h=s,s=void 0),h===!1&&(h=vi),this.each(function(){u.event.remove(this,r,h,s)})}});var Pn=/<script|<style|<link/i,Tn=/checked\s*(?:[^=]|=\s*.checked.)/i,Gn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pi(r,s){return vt(r,"table")&&vt(s.nodeType!==11?s:s.firstChild,"tr")&&u(r).children("tbody")[0]||r}function Ti(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function tr(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Si(r,s){var h,f,m,g,k,z,R;if(s.nodeType===1){if(D.hasData(r)&&(g=D.get(r),R=g.events,R)){D.remove(s,"handle events");for(m in R)for(h=0,f=R[m].length;h<f;h++)u.event.add(s,m,R[m][h])}ft.hasData(r)&&(k=ft.access(r),z=u.extend({},k),ft.set(s,z))}}function en(r,s){var h=s.nodeName.toLowerCase();h==="input"&&Ye.test(r.type)?s.checked=r.checked:(h==="input"||h==="textarea")&&(s.defaultValue=r.defaultValue)}function nn(r,s,h,f){s=y(s);var m,g,k,z,R,$,ht=0,gt=r.length,at=gt-1,xt=s[0],Yt=J(xt);if(Yt||gt>1&&typeof xt=="string"&&!ot.checkClone&&Tn.test(xt))return r.each(function(fe){var ne=r.eq(fe);Yt&&(s[0]=xt.call(this,fe,ne.html())),nn(ne,s,h,f)});if(gt&&(m=Ci(s,r[0].ownerDocument,!1,r,f),g=m.firstChild,m.childNodes.length===1&&(m=g),g||f)){for(k=u.map(Be(m,"script"),Ti),z=k.length;ht<gt;ht++)R=m,ht!==at&&(R=u.clone(R,!0,!0),z&&u.merge(k,Be(R,"script"))),h.call(r[ht],R,ht);if(z)for($=k[k.length-1].ownerDocument,u.map(k,tr),ht=0;ht<z;ht++)R=k[ht],oi.test(R.type||"")&&!D.access(R,"globalEval")&&u.contains($,R)&&(R.src&&(R.type||"").toLowerCase()!=="module"?u._evalUrl&&!R.noModule&&u._evalUrl(R.src,{nonce:R.nonce||R.getAttribute("nonce")},$):Q(R.textContent.replace(Gn,""),R,$))}return r}function Fn(r,s,h){for(var f,m=s?u.filter(s,r):r,g=0;(f=m[g])!=null;g++)!h&&f.nodeType===1&&u.cleanData(Be(f)),f.parentNode&&(h&&ye(f)&&Fe(Be(f,"script")),f.parentNode.removeChild(f));return r}u.extend({htmlPrefilter:function(r){return r},clone:function(r,s,h){var f,m,g,k,z=r.cloneNode(!0),R=ye(r);if(!ot.noCloneChecked&&(r.nodeType===1||r.nodeType===11)&&!u.isXMLDoc(r))for(k=Be(z),g=Be(r),f=0,m=g.length;f<m;f++)en(g[f],k[f]);if(s)if(h)for(g=g||Be(r),k=k||Be(z),f=0,m=g.length;f<m;f++)Si(g[f],k[f]);else Si(r,z);return k=Be(z,"script"),k.length>0&&Fe(k,!R&&Be(r,"script")),z},cleanData:function(r){for(var s,h,f,m=u.event.special,g=0;(h=r[g])!==void 0;g++)if(S(h)){if(s=h[D.expando]){if(s.events)for(f in s.events)m[f]?u.event.remove(h,f):u.removeEvent(h,f,s.handle);h[D.expando]=void 0}h[ft.expando]&&(h[ft.expando]=void 0)}}}),u.fn.extend({detach:function(r){return Fn(this,r,!0)},remove:function(r){return Fn(this,r)},text:function(r){return gi(this,function(s){return s===void 0?u.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=s)})},null,r,arguments.length)},append:function(){return nn(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var s=Pi(this,r);s.appendChild(r)}})},prepend:function(){return nn(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var s=Pi(this,r);s.insertBefore(r,s.firstChild)}})},before:function(){return nn(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return nn(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,s=0;(r=this[s])!=null;s++)r.nodeType===1&&(u.cleanData(Be(r,!1)),r.textContent="");return this},clone:function(r,s){return r=r??!1,s=s??r,this.map(function(){return u.clone(this,r,s)})},html:function(r){return gi(this,function(s){var h=this[0]||{},f=0,m=this.length;if(s===void 0&&h.nodeType===1)return h.innerHTML;if(typeof s=="string"&&!Pn.test(s)&&!De[(Xe.exec(s)||["",""])[1].toLowerCase()]){s=u.htmlPrefilter(s);try{for(;f<m;f++)h=this[f]||{},h.nodeType===1&&(u.cleanData(Be(h,!1)),h.innerHTML=s);h=0}catch{}}h&&this.empty().append(s)},null,r,arguments.length)},replaceWith:function(){var r=[];return nn(this,arguments,function(s){var h=this.parentNode;u.inArray(this,r)<0&&(u.cleanData(Be(this)),h&&h.replaceChild(s,this))},r)}}),u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,s){u.fn[r]=function(h){for(var f,m=[],g=u(h),k=g.length-1,z=0;z<=k;z++)f=z===k?this:this.clone(!0),u(g[z])[s](f),M.apply(m,f.get());return this.pushStack(m)}});var Sn=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Zn=/^--/,rn=function(r){var s=r.ownerDocument.defaultView;return(!s||!s.opener)&&(s=E),s.getComputedStyle(r)},En=function(r,s,h){var f,m,g={};for(m in s)g[m]=r.style[m],r.style[m]=s[m];f=h.call(r);for(m in s)r.style[m]=g[m];return f},_n=new RegExp(se.join("|"),"i");(function(){function r(){if($){R.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",$.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Vt.appendChild(R).appendChild($);var ht=E.getComputedStyle($);h=ht.top!=="1%",z=s(ht.marginLeft)===12,$.style.right="60%",g=s(ht.right)===36,f=s(ht.width)===36,$.style.position="absolute",m=s($.offsetWidth/3)===12,Vt.removeChild(R),$=null}}function s(ht){return Math.round(parseFloat(ht))}var h,f,m,g,k,z,R=Y.createElement("div"),$=Y.createElement("div");$.style&&($.style.backgroundClip="content-box",$.cloneNode(!0).style.backgroundClip="",ot.clearCloneStyle=$.style.backgroundClip==="content-box",u.extend(ot,{boxSizingReliable:function(){return r(),f},pixelBoxStyles:function(){return r(),g},pixelPosition:function(){return r(),h},reliableMarginLeft:function(){return r(),z},scrollboxSize:function(){return r(),m},reliableTrDimensions:function(){var ht,gt,at,xt;return k==null&&(ht=Y.createElement("table"),gt=Y.createElement("tr"),at=Y.createElement("div"),ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gt.style.cssText="border:1px solid",gt.style.height="1px",at.style.height="9px",at.style.display="block",Vt.appendChild(ht).appendChild(gt).appendChild(at),xt=E.getComputedStyle(gt),k=parseInt(xt.height,10)+parseInt(xt.borderTopWidth,10)+parseInt(xt.borderBottomWidth,10)===gt.offsetHeight,Vt.removeChild(ht)),k}}))})();function Ui(r,s,h){var f,m,g,k,z=Zn.test(s),R=r.style;return h=h||rn(r),h&&(k=h.getPropertyValue(s)||h[s],z&&k&&(k=k.replace(It,"$1")||void 0),k===""&&!ye(r)&&(k=u.style(r,s)),!ot.pixelBoxStyles()&&Sn.test(k)&&_n.test(s)&&(f=R.width,m=R.minWidth,g=R.maxWidth,R.minWidth=R.maxWidth=R.width=k,k=h.width,R.width=f,R.minWidth=m,R.maxWidth=g)),k!==void 0?k+"":k}function er(r,s){return{get:function(){if(r()){delete this.get;return}return(this.get=s).apply(this,arguments)}}}var yn=["Webkit","Moz","ms"],Hn=Y.createElement("div").style,ir={};function qi(r){for(var s=r[0].toUpperCase()+r.slice(1),h=yn.length;h--;)if(r=yn[h]+s,r in Hn)return r}function Vi(r){var s=u.cssProps[r]||ir[r];return s||(r in Hn?r:ir[r]=qi(r)||r)}var Un=/^(none|table(?!-c[ea]).+)/,On={position:"absolute",visibility:"hidden",display:"block"},on={letterSpacing:"0",fontWeight:"400"};function he(r,s,h){var f=ee.exec(s);return f?Math.max(0,f[2]-(h||0))+(f[3]||"px"):s}function xe(r,s,h,f,m,g){var k=s==="width"?1:0,z=0,R=0,$=0;if(h===(f?"border":"content"))return 0;for(;k<4;k+=2)h==="margin"&&($+=u.css(r,h+se[k],!0,m)),f?(h==="content"&&(R-=u.css(r,"padding"+se[k],!0,m)),h!=="margin"&&(R-=u.css(r,"border"+se[k]+"Width",!0,m))):(R+=u.css(r,"padding"+se[k],!0,m),h!=="padding"?R+=u.css(r,"border"+se[k]+"Width",!0,m):z+=u.css(r,"border"+se[k]+"Width",!0,m));return!f&&g>=0&&(R+=Math.max(0,Math.ceil(r["offset"+s[0].toUpperCase()+s.slice(1)]-g-R-z-.5))||0),R+$}function Bi(r,s,h){var f=rn(r),m=!ot.boxSizingReliable()||h,g=m&&u.css(r,"boxSizing",!1,f)==="border-box",k=g,z=Ui(r,s,f),R="offset"+s[0].toUpperCase()+s.slice(1);if(Sn.test(z)){if(!h)return z;z="auto"}return(!ot.boxSizingReliable()&&g||!ot.reliableTrDimensions()&&vt(r,"tr")||z==="auto"||!parseFloat(z)&&u.css(r,"display",!1,f)==="inline")&&r.getClientRects().length&&(g=u.css(r,"boxSizing",!1,f)==="border-box",k=R in r,k&&(z=r[R])),z=parseFloat(z)||0,z+xe(r,s,h||(g?"border":"content"),k,f,z)+"px"}u.extend({cssHooks:{opacity:{get:function(r,s){if(s){var h=Ui(r,"opacity");return h===""?"1":h}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,s,h,f){if(!(!r||r.nodeType===3||r.nodeType===8||!r.style)){var m,g,k,z=x(s),R=Zn.test(s),$=r.style;if(R||(s=Vi(z)),k=u.cssHooks[s]||u.cssHooks[z],h!==void 0){if(g=typeof h,g==="string"&&(m=ee.exec(h))&&m[1]&&(h=Ue(r,s,m),g="number"),h==null||h!==h)return;g==="number"&&!R&&(h+=m&&m[3]||(u.cssNumber[z]?"":"px")),!ot.clearCloneStyle&&h===""&&s.indexOf("background")===0&&($[s]="inherit"),(!k||!("set"in k)||(h=k.set(r,h,f))!==void 0)&&(R?$.setProperty(s,h):$[s]=h)}else return k&&"get"in k&&(m=k.get(r,!1,f))!==void 0?m:$[s]}},css:function(r,s,h,f){var m,g,k,z=x(s),R=Zn.test(s);return R||(s=Vi(z)),k=u.cssHooks[s]||u.cssHooks[z],k&&"get"in k&&(m=k.get(r,!0,h)),m===void 0&&(m=Ui(r,s,f)),m==="normal"&&s in on&&(m=on[s]),h===""||h?(g=parseFloat(m),h===!0||isFinite(g)?g||0:m):m}}),u.each(["height","width"],function(r,s){u.cssHooks[s]={get:function(h,f,m){if(f)return Un.test(u.css(h,"display"))&&(!h.getClientRects().length||!h.getBoundingClientRect().width)?En(h,On,function(){return Bi(h,s,m)}):Bi(h,s,m)},set:function(h,f,m){var g,k=rn(h),z=!ot.scrollboxSize()&&k.position==="absolute",R=z||m,$=R&&u.css(h,"boxSizing",!1,k)==="border-box",ht=m?xe(h,s,m,$,k):0;return $&&z&&(ht-=Math.ceil(h["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(k[s])-xe(h,s,"border",!1,k)-.5)),ht&&(g=ee.exec(f))&&(g[3]||"px")!=="px"&&(h.style[s]=f,f=u.css(h,s)),he(h,f,ht)}}}),u.cssHooks.marginLeft=er(ot.reliableMarginLeft,function(r,s){if(s)return(parseFloat(Ui(r,"marginLeft"))||r.getBoundingClientRect().left-En(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),u.each({margin:"",padding:"",border:"Width"},function(r,s){u.cssHooks[r+s]={expand:function(h){for(var f=0,m={},g=typeof h=="string"?h.split(" "):[h];f<4;f++)m[r+se[f]+s]=g[f]||g[f-2]||g[0];return m}},r!=="margin"&&(u.cssHooks[r+s].set=he)}),u.fn.extend({css:function(r,s){return gi(this,function(h,f,m){var g,k,z={},R=0;if(Array.isArray(f)){for(g=rn(h),k=f.length;R<k;R++)z[f[R]]=u.css(h,f[R],!1,g);return z}return m!==void 0?u.style(h,f,m):u.css(h,f)},r,s,arguments.length>1)}});function Te(r,s,h,f,m){return new Te.prototype.init(r,s,h,f,m)}u.Tween=Te,Te.prototype={constructor:Te,init:function(r,s,h,f,m,g){this.elem=r,this.prop=h,this.easing=m||u.easing._default,this.options=s,this.start=this.now=this.cur(),this.end=f,this.unit=g||(u.cssNumber[h]?"":"px")},cur:function(){var r=Te.propHooks[this.prop];return r&&r.get?r.get(this):Te.propHooks._default.get(this)},run:function(r){var s,h=Te.propHooks[this.prop];return this.options.duration?this.pos=s=u.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=s=r,this.now=(this.end-this.start)*s+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):Te.propHooks._default.set(this),this}},Te.prototype.init.prototype=Te.prototype,Te.propHooks={_default:{get:function(r){var s;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(s=u.css(r.elem,r.prop,""),!s||s==="auto"?0:s)},set:function(r){u.fx.step[r.prop]?u.fx.step[r.prop](r):r.elem.nodeType===1&&(u.cssHooks[r.prop]||r.elem.style[Vi(r.prop)]!=null)?u.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}},Te.propHooks.scrollTop=Te.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},u.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},u.fx=Te.prototype.init,u.fx.step={};var si,Wi,ie=/^(?:toggle|show|hide)$/,Se=/queueHooks$/;function vn(){Wi&&(Y.hidden===!1&&E.requestAnimationFrame?E.requestAnimationFrame(vn):E.setTimeout(vn,u.fx.interval),u.fx.tick())}function bn(){return E.setTimeout(function(){si=void 0}),si=Date.now()}function $e(r,s){var h,f=0,m={height:r};for(s=s?1:0;f<4;f+=2-s)h=se[f],m["margin"+h]=m["padding"+h]=r;return s&&(m.opacity=m.width=r),m}function qn(r,s,h){for(var f,m=(_e.tweeners[s]||[]).concat(_e.tweeners["*"]),g=0,k=m.length;g<k;g++)if(f=m[g].call(h,s,r))return f}function Dn(r,s,h){var f,m,g,k,z,R,$,ht,gt="width"in s||"height"in s,at=this,xt={},Yt=r.style,fe=r.nodeType&&Oe(r),ne=D.get(r,"fxshow");h.queue||(k=u._queueHooks(r,"fx"),k.unqueued==null&&(k.unqueued=0,z=k.empty.fire,k.empty.fire=function(){k.unqueued||z()}),k.unqueued++,at.always(function(){at.always(function(){k.unqueued--,u.queue(r,"fx").length||k.empty.fire()})}));for(f in s)if(m=s[f],ie.test(m)){if(delete s[f],g=g||m==="toggle",m===(fe?"hide":"show"))if(m==="show"&&ne&&ne[f]!==void 0)fe=!0;else continue;xt[f]=ne&&ne[f]||u.style(r,f)}if(R=!u.isEmptyObject(s),!(!R&&u.isEmptyObject(xt))){gt&&r.nodeType===1&&(h.overflow=[Yt.overflow,Yt.overflowX,Yt.overflowY],$=ne&&ne.display,$==null&&($=D.get(r,"display")),ht=u.css(r,"display"),ht==="none"&&($?ht=$:(Ke([r],!0),$=r.style.display||$,ht=u.css(r,"display"),Ke([r]))),(ht==="inline"||ht==="inline-block"&&$!=null)&&u.css(r,"float")==="none"&&(R||(at.done(function(){Yt.display=$}),$==null&&(ht=Yt.display,$=ht==="none"?"":ht)),Yt.display="inline-block")),h.overflow&&(Yt.overflow="hidden",at.always(function(){Yt.overflow=h.overflow[0],Yt.overflowX=h.overflow[1],Yt.overflowY=h.overflow[2]})),R=!1;for(f in xt)R||(ne?"hidden"in ne&&(fe=ne.hidden):ne=D.access(r,"fxshow",{display:$}),g&&(ne.hidden=!fe),fe&&Ke([r],!0),at.done(function(){fe||Ke([r]),D.remove(r,"fxshow");for(f in xt)u.style(r,f,xt[f])})),R=qn(fe?ne[f]:0,f,at),f in ne||(ne[f]=R.start,fe&&(R.end=R.start,R.start=0))}}function Ei(r,s){var h,f,m,g,k;for(h in r)if(f=x(h),m=s[f],g=r[h],Array.isArray(g)&&(m=g[1],g=r[h]=g[0]),h!==f&&(r[f]=g,delete r[h]),k=u.cssHooks[f],k&&"expand"in k){g=k.expand(g),delete r[f];for(h in g)h in r||(r[h]=g[h],s[h]=m)}else s[f]=m}function _e(r,s,h){var f,m,g=0,k=_e.prefilters.length,z=u.Deferred().always(function(){delete R.elem}),R=function(){if(m)return!1;for(var gt=si||bn(),at=Math.max(0,$.startTime+$.duration-gt),xt=at/$.duration||0,Yt=1-xt,fe=0,ne=$.tweens.length;fe<ne;fe++)$.tweens[fe].run(Yt);return z.notifyWith(r,[$,Yt,at]),Yt<1&&ne?at:(ne||z.notifyWith(r,[$,1,0]),z.resolveWith(r,[$]),!1)},$=z.promise({elem:r,props:u.extend({},s),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},h),originalProperties:s,originalOptions:h,startTime:si||bn(),duration:h.duration,tweens:[],createTween:function(gt,at){var xt=u.Tween(r,$.opts,gt,at,$.opts.specialEasing[gt]||$.opts.easing);return $.tweens.push(xt),xt},stop:function(gt){var at=0,xt=gt?$.tweens.length:0;if(m)return this;for(m=!0;at<xt;at++)$.tweens[at].run(1);return gt?(z.notifyWith(r,[$,1,0]),z.resolveWith(r,[$,gt])):z.rejectWith(r,[$,gt]),this}}),ht=$.props;for(Ei(ht,$.opts.specialEasing);g<k;g++)if(f=_e.prefilters[g].call($,r,ht,$.opts),f)return J(f.stop)&&(u._queueHooks($.elem,$.opts.queue).stop=f.stop.bind(f)),f;return u.map(ht,qn,$),J($.opts.start)&&$.opts.start.call(r,$),$.progress($.opts.progress).done($.opts.done,$.opts.complete).fail($.opts.fail).always($.opts.always),u.fx.timer(u.extend(R,{elem:r,anim:$,queue:$.opts.queue})),$}u.Animation=u.extend(_e,{tweeners:{"*":[function(r,s){var h=this.createTween(r,s);return Ue(h.elem,r,ee.exec(s),h),h}]},tweener:function(r,s){J(r)?(s=r,r=["*"]):r=r.match(He);for(var h,f=0,m=r.length;f<m;f++)h=r[f],_e.tweeners[h]=_e.tweeners[h]||[],_e.tweeners[h].unshift(s)},prefilters:[Dn],prefilter:function(r,s){s?_e.prefilters.unshift(r):_e.prefilters.push(r)}}),u.speed=function(r,s,h){var f=r&&typeof r=="object"?u.extend({},r):{complete:h||!h&&s||J(r)&&r,duration:r,easing:h&&s||s&&!J(s)&&s};return u.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration in u.fx.speeds?f.duration=u.fx.speeds[f.duration]:f.duration=u.fx.speeds._default),(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){J(f.old)&&f.old.call(this),f.queue&&u.dequeue(this,f.queue)},f},u.fn.extend({fadeTo:function(r,s,h,f){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:s},r,h,f)},animate:function(r,s,h,f){var m=u.isEmptyObject(r),g=u.speed(s,h,f),k=function(){var z=_e(this,u.extend({},r),g);(m||D.get(this,"finish"))&&z.stop(!0)};return k.finish=k,m||g.queue===!1?this.each(k):this.queue(g.queue,k)},stop:function(r,s,h){var f=function(m){var g=m.stop;delete m.stop,g(h)};return typeof r!="string"&&(h=s,s=r,r=void 0),s&&this.queue(r||"fx",[]),this.each(function(){var m=!0,g=r!=null&&r+"queueHooks",k=u.timers,z=D.get(this);if(g)z[g]&&z[g].stop&&f(z[g]);else for(g in z)z[g]&&z[g].stop&&Se.test(g)&&f(z[g]);for(g=k.length;g--;)k[g].elem===this&&(r==null||k[g].queue===r)&&(k[g].anim.stop(h),m=!1,k.splice(g,1));(m||!h)&&u.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var s,h=D.get(this),f=h[r+"queue"],m=h[r+"queueHooks"],g=u.timers,k=f?f.length:0;for(h.finish=!0,u.queue(this,r,[]),m&&m.stop&&m.stop.call(this,!0),s=g.length;s--;)g[s].elem===this&&g[s].queue===r&&(g[s].anim.stop(!0),g.splice(s,1));for(s=0;s<k;s++)f[s]&&f[s].finish&&f[s].finish.call(this);delete h.finish})}}),u.each(["toggle","show","hide"],function(r,s){var h=u.fn[s];u.fn[s]=function(f,m,g){return f==null||typeof f=="boolean"?h.apply(this,arguments):this.animate($e(s,!0),f,m,g)}}),u.each({slideDown:$e("show"),slideUp:$e("hide"),slideToggle:$e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,s){u.fn[r]=function(h,f,m){return this.animate(s,h,f,m)}}),u.timers=[],u.fx.tick=function(){var r,s=0,h=u.timers;for(si=Date.now();s<h.length;s++)r=h[s],!r()&&h[s]===r&&h.splice(s--,1);h.length||u.fx.stop(),si=void 0},u.fx.timer=function(r){u.timers.push(r),u.fx.start()},u.fx.interval=13,u.fx.start=function(){Wi||(Wi=!0,vn())},u.fx.stop=function(){Wi=null},u.fx.speeds={slow:600,fast:200,_default:400},u.fn.delay=function(r,s){return r=u.fx&&u.fx.speeds[r]||r,s=s||"fx",this.queue(s,function(h,f){var m=E.setTimeout(h,r);f.stop=function(){E.clearTimeout(m)}})},function(){var r=Y.createElement("input"),s=Y.createElement("select"),h=s.appendChild(Y.createElement("option"));r.type="checkbox",ot.checkOn=r.value!=="",ot.optSelected=h.selected,r=Y.createElement("input"),r.value="t",r.type="radio",ot.radioValue=r.value==="t"}();var Oi,Qe=u.expr.attrHandle;u.fn.extend({attr:function(r,s){return gi(this,u.attr,r,s,arguments.length>1)},removeAttr:function(r){return this.each(function(){u.removeAttr(this,r)})}}),u.extend({attr:function(r,s,h){var f,m,g=r.nodeType;if(!(g===3||g===8||g===2)){if(typeof r.getAttribute>"u")return u.prop(r,s,h);if((g!==1||!u.isXMLDoc(r))&&(m=u.attrHooks[s.toLowerCase()]||(u.expr.match.bool.test(s)?Oi:void 0)),h!==void 0){if(h===null){u.removeAttr(r,s);return}return m&&"set"in m&&(f=m.set(r,h,s))!==void 0?f:(r.setAttribute(s,h+""),h)}return m&&"get"in m&&(f=m.get(r,s))!==null?f:(f=u.find.attr(r,s),f??void 0)}},attrHooks:{type:{set:function(r,s){if(!ot.radioValue&&s==="radio"&&vt(r,"input")){var h=r.value;return r.setAttribute("type",s),h&&(r.value=h),s}}}},removeAttr:function(r,s){var h,f=0,m=s&&s.match(He);if(m&&r.nodeType===1)for(;h=m[f++];)r.removeAttribute(h)}}),Oi={set:function(r,s,h){return s===!1?u.removeAttr(r,h):r.setAttribute(h,h),h}},u.each(u.expr.match.bool.source.match(/\w+/g),function(r,s){var h=Qe[s]||u.find.attr;Qe[s]=function(f,m,g){var k,z,R=m.toLowerCase();return g||(z=Qe[R],Qe[R]=k,k=h(f,m,g)!=null?R:null,Qe[R]=z),k}});var Ri=/^(?:input|select|textarea|button)$/i,Vn=/^(?:a|area)$/i;u.fn.extend({prop:function(r,s){return gi(this,u.prop,r,s,arguments.length>1)},removeProp:function(r){return this.each(function(){delete this[u.propFix[r]||r]})}}),u.extend({prop:function(r,s,h){var f,m,g=r.nodeType;if(!(g===3||g===8||g===2))return(g!==1||!u.isXMLDoc(r))&&(s=u.propFix[s]||s,m=u.propHooks[s]),h!==void 0?m&&"set"in m&&(f=m.set(r,h,s))!==void 0?f:r[s]=h:m&&"get"in m&&(f=m.get(r,s))!==null?f:r[s]},propHooks:{tabIndex:{get:function(r){var s=u.find.attr(r,"tabindex");return s?parseInt(s,10):Ri.test(r.nodeName)||Vn.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ot.optSelected||(u.propHooks.selected={get:function(r){var s=r.parentNode;return s&&s.parentNode&&s.parentNode.selectedIndex,null},set:function(r){var s=r.parentNode;s&&(s.selectedIndex,s.parentNode&&s.parentNode.selectedIndex)}}),u.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){u.propFix[this.toLowerCase()]=this});function mi(r){var s=r.match(He)||[];return s.join(" ")}function we(r){return r.getAttribute&&r.getAttribute("class")||""}function Ii(r){return Array.isArray(r)?r:typeof r=="string"?r.match(He)||[]:[]}u.fn.extend({addClass:function(r){var s,h,f,m,g,k;return J(r)?this.each(function(z){u(this).addClass(r.call(this,z,we(this)))}):(s=Ii(r),s.length?this.each(function(){if(f=we(this),h=this.nodeType===1&&" "+mi(f)+" ",h){for(g=0;g<s.length;g++)m=s[g],h.indexOf(" "+m+" ")<0&&(h+=m+" ");k=mi(h),f!==k&&this.setAttribute("class",k)}}):this)},removeClass:function(r){var s,h,f,m,g,k;return J(r)?this.each(function(z){u(this).removeClass(r.call(this,z,we(this)))}):arguments.length?(s=Ii(r),s.length?this.each(function(){if(f=we(this),h=this.nodeType===1&&" "+mi(f)+" ",h){for(g=0;g<s.length;g++)for(m=s[g];h.indexOf(" "+m+" ")>-1;)h=h.replace(" "+m+" "," ");k=mi(h),f!==k&&this.setAttribute("class",k)}}):this):this.attr("class","")},toggleClass:function(r,s){var h,f,m,g,k=typeof r,z=k==="string"||Array.isArray(r);return J(r)?this.each(function(R){u(this).toggleClass(r.call(this,R,we(this),s),s)}):typeof s=="boolean"&&z?s?this.addClass(r):this.removeClass(r):(h=Ii(r),this.each(function(){if(z)for(g=u(this),m=0;m<h.length;m++)f=h[m],g.hasClass(f)?g.removeClass(f):g.addClass(f);else(r===void 0||k==="boolean")&&(f=we(this),f&&D.set(this,"__className__",f),this.setAttribute&&this.setAttribute("class",f||r===!1?"":D.get(this,"__className__")||""))}))},hasClass:function(r){var s,h,f=0;for(s=" "+r+" ";h=this[f++];)if(h.nodeType===1&&(" "+mi(we(h))+" ").indexOf(s)>-1)return!0;return!1}});var an=/\r/g;u.fn.extend({val:function(r){var s,h,f,m=this[0];return arguments.length?(f=J(r),this.each(function(g){var k;this.nodeType===1&&(f?k=r.call(this,g,u(this).val()):k=r,k==null?k="":typeof k=="number"?k+="":Array.isArray(k)&&(k=u.map(k,function(z){return z==null?"":z+""})),s=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()],(!s||!("set"in s)||s.set(this,k,"value")===void 0)&&(this.value=k))})):m?(s=u.valHooks[m.type]||u.valHooks[m.nodeName.toLowerCase()],s&&"get"in s&&(h=s.get(m,"value"))!==void 0?h:(h=m.value,typeof h=="string"?h.replace(an,""):h??"")):void 0}}),u.extend({valHooks:{option:{get:function(r){var s=u.find.attr(r,"value");return s??mi(u.text(r))}},select:{get:function(r){var s,h,f,m=r.options,g=r.selectedIndex,k=r.type==="select-one",z=k?null:[],R=k?g+1:m.length;for(g<0?f=R:f=k?g:0;f<R;f++)if(h=m[f],(h.selected||f===g)&&!h.disabled&&(!h.parentNode.disabled||!vt(h.parentNode,"optgroup"))){if(s=u(h).val(),k)return s;z.push(s)}return z},set:function(r,s){for(var h,f,m=r.options,g=u.makeArray(s),k=m.length;k--;)f=m[k],(f.selected=u.inArray(u.valHooks.option.get(f),g)>-1)&&(h=!0);return h||(r.selectedIndex=-1),g}}}}),u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(r,s){if(Array.isArray(s))return r.checked=u.inArray(u(r).val(),s)>-1}},ot.checkOn||(u.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})});var Ki=E.location,Bn={guid:Date.now()},$i=/\?/;u.parseXML=function(r){var s,h;if(!r||typeof r!="string")return null;try{s=new E.DOMParser().parseFromString(r,"text/xml")}catch{}return h=s&&s.getElementsByTagName("parsererror")[0],(!s||h)&&u.error("Invalid XML: "+(h?u.map(h.childNodes,function(f){return f.textContent}).join(`
`):r)),s};var Wn=/^(?:focusinfocus|focusoutblur)$/,sn=function(r){r.stopPropagation()};u.extend(u.event,{trigger:function(r,s,h,f){var m,g,k,z,R,$,ht,gt,at=[h||Y],xt=W.call(r,"type")?r.type:r,Yt=W.call(r,"namespace")?r.namespace.split("."):[];if(g=gt=k=h=h||Y,!(h.nodeType===3||h.nodeType===8)&&!Wn.test(xt+u.event.triggered)&&(xt.indexOf(".")>-1&&(Yt=xt.split("."),xt=Yt.shift(),Yt.sort()),R=xt.indexOf(":")<0&&"on"+xt,r=r[u.expando]?r:new u.Event(xt,typeof r=="object"&&r),r.isTrigger=f?2:3,r.namespace=Yt.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+Yt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=h),s=s==null?[r]:u.makeArray(s,[r]),ht=u.event.special[xt]||{},!(!f&&ht.trigger&&ht.trigger.apply(h,s)===!1))){if(!f&&!ht.noBubble&&!X(h)){for(z=ht.delegateType||xt,Wn.test(z+xt)||(g=g.parentNode);g;g=g.parentNode)at.push(g),k=g;k===(h.ownerDocument||Y)&&at.push(k.defaultView||k.parentWindow||E)}for(m=0;(g=at[m++])&&!r.isPropagationStopped();)gt=g,r.type=m>1?z:ht.bindType||xt,$=(D.get(g,"events")||Object.create(null))[r.type]&&D.get(g,"handle"),$&&$.apply(g,s),$=R&&g[R],$&&$.apply&&S(g)&&(r.result=$.apply(g,s),r.result===!1&&r.preventDefault());return r.type=xt,!f&&!r.isDefaultPrevented()&&(!ht._default||ht._default.apply(at.pop(),s)===!1)&&S(h)&&R&&J(h[xt])&&!X(h)&&(k=h[R],k&&(h[R]=null),u.event.triggered=xt,r.isPropagationStopped()&&gt.addEventListener(xt,sn),h[xt](),r.isPropagationStopped()&&gt.removeEventListener(xt,sn),u.event.triggered=void 0,k&&(h[R]=k)),r.result}},simulate:function(r,s,h){var f=u.extend(new u.Event,h,{type:r,isSimulated:!0});u.event.trigger(f,null,s)}}),u.fn.extend({trigger:function(r,s){return this.each(function(){u.event.trigger(r,s,this)})},triggerHandler:function(r,s){var h=this[0];if(h)return u.event.trigger(r,s,h,!0)}});var Kn=/\[\]$/,Qt=/\r?\n/g,bi=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function e(r,s,h,f){var m;if(Array.isArray(s))u.each(s,function(g,k){h||Kn.test(r)?f(r,k):e(r+"["+(typeof k=="object"&&k!=null?g:"")+"]",k,h,f)});else if(!h&&tt(s)==="object")for(m in s)e(r+"["+m+"]",s[m],h,f);else f(r,s)}u.param=function(r,s){var h,f=[],m=function(g,k){var z=J(k)?k():k;f[f.length]=encodeURIComponent(g)+"="+encodeURIComponent(z??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!u.isPlainObject(r))u.each(r,function(){m(this.name,this.value)});else for(h in r)e(h,r[h],s,m);return f.join("&")},u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=u.prop(this,"elements");return r?u.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!u(this).is(":disabled")&&Me.test(this.nodeName)&&!bi.test(r)&&(this.checked||!Ye.test(r))}).map(function(r,s){var h=u(this).val();return h==null?null:Array.isArray(h)?u.map(h,function(f){return{name:s.name,value:f.replace(Qt,`\r
`)}}):{name:s.name,value:h.replace(Qt,`\r
`)}}).get()}});var n=/%20/g,a=/#.*$/,c=/([?&])_=[^&]*/,p=/^(.*?):[ \t]*([^\r\n]*)$/mg,C=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,B=/^(?:GET|HEAD)$/,I=/^\/\//,N={},H={},et="*/".concat("*"),dt=Y.createElement("a");dt.href=Ki.href;function ct(r){return function(s,h){typeof s!="string"&&(h=s,s="*");var f,m=0,g=s.toLowerCase().match(He)||[];if(J(h))for(;f=g[m++];)f[0]==="+"?(f=f.slice(1)||"*",(r[f]=r[f]||[]).unshift(h)):(r[f]=r[f]||[]).push(h)}}function kt(r,s,h,f){var m={},g=r===H;function k(z){var R;return m[z]=!0,u.each(r[z]||[],function($,ht){var gt=ht(s,h,f);if(typeof gt=="string"&&!g&&!m[gt])return s.dataTypes.unshift(gt),k(gt),!1;if(g)return!(R=gt)}),R}return k(s.dataTypes[0])||!m["*"]&&k("*")}function Et(r,s){var h,f,m=u.ajaxSettings.flatOptions||{};for(h in s)s[h]!==void 0&&((m[h]?r:f||(f={}))[h]=s[h]);return f&&u.extend(!0,r,f),r}function Ut(r,s,h){for(var f,m,g,k,z=r.contents,R=r.dataTypes;R[0]==="*";)R.shift(),f===void 0&&(f=r.mimeType||s.getResponseHeader("Content-Type"));if(f){for(m in z)if(z[m]&&z[m].test(f)){R.unshift(m);break}}if(R[0]in h)g=R[0];else{for(m in h){if(!R[0]||r.converters[m+" "+R[0]]){g=m;break}k||(k=m)}g=g||k}if(g)return g!==R[0]&&R.unshift(g),h[g]}function Ot(r,s,h,f){var m,g,k,z,R,$={},ht=r.dataTypes.slice();if(ht[1])for(k in r.converters)$[k.toLowerCase()]=r.converters[k];for(g=ht.shift();g;)if(r.responseFields[g]&&(h[r.responseFields[g]]=s),!R&&f&&r.dataFilter&&(s=r.dataFilter(s,r.dataType)),R=g,g=ht.shift(),g){if(g==="*")g=R;else if(R!=="*"&&R!==g){if(k=$[R+" "+g]||$["* "+g],!k){for(m in $)if(z=m.split(" "),z[1]===g&&(k=$[R+" "+z[0]]||$["* "+z[0]],k)){k===!0?k=$[m]:$[m]!==!0&&(g=z[0],ht.unshift(z[1]));break}}if(k!==!0)if(k&&r.throws)s=k(s);else try{s=k(s)}catch(gt){return{state:"parsererror",error:k?gt:"No conversion from "+R+" to "+g}}}}return{state:"success",data:s}}u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ki.href,type:"GET",isLocal:C.test(Ki.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,s){return s?Et(Et(r,u.ajaxSettings),s):Et(u.ajaxSettings,r)},ajaxPrefilter:ct(N),ajaxTransport:ct(H),ajax:function(r,s){typeof r=="object"&&(s=r,r=void 0),s=s||{};var h,f,m,g,k,z,R,$,ht,gt,at=u.ajaxSetup({},s),xt=at.context||at,Yt=at.context&&(xt.nodeType||xt.jquery)?u(xt):u.event,fe=u.Deferred(),ne=u.Callbacks("once memory"),Ne=at.statusCode||{},Pe={},Ai={},ui="canceled",Jt={readyState:0,getResponseHeader:function(de){var Re;if(R){if(!g)for(g={};Re=p.exec(m);)g[Re[1].toLowerCase()+" "]=(g[Re[1].toLowerCase()+" "]||[]).concat(Re[2]);Re=g[de.toLowerCase()+" "]}return Re==null?null:Re.join(", ")},getAllResponseHeaders:function(){return R?m:null},setRequestHeader:function(de,Re){return R==null&&(de=Ai[de.toLowerCase()]=Ai[de.toLowerCase()]||de,Pe[de]=Re),this},overrideMimeType:function(de){return R==null&&(at.mimeType=de),this},statusCode:function(de){var Re;if(de)if(R)Jt.always(de[Jt.status]);else for(Re in de)Ne[Re]=[Ne[Re],de[Re]];return this},abort:function(de){var Re=de||ui;return h&&h.abort(Re),ln(0,Re),this}};if(fe.promise(Jt),at.url=((r||at.url||Ki.href)+"").replace(I,Ki.protocol+"//"),at.type=s.method||s.type||at.method||at.type,at.dataTypes=(at.dataType||"*").toLowerCase().match(He)||[""],at.crossDomain==null){z=Y.createElement("a");try{z.href=at.url,z.href=z.href,at.crossDomain=dt.protocol+"//"+dt.host!=z.protocol+"//"+z.host}catch{at.crossDomain=!0}}if(at.data&&at.processData&&typeof at.data!="string"&&(at.data=u.param(at.data,at.traditional)),kt(N,at,s,Jt),R)return Jt;$=u.event&&at.global,$&&u.active++===0&&u.event.trigger("ajaxStart"),at.type=at.type.toUpperCase(),at.hasContent=!B.test(at.type),f=at.url.replace(a,""),at.hasContent?at.data&&at.processData&&(at.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(at.data=at.data.replace(n,"+")):(gt=at.url.slice(f.length),at.data&&(at.processData||typeof at.data=="string")&&(f+=($i.test(f)?"&":"?")+at.data,delete at.data),at.cache===!1&&(f=f.replace(c,"$1"),gt=($i.test(f)?"&":"?")+"_="+Bn.guid+++gt),at.url=f+gt),at.ifModified&&(u.lastModified[f]&&Jt.setRequestHeader("If-Modified-Since",u.lastModified[f]),u.etag[f]&&Jt.setRequestHeader("If-None-Match",u.etag[f])),(at.data&&at.hasContent&&at.contentType!==!1||s.contentType)&&Jt.setRequestHeader("Content-Type",at.contentType),Jt.setRequestHeader("Accept",at.dataTypes[0]&&at.accepts[at.dataTypes[0]]?at.accepts[at.dataTypes[0]]+(at.dataTypes[0]!=="*"?", "+et+"; q=0.01":""):at.accepts["*"]);for(ht in at.headers)Jt.setRequestHeader(ht,at.headers[ht]);if(at.beforeSend&&(at.beforeSend.call(xt,Jt,at)===!1||R))return Jt.abort();if(ui="abort",ne.add(at.complete),Jt.done(at.success),Jt.fail(at.error),h=kt(H,at,s,Jt),!h)ln(-1,"No Transport");else{if(Jt.readyState=1,$&&Yt.trigger("ajaxSend",[Jt,at]),R)return Jt;at.async&&at.timeout>0&&(k=E.setTimeout(function(){Jt.abort("timeout")},at.timeout));try{R=!1,h.send(Pe,ln)}catch(de){if(R)throw de;ln(-1,de)}}function ln(de,Re,Rn,rr){var Ni,Ln,ki,un,hn,_i=Re;R||(R=!0,k&&E.clearTimeout(k),h=void 0,m=rr||"",Jt.readyState=de>0?4:0,Ni=de>=200&&de<300||de===304,Rn&&(un=Ut(at,Jt,Rn)),!Ni&&u.inArray("script",at.dataTypes)>-1&&u.inArray("json",at.dataTypes)<0&&(at.converters["text script"]=function(){}),un=Ot(at,un,Jt,Ni),Ni?(at.ifModified&&(hn=Jt.getResponseHeader("Last-Modified"),hn&&(u.lastModified[f]=hn),hn=Jt.getResponseHeader("etag"),hn&&(u.etag[f]=hn)),de===204||at.type==="HEAD"?_i="nocontent":de===304?_i="notmodified":(_i=un.state,Ln=un.data,ki=un.error,Ni=!ki)):(ki=_i,(de||!_i)&&(_i="error",de<0&&(de=0))),Jt.status=de,Jt.statusText=(Re||_i)+"",Ni?fe.resolveWith(xt,[Ln,_i,Jt]):fe.rejectWith(xt,[Jt,_i,ki]),Jt.statusCode(Ne),Ne=void 0,$&&Yt.trigger(Ni?"ajaxSuccess":"ajaxError",[Jt,at,Ni?Ln:ki]),ne.fireWith(xt,[Jt,_i]),$&&(Yt.trigger("ajaxComplete",[Jt,at]),--u.active||u.event.trigger("ajaxStop")))}return Jt},getJSON:function(r,s,h){return u.get(r,s,h,"json")},getScript:function(r,s){return u.get(r,void 0,s,"script")}}),u.each(["get","post"],function(r,s){u[s]=function(h,f,m,g){return J(f)&&(g=g||m,m=f,f=void 0),u.ajax(u.extend({url:h,type:s,dataType:g,data:f,success:m},u.isPlainObject(h)&&h))}}),u.ajaxPrefilter(function(r){var s;for(s in r.headers)s.toLowerCase()==="content-type"&&(r.contentType=r.headers[s]||"")}),u._evalUrl=function(r,s,h){return u.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(f){u.globalEval(f,s,h)}})},u.fn.extend({wrapAll:function(r){var s;return this[0]&&(J(r)&&(r=r.call(this[0])),s=u(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&s.insertBefore(this[0]),s.map(function(){for(var h=this;h.firstElementChild;)h=h.firstElementChild;return h}).append(this)),this},wrapInner:function(r){return J(r)?this.each(function(s){u(this).wrapInner(r.call(this,s))}):this.each(function(){var s=u(this),h=s.contents();h.length?h.wrapAll(r):s.append(r)})},wrap:function(r){var s=J(r);return this.each(function(h){u(this).wrapAll(s?r.call(this,h):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}}),u.expr.pseudos.hidden=function(r){return!u.expr.pseudos.visible(r)},u.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},u.ajaxSettings.xhr=function(){try{return new E.XMLHttpRequest}catch{}};var Le={0:200,1223:204},le=u.ajaxSettings.xhr();ot.cors=!!le&&"withCredentials"in le,ot.ajax=le=!!le,u.ajaxTransport(function(r){var s,h;if(ot.cors||le&&!r.crossDomain)return{send:function(f,m){var g,k=r.xhr();if(k.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(g in r.xhrFields)k[g]=r.xhrFields[g];r.mimeType&&k.overrideMimeType&&k.overrideMimeType(r.mimeType),!r.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");for(g in f)k.setRequestHeader(g,f[g]);s=function(z){return function(){s&&(s=h=k.onload=k.onerror=k.onabort=k.ontimeout=k.onreadystatechange=null,z==="abort"?k.abort():z==="error"?typeof k.status!="number"?m(0,"error"):m(k.status,k.statusText):m(Le[k.status]||k.status,k.statusText,(k.responseType||"text")!=="text"||typeof k.responseText!="string"?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=s(),h=k.onerror=k.ontimeout=s("error"),k.onabort!==void 0?k.onabort=h:k.onreadystatechange=function(){k.readyState===4&&E.setTimeout(function(){s&&h()})},s=s("abort");try{k.send(r.hasContent&&r.data||null)}catch(z){if(s)throw z}},abort:function(){s&&s()}}}),u.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return u.globalEval(r),r}}}),u.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),u.ajaxTransport("script",function(r){if(r.crossDomain||r.scriptAttrs){var s,h;return{send:function(f,m){s=u("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",h=function(g){s.remove(),h=null,g&&m(g.type==="error"?404:200,g.type)}),Y.head.appendChild(s[0])},abort:function(){h&&h()}}}});var ce=[],Ae=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=ce.pop()||u.expando+"_"+Bn.guid++;return this[r]=!0,r}}),u.ajaxPrefilter("json jsonp",function(r,s,h){var f,m,g,k=r.jsonp!==!1&&(Ae.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ae.test(r.data)&&"data");if(k||r.dataTypes[0]==="jsonp")return f=r.jsonpCallback=J(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,k?r[k]=r[k].replace(Ae,"$1"+f):r.jsonp!==!1&&(r.url+=($i.test(r.url)?"&":"?")+r.jsonp+"="+f),r.converters["script json"]=function(){return g||u.error(f+" was not called"),g[0]},r.dataTypes[0]="json",m=E[f],E[f]=function(){g=arguments},h.always(function(){m===void 0?u(E).removeProp(f):E[f]=m,r[f]&&(r.jsonpCallback=s.jsonpCallback,ce.push(f)),g&&J(m)&&m(g[0]),g=m=void 0}),"script"}),ot.createHTMLDocument=function(){var r=Y.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}(),u.parseHTML=function(r,s,h){if(typeof r!="string")return[];typeof s=="boolean"&&(h=s,s=!1);var f,m,g;return s||(ot.createHTMLDocument?(s=Y.implementation.createHTMLDocument(""),f=s.createElement("base"),f.href=Y.location.href,s.head.appendChild(f)):s=Y),m=Ft.exec(r),g=!h&&[],m?[s.createElement(m[1])]:(m=Ci([r],s,g),g&&g.length&&u(g).remove(),u.merge([],m.childNodes))},u.fn.load=function(r,s,h){var f,m,g,k=this,z=r.indexOf(" ");return z>-1&&(f=mi(r.slice(z)),r=r.slice(0,z)),J(s)?(h=s,s=void 0):s&&typeof s=="object"&&(m="POST"),k.length>0&&u.ajax({url:r,type:m||"GET",dataType:"html",data:s}).done(function(R){g=arguments,k.html(f?u("<div>").append(u.parseHTML(R)).find(f):R)}).always(h&&function(R,$){k.each(function(){h.apply(this,g||[R.responseText,$,R])})}),this},u.expr.pseudos.animated=function(r){return u.grep(u.timers,function(s){return r===s.elem}).length},u.offset={setOffset:function(r,s,h){var f,m,g,k,z,R,$,ht=u.css(r,"position"),gt=u(r),at={};ht==="static"&&(r.style.position="relative"),z=gt.offset(),g=u.css(r,"top"),R=u.css(r,"left"),$=(ht==="absolute"||ht==="fixed")&&(g+R).indexOf("auto")>-1,$?(f=gt.position(),k=f.top,m=f.left):(k=parseFloat(g)||0,m=parseFloat(R)||0),J(s)&&(s=s.call(r,h,u.extend({},z))),s.top!=null&&(at.top=s.top-z.top+k),s.left!=null&&(at.left=s.left-z.left+m),"using"in s?s.using.call(r,at):gt.css(at)}},u.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(m){u.offset.setOffset(this,r,m)});var s,h,f=this[0];if(f)return f.getClientRects().length?(s=f.getBoundingClientRect(),h=f.ownerDocument.defaultView,{top:s.top+h.pageYOffset,left:s.left+h.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var r,s,h,f=this[0],m={top:0,left:0};if(u.css(f,"position")==="fixed")s=f.getBoundingClientRect();else{for(s=this.offset(),h=f.ownerDocument,r=f.offsetParent||h.documentElement;r&&(r===h.body||r===h.documentElement)&&u.css(r,"position")==="static";)r=r.parentNode;r&&r!==f&&r.nodeType===1&&(m=u(r).offset(),m.top+=u.css(r,"borderTopWidth",!0),m.left+=u.css(r,"borderLeftWidth",!0))}return{top:s.top-m.top-u.css(f,"marginTop",!0),left:s.left-m.left-u.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&u.css(r,"position")==="static";)r=r.offsetParent;return r||Vt})}}),u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,s){var h=s==="pageYOffset";u.fn[r]=function(f){return gi(this,function(m,g,k){var z;if(X(m)?z=m:m.nodeType===9&&(z=m.defaultView),k===void 0)return z?z[s]:m[g];z?z.scrollTo(h?z.pageXOffset:k,h?k:z.pageYOffset):m[g]=k},r,f,arguments.length)}}),u.each(["top","left"],function(r,s){u.cssHooks[s]=er(ot.pixelPosition,function(h,f){if(f)return f=Ui(h,s),Sn.test(f)?u(h).position()[s]+"px":f})}),u.each({Height:"height",Width:"width"},function(r,s){u.each({padding:"inner"+r,content:s,"":"outer"+r},function(h,f){u.fn[f]=function(m,g){var k=arguments.length&&(h||typeof m!="boolean"),z=h||(m===!0||g===!0?"margin":"border");return gi(this,function(R,$,ht){var gt;return X(R)?f.indexOf("outer")===0?R["inner"+r]:R.document.documentElement["client"+r]:R.nodeType===9?(gt=R.documentElement,Math.max(R.body["scroll"+r],gt["scroll"+r],R.body["offset"+r],gt["offset"+r],gt["client"+r])):ht===void 0?u.css(R,$,z):u.style(R,$,ht,z)},s,k?m:void 0,k)}})}),u.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,s){u.fn[s]=function(h){return this.on(s,h)}}),u.fn.extend({bind:function(r,s,h){return this.on(r,null,s,h)},unbind:function(r,s){return this.off(r,null,s)},delegate:function(r,s,h,f){return this.on(s,r,h,f)},undelegate:function(r,s,h){return arguments.length===1?this.off(r,"**"):this.off(s,r||"**",h)},hover:function(r,s){return this.mouseenter(r).mouseleave(s||r)}}),u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,s){u.fn[s]=function(h,f){return arguments.length>0?this.on(s,null,h,f):this.trigger(s)}});var li=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;u.proxy=function(r,s){var h,f,m;if(typeof s=="string"&&(h=r[s],s=r,r=h),!!J(r))return f=b.call(arguments,2),m=function(){return r.apply(s||this,f.concat(b.call(arguments)))},m.guid=r.guid=r.guid||u.guid++,m},u.holdReady=function(r){r?u.readyWait++:u.ready(!0)},u.isArray=Array.isArray,u.parseJSON=JSON.parse,u.nodeName=vt,u.isFunction=J,u.isWindow=X,u.camelCase=x,u.type=tt,u.now=Date.now,u.isNumeric=function(r){var s=u.type(r);return(s==="number"||s==="string")&&!isNaN(r-parseFloat(r))},u.trim=function(r){return r==null?"":(r+"").replace(li,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return u});var Li=E.jQuery,nr=E.$;return u.noConflict=function(r){return E.$===u&&(E.$=nr),r&&E.jQuery===u&&(E.jQuery=Li),u},typeof rt>"u"&&(E.jQuery=E.$=u),u})});var Nn=mr((Mr,mo)=>{(function(E,rt){typeof Mr=="object"&&typeof mo<"u"?rt(Mr):typeof define=="function"&&define.amd?define(["exports"],rt):(E=typeof globalThis<"u"?globalThis:E||self,rt(E.leaflet={}))})(Mr,function(E){"use strict";var rt="1.9.3";function V(t){var i,o,l,d;for(o=1,l=arguments.length;o<l;o++){d=arguments[o];for(i in d)t[i]=d[i]}return t}var v=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function b(t,i){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var l=o.call(arguments,2);return function(){return t.apply(i,l.length?l.concat(o.call(arguments)):arguments)}}var y=0;function M(t){return"_leaflet_id"in t||(t._leaflet_id=++y),t._leaflet_id}function P(t,i,o){var l,d,w,F;return F=function(){l=!1,d&&(w.apply(o,d),d=!1)},w=function(){l?d=arguments:(t.apply(o,arguments),setTimeout(F,i),l=!0)},w}function Z(t,i,o){var l=i[1],d=i[0],w=l-d;return t===l&&o?t:((t-d)%w+w)%w+d}function O(){return!1}function W(t,i){if(i===!1)return t;var o=Math.pow(10,i===void 0?6:i);return Math.round(t*o)/o}function ut(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function mt(t){return ut(t).split(/\s+/)}function ot(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?v(t.options):{});for(var o in i)t.options[o]=i[o];return t.options}function J(t,i,o){var l=[];for(var d in t)l.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!i||i.indexOf("?")===-1?"?":"&")+l.join("&")}var X=/\{ *([\w_ -]+) *\}/g;function Y(t,i){return t.replace(X,function(o,l){var d=i[l];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(i)),d})}var K=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Q(t,i){for(var o=0;o<t.length;o++)if(t[o]===i)return o;return-1}var tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var q=0;function u(t){var i=+new Date,o=Math.max(0,16-(i-q));return q=i+o,window.setTimeout(t,o)}var yt=window.requestAnimationFrame||A("RequestAnimationFrame")||u,vt=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function wt(t,i,o){if(o&&yt===u)t.call(i);else return yt.call(window,b(t,i))}function Mt(t){t&&vt.call(window,t)}var jt={__proto__:null,extend:V,create:v,bind:b,get lastId(){return y},stamp:M,throttle:P,wrapNum:Z,falseFn:O,formatNum:W,trim:ut,splitWords:mt,setOptions:ot,getParamString:J,template:Y,isArray:K,indexOf:Q,emptyImageUrl:tt,requestFn:yt,cancelFn:vt,requestAnimFrame:wt,cancelAnimFrame:Mt};function Lt(){}Lt.extend=function(t){var i=function(){ot(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,l=v(o);l.constructor=i,i.prototype=l;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(i[d]=this[d]);return t.statics&&V(i,t.statics),t.includes&&(It(t.includes),V.apply(null,[l].concat(t.includes))),V(l,t),delete l.statics,delete l.includes,l.options&&(l.options=o.options?v(o.options):{},V(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,F=l._initHooks.length;w<F;w++)l._initHooks[w].call(this)}},i},Lt.include=function(t){var i=this.prototype.options;return V(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},Lt.mergeOptions=function(t){return V(this.prototype.options,t),this},Lt.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function It(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=K(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Kt={on:function(t,i,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],i);else{t=mt(t);for(var d=0,w=t.length;d<w;d++)this._on(t[d],i,o)}return this},off:function(t,i,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],i);else{t=mt(t);for(var d=arguments.length===1,w=0,F=t.length;w<F;w++)d?this._off(t[w]):this._off(t[w],i,o)}return this},_on:function(t,i,o,l){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,o)===!1){o===this&&(o=void 0);var d={fn:i,ctx:o};l&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,i,o){var l,d,w;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(d=0,w=l.length;d<w;d++)l[d].fn=O;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var F=this._listens(t,i,o);if(F!==!1){var it=l[F];this._firingCount&&(it.fn=O,this._events[t]=l=l.slice()),l.splice(F,1)}}},fire:function(t,i,o){if(!this.listens(t,o))return this;var l=V({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var w=0,F=d.length;w<F;w++){var it=d[w],lt=it.fn;it.once&&this.off(t,lt,it.ctx),lt.call(it.ctx||this,l)}this._firingCount--}}return o&&this._propagateEvent(l),this},listens:function(t,i,o,l){typeof t!="string"&&console.warn('"string" type argument expected');var d=i;typeof i!="function"&&(l=!!i,d=void 0,o=void 0);var w=this._events&&this._events[t];if(w&&w.length&&this._listens(t,d,o)!==!1)return!0;if(l){for(var F in this._eventParents)if(this._eventParents[F].listens(t,i,o,l))return!0}return!1},_listens:function(t,i,o){if(!this._events)return!1;var l=this._events[t]||[];if(!i)return!!l.length;o===this&&(o=void 0);for(var d=0,w=l.length;d<w;d++)if(l[d].fn===i&&l[d].ctx===o)return d;return!1},once:function(t,i,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],i,!0);else{t=mt(t);for(var d=0,w=t.length;d<w;d++)this._on(t[d],i,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[M(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[M(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,V({layer:t.target,propagatedFrom:t.target},t),!0)}};Kt.addEventListener=Kt.on,Kt.removeEventListener=Kt.clearAllEventListeners=Kt.off,Kt.addOneTimeEventListener=Kt.once,Kt.fireEvent=Kt.fire,Kt.hasEventListeners=Kt.listens;var At=Lt.extend(Kt);function Ct(t,i,o){this.x=o?Math.round(t):t,this.y=o?Math.round(i):i}var be=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Ct.prototype={clone:function(){return new Ct(this.x,this.y)},add:function(t){return this.clone()._add(St(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(St(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Ct(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Ct(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=be(this.x),this.y=be(this.y),this},distanceTo:function(t){t=St(t);var i=t.x-this.x,o=t.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(t){return t=St(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=St(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+W(this.x)+", "+W(this.y)+")"}};function St(t,i,o){return t instanceof Ct?t:K(t)?new Ct(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Ct(t.x,t.y):new Ct(t,i,o)}function qt(t,i){if(t)for(var o=i?[t,i]:t,l=0,d=o.length;l<d;l++)this.extend(o[l])}qt.prototype={extend:function(t){var i,o;if(!t)return this;if(t instanceof Ct||typeof t[0]=="number"||"x"in t)i=o=St(t);else if(t=ve(t),i=t.min,o=t.max,!i||!o)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=o.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return St((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return St(this.min.x,this.max.y)},getTopRight:function(){return St(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,o;return typeof t[0]=="number"||t instanceof Ct?t=St(t):t=ve(t),t instanceof qt?(i=t.min,o=t.max):i=o=t,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=ve(t);var i=this.min,o=this.max,l=t.min,d=t.max,w=d.x>=i.x&&l.x<=o.x,F=d.y>=i.y&&l.y<=o.y;return w&&F},overlaps:function(t){t=ve(t);var i=this.min,o=this.max,l=t.min,d=t.max,w=d.x>i.x&&l.x<o.x,F=d.y>i.y&&l.y<o.y;return w&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,o=this.max,l=Math.abs(i.x-o.x)*t,d=Math.abs(i.y-o.y)*t;return ve(St(i.x-l,i.y-d),St(o.x+l,o.y+d))},equals:function(t){return t?(t=ve(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function ve(t,i){return!t||t instanceof qt?t:new qt(t,i)}function Ft(t,i){if(t)for(var o=i?[t,i]:t,l=0,d=o.length;l<d;l++)this.extend(o[l])}Ft.prototype={extend:function(t){var i=this._southWest,o=this._northEast,l,d;if(t instanceof ue)l=t,d=t;else if(t instanceof Ft){if(l=t._southWest,d=t._northEast,!l||!d)return this}else return t?this.extend(ge(t)||$t(t)):this;return!i&&!o?(this._southWest=new ue(l.lat,l.lng),this._northEast=new ue(d.lat,d.lng)):(i.lat=Math.min(l.lat,i.lat),i.lng=Math.min(l.lng,i.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(t){var i=this._southWest,o=this._northEast,l=Math.abs(i.lat-o.lat)*t,d=Math.abs(i.lng-o.lng)*t;return new Ft(new ue(i.lat-l,i.lng-d),new ue(o.lat+l,o.lng+d))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ue||"lat"in t?t=ge(t):t=$t(t);var i=this._southWest,o=this._northEast,l,d;return t instanceof Ft?(l=t.getSouthWest(),d=t.getNorthEast()):l=d=t,l.lat>=i.lat&&d.lat<=o.lat&&l.lng>=i.lng&&d.lng<=o.lng},intersects:function(t){t=$t(t);var i=this._southWest,o=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),w=d.lat>=i.lat&&l.lat<=o.lat,F=d.lng>=i.lng&&l.lng<=o.lng;return w&&F},overlaps:function(t){t=$t(t);var i=this._southWest,o=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),w=d.lat>i.lat&&l.lat<o.lat,F=d.lng>i.lng&&l.lng<o.lng;return w&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=$t(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $t(t,i){return t instanceof Ft?t:new Ft(t,i)}function ue(t,i,o){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,o!==void 0&&(this.alt=+o)}ue.prototype={equals:function(t,i){if(!t)return!1;t=ge(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+W(this.lat,t)+", "+W(this.lng,t)+")"},distanceTo:function(t){return je.distance(this,ge(t))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,o=i/Math.cos(Math.PI/180*this.lat);return $t([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function ge(t,i,o){return t instanceof ue?t:K(t)&&typeof t[0]!="object"?t.length===3?new ue(t[0],t[1],t[2]):t.length===2?new ue(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ue(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ue(t,i,o)}var ti={latLngToPoint:function(t,i){var o=this.projection.project(t),l=this.scale(i);return this.transformation._transform(o,l)},pointToLatLng:function(t,i){var o=this.scale(i),l=this.transformation.untransform(t,o);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(t),l=this.transformation.transform(i.min,o),d=this.transformation.transform(i.max,o);return new qt(l,d)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?Z(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?Z(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new ue(o,i,l)},wrapLatLngBounds:function(t){var i=t.getCenter(),o=this.wrapLatLng(i),l=i.lat-o.lat,d=i.lng-o.lng;if(l===0&&d===0)return t;var w=t.getSouthWest(),F=t.getNorthEast(),it=new ue(w.lat-l,w.lng-d),lt=new ue(F.lat-l,F.lng-d);return new Ft(it,lt)}},je=V({},ti,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var o=Math.PI/180,l=t.lat*o,d=i.lat*o,w=Math.sin((i.lat-t.lat)*o/2),F=Math.sin((i.lng-t.lng)*o/2),it=w*w+Math.cos(l)*Math.cos(d)*F*F,lt=2*Math.atan2(Math.sqrt(it),Math.sqrt(1-it));return this.R*lt}}),gn=6378137,ei={R:gn,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,o=this.MAX_LATITUDE,l=Math.max(Math.min(o,t.lat),-o),d=Math.sin(l*i);return new Ct(this.R*t.lng*i,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var i=180/Math.PI;return new ue((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=gn*Math.PI;return new qt([-t,-t],[t,t])}()};function He(t,i,o,l){if(K(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=o,this._d=l}He.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new Ct((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function ri(t,i,o,l){return new He(t,i,o,l)}var yi=V({},je,{code:"EPSG:3857",projection:ei,transformation:function(){var t=.5/(Math.PI*ei.R);return ri(t,.5,-t,.5)}()}),Zi=V({},yi,{code:"EPSG:900913"});function tn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function We(t,i){var o="",l,d,w,F,it,lt;for(l=0,w=t.length;l<w;l++){for(it=t[l],d=0,F=it.length;d<F;d++)lt=it[d],o+=(d?"L":"M")+lt.x+" "+lt.y;o+=i?Nt.svg?"z":"x":""}return o||"M0 0"}var Hi=document.documentElement.style,pi="ActiveXObject"in window,gi=pi&&!document.addEventListener,mn="msLaunchUri"in navigator&&!("documentMode"in document),j=ai("webkit"),_=ai("android"),x=ai("android 2")||ai("android 3"),S=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),G=_&&ai("Google")&&S<537&&!("AudioNode"in window),D=!!window.opera,ft=!mn&&ai("chrome"),_t=ai("gecko")&&!j&&!D&&!pi,Tt=!ft&&ai("safari"),Zt=ai("phantom"),Xt="OTransition"in Hi,ae=navigator.platform.indexOf("Win")===0,ee=pi&&"transition"in Hi,se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!x,Vt="MozPerspective"in Hi,ye=!window.L_DISABLE_3D&&(ee||se||Vt)&&!Xt&&!Zt,Ce=typeof orientation<"u"||ai("mobile"),Oe=Ce&&j,Ue=Ce&&se,Ge=!window.PointerEvent&&window.MSPointerEvent,qe=!!(window.PointerEvent||Ge),Ke="ontouchstart"in window||!!window.TouchEvent,Ye=!window.L_NO_TOUCH&&(Ke||qe),Xe=Ce&&D,oi=Ce&&_t,De=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Be=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",O,i),window.removeEventListener("testPassiveEventSupport",O,i)}catch{}return t}(),Fe=function(){return!!document.createElement("canvas").getContext}(),Ie=!!(document.createElementNS&&tn("svg").createSVGRect),Ci=!!Ie&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jn=!Ie&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),Di=navigator.platform.indexOf("Mac")===0,vi=navigator.platform.indexOf("Linux")===0;function ai(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Nt={ie:pi,ielt9:gi,edge:mn,webkit:j,android:_,android23:x,androidStock:G,opera:D,chrome:ft,gecko:_t,safari:Tt,phantom:Zt,opera12:Xt,win:ae,ie3d:ee,webkit3d:se,gecko3d:Vt,any3d:ye,mobile:Ce,mobileWebkit:Oe,mobileWebkit3d:Ue,msPointer:Ge,pointer:qe,touch:Ye,touchNative:Ke,mobileOpera:Xe,mobileGecko:oi,retina:De,passiveEvents:Be,canvas:Fe,svg:Ie,vml:jn,inlineSvg:Ci,mac:Di,linux:vi},Pn=Nt.msPointer?"MSPointerDown":"pointerdown",Tn=Nt.msPointer?"MSPointerMove":"pointermove",Gn=Nt.msPointer?"MSPointerUp":"pointerup",Pi=Nt.msPointer?"MSPointerCancel":"pointercancel",Ti={touchstart:Pn,touchmove:Tn,touchend:Gn,touchcancel:Pi},tr={touchstart:Ui,touchmove:_n,touchend:_n,touchcancel:_n},Si={},en=!1;function nn(t,i,o){return i==="touchstart"&&En(),tr[i]?(o=tr[i].bind(this,o),t.addEventListener(Ti[i],o,!1),o):(console.warn("wrong event specified:",i),O)}function Fn(t,i,o){if(!Ti[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Ti[i],o,!1)}function Sn(t){Si[t.pointerId]=t}function Zn(t){Si[t.pointerId]&&(Si[t.pointerId]=t)}function rn(t){delete Si[t.pointerId]}function En(){en||(document.addEventListener(Pn,Sn,!0),document.addEventListener(Tn,Zn,!0),document.addEventListener(Gn,rn,!0),document.addEventListener(Pi,rn,!0),en=!0)}function _n(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var o in Si)i.touches.push(Si[o]);i.changedTouches=[i],t(i)}}function Ui(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&I(i),_n(t,i)}function er(t){var i={},o,l;for(l in t)o=t[l],i[l]=o&&o.bind?o.bind(t):o;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var yn=200;function Hn(t,i){t.addEventListener("dblclick",i);var o=0,l;function d(w){if(w.detail!==1){l=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var F=H(w);if(!(F.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})&&!F.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement}))){var it=Date.now();it-o<=yn?(l++,l===2&&i(er(w))):l=1,o=it}}}return t.addEventListener("click",d),{dblclick:i,simDblclick:d}}function ir(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var qi=Dn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vi=Dn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Un=Vi==="webkitTransition"||Vi==="OTransition"?Vi+"End":"transitionend";function On(t){return typeof t=="string"?document.getElementById(t):t}function on(t,i){var o=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!o||o==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);o=l?l[i]:null}return o==="auto"?null:o}function he(t,i,o){var l=document.createElement(t);return l.className=i||"",o&&o.appendChild(l),l}function xe(t){var i=t.parentNode;i&&i.removeChild(t)}function Bi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Te(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function si(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Wi(t,i){if(t.classList!==void 0)return t.classList.contains(i);var o=bn(t);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function ie(t,i){if(t.classList!==void 0)for(var o=mt(i),l=0,d=o.length;l<d;l++)t.classList.add(o[l]);else if(!Wi(t,i)){var w=bn(t);vn(t,(w?w+" ":"")+i)}}function Se(t,i){t.classList!==void 0?t.classList.remove(i):vn(t,ut((" "+bn(t)+" ").replace(" "+i+" "," ")))}function vn(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function bn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function $e(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&qn(t,i)}function qn(t,i){var o=!1,l="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(l)}catch{if(i===1)return}i=Math.round(i*100),o?(o.Enabled=i!==100,o.Opacity=i):t.style.filter+=" progid:"+l+"(opacity="+i+")"}function Dn(t){for(var i=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in i)return t[o];return!1}function Ei(t,i,o){var l=i||new Ct(0,0);t.style[qi]=(Nt.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(o?" scale("+o+")":"")}function _e(t,i){t._leaflet_pos=i,Nt.any3d?Ei(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Oi(t){return t._leaflet_pos||new Ct(0,0)}var Qe,Ri,Vn;if("onselectstart"in document)Qe=function(){Qt(window,"selectstart",I)},Ri=function(){Me(window,"selectstart",I)};else{var mi=Dn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qe=function(){if(mi){var t=document.documentElement.style;Vn=t[mi],t[mi]="none"}},Ri=function(){mi&&(document.documentElement.style[mi]=Vn,Vn=void 0)}}function we(){Qt(window,"dragstart",I)}function Ii(){Me(window,"dragstart",I)}var an,Ki;function Bn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&($i(),an=t,Ki=t.style.outline,t.style.outline="none",Qt(window,"keydown",$i))}function $i(){an&&(an.style.outline=Ki,an=void 0,Ki=void 0,Me(window,"keydown",$i))}function Wn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function sn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Kn={__proto__:null,TRANSFORM:qi,TRANSITION:Vi,TRANSITION_END:Un,get:On,getStyle:on,create:he,remove:xe,empty:Bi,toFront:Te,toBack:si,hasClass:Wi,addClass:ie,removeClass:Se,setClass:vn,getClass:bn,setOpacity:$e,testProp:Dn,setTransform:Ei,setPosition:_e,getPosition:Oi,get disableTextSelection(){return Qe},get enableTextSelection(){return Ri},disableImageDrag:we,enableImageDrag:Ii,preventOutline:Bn,restoreOutline:$i,getSizedParentNode:Wn,getScale:sn};function Qt(t,i,o,l){if(i&&typeof i=="object")for(var d in i)a(t,d,i[d],o);else{i=mt(i);for(var w=0,F=i.length;w<F;w++)a(t,i[w],o,l)}return this}var bi="_leaflet_events";function Me(t,i,o,l){if(arguments.length===1)e(t),delete t[bi];else if(i&&typeof i=="object")for(var d in i)c(t,d,i[d],o);else if(i=mt(i),arguments.length===2)e(t,function(it){return Q(i,it)!==-1});else for(var w=0,F=i.length;w<F;w++)c(t,i[w],o,l);return this}function e(t,i){for(var o in t[bi]){var l=o.split(/\d/)[0];(!i||i(l))&&c(t,l,null,null,o)}}var n={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function a(t,i,o,l){var d=i+M(o)+(l?"_"+M(l):"");if(t[bi]&&t[bi][d])return this;var w=function(it){return o.call(l||t,it||window.event)},F=w;!Nt.touchNative&&Nt.pointer&&i.indexOf("touch")===0?w=nn(t,i,w):Nt.touch&&i==="dblclick"?w=Hn(t,w):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(n[i]||i,w,Nt.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(w=function(it){it=it||window.event,kt(t,it)&&F(it)},t.addEventListener(n[i],w,!1)):t.addEventListener(i,F,!1):t.attachEvent("on"+i,w),t[bi]=t[bi]||{},t[bi][d]=w}function c(t,i,o,l,d){d=d||i+M(o)+(l?"_"+M(l):"");var w=t[bi]&&t[bi][d];if(!w)return this;!Nt.touchNative&&Nt.pointer&&i.indexOf("touch")===0?Fn(t,i,w):Nt.touch&&i==="dblclick"?ir(t,w):"removeEventListener"in t?t.removeEventListener(n[i]||i,w,!1):t.detachEvent("on"+i,w),t[bi][d]=null}function p(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function C(t){return a(t,"wheel",p),this}function B(t){return Qt(t,"mousedown touchstart dblclick contextmenu",p),t._leaflet_disable_click=!0,this}function I(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function N(t){return I(t),p(t),this}function H(t){if(t.composedPath)return t.composedPath();for(var i=[],o=t.target;o;)i.push(o),o=o.parentNode;return i}function et(t,i){if(!i)return new Ct(t.clientX,t.clientY);var o=sn(i),l=o.boundingClientRect;return new Ct((t.clientX-l.left)/o.x-i.clientLeft,(t.clientY-l.top)/o.y-i.clientTop)}var dt=Nt.linux&&Nt.chrome?window.devicePixelRatio:Nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ct(t){return Nt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/dt:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function kt(t,i){var o=i.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var Et={__proto__:null,on:Qt,off:Me,stopPropagation:p,disableScrollPropagation:C,disableClickPropagation:B,preventDefault:I,stop:N,getPropagationPath:H,getMousePosition:et,getWheelDelta:ct,isExternalTarget:kt,addListener:Qt,removeListener:Me},Ut=At.extend({run:function(t,i,o,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Oi(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=wt(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,o=this._duration*1e3;i<o?this._runFrame(this._easeOut(i/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var o=this._startPos.add(this._offset.multiplyBy(t));i&&o._round(),_e(this._el,o),this.fire("step")},_complete:function(){Mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ot=At.extend({options:{crs:yi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=ot(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=b(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(ge(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vi&&Nt.any3d&&!Nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Un,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,o){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(ge(t),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=V({animate:o.animate},o.zoom),o.pan=V({animate:o.animate,duration:o.duration},o.pan));var l=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,o.zoom):this._tryAnimatedPan(t,o.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,o){var l=this.getZoomScale(i),d=this.getSize().divideBy(2),w=t instanceof Ct?t:this.latLngToContainerPoint(t),F=w.subtract(d).multiplyBy(1-1/l),it=this.containerPointToLatLng(d.add(F));return this.setView(it,i,{zoom:o})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():$t(t);var o=St(i.paddingTopLeft||i.padding||[0,0]),l=St(i.paddingBottomRight||i.padding||[0,0]),d=this.getBoundsZoom(t,!1,o.add(l));if(d=typeof i.maxZoom=="number"?Math.min(i.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var w=l.subtract(o).divideBy(2),F=this.project(t.getSouthWest(),d),it=this.project(t.getNorthEast(),d),lt=this.unproject(F.add(it).divideBy(2).add(w),d);return{center:lt,zoom:d}},fitBounds:function(t,i){if(t=$t(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=St(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ut,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,o){if(o=o||{},o.animate===!1||!Nt.any3d)return this.setView(t,i,o);this._stop();var l=this.project(this.getCenter()),d=this.project(t),w=this.getSize(),F=this._zoom;t=ge(t),i=i===void 0?F:i;var it=Math.max(w.x,w.y),lt=it*this.getZoomScale(F,i),bt=d.distanceTo(l)||1,Rt=1.42,te=Rt*Rt;function pe(Ve){var kr=Ve?-1:1,qo=Ve?lt:it,Vo=lt*lt-it*it+kr*te*te*bt*bt,Wo=2*qo*te*bt,Br=Vo/Wo,ho=Math.sqrt(Br*Br+1)-Br,Ko=ho<1e-9?-18:Math.log(ho);return Ko}function Gi(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Xn(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Lr(Ve){return Gi(Ve)/Xn(Ve)}var An=pe(0);function Dr(Ve){return it*(Xn(An)/Xn(An+Rt*Ve))}function Fo(Ve){return it*(Xn(An)*Lr(An+Rt*Ve)-Gi(An))/te}function Zo(Ve){return 1-Math.pow(1-Ve,1.5)}var Ho=Date.now(),lo=(pe(1)-An)/Rt,Uo=o.duration?1e3*o.duration:1e3*lo*.8;function uo(){var Ve=(Date.now()-Ho)/Uo,kr=Zo(Ve)*lo;Ve<=1?(this._flyToFrame=wt(uo,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(Fo(kr)/bt)),F),this.getScaleZoom(it/Dr(kr),F),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),uo.call(this),this},flyToBounds:function(t,i){var o=this._getBoundsCenterZoom(t,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(t){return t=$t(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var o=this.getCenter(),l=this._limitCenter(o,this._zoom,$t(t));return o.equals(l)||this.panTo(l,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var o=St(i.paddingTopLeft||i.padding||[0,0]),l=St(i.paddingBottomRight||i.padding||[0,0]),d=this.project(this.getCenter()),w=this.project(t),F=this.getPixelBounds(),it=ve([F.min.add(o),F.max.subtract(l)]),lt=it.getSize();if(!it.contains(w)){this._enforcingBounds=!0;var bt=w.subtract(it.getCenter()),Rt=it.extend(w).getSize().subtract(lt);d.x+=bt.x<0?-Rt.x:Rt.x,d.y+=bt.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(d),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=V({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),l=i.divideBy(2).round(),d=o.divideBy(2).round(),w=l.subtract(d);return!w.x&&!w.y?this:(t.animate&&t.pan?this.panBy(w):(t.pan&&this._rawPanBy(w),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(b(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=V({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=b(this._handleGeolocationResponse,this),o=b(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,o=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,o=t.coords.longitude,l=new ue(i,o),d=l.toBounds(t.coords.accuracy*2),w=this._locateOptions;if(w.setView){var F=this.getBoundsZoom(d);this.setView(l,w.maxZoom?Math.min(F,w.maxZoom):F)}var it={latlng:l,bounds:d,timestamp:t.timestamp};for(var lt in t.coords)typeof t.coords[lt]=="number"&&(it[lt]=t.coords[lt]);this.fire("locationfound",it)}},addHandler:function(t,i){if(!i)return this;var o=this[t]=new i(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)xe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=he("div",o,i||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new Ft(i,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,o){t=$t(t),o=St(o||[0,0]);var l=this.getZoom()||0,d=this.getMinZoom(),w=this.getMaxZoom(),F=t.getNorthWest(),it=t.getSouthEast(),lt=this.getSize().subtract(o),bt=ve(this.project(it,l),this.project(F,l)).getSize(),Rt=Nt.any3d?this.options.zoomSnap:1,te=lt.x/bt.x,pe=lt.y/bt.y,Gi=i?Math.max(te,pe):Math.min(te,pe);return l=this.getScaleZoom(Gi,l),Rt&&(l=Math.round(l/(Rt/100))*(Rt/100),l=i?Math.ceil(l/Rt)*Rt:Math.floor(l/Rt)*Rt),Math.max(d,Math.min(w,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ct(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var o=this._getTopLeftPoint(t,i);return new qt(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var o=this.options.crs;return i=i===void 0?this._zoom:i,o.scale(t)/o.scale(i)},getScaleZoom:function(t,i){var o=this.options.crs;i=i===void 0?this._zoom:i;var l=o.zoom(t*o.scale(i));return isNaN(l)?1/0:l},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(ge(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(St(t),i)},layerPointToLatLng:function(t){var i=St(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(ge(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ge(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds($t(t))},distance:function(t,i){return this.options.crs.distance(ge(t),ge(i))},containerPointToLayerPoint:function(t){return St(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return St(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(St(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(t)))},mouseEventToContainerPoint:function(t){return et(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=On(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(i,"scroll",this._onScroll,this),this._containerId=M(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Nt.any3d,ie(t,"leaflet-container"+(Nt.touch?" leaflet-touch":"")+(Nt.retina?" leaflet-retina":"")+(Nt.ielt9?" leaflet-oldie":"")+(Nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=on(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new Ct(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(t.markerPane,"leaflet-zoom-hide"),ie(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,o){_e(this._mapPane,new Ct(0,0));var l=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var d=this._zoom!==i;this._moveStart(d,o)._move(t,i)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,o,l){i===void 0&&(i=this._zoom);var d=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[M(this._container)]=this;var i=t?Me:Qt;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Nt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Mt(this._resizeRequest),this._resizeRequest=wt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var o=[],l,d=i==="mouseout"||i==="mouseover",w=t.target||t.srcElement,F=!1;w;){if(l=this._targets[M(w)],l&&(i==="click"||i==="preclick")&&this._draggableMoved(l)){F=!0;break}if(l&&l.listens(i,!0)&&(d&&!kt(w,t)||(o.push(l),d))||w===this._container)break;w=w.parentNode}return!o.length&&!F&&!d&&this.listens(i,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var o=t.type;o==="mousedown"&&Bn(i),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,o){if(t.type==="click"){var l=V({},t);l.type="preclick",this._fireDOMEvent(l,l.type,o)}var d=this._findEventTargets(t,i);if(o){for(var w=[],F=0;F<o.length;F++)o[F].listens(i,!0)&&w.push(o[F]);d=w.concat(d)}if(d.length){i==="contextmenu"&&I(t);var it=d[0],lt={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var bt=it.getLatLng&&(!it._radius||it._radius<=10);lt.containerPoint=bt?this.latLngToContainerPoint(it.getLatLng()):this.mouseEventToContainerPoint(t),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=bt?it.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(F=0;F<d.length;F++)if(d[F].fire(i,lt,!0),lt.originalEvent._stopped||d[F].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Oi(this._mapPane)||new Ct(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var o=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var o=this.getSize()._divideBy(2);return this.project(t,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,o){var l=this._getNewPixelOrigin(o,i);return this.project(t,i)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,i,o){var l=this._getNewPixelOrigin(o,i);return ve([this.project(t.getSouthWest(),i)._subtract(l),this.project(t.getNorthWest(),i)._subtract(l),this.project(t.getSouthEast(),i)._subtract(l),this.project(t.getNorthEast(),i)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,o){if(!o)return t;var l=this.project(t,i),d=this.getSize().divideBy(2),w=new qt(l.subtract(d),l.add(d)),F=this._getBoundsOffset(w,o,i);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?t:this.unproject(l.add(F),i)},_limitOffset:function(t,i){if(!i)return t;var o=this.getPixelBounds(),l=new qt(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(l,i))},_getBoundsOffset:function(t,i,o){var l=ve(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),d=l.min.subtract(t.min),w=l.max.subtract(t.max),F=this._rebound(d.x,-w.x),it=this._rebound(d.y,-w.y);return new Ct(F,it)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),o=this.getMaxZoom(),l=Nt.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(i,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var o=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,i),!0)},_createAnimProxy:function(){var t=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var o=qi,l=this._proxy.style[o];Ei(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),l===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Ei(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(i),d=this._getCenterOffset(t)._divideBy(1-1/l);return o.animate!==!0&&!this.getSize().contains(d)?!1:(wt(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,o,l){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(b(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Le(t,i){return new Ot(t,i)}var le=Lt.extend({options:{position:"topright"},initialize:function(t){ot(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),o=this.getPosition(),l=t._controlCorners[o];return ie(i,"leaflet-control"),o.indexOf("bottom")!==-1?l.insertBefore(i,l.firstChild):l.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ce=function(t){return new le(t)};Ot.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",o=this._controlContainer=he("div",i+"control-container",this._container);function l(d,w){var F=i+d+" "+i+w;t[d+w]=he("div",F,o)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)xe(this._controlCorners[t]);xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ae=le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,o,l){return o<l?-1:l<o?1:0}},initialize:function(t,i,o){ot(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in i)this._addLayer(i[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return le.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(M(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=he("div",t),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),B(i),C(i);var l=this._section=he("section",t+"-list");o&&(this._map.on("click",this.collapse,this),Qt(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=he("a",t+"-toggle",i);d.href="#",d.title="Layers",d.setAttribute("role","button"),Qt(d,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){I(w),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=he("div",t+"-base",l),this._separator=he("div",t+"-separator",l),this._overlaysList=he("div",t+"-overlays",l),i.appendChild(l)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&M(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(b(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bi(this._baseLayersList),Bi(this._overlaysList),this._layerControlInputs=[];var t,i,o,l,d=0;for(o=0;o<this._layers.length;o++)l=this._layers[o],this._addItem(l),i=i||l.overlay,t=t||!l.overlay,d+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(M(t.target)),o=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(t,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=o,l.firstChild},_addItem:function(t){var i=document.createElement("label"),o=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=o):l=this._createRadioElement("leaflet-base-layers_"+M(this),o),this._layerControlInputs.push(l),l.layerId=M(t.layer),Qt(l,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var w=document.createElement("span");i.appendChild(w),w.appendChild(l),w.appendChild(d);var F=t.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t=this._layerControlInputs,i,o,l=[],d=[];this._handlingClick=!0;for(var w=t.length-1;w>=0;w--)i=t[w],o=this._getLayer(i.layerId).layer,i.checked?l.push(o):i.checked||d.push(o);for(w=0;w<d.length;w++)this._map.hasLayer(d[w])&&this._map.removeLayer(d[w]);for(w=0;w<l.length;w++)this._map.hasLayer(l[w])||this._map.addLayer(l[w]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,o,l=this._map.getZoom(),d=t.length-1;d>=0;d--)i=t[d],o=this._getLayer(i.layerId).layer,i.disabled=o.options.minZoom!==void 0&&l<o.options.minZoom||o.options.maxZoom!==void 0&&l>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Qt(t,"click",I),this.expand(),setTimeout(function(){Me(t,"click",I)})}}),li=function(t,i,o){return new Ae(t,i,o)},Li=le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",o=he("div",i+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,o,l,d){var w=he("a",o,l);return w.innerHTML=t,w.href="#",w.title=i,w.setAttribute("role","button"),w.setAttribute("aria-label",i),B(w),Qt(w,"click",N),Qt(w,"click",d,this),Qt(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";Se(this._zoomInButton,i),Se(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ie(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ie(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ot.mergeOptions({zoomControl:!0}),Ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Li,this.addControl(this.zoomControl))});var nr=function(t){return new Li(t)},r=le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",o=he("div",i),l=this.options;return this._addScales(l,i+"-line",o),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,o){t.metric&&(this._mScale=he("div",i,o)),t.imperial&&(this._iScale=he("div",i,o))},_update:function(){var t=this._map,i=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/t)},_updateImperial:function(t){var i=t*3.2808399,o,l,d;i>5280?(o=i/5280,l=this._getRoundNum(o),this._updateScale(this._iScale,l+" mi",l/o)):(d=this._getRoundNum(i),this._updateScale(this._iScale,d+" ft",d/i))},_updateScale:function(t,i,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),o=t/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),s=function(t){return new r(t)},h='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',f=le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Nt.inlineSvg?h+" ":"")+"Leaflet</a>"},initialize:function(t){ot(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=he("div","leaflet-control-attribution"),B(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Ot.mergeOptions({attributionControl:!0}),Ot.addInitHook(function(){this.options.attributionControl&&new f().addTo(this)});var m=function(t){return new f(t)};le.Layers=Ae,le.Zoom=Li,le.Scale=r,le.Attribution=f,ce.layers=li,ce.zoom=nr,ce.scale=s,ce.attribution=m;var g=Lt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});g.addTo=function(t,i){return t.addHandler(i,this),this};var k={Events:Kt},z=Nt.touch?"touchstart mousedown":"mousedown",R=At.extend({options:{clickTolerance:3},initialize:function(t,i,o,l){ot(this,l),this._element=t,this._dragStartTarget=i||t,this._preventOutline=o},enable:function(){this._enabled||(Qt(this._dragStartTarget,z,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(R._dragging===this&&this.finishDrag(!0),Me(this._dragStartTarget,z,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Wi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){R._dragging===this&&this.finishDrag();return}if(!(R._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(R._dragging=this,this._preventOutline&&Bn(this._element),we(),Qe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,o=Wn(this._element);this._startPoint=new Ct(i.clientX,i.clientY),this._startPos=Oi(this._element),this._parentScale=sn(o);var l=t.type==="mousedown";Qt(document,l?"mousemove":"touchmove",this._onMove,this),Qt(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,o=new Ct(i.clientX,i.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,I(t),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),_e(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Se(document.body,"leaflet-dragging"),this._lastTarget&&(Se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Me(document,"mousemove touchmove",this._onMove,this),Me(document,"mouseup touchend touchcancel",this._onUp,this),Ii(),Ri(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,R._dragging=!1}});function $(t,i){if(!i||!t.length)return t.slice();var o=i*i;return t=Yt(t,o),t=at(t,o),t}function ht(t,i,o){return Math.sqrt(ui(t,i,o,!0))}function gt(t,i,o){return ui(t,i,o)}function at(t,i){var o=t.length,l=typeof Uint8Array!=void 0+""?Uint8Array:Array,d=new l(o);d[0]=d[o-1]=1,xt(t,d,i,0,o-1);var w,F=[];for(w=0;w<o;w++)d[w]&&F.push(t[w]);return F}function xt(t,i,o,l,d){var w=0,F,it,lt;for(it=l+1;it<=d-1;it++)lt=ui(t[it],t[l],t[d],!0),lt>w&&(F=it,w=lt);w>o&&(i[F]=1,xt(t,i,o,l,F),xt(t,i,o,F,d))}function Yt(t,i){for(var o=[t[0]],l=1,d=0,w=t.length;l<w;l++)Ai(t[l],t[d])>i&&(o.push(t[l]),d=l);return d<w-1&&o.push(t[w-1]),o}var fe;function ne(t,i,o,l,d){var w=l?fe:Pe(t,o),F=Pe(i,o),it,lt,bt;for(fe=F;;){if(!(w|F))return[t,i];if(w&F)return!1;it=w||F,lt=Ne(t,i,it,o,d),bt=Pe(lt,o),it===w?(t=lt,w=bt):(i=lt,F=bt)}}function Ne(t,i,o,l,d){var w=i.x-t.x,F=i.y-t.y,it=l.min,lt=l.max,bt,Rt;return o&8?(bt=t.x+w*(lt.y-t.y)/F,Rt=lt.y):o&4?(bt=t.x+w*(it.y-t.y)/F,Rt=it.y):o&2?(bt=lt.x,Rt=t.y+F*(lt.x-t.x)/w):o&1&&(bt=it.x,Rt=t.y+F*(it.x-t.x)/w),new Ct(bt,Rt,d)}function Pe(t,i){var o=0;return t.x<i.min.x?o|=1:t.x>i.max.x&&(o|=2),t.y<i.min.y?o|=4:t.y>i.max.y&&(o|=8),o}function Ai(t,i){var o=i.x-t.x,l=i.y-t.y;return o*o+l*l}function ui(t,i,o,l){var d=i.x,w=i.y,F=o.x-d,it=o.y-w,lt=F*F+it*it,bt;return lt>0&&(bt=((t.x-d)*F+(t.y-w)*it)/lt,bt>1?(d=o.x,w=o.y):bt>0&&(d+=F*bt,w+=it*bt)),F=t.x-d,it=t.y-w,l?F*F+it*it:new Ct(d,w)}function Jt(t){return!K(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ln(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jt(t)}function de(t,i){var o,l,d,w,F,it,lt,bt;if(!t||t.length===0)throw new Error("latlngs not passed");Jt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Rt=[];for(var te in t)Rt.push(i.project(ge(t[te])));var pe=Rt.length;for(o=0,l=0;o<pe-1;o++)l+=Rt[o].distanceTo(Rt[o+1])/2;if(l===0)bt=Rt[0];else for(o=0,w=0;o<pe-1;o++)if(F=Rt[o],it=Rt[o+1],d=F.distanceTo(it),w+=d,w>l){lt=(w-l)/d,bt=[it.x-lt*(it.x-F.x),it.y-lt*(it.y-F.y)];break}return i.unproject(St(bt))}var Re={__proto__:null,simplify:$,pointToSegmentDistance:ht,closestPointOnSegment:gt,clipSegment:ne,_getEdgeIntersection:Ne,_getBitCode:Pe,_sqClosestPointOnSegment:ui,isFlat:Jt,_flat:ln,polylineCenter:de};function Rn(t,i,o){var l,d=[1,4,2,8],w,F,it,lt,bt,Rt,te,pe;for(w=0,Rt=t.length;w<Rt;w++)t[w]._code=Pe(t[w],i);for(it=0;it<4;it++){for(te=d[it],l=[],w=0,Rt=t.length,F=Rt-1;w<Rt;F=w++)lt=t[w],bt=t[F],lt._code&te?bt._code&te||(pe=Ne(bt,lt,te,i,o),pe._code=Pe(pe,i),l.push(pe)):(bt._code&te&&(pe=Ne(bt,lt,te,i,o),pe._code=Pe(pe,i),l.push(pe)),l.push(lt));t=l}return t}function rr(t,i){var o,l,d,w,F,it,lt,bt,Rt;if(!t||t.length===0)throw new Error("latlngs not passed");Jt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var te=[];for(var pe in t)te.push(i.project(ge(t[pe])));var Gi=te.length;for(it=lt=bt=0,o=0,l=Gi-1;o<Gi;l=o++)d=te[o],w=te[l],F=d.y*w.x-w.y*d.x,lt+=(d.x+w.x)*F,bt+=(d.y+w.y)*F,it+=F*3;return it===0?Rt=te[0]:Rt=[lt/it,bt/it],i.unproject(St(Rt))}var Ni={__proto__:null,clipPolygon:Rn,polygonCenter:rr},Ln={project:function(t){return new Ct(t.lng,t.lat)},unproject:function(t){return new ue(t.y,t.x)},bounds:new qt([-180,-90],[180,90])},ki={R:6378137,R_MINOR:6356752314245179e-9,bounds:new qt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,o=this.R,l=t.lat*i,d=this.R_MINOR/o,w=Math.sqrt(1-d*d),F=w*Math.sin(l),it=Math.tan(Math.PI/4-l/2)/Math.pow((1-F)/(1+F),w/2);return l=-o*Math.log(Math.max(it,1e-10)),new Ct(t.lng*i*o,l)},unproject:function(t){for(var i=180/Math.PI,o=this.R,l=this.R_MINOR/o,d=Math.sqrt(1-l*l),w=Math.exp(-t.y/o),F=Math.PI/2-2*Math.atan(w),it=0,lt=.1,bt;it<15&&Math.abs(lt)>1e-7;it++)bt=d*Math.sin(F),bt=Math.pow((1-bt)/(1+bt),d/2),lt=Math.PI/2-2*Math.atan(w*bt)-F,F+=lt;return new ue(F*i,t.x*i/o)}},un={__proto__:null,LonLat:Ln,Mercator:ki,SphericalMercator:ei},hn=V({},je,{code:"EPSG:3395",projection:ki,transformation:function(){var t=.5/(Math.PI*ki.R);return ri(t,.5,-t,.5)}()}),_i=V({},je,{code:"EPSG:4326",projection:Ln,transformation:ri(1/180,1,-1/180,.5)}),cr=V({},ti,{projection:Ln,transformation:ri(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var o=i.lng-t.lng,l=i.lat-t.lat;return Math.sqrt(o*o+l*l)},infinite:!0});ti.Earth=je,ti.EPSG3395=hn,ti.EPSG3857=yi,ti.EPSG900913=Zi,ti.EPSG4326=_i,ti.Simple=cr;var Ze=At.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[M(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[M(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",function(){i.off(o,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ot.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=M(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=M(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return M(t)in this._layers},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},_addLayers:function(t){t=t?K(t)?t:[t]:[];for(var i=0,o=t.length;i<o;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[M(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=M(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,o=this._getZoomSpan();for(var l in this._zoomBoundLayers){var d=this._zoomBoundLayers[l].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),i=d.maxZoom===void 0?i:Math.max(i,d.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hi=Ze.extend({initialize:function(t,i){ot(this,i),this._layers={};var o,l;if(t)for(o=0,l=t.length;o<l;o++)this.addLayer(t[o])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),o,l;for(o in this._layers)l=this._layers[o],l[t]&&l[t].apply(l,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return M(t)}}),Sr=function(t,i){return new hi(t,i)},Ji=hi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),hi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),hi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ft;for(var i in this._layers){var o=this._layers[i];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),Er=function(t,i){return new Ji(t,i)},me=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){ot(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(o,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,i){var o=this.options,l=o[i+"Size"];typeof l=="number"&&(l=[l,l]);var d=St(l),w=St(i==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(o.className||""),w&&(t.style.marginLeft=-w.x+"px",t.style.marginTop=-w.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Nt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function or(t){return new me(t)}var ii=me.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ii.imagePath!="string"&&(ii.imagePath=this._detectIconPath()),(this.options.imagePath||ii.imagePath)+me.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(o,l,d){var w=l.exec(o);return w&&w[d]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=he("div","leaflet-default-icon-path",document.body),i=on(t,"background-image")||on(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),kn=g.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new R(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,o=i._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,w=Oi(i._icon),F=o.getPixelBounds(),it=o.getPixelOrigin(),lt=ve(F.min._subtract(it).add(d),F.max._subtract(it).subtract(d));if(!lt.contains(w)){var bt=St((Math.max(lt.max.x,w.x)-lt.max.x)/(F.max.x-lt.max.x)-(Math.min(lt.min.x,w.x)-lt.min.x)/(F.min.x-lt.min.x),(Math.max(lt.max.y,w.y)-lt.max.y)/(F.max.y-lt.max.y)-(Math.min(lt.min.y,w.y)-lt.min.y)/(F.min.y-lt.min.y)).multiplyBy(l);o.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),_e(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=wt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Mt(this._panRequest),this._panRequest=wt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,o=i._shadow,l=Oi(i._icon),d=i._map.layerPointToLatLng(l);o&&_e(o,l),i._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ar=Ze.extend({options:{icon:new ii,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){ot(this,i),this._latlng=ge(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=ge(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),l=!1;o!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),ie(o,i),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(o,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),w=!1;d!==this._shadow&&(this._removeShadow(),w=!0),d&&(ie(d,i),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&w&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(this._icon,"focus",this._panOnFocus,this),xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&_e(this._icon,t),this._shadow&&_e(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&$e(this._icon,t),this._shadow&&$e(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,o=i.iconSize?St(i.iconSize):St(0,0),l=i.iconAnchor?St(i.iconAnchor):St(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:o.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Or(t,i){return new ar(t,i)}var Yi=Ze.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return ot(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zi=Yi.extend({options:{fill:!0,radius:10},initialize:function(t,i){ot(this,i),this._latlng=ge(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=ge(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Yi.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,o=this._clickTolerance(),l=[t+o,i+o];this._pxBounds=new qt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fr(t,i){return new zi(t,i)}var ji=zi.extend({initialize:function(t,i,o){if(typeof i=="number"&&(i=V({},o,{radius:i})),ot(this,i),this._latlng=ge(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ft(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yi.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,o=this._map,l=o.options.crs;if(l.distance===je.distance){var d=Math.PI/180,w=this._mRadius/je.R/d,F=o.project([i+w,t]),it=o.project([i-w,t]),lt=F.add(it).divideBy(2),bt=o.unproject(lt).lat,Rt=Math.acos((Math.cos(w*d)-Math.sin(i*d)*Math.sin(bt*d))/(Math.cos(i*d)*Math.cos(bt*d)))/d;(isNaN(Rt)||Rt===0)&&(Rt=w/Math.cos(Math.PI/180*i)),this._point=lt.subtract(o.getPixelOrigin()),this._radius=isNaN(Rt)?0:lt.x-o.project([bt,t-Rt]).x,this._radiusY=lt.y-F.y}else{var te=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(te).x}this._updateBounds()}});function vr(t,i,o){return new ji(t,i,o)}var xi=Yi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){ot(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,o=null,l=ui,d,w,F=0,it=this._parts.length;F<it;F++)for(var lt=this._parts[F],bt=1,Rt=lt.length;bt<Rt;bt++){d=lt[bt-1],w=lt[bt];var te=l(t,d,w,!0);te<i&&(i=te,o=l(t,d,w))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return de(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=ge(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ft,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Jt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],o=Jt(t),l=0,d=t.length;l<d;l++)o?(i[l]=ge(t[l]),this._bounds.extend(i[l])):i[l]=this._convertLatLngs(t[l]);return i},_project:function(){var t=new qt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new Ct(t,t);this._rawPxBounds&&(this._pxBounds=new qt([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,o){var l=t[0]instanceof ue,d=t.length,w,F;if(l){for(F=[],w=0;w<d;w++)F[w]=this._map.latLngToLayerPoint(t[w]),o.extend(F[w]);i.push(F)}else for(w=0;w<d;w++)this._projectLatlngs(t[w],i,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,o,l,d,w,F,it,lt;for(o=0,d=0,w=this._rings.length;o<w;o++)for(lt=this._rings[o],l=0,F=lt.length;l<F-1;l++)it=ne(lt[l],lt[l+1],t,l,!0),it&&(i[d]=i[d]||[],i[d].push(it[0]),(it[1]!==lt[l+1]||l===F-2)&&(i[d].push(it[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,o=0,l=t.length;o<l;o++)t[o]=$(t[o],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var o,l,d,w,F,it,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,w=this._parts.length;o<w;o++)for(it=this._parts[o],l=0,F=it.length,d=F-1;l<F;d=l++)if(!(!i&&l===0)&&ht(t,it[d],it[l])<=lt)return!0;return!1}});function sr(t,i){return new xi(t,i)}xi._flat=ln;var Xi=xi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=xi.prototype._convertLatLngs.call(this,t),o=i.length;return o>=2&&i[0]instanceof ue&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(t){xi.prototype._setLatLngs.call(this,t),Jt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,o=new Ct(i,i);if(t=new qt(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,d=this._rings.length,w;l<d;l++)w=Rn(this._rings[l],t,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,o,l,d,w,F,it,lt,bt;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(w=0,lt=this._parts.length;w<lt;w++)for(o=this._parts[w],F=0,bt=o.length,it=bt-1;F<bt;it=F++)l=o[F],d=o[it],l.y>t.y!=d.y>t.y&&t.x<(d.x-l.x)*(t.y-l.y)/(d.y-l.y)+l.x&&(i=!i);return i||xi.prototype._containsPoint.call(this,t,!0)}});function dr(t,i){return new Xi(t,i)}var Qi=Ji.extend({initialize:function(t,i){ot(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=K(t)?t:t.features,o,l,d;if(i){for(o=0,l=i.length;o<l;o++)d=i[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var w=this.options;if(w.filter&&!w.filter(t))return this;var F=xn(t,w);return F?(F.feature=U(t),F.defaultOptions=F.options,this.resetStyle(F),w.onEachFeature&&w.onEachFeature(t,F),this.addLayer(F)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=V({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function xn(t,i){var o=t.type==="Feature"?t.geometry:t,l=o?o.coordinates:null,d=[],w=i&&i.pointToLayer,F=i&&i.coordsToLatLng||$n,it,lt,bt,Rt;if(!l&&!o)return null;switch(o.type){case"Point":return it=F(l),lr(w,t,it,i);case"MultiPoint":for(bt=0,Rt=l.length;bt<Rt;bt++)it=F(l[bt]),d.push(lr(w,t,it,i));return new Ji(d);case"LineString":case"MultiLineString":return lt=ur(l,o.type==="LineString"?0:1,F),new xi(lt,i);case"Polygon":case"MultiPolygon":return lt=ur(l,o.type==="Polygon"?1:2,F),new Xi(lt,i);case"GeometryCollection":for(bt=0,Rt=o.geometries.length;bt<Rt;bt++){var te=xn({geometry:o.geometries[bt],type:"Feature",properties:t.properties},i);te&&d.push(te)}return new Ji(d);case"FeatureCollection":for(bt=0,Rt=o.features.length;bt<Rt;bt++){var pe=xn(o.features[bt],i);pe&&d.push(pe)}return new Ji(d);default:throw new Error("Invalid GeoJSON object.")}}function lr(t,i,o,l){return t?t(i,o):new ar(o,l&&l.markersInheritOptions&&l)}function $n(t){return new ue(t[1],t[0],t[2])}function ur(t,i,o){for(var l=[],d=0,w=t.length,F;d<w;d++)F=i?ur(t[d],i-1,o):(o||$n)(t[d]),l.push(F);return l}function Jn(t,i){return t=ge(t),t.alt!==void 0?[W(t.lng,i),W(t.lat,i),W(t.alt,i)]:[W(t.lng,i),W(t.lat,i)]}function Yn(t,i,o,l){for(var d=[],w=0,F=t.length;w<F;w++)d.push(i?Yn(t[w],Jt(t[w])?0:i-1,o,l):Jn(t[w],l));return!i&&o&&d.push(d[0].slice()),d}function T(t,i){return t.feature?V({},t.feature,{geometry:i}):U(i)}function U(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var nt={toGeoJSON:function(t){return T(this,{type:"Point",coordinates:Jn(this.getLatLng(),t)})}};ar.include(nt),ji.include(nt),zi.include(nt),xi.include({toGeoJSON:function(t){var i=!Jt(this._latlngs),o=Yn(this._latlngs,i?1:0,!1,t);return T(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),Xi.include({toGeoJSON:function(t){var i=!Jt(this._latlngs),o=i&&!Jt(this._latlngs[0]),l=Yn(this._latlngs,o?2:i?1:0,!0,t);return i||(l=[l]),T(this,{type:(o?"Multi":"")+"Polygon",coordinates:l})}}),hi.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(o){i.push(o.toGeoJSON(t).geometry.coordinates)}),T(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var o=i==="GeometryCollection",l=[];return this.eachLayer(function(d){if(d.toGeoJSON){var w=d.toGeoJSON(t);if(o)l.push(w.geometry);else{var F=U(w);F.type==="FeatureCollection"?l.push.apply(l,F.features):l.push(F)}}}),o?T(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function st(t,i){return new Qi(t,i)}var pt=st,Pt=Ze.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,o){this._url=t,this._bounds=$t(i),ot(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Te(this._image),this},bringToBack:function(){return this._map&&si(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=$t(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:he("img");if(ie(i,"leaflet-image-layer"),this._zoomAnimated&&ie(i,"leaflet-zoom-animated"),this.options.className&&ie(i,this.options.className),i.onselectstart=O,i.onmousemove=O,i.onload=b(this.fire,this,"load"),i.onerror=b(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ei(this._image,o,i)},_reset:function(){var t=this._image,i=new qt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();_e(t,i.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){$e(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Dt=function(t,i,o){return new Pt(t,i,o)},zt=Pt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:he("video");if(ie(i,"leaflet-image-layer"),this._zoomAnimated&&ie(i,"leaflet-zoom-animated"),this.options.className&&ie(i,this.options.className),i.onselectstart=O,i.onmousemove=O,i.onloadeddata=b(this.fire,this,"load"),t){for(var o=i.getElementsByTagName("source"),l=[],d=0;d<o.length;d++)l.push(o[d].src);this._url=o.length>0?l:[i.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var F=he("source");F.src=this._url[w],i.appendChild(F)}}});function Bt(t,i,o){return new zt(t,i,o)}var oe=Pt.extend({_initImage:function(){var t=this._image=this._url;ie(t,"leaflet-image-layer"),this._zoomAnimated&&ie(t,"leaflet-zoom-animated"),this.options.className&&ie(t,this.options.className),t.onselectstart=O,t.onmousemove=O}});function Wt(t,i,o){return new oe(t,i,o)}var Gt=Ze.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof ue||K(t))?(this._latlng=ge(t),ot(this,i)):(ot(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&$e(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&$e(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?($e(this._container,0),this._removeTimeout=setTimeout(b(xe,void 0,this._container),200)):xe(this._container),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ge(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Te(this._container),this},bringToBack:function(){return this._map&&si(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Ji){i=null;var o=this._source._layers;for(var l in o)if(o[l]._map){i=o[l];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=St(this.options.offset),o=this._getAnchor();this._zoomAnimated?_e(this._container,t.add(o)):i=i.add(t).add(o);var l=this._containerBottom=-i.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=l+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Ot.include({_initOverlay:function(t,i,o,l){var d=i;return d instanceof t||(d=new t(l).setContent(i)),o&&d.setLatLng(o),d}}),Ze.include({_initOverlay:function(t,i,o,l){var d=o;return d instanceof t?(ot(d,l),d._source=this):(d=i&&!l?i:new t(l,this),d.setContent(o)),d}});var re=Gt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Gt.prototype.openOn.call(this,t)},onAdd:function(t){Gt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yi||this._source.on("preclick",p))},onRemove:function(t){Gt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yi||this._source.off("preclick",p))},getEvents:function(){var t=Gt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=he("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=he("div",t+"-content-wrapper",i);if(this._contentNode=he("div",t+"-content",o),B(i),C(this._contentNode),Qt(i,"contextmenu",p),this._tipContainer=he("div",t+"-tip-container",i),this._tip=he("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=he("a",t+"-close-button",i);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(l,"click",function(d){I(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var l=t.offsetHeight,d=this.options.maxHeight,w="leaflet-popup-scrolled";d&&l>d?(i.height=d+"px",ie(t,w)):Se(t,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();_e(this._container,i.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(on(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+i,l=this._containerWidth,d=new Ct(this._containerLeft,-o-this._containerBottom);d._add(Oi(this._container));var w=t.layerPointToContainerPoint(d),F=St(this.options.autoPanPadding),it=St(this.options.autoPanPaddingTopLeft||F),lt=St(this.options.autoPanPaddingBottomRight||F),bt=t.getSize(),Rt=0,te=0;w.x+l+lt.x>bt.x&&(Rt=w.x+l-bt.x+lt.x),w.x-Rt-it.x<0&&(Rt=w.x-it.x),w.y+o+lt.y>bt.y&&(te=w.y+o-bt.y+lt.y),w.y-te-it.y<0&&(te=w.y-it.y),(Rt||te)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Rt,te]))}},_getAnchor:function(){return St(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ht=function(t,i){return new re(t,i)};Ot.mergeOptions({closePopupOnClick:!0}),Ot.include({openPopup:function(t,i,o){return this._initOverlay(re,t,i,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ze.include({bindPopup:function(t,i){return this._popup=this._initOverlay(re,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ji||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){N(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Yi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ke=Gt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Gt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Gt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Gt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+M(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,o,l=this._map,d=this._container,w=l.latLngToContainerPoint(l.getCenter()),F=l.layerPointToContainerPoint(t),it=this.options.direction,lt=d.offsetWidth,bt=d.offsetHeight,Rt=St(this.options.offset),te=this._getAnchor();it==="top"?(i=lt/2,o=bt):it==="bottom"?(i=lt/2,o=0):it==="center"?(i=lt/2,o=bt/2):it==="right"?(i=0,o=bt/2):it==="left"?(i=lt,o=bt/2):F.x<w.x?(it="right",i=0,o=bt/2):(it="left",i=lt+(Rt.x+te.x)*2,o=bt/2),t=t.subtract(St(i,o,!0)).add(Rt).add(te),Se(d,"leaflet-tooltip-right"),Se(d,"leaflet-tooltip-left"),Se(d,"leaflet-tooltip-top"),Se(d,"leaflet-tooltip-bottom"),ie(d,"leaflet-tooltip-"+it),_e(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&$e(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return St(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ci=function(t,i){return new ke(t,i)};Ot.include({openTooltip:function(t,i,o){return this._initOverlay(ke,t,i,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ze.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ke,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[i](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ji||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=t.getElement();i&&(Qt(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Qt(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var i=t.latlng,o,l;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(o),i=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(i)}});var Je=me.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Bi(i),i.appendChild(o.html)):i.innerHTML=o.html!==!1?o.html:"",o.bgPos){var l=St(o.bgPos);i.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function wi(t){return new Je(t)}me.Default=ii;var fi=Ze.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){ot(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),xe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Te(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=P(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Ct?t:new Ct(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,o=-t(-1/0,1/0),l=0,d=i.length,w;l<d;l++)w=i[l].style.zIndex,i[l]!==this._container&&w&&(o=t(o,+w));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Nt.ielt9){$e(this._container,this.options.opacity);var t=+new Date,i=!1,o=!1;for(var l in this._tiles){var d=this._tiles[l];if(!(!d.current||!d.loaded)){var w=Math.min(1,(t-d.loaded)/200);$e(d.el,w),w<1?i=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(Mt(this._fadeFrame),this._fadeFrame=wt(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=i-Math.abs(t-o),this._onUpdateLevel(o)):(xe(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var l=this._levels[t],d=this._map;return l||(l=this._levels[t]={},l.el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=i,l.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,d.getCenter(),d.getZoom()),O(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var t,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var l=i.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)xe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,o,l){var d=Math.floor(t/2),w=Math.floor(i/2),F=o-1,it=new Ct(+d,+w);it.z=+F;var lt=this._tileCoordsToKey(it),bt=this._tiles[lt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),F>l?this._retainParent(d,w,F,l):!1)},_retainChildren:function(t,i,o,l){for(var d=2*t;d<2*t+2;d++)for(var w=2*i;w<2*i+2;w++){var F=new Ct(d,w);F.z=o+1;var it=this._tileCoordsToKey(F),lt=this._tiles[it];if(lt&&lt.active){lt.retain=!0;continue}else lt&&lt.loaded&&(lt.retain=!0);o+1<l&&this._retainChildren(d,w,o+1,l)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,o,l){var d=Math.round(i);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var w=this.options.updateWhenZooming&&d!==this._tileZoom;(!l||w)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,i)},_setZoomTransform:function(t,i,o){var l=this._map.getZoomScale(o,t.zoom),d=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(i,o)).round();Nt.any3d?Ei(t.el,d,l):_e(t.el,d)},_resetGrid:function(){var t=this._map,i=t.options.crs,o=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],l).x/o.x),Math.ceil(t.project([0,i.wrapLng[1]],l).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],l).y/o.x),Math.ceil(t.project([i.wrapLat[1],0],l).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),l=i.getZoomScale(o,this._tileZoom),d=i.project(t,this._tileZoom).floor(),w=i.getSize().divideBy(l*2);return new qt(d.subtract(w),d.add(w))},_update:function(t){var i=this._map;if(i){var o=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(l),w=d.getCenter(),F=[],it=this.options.keepBuffer,lt=new qt(d.getBottomLeft().subtract([it,-it]),d.getTopRight().add([it,-it]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var Rt=this._tiles[bt].coords;(Rt.z!==this._tileZoom||!lt.contains(new Ct(Rt.x,Rt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var te=d.min.y;te<=d.max.y;te++)for(var pe=d.min.x;pe<=d.max.x;pe++){var Gi=new Ct(pe,te);if(Gi.z=this._tileZoom,!!this._isValidTile(Gi)){var Xn=this._tiles[this._tileCoordsToKey(Gi)];Xn?Xn.current=!0:F.push(Gi)}}if(F.sort(function(An,Dr){return An.distanceTo(w)-Dr.distanceTo(w)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Lr=document.createDocumentFragment();for(pe=0;pe<F.length;pe++)this._addTile(F[pe],Lr);this._level.el.appendChild(Lr)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!i.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return $t(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,o=this.getTileSize(),l=t.scaleBy(o),d=l.add(o),w=i.unproject(l,t.z),F=i.unproject(d,t.z);return[w,F]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),o=new Ft(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),o=new Ct(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(t){var i=this._tiles[t];i&&(xe(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ie(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=O,t.onmousemove=O,Nt.ielt9&&this.options.opacity<1&&$e(t,this.options.opacity)},_addTile:function(t,i){var o=this._getTilePos(t),l=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),b(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&wt(b(this._tileReady,this,t,null,d)),_e(d,o),this._tiles[l]={el:d,coords:t,current:!0},i.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:t});var l=this._tileCoordsToKey(t);o=this._tiles[l],o&&(o.loaded=+new Date,this._map._fadeAnimated?($e(o.el,0),Mt(this._fadeFrame),this._fadeFrame=wt(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(ie(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Nt.ielt9||!this._map._fadeAnimated?wt(this._pruneTiles,this):setTimeout(b(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new Ct(this._wrapX?Z(t.x,this._wrapX):t.x,this._wrapY?Z(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new qt(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function In(t){return new fi(t)}var ze=fi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=ot(this,i),i.detectRetina&&Nt.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var o=document.createElement("img");return Qt(o,"load",b(this._tileOnLoad,this,i,o)),Qt(o,"error",b(this._tileOnError,this,i,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var i={r:Nt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=o),i["-y"]=o}return Y(this._url,V(i,this.options))},_tileOnLoad:function(t,i){Nt.ielt9?setTimeout(b(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,o){var l=this.options.errorTileUrl;l&&i.getAttribute("src")!==l&&(i.src=l),t(o,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,l=this.options.zoomOffset;return o&&(t=i-t),t+l},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=O,i.onerror=O,!i.complete)){i.src=tt;var o=this._tiles[t].coords;xe(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:o})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",tt),fi.prototype._removeTile.call(this,t)},_tileReady:function(t,i,o){if(!(!this._map||o&&o.getAttribute("src")===tt))return fi.prototype._tileReady.call(this,t,i,o)}});function $r(t,i){return new ze(t,i)}var Jr=ze.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var o=V({},this.defaultWmsParams);for(var l in i)l in this.options||(o[l]=i[l]);i=ot(this,i);var d=i.detectRetina&&Nt.retina?2:1,w=this.getTileSize();o.width=w.x*d,o.height=w.y*d,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,ze.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),o=this._crs,l=ve(o.project(i[0]),o.project(i[1])),d=l.min,w=l.max,F=(this._wmsVersion>=1.3&&this._crs===_i?[d.y,d.x,w.y,w.x]:[d.x,d.y,w.x,w.y]).join(","),it=ze.prototype.getTileUrl.call(this,t);return it+J(this.wmsParams,it,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(t,i){return V(this.wmsParams,t),i||this.redraw(),this}});function Ao(t,i){return new Jr(t,i)}ze.WMS=Jr,$r.wms=Ao;var wn=Ze.extend({options:{padding:.1},initialize:function(t){ot(this,t),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var o=this._map.getZoomScale(i,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,i),w=l.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(t,i));Nt.any3d?Ei(this._container,w,o):_e(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new qt(o,o.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yr=wn.extend({options:{tolerance:0},getEvents:function(){var t=wn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Qt(t,"mousemove",this._onMouseMove,this),Qt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Mt(this._redrawRequest),delete this._ctx,xe(this._container),Me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wn.prototype._update.call(this);var t=this._bounds,i=this._container,o=t.getSize(),l=Nt.retina?2:1;_e(i,t.min),i.width=l*o.x,i.height=l*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",Nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[M(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,o=i.next,l=i.prev;o?o.prev=l:this._drawLast=l,l?l.next=o:this._drawFirst=o,delete t._order,delete this._layers[M(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),o=[],l,d;for(d=0;d<i.length;d++){if(l=Number(i[d]),isNaN(l))return;o.push(l)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||wt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new qt,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var o,l,d,w,F=t._parts,it=F.length,lt=this._ctx;if(it){for(lt.beginPath(),o=0;o<it;o++){for(l=0,d=F[o].length;l<d;l++)w=F[o][l],lt[l?"lineTo":"moveTo"](w.x,w.y);i&&lt.closePath()}this._fillStroke(lt,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,o=this._ctx,l=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||l)/l;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(i.x,i.y/d,l,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,i){var o=i.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),o,l,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(l=o);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(Se(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var o,l,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(i)&&(l=o);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(ie(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(b(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,o){this._map._fireDOMEvent(i,o||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var o=i.next,l=i.prev;if(o)o.prev=l;else return;l?l.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var o=i.next,l=i.prev;if(l)l.next=o;else return;o?o.prev=l:l&&(this._drawLast=l),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function Xr(t){return Nt.canvas?new Yr(t):null}var pr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),No={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=pr("shape");ie(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=pr("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[M(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;xe(i),t.removeInteractiveTarget(i),delete this._layers[M(t)]},_updateStyle:function(t){var i=t._stroke,o=t._fill,l=t.options,d=t._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(i||(i=t._stroke=pr("stroke")),d.appendChild(i),i.weight=l.weight+"px",i.color=l.color,i.opacity=l.opacity,l.dashArray?i.dashStyle=K(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=l.lineCap.replace("butt","flat"),i.joinstyle=l.lineJoin):i&&(d.removeChild(i),t._stroke=null),l.fill?(o||(o=t._fill=pr("fill")),d.appendChild(o),o.color=l.fillColor||l.color,o.opacity=l.fillOpacity):o&&(d.removeChild(o),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),o=Math.round(t._radius),l=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+l+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Te(t._container)},_bringToBack:function(t){si(t._container)}},br=Nt.vml?pr:tn,gr=wn.extend({_initContainer:function(){this._container=br("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=br("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xe(this._container),Me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),_e(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=br("path");t.options.className&&ie(i,t.options.className),t.options.interactive&&ie(i,"leaflet-interactive"),this._updateStyle(t),this._layers[M(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){xe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[M(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,o=t.options;i&&(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,We(t._parts,i))},_updateCircle:function(t){var i=t._point,o=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||o,d="a"+o+","+l+" 0 1,0 ",w=t._empty()?"M0 0":"M"+(i.x-o)+","+i.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(t,w)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Te(t._path)},_bringToBack:function(t){si(t._path)}});Nt.vml&&gr.include(No);function Qr(t){return Nt.svg||Nt.vml?new gr(t):null}Ot.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&Xr(t)||Qr(t)}});var to=Xi.extend({initialize:function(t,i){Xi.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=$t(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function zo(t,i){return new to(t,i)}gr.create=br,gr.pointsToPath=We,Qi.geometryToLayer=xn,Qi.coordsToLatLng=$n,Qi.coordsToLatLngs=ur,Qi.latLngToCoords=Jn,Qi.latLngsToCoords=Yn,Qi.getFeature=T,Qi.asFeature=U,Ot.mergeOptions({boxZoom:!0});var eo=g.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qe(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Qt(document,{contextmenu:N,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new qt(this._point,this._startPoint),o=i.getSize();_e(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(xe(this._box),Se(this._container,"leaflet-crosshair")),Ri(),Ii(),Me(document,{contextmenu:N,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(b(this._resetState,this),0);var i=new Ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ot.addInitHook("addHandler","boxZoom",eo),Ot.mergeOptions({doubleClickZoom:!0});var io=g.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,o=i.getZoom(),l=i.options.zoomDelta,d=t.originalEvent.shiftKey?o-l:o+l;i.options.doubleClickZoom==="center"?i.setZoom(d):i.setZoomAround(t.containerPoint,d)}});Ot.addInitHook("addHandler","doubleClickZoom",io),Ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var no=g.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new R(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Se(this._map._container,"leaflet-grab"),Se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=$t(this._map.options.maxBounds);this._offsetLimit=ve(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),o=this._initialWorldOffset,l=this._draggable._newPos.x,d=(l-i+o)%t+i-o,w=(l+i+o)%t-i-o,F=Math.abs(d+o)<Math.abs(w+o)?d:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(t){var i=this._map,o=i.options,l=!o.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),l)i.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,F=o.easeLinearity,it=d.multiplyBy(F/w),lt=it.distanceTo([0,0]),bt=Math.min(o.inertiaMaxSpeed,lt),Rt=it.multiplyBy(bt/lt),te=bt/(o.inertiaDeceleration*F),pe=Rt.multiplyBy(-te/2).round();!pe.x&&!pe.y?i.fire("moveend"):(pe=i._limitOffset(pe,i.options.maxBounds),wt(function(){i.panBy(pe,{duration:te,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Ot.addInitHook("addHandler","dragging",no),Ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ro=g.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Qt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,o=t.scrollTop||i.scrollTop,l=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(l,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},o=this.keyCodes,l,d;for(l=0,d=o.left.length;l<d;l++)i[o.left[l]]=[-1*t,0];for(l=0,d=o.right.length;l<d;l++)i[o.right[l]]=[t,0];for(l=0,d=o.down.length;l<d;l++)i[o.down[l]]=[0,t];for(l=0,d=o.up.length;l<d;l++)i[o.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},o=this.keyCodes,l,d;for(l=0,d=o.zoomIn.length;l<d;l++)i[o.zoomIn[l]]=t;for(l=0,d=o.zoomOut.length;l<d;l++)i[o.zoomOut[l]]=-t},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,o=this._map,l;if(i in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(l=this._panKeys[i],t.shiftKey&&(l=St(l).multiplyBy(3)),o.options.maxBounds&&(l=o._limitOffset(St(l),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(l)));o.panTo(d)}else o.panBy(l)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;N(t)}}});Ot.addInitHook("addHandler","keyboard",ro),Ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var oo=g.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=ct(t),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(b(this._performZoom,this),l),N(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,w=o?Math.ceil(d/o)*o:d,F=t._limitZoom(i+(this._delta>0?w:-w))-i;this._delta=0,this._startTime=null,F&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+F):t.setZoomAround(this._lastMousePos,i+F))}});Ot.addInitHook("addHandler","scrollWheelZoom",oo);var jo=600;Ot.mergeOptions({tapHold:Nt.touchNative&&Nt.safari&&Nt.mobile,tapTolerance:15});var ao=g.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new Ct(i.clientX,i.clientY),this._holdTimeout=setTimeout(b(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",I),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),jo),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Me(document,"touchend",I),Me(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new Ct(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});o._simulated=!0,i.target.dispatchEvent(o)}});Ot.addInitHook("addHandler","tapHold",ao),Ot.mergeOptions({touchZoom:Nt.touch,bounceAtZoomLimits:!0});var so=g.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var o=i.mouseEventToContainerPoint(t.touches[0]),l=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(l)._divideBy(2))),this._startDist=o.distanceTo(l),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),I(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,o=i.mouseEventToContainerPoint(t.touches[0]),l=i.mouseEventToContainerPoint(t.touches[1]),d=o.distanceTo(l)/this._startDist;if(this._zoom=i.getScaleZoom(d,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&d<1||this._zoom>i.getMaxZoom()&&d>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var w=o._add(l)._divideBy(2)._subtract(this._centerPoint);if(d===1&&w.x===0&&w.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Mt(this._animRequest);var F=b(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=wt(F,this,!0),I(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Mt(this._animRequest),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ot.addInitHook("addHandler","touchZoom",so),Ot.BoxZoom=eo,Ot.DoubleClickZoom=io,Ot.Drag=no,Ot.Keyboard=ro,Ot.ScrollWheelZoom=oo,Ot.TapHold=ao,Ot.TouchZoom=so,E.Bounds=qt,E.Browser=Nt,E.CRS=ti,E.Canvas=Yr,E.Circle=ji,E.CircleMarker=zi,E.Class=Lt,E.Control=le,E.DivIcon=Je,E.DivOverlay=Gt,E.DomEvent=Et,E.DomUtil=Kn,E.Draggable=R,E.Evented=At,E.FeatureGroup=Ji,E.GeoJSON=Qi,E.GridLayer=fi,E.Handler=g,E.Icon=me,E.ImageOverlay=Pt,E.LatLng=ue,E.LatLngBounds=Ft,E.Layer=Ze,E.LayerGroup=hi,E.LineUtil=Re,E.Map=Ot,E.Marker=ar,E.Mixin=k,E.Path=Yi,E.Point=Ct,E.PolyUtil=Ni,E.Polygon=Xi,E.Polyline=xi,E.Popup=re,E.PosAnimation=Ut,E.Projection=un,E.Rectangle=to,E.Renderer=wn,E.SVG=gr,E.SVGOverlay=oe,E.TileLayer=ze,E.Tooltip=ke,E.Transformation=He,E.Util=jt,E.VideoOverlay=zt,E.bind=b,E.bounds=ve,E.canvas=Xr,E.circle=vr,E.circleMarker=fr,E.control=ce,E.divIcon=wi,E.extend=V,E.featureGroup=Er,E.geoJSON=st,E.geoJson=pt,E.gridLayer=In,E.icon=or,E.imageOverlay=Dt,E.latLng=ge,E.latLngBounds=$t,E.layerGroup=Sr,E.map=Le,E.marker=Or,E.point=St,E.polygon=dr,E.polyline=sr,E.popup=Ht,E.rectangle=zo,E.setOptions=ot,E.stamp=M,E.svg=Qr,E.svgOverlay=Wt,E.tileLayer=$r,E.tooltip=ci,E.transformation=ri,E.version=rt,E.videoOverlay=Bt;var Go=window.L;E.noConflict=function(){return window.L=Go,this},window.L=E})});var Bo=mr((Qa,ha)=>{ha.exports="https://mrt-map.github.io/map/marker-icon-2x-SP63CLEO.png"});var Ro=mr((ts,ca)=>{ca.exports="https://mrt-map.github.io/map/marker-icon-2V3QKKVC.png"});var Io=mr((es,fa)=>{fa.exports="https://mrt-map.github.io/map/marker-shadow-MEXDWUU7.png"});var po=cn(wr(),1),di=(0,po.default)(".results__container"),Ir,Mi=0,fo=0;di.on("touchstart",E=>{Ir=E.touches[0].clientY});di.on("touchmove",E=>{if(window.innerWidth>1e3){di.css("transform","none");return}let rt=E.touches[0].clientY,V=Ir-rt;Ir=rt;let v=di.height()*2*.3;di.scrollTop()==0&&(Mi+=V,E.preventDefault()),Mi>v&&(di.scrollTop(di.scrollTop()+V),Mi=v),Mi<0&&(Mi=0)});di.on("wheel",()=>{if(window.innerWidth>1e3){di.css("transform","none");return}let E=di.scrollTop()-fo;fo=di.scrollTop();let rt=di.height()*2*.3;Mi<rt&&E>0&&(Mi+=E),Mi>0&&E<0&&di.scrollTop()<500&&(Mi+=E),Mi>rt&&(di.scrollTop(di.scrollTop()+E),Mi=rt),Mi<0&&(Mi=0)});function go(){if(window.innerWidth>1e3){di.css("transform","none");return}Mi=0}var yr=cn(Nn(),1);(function(){L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(V,v){v&&L.Util.setOptions(this,v),this._buildContainer(),this._buttons=[];for(var b=0;b<V.length;b++)V[b]._bar=this,V[b]._container=V[b].button,this._buttons.push(V[b]),this.container.appendChild(V[b].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(V){this._map=V;for(var v=0;v<this._buttons.length;v++)this._buttons[v]._map=V;var b=this._container=this.onAdd(V),y=this.getPosition(),M=V._controlCorners[y];return L.DomUtil.addClass(b,"leaflet-control"),y.indexOf("bottom")!==-1?M.insertBefore(b,M.firstChild):M.appendChild(b),this}}),L.easyBar=function(){for(var V=[L.Control.EasyBar],v=0;v<arguments.length;v++)V.push(arguments[v]);return new(Function.prototype.bind.apply(L.Control.EasyBar,V))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(V,v,b,y){this.options.states=[],y!=null&&(this.options.id=y),this.storage={},typeof arguments[arguments.length-1]=="object"&&L.Util.setOptions(this,arguments[arguments.length-1]),this.options.states.length===0&&typeof V=="string"&&typeof v=="function"&&this.options.states.push({icon:V,onClick:v,title:typeof b=="string"?b:""}),this._states=[];for(var M=0;M<this.options.states.length;M++)this._states.push(new E(this.options.states[M],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),this.options.tagName==="button"&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(v){L.DomEvent.stop(v),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),this.options.type=="replace")this.button.appendChild(this._currentState.icon);else for(var V=0;V<this._states.length;V++)this.button.appendChild(this._states[V].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(V){return arguments.length===0?this._currentState.stateName:(typeof V=="string"?this._activateStateNamed(V):typeof V=="number"&&this._activateState(this._states[V]),this)},_activateStateNamed:function(V){for(var v=0;v<this._states.length;v++)this._states[v].stateName==V&&this._activateState(this._states[v])},_activateState:function(V){if(V!==this._currentState){this.options.type=="replace"&&(this.button.appendChild(V.icon),this.button.removeChild(this._currentState.icon)),V.title?this.button.title=V.title:this.button.removeAttribute("title");for(var v=0;v<this._states.length;v++)L.DomUtil.removeClass(this._states[v].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[v].icon,V.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,V.stateName+"-active"),this._currentState=V}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(V){var v=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=v,this._container=v.container,this._anonymousBar.container},removeFrom:function(V){return this._map===V&&this.remove(),this}}),L.easyButton=function(){var V=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,V))};function E(V,v){this.title=V.title,this.stateName=V.stateName?V.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=rt(V.icon),this.onClick=L.Util.bind(V.onClick?V.onClick:function(){},v)}function rt(V){var v;return V.match(/[&;=<>"']/)?v=V:(V=V.replace(/(^\s*|\s*$)/g,""),v=L.DomUtil.create("span",""),V.indexOf("fa-")===0?L.DomUtil.addClass(v,"fa "+V):V.indexOf("glyphicon-")===0?L.DomUtil.addClass(v,"glyphicon "+V):L.DomUtil.addClass(v,V),v=v.outerHTML),v}})();(()=>{var E={9705:(v,b,y)=>{"use strict";var M=y(1540);function P(Z){var O=[1/0,1/0,-1/0,-1/0];return M.coordEach(Z,function(W){O[0]>W[0]&&(O[0]=W[0]),O[1]>W[1]&&(O[1]=W[1]),O[2]<W[0]&&(O[2]=W[0]),O[3]<W[1]&&(O[3]=W[1])}),O}P.default=P,b.Z=P},4102:(v,b)=>{"use strict";function y(K,Q,tt){tt===void 0&&(tt={});var A={type:"Feature"};return(tt.id===0||tt.id)&&(A.id=tt.id),tt.bbox&&(A.bbox=tt.bbox),A.properties=Q||{},A.geometry=K,A}function M(K,Q,tt){if(tt===void 0&&(tt={}),!K)throw new Error("coordinates is required");if(!Array.isArray(K))throw new Error("coordinates must be an Array");if(K.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Y(K[0])||!Y(K[1]))throw new Error("coordinates must contain numbers");return y({type:"Point",coordinates:K},Q,tt)}function P(K,Q,tt){tt===void 0&&(tt={});for(var A=0,q=K;A<q.length;A++){var u=q[A];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var yt=0;yt<u[u.length-1].length;yt++)if(u[u.length-1][yt]!==u[0][yt])throw new Error("First and last Position are not equivalent.")}return y({type:"Polygon",coordinates:K},Q,tt)}function Z(K,Q,tt){if(tt===void 0&&(tt={}),K.length<2)throw new Error("coordinates must be an array of two or more positions");return y({type:"LineString",coordinates:K},Q,tt)}function O(K,Q){Q===void 0&&(Q={});var tt={type:"FeatureCollection"};return Q.id&&(tt.id=Q.id),Q.bbox&&(tt.bbox=Q.bbox),tt.features=K,tt}function W(K,Q,tt){return tt===void 0&&(tt={}),y({type:"MultiLineString",coordinates:K},Q,tt)}function ut(K,Q,tt){return tt===void 0&&(tt={}),y({type:"MultiPoint",coordinates:K},Q,tt)}function mt(K,Q,tt){return tt===void 0&&(tt={}),y({type:"MultiPolygon",coordinates:K},Q,tt)}function ot(K,Q){Q===void 0&&(Q="kilometers");var tt=b.factors[Q];if(!tt)throw new Error(Q+" units is invalid");return K*tt}function J(K,Q){Q===void 0&&(Q="kilometers");var tt=b.factors[Q];if(!tt)throw new Error(Q+" units is invalid");return K/tt}function X(K){return 180*(K%(2*Math.PI))/Math.PI}function Y(K){return!isNaN(K)&&K!==null&&!Array.isArray(K)}Object.defineProperty(b,"__esModule",{value:!0}),b.earthRadius=63710088e-1,b.factors={centimeters:100*b.earthRadius,centimetres:100*b.earthRadius,degrees:b.earthRadius/111325,feet:3.28084*b.earthRadius,inches:39.37*b.earthRadius,kilometers:b.earthRadius/1e3,kilometres:b.earthRadius/1e3,meters:b.earthRadius,metres:b.earthRadius,miles:b.earthRadius/1609.344,millimeters:1e3*b.earthRadius,millimetres:1e3*b.earthRadius,nauticalmiles:b.earthRadius/1852,radians:1,yards:1.0936*b.earthRadius},b.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/b.earthRadius,yards:1.0936133},b.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},b.feature=y,b.geometry=function(K,Q,tt){switch(tt===void 0&&(tt={}),K){case"Point":return M(Q).geometry;case"LineString":return Z(Q).geometry;case"Polygon":return P(Q).geometry;case"MultiPoint":return ut(Q).geometry;case"MultiLineString":return W(Q).geometry;case"MultiPolygon":return mt(Q).geometry;default:throw new Error(K+" is invalid")}},b.point=M,b.points=function(K,Q,tt){return tt===void 0&&(tt={}),O(K.map(function(A){return M(A,Q)}),tt)},b.polygon=P,b.polygons=function(K,Q,tt){return tt===void 0&&(tt={}),O(K.map(function(A){return P(A,Q)}),tt)},b.lineString=Z,b.lineStrings=function(K,Q,tt){return tt===void 0&&(tt={}),O(K.map(function(A){return Z(A,Q)}),tt)},b.featureCollection=O,b.multiLineString=W,b.multiPoint=ut,b.multiPolygon=mt,b.geometryCollection=function(K,Q,tt){return tt===void 0&&(tt={}),y({type:"GeometryCollection",geometries:K},Q,tt)},b.round=function(K,Q){if(Q===void 0&&(Q=0),Q&&!(Q>=0))throw new Error("precision must be a positive number");var tt=Math.pow(10,Q||0);return Math.round(K*tt)/tt},b.radiansToLength=ot,b.lengthToRadians=J,b.lengthToDegrees=function(K,Q){return X(J(K,Q))},b.bearingToAzimuth=function(K){var Q=K%360;return Q<0&&(Q+=360),Q},b.radiansToDegrees=X,b.degreesToRadians=function(K){return K%360*Math.PI/180},b.convertLength=function(K,Q,tt){if(Q===void 0&&(Q="kilometers"),tt===void 0&&(tt="kilometers"),!(K>=0))throw new Error("length must be a positive number");return ot(J(K,Q),tt)},b.convertArea=function(K,Q,tt){if(Q===void 0&&(Q="meters"),tt===void 0&&(tt="kilometers"),!(K>=0))throw new Error("area must be a positive number");var A=b.areaFactors[Q];if(!A)throw new Error("invalid original units");var q=b.areaFactors[tt];if(!q)throw new Error("invalid final units");return K/A*q},b.isNumber=Y,b.isObject=function(K){return!!K&&K.constructor===Object},b.validateBBox=function(K){if(!K)throw new Error("bbox is required");if(!Array.isArray(K))throw new Error("bbox must be an Array");if(K.length!==4&&K.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");K.forEach(function(Q){if(!Y(Q))throw new Error("bbox must only contain numbers")})},b.validateId=function(K){if(!K)throw new Error("id is required");if(["string","number"].indexOf(typeof K)===-1)throw new Error("id must be a number or a string")}},1540:(v,b,y)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var M=y(4102);function P(J,X,Y){if(J!==null)for(var K,Q,tt,A,q,u,yt,vt,wt=0,Mt=0,jt=J.type,Lt=jt==="FeatureCollection",It=jt==="Feature",Kt=Lt?J.features.length:1,At=0;At<Kt;At++){q=(vt=!!(yt=Lt?J.features[At].geometry:It?J.geometry:J)&&yt.type==="GeometryCollection")?yt.geometries.length:1;for(var Ct=0;Ct<q;Ct++){var be=0,St=0;if((A=vt?yt.geometries[Ct]:yt)!==null){u=A.coordinates;var qt=A.type;switch(wt=!Y||qt!=="Polygon"&&qt!=="MultiPolygon"?0:1,qt){case null:break;case"Point":if(X(u,Mt,At,be,St)===!1)return!1;Mt++,be++;break;case"LineString":case"MultiPoint":for(K=0;K<u.length;K++){if(X(u[K],Mt,At,be,St)===!1)return!1;Mt++,qt==="MultiPoint"&&be++}qt==="LineString"&&be++;break;case"Polygon":case"MultiLineString":for(K=0;K<u.length;K++){for(Q=0;Q<u[K].length-wt;Q++){if(X(u[K][Q],Mt,At,be,St)===!1)return!1;Mt++}qt==="MultiLineString"&&be++,qt==="Polygon"&&St++}qt==="Polygon"&&be++;break;case"MultiPolygon":for(K=0;K<u.length;K++){for(St=0,Q=0;Q<u[K].length;Q++){for(tt=0;tt<u[K][Q].length-wt;tt++){if(X(u[K][Q][tt],Mt,At,be,St)===!1)return!1;Mt++}St++}be++}break;case"GeometryCollection":for(K=0;K<A.geometries.length;K++)if(P(A.geometries[K],X,Y)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Z(J,X){var Y;switch(J.type){case"FeatureCollection":for(Y=0;Y<J.features.length&&X(J.features[Y].properties,Y)!==!1;Y++);break;case"Feature":X(J.properties,0)}}function O(J,X){if(J.type==="Feature")X(J,0);else if(J.type==="FeatureCollection")for(var Y=0;Y<J.features.length&&X(J.features[Y],Y)!==!1;Y++);}function W(J,X){var Y,K,Q,tt,A,q,u,yt,vt,wt,Mt=0,jt=J.type==="FeatureCollection",Lt=J.type==="Feature",It=jt?J.features.length:1;for(Y=0;Y<It;Y++){for(q=jt?J.features[Y].geometry:Lt?J.geometry:J,yt=jt?J.features[Y].properties:Lt?J.properties:{},vt=jt?J.features[Y].bbox:Lt?J.bbox:void 0,wt=jt?J.features[Y].id:Lt?J.id:void 0,A=(u=!!q&&q.type==="GeometryCollection")?q.geometries.length:1,Q=0;Q<A;Q++)if((tt=u?q.geometries[Q]:q)!==null)switch(tt.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(X(tt,Mt,yt,vt,wt)===!1)return!1;break;case"GeometryCollection":for(K=0;K<tt.geometries.length;K++)if(X(tt.geometries[K],Mt,yt,vt,wt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(X(null,Mt,yt,vt,wt)===!1)return!1;Mt++}}function ut(J,X){W(J,function(Y,K,Q,tt,A){var q,u=Y===null?null:Y.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return X(M.feature(Y,Q,{bbox:tt,id:A}),K,0)!==!1&&void 0}switch(u){case"MultiPoint":q="Point";break;case"MultiLineString":q="LineString";break;case"MultiPolygon":q="Polygon"}for(var yt=0;yt<Y.coordinates.length;yt++){var vt={type:q,coordinates:Y.coordinates[yt]};if(X(M.feature(vt,Q),K,yt)===!1)return!1}})}function mt(J,X){ut(J,function(Y,K,Q){var tt=0;if(Y.geometry){var A=Y.geometry.type;if(A!=="Point"&&A!=="MultiPoint"){var q,u=0,yt=0,vt=0;return P(Y,function(wt,Mt,jt,Lt,It){if(q===void 0||K>u||Lt>yt||It>vt)return q=wt,u=K,yt=Lt,vt=It,void(tt=0);var Kt=M.lineString([q,wt],Y.properties);if(X(Kt,K,Q,It,tt)===!1)return!1;tt++,q=wt})!==!1&&void 0}}})}function ot(J,X){if(!J)throw new Error("geojson is required");ut(J,function(Y,K,Q){if(Y.geometry!==null){var tt=Y.geometry.type,A=Y.geometry.coordinates;switch(tt){case"LineString":if(X(Y,K,Q,0,0)===!1)return!1;break;case"Polygon":for(var q=0;q<A.length;q++)if(X(M.lineString(A[q],Y.properties),K,Q,q)===!1)return!1}}})}b.coordAll=function(J){var X=[];return P(J,function(Y){X.push(Y)}),X},b.coordEach=P,b.coordReduce=function(J,X,Y,K){var Q=Y;return P(J,function(tt,A,q,u,yt){Q=A===0&&Y===void 0?tt:X(Q,tt,A,q,u,yt)},K),Q},b.featureEach=O,b.featureReduce=function(J,X,Y){var K=Y;return O(J,function(Q,tt){K=tt===0&&Y===void 0?Q:X(K,Q,tt)}),K},b.findPoint=function(J,X){if(X=X||{},!M.isObject(X))throw new Error("options is invalid");var Y,K=X.featureIndex||0,Q=X.multiFeatureIndex||0,tt=X.geometryIndex||0,A=X.coordIndex||0,q=X.properties;switch(J.type){case"FeatureCollection":K<0&&(K=J.features.length+K),q=q||J.features[K].properties,Y=J.features[K].geometry;break;case"Feature":q=q||J.properties,Y=J.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Y=J;break;default:throw new Error("geojson is invalid")}if(Y===null)return null;var u=Y.coordinates;switch(Y.type){case"Point":return M.point(u,q,X);case"MultiPoint":return Q<0&&(Q=u.length+Q),M.point(u[Q],q,X);case"LineString":return A<0&&(A=u.length+A),M.point(u[A],q,X);case"Polygon":return tt<0&&(tt=u.length+tt),A<0&&(A=u[tt].length+A),M.point(u[tt][A],q,X);case"MultiLineString":return Q<0&&(Q=u.length+Q),A<0&&(A=u[Q].length+A),M.point(u[Q][A],q,X);case"MultiPolygon":return Q<0&&(Q=u.length+Q),tt<0&&(tt=u[Q].length+tt),A<0&&(A=u[Q][tt].length-A),M.point(u[Q][tt][A],q,X)}throw new Error("geojson is invalid")},b.findSegment=function(J,X){if(X=X||{},!M.isObject(X))throw new Error("options is invalid");var Y,K=X.featureIndex||0,Q=X.multiFeatureIndex||0,tt=X.geometryIndex||0,A=X.segmentIndex||0,q=X.properties;switch(J.type){case"FeatureCollection":K<0&&(K=J.features.length+K),q=q||J.features[K].properties,Y=J.features[K].geometry;break;case"Feature":q=q||J.properties,Y=J.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Y=J;break;default:throw new Error("geojson is invalid")}if(Y===null)return null;var u=Y.coordinates;switch(Y.type){case"Point":case"MultiPoint":return null;case"LineString":return A<0&&(A=u.length+A-1),M.lineString([u[A],u[A+1]],q,X);case"Polygon":return tt<0&&(tt=u.length+tt),A<0&&(A=u[tt].length+A-1),M.lineString([u[tt][A],u[tt][A+1]],q,X);case"MultiLineString":return Q<0&&(Q=u.length+Q),A<0&&(A=u[Q].length+A-1),M.lineString([u[Q][A],u[Q][A+1]],q,X);case"MultiPolygon":return Q<0&&(Q=u.length+Q),tt<0&&(tt=u[Q].length+tt),A<0&&(A=u[Q][tt].length-A-1),M.lineString([u[Q][tt][A],u[Q][tt][A+1]],q,X)}throw new Error("geojson is invalid")},b.flattenEach=ut,b.flattenReduce=function(J,X,Y){var K=Y;return ut(J,function(Q,tt,A){K=tt===0&&A===0&&Y===void 0?Q:X(K,Q,tt,A)}),K},b.geomEach=W,b.geomReduce=function(J,X,Y){var K=Y;return W(J,function(Q,tt,A,q,u){K=tt===0&&Y===void 0?Q:X(K,Q,tt,A,q,u)}),K},b.lineEach=ot,b.lineReduce=function(J,X,Y){var K=Y;return ot(J,function(Q,tt,A,q){K=tt===0&&Y===void 0?Q:X(K,Q,tt,A,q)}),K},b.propEach=Z,b.propReduce=function(J,X,Y){var K=Y;return Z(J,function(Q,tt){K=tt===0&&Y===void 0?Q:X(K,Q,tt)}),K},b.segmentEach=mt,b.segmentReduce=function(J,X,Y){var K=Y,Q=!1;return mt(J,function(tt,A,q,u,yt){K=Q===!1&&Y===void 0?tt:X(K,tt,A,q,u,yt),Q=!0}),K}},5975:(v,b,y)=>{"use strict";y(7107);var M=y(2492),P=y.n(M);let Z=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),O=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xF6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xF6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xFCpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"L\xE4nge","segmentLength":"Segment L\xE4nge","area":"Fl\xE4che","radius":"Radius","perimeter":"Umfang","height":"H\xF6he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),W=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),ut=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),mt=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri","pinningButton":"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103"}}'),ot=JSON.parse('{"tooltips":{"placeMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442","continueLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435","finishLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F","finishPoly":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","finishRect":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","startCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C","cancel":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","removeLastVertex":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D","drawLineButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E","drawCircleButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439","cutButton":"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439","deleteButton":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439","drawCircleMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C","pinningButton":"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435"}}'),J=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xE9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del c\xEDrculo","finishCircle":"Presiona para finalizar el c\xEDrculo","placeCircleMarker":"Presiona para colocar un marcador de c\xEDrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xEDgono","drawLineButton":"Dibujar L\xEDnea","drawCircleButton":"Dibujar C\xEDrculo","drawRectButton":"Dibujar Rect\xE1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de C\xEDrculo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xE9rtices","pinningButton":"Fijar juntos los v\xE9rtices compartidos"}}'),X=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xEBindigen","finishPoly":"Klik op het eerst punt om te be\xEBindigen","finishRect":"Klik om te be\xEBindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xEBindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),Y=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xE0 dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xC9diter des calques","dragButton":"D\xE9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"\xC9pingler ensemble les sommets partag\xE9s","rotateButton":"Tourner des calques"}}`),K=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0","firstVertex":"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9","continueLine":"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236","finishLine":"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210","finishPoly":"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210","finishRect":"\u5355\u51FB\u5B8C\u6210","startCircle":"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3","finishCircle":"\u5355\u51FB\u5B8C\u6210\u5706\u5F62","placeCircleMarker":"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},"buttonTitles":{"drawMarkerButton":"\u7ED8\u5236\u6807\u8BB0","drawPolyButton":"\u7ED8\u5236\u591A\u8FB9\u5F62","drawLineButton":"\u7ED8\u5236\u7EBF\u6BB5","drawCircleButton":"\u7ED8\u5236\u5706\u5F62","drawRectButton":"\u7ED8\u5236\u957F\u65B9\u5F62","editButton":"\u7F16\u8F91\u56FE\u5C42","dragButton":"\u62D6\u62FD\u56FE\u5C42","cutButton":"\u526A\u5207\u56FE\u5C42","deleteButton":"\u5220\u9664\u56FE\u5C42","drawCircleMarkerButton":"\u753B\u5706\u5708\u6807\u8BB0","snappingButton":"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9","pinningButton":"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77"}}'),Q=JSON.parse('{"tooltips":{"placeMarker":"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18","firstVertex":"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE","continueLine":"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD","finishLine":"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210","finishPoly":"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210","finishRect":"\u55AE\u64CA\u5B8C\u6210","startCircle":"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3","finishCircle":"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62","placeCircleMarker":"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},"buttonTitles":{"drawMarkerButton":"\u653E\u7F6E\u6A19\u8A18","drawPolyButton":"\u7E6A\u88FD\u591A\u908A\u5F62","drawLineButton":"\u7E6A\u88FD\u7DDA\u6BB5","drawCircleButton":"\u7E6A\u88FD\u5713\u5F62","drawRectButton":"\u7E6A\u88FD\u65B9\u5F62","editButton":"\u7DE8\u8F2F\u5716\u5F62","dragButton":"\u79FB\u52D5\u5716\u5F62","cutButton":"\u88C1\u5207\u5716\u5F62","deleteButton":"\u522A\u9664\u5716\u5F62","drawCircleMarkerButton":"\u756B\u5713\u5708\u6A19\u8A18","snappingButton":"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE","pinningButton":"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77"}}'),tt={en:Z,de:O,it:W,id:ut,ro:mt,ru:ot,es:J,nl:X,fr:Y,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xE9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xEDgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xEDrculo","finishCircle":"Clique para fechar o c\xEDrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xEDgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xEDrculo","drawRectButton":"Desenhar um ret\xE2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xEDrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xE9rtices","pinningButton":"V\xE9rtices compartilhados de pinos juntos"}}'),zh:K,zh_tw:Q,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015Brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015Bcie\u017Ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xF3lne wierzcho\u0142ki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xF6r att placera mark\xF6r","firstVertex":"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet","continueLine":"Klicka f\xF6r att forts\xE4tta rita","finishLine":"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra","finishPoly":"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra","finishRect":"Klicka f\xF6r att slutf\xF6ra","startCircle":"Klicka f\xF6r att placera cirkelns centrum","finishCircle":"Klicka f\xF6r att slutf\xF6ra cirkeln","placeCircleMarker":"Klicka f\xF6r att placera cirkelmark\xF6r"},"actions":{"finish":"Slutf\xF6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xF6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xF6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xF6r","snappingButton":"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn","pinningButton":"F\xE4st delade h\xF6rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","firstVertex":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF","continueLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5","finishLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF","finishPoly":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","finishRect":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","startCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","finishCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF","placeCircleMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},"actions":{"finish":"\u03A4\u03AD\u03BB\u03BF\u03C2","cancel":"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7","removeLastVertex":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},"buttonTitles":{"drawMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","drawPolyButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5","drawLineButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2","drawCircleButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","drawRectButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5","editButton":"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","dragButton":"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","cutButton":"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","deleteButton":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","drawCircleMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","snappingButton":"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2","pinningButton":"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez","continueLine":"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez","finishLine":"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra","finishPoly":"A befejez\xE9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xE9shez","startCircle":"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez","finishCircle":"Kattintson a k\xF6r befejez\xE9s\xE9hez","placeCircleMarker":"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},"actions":{"finish":"Befejez\xE9s","cancel":"M\xE9gse","removeLastVertex":"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xF6l\u0151 rajzol\xE1sa","drawPolyButton":"Poligon rajzol\xE1sa","drawLineButton":"Vonal rajzol\xE1sa","drawCircleButton":"K\xF6r rajzol\xE1sa","drawRectButton":"N\xE9gyzet rajzol\xE1sa","editButton":"Elemek szerkeszt\xE9se","dragButton":"Elemek mozgat\xE1sa","cutButton":"Elemek v\xE1g\xE1sa","deleteButton":"Elemek t\xF6rl\xE9se","drawCircleMarkerButton":"K\xF6r jel\xF6l\u0151 rajzol\xE1sa","snappingButton":"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz","pinningButton":"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xF8r","firstVertex":"Tryk for at placere det f\xF8rste punkt","continueLine":"Tryk for at forts\xE6tte linjen","finishLine":"Tryk p\xE5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xE5 det f\xF8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xF8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xF8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xE6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xF8r","snappingButton":"Fastg\xF8r trukket mark\xF8r til andre elementer","pinningButton":"Sammenl\xE6g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xE5 plassere punkt","firstVertex":"Klikk for \xE5 plassere f\xF8rste punkt","continueLine":"Klikk for \xE5 tegne videre","finishLine":"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re","finishPoly":"Klikk f\xF8rste punkt for \xE5 fullf\xF8re","finishRect":"Klikk for \xE5 fullf\xF8re","startCircle":"Klikk for \xE5 sette sirkel midtpunkt","finishCircle":"Klikk for \xE5 fullf\xF8re sirkel","placeCircleMarker":"Klikk for \xE5 plassere sirkel"},"actions":{"finish":"Fullf\xF8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646","firstVertex":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633","continueLine":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishPoly":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishRect":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","startCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647","finishCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","placeCircleMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","placeText":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646"},"actions":{"finish":"\u067E\u0627\u06CC\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062F\u0631\u062C \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC","drawLineButton":"\u0631\u0633\u0645 \u062E\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC","editButton":"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","dragButton":"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","deleteButton":"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F","rotateButton":"\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647","drawTextButton":"\u0631\u0633\u0645 \u0645\u062A\u0646"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443","continueLine":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438","finishLine":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F","finishPoly":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","finishRect":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","startCircle":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430","finishCircle":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E","placeCircleMarker":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","cancel":"\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438","removeLastVertex":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443"},"buttonTitles":{"drawMarkerButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D","drawLineButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443","drawCircleButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E","drawRectButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438","cutButton":"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","deleteButton":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438","drawCircleMarkerButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D","pinningButton":"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","firstVertex":"\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","continueLine":"\xC7izime devam etmek i\xE7in t\u0131klay\u0131n","finishLine":"Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n","finishPoly":"Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n","finishRect":"Bitirmek i\xE7in t\u0131klay\u0131n","startCircle":"Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","finishCircle":"Daireyi bitirmek i\xE7in t\u0131klay\u0131n","placeCircleMarker":"Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n"},"actions":{"finish":"Bitir","cancel":"\u0130ptal","removeLastVertex":"Son k\xF6\u015Feyi kald\u0131r"},"buttonTitles":{"drawMarkerButton":"\xC7izim \u0130\u015Faret\xE7isi","drawPolyButton":"\xC7okgenler \xE7iz","drawLineButton":"\xC7oklu \xE7izgi \xE7iz","drawCircleButton":"\xC7ember \xE7iz","drawRectButton":"Dikd\xF6rtgen \xE7iz","editButton":"Katmanlar\u0131 d\xFCzenle","dragButton":"Katmanlar\u0131 s\xFCr\xFCkle","cutButton":"Katmanlar\u0131 kes","deleteButton":"Katmanlar\u0131 kald\u0131r","drawCircleMarkerButton":"Daire i\u015Faret\xE7isi \xE7iz","snappingButton":"S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r","pinningButton":"Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku","firstVertex":"Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt","continueLine":"Kliknut\xEDm pokra\u010Dujte v kreslen\xED","finishLine":"Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED","finishPoly":"Vyberte prvn\xED bod pro dokon\u010Den\xED","finishRect":"Klikn\u011Bte pro dokon\u010Den\xED","startCircle":"Kliknut\xEDm p\u0159idejte st\u0159ed kruhu","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"Kliknut\xEDm nastavte polom\u011Br"},"actions":{"finish":"Dokon\u010Dit","cancel":"Zru\u0161it","removeLastVertex":"Zru\u0161it posledn\xED akci"},"buttonTitles":{"drawMarkerButton":"P\u0159idat zna\u010Dku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit k\u0159ivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obd\xE9ln\xEDk","editButton":"Upravit vrstvu","dragButton":"P\u0159eneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"P\u0159idat kruhovou zna\u010Dku","snappingButton":"Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm","pinningButton":"Spojit spole\u010Dn\xE9 body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E","firstVertex":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E","continueLine":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B","finishLine":"\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","finishPoly":"\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","finishRect":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","startCircle":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E","finishCircle":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86","placeCircleMarker":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E","placeText":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E"},"actions":{"finish":"\u7D42\u4E86","cancel":"\u30AD\u30E3\u30F3\u30BB\u30EB","removeLastVertex":"\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664"},"buttonTitles":{"drawMarkerButton":"\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B","drawPolyButton":"\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B","drawLineButton":"\u6298\u308C\u7DDA\u3092\u63CF\u753B","drawCircleButton":"\u5186\u3092\u63CF\u753B","drawRectButton":"\u77E9\u5F62\u3092\u63CF\u753B","editButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6","dragButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0","cutButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A","deleteButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664","drawCircleMarkerButton":"\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B","snappingButton":"\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B","pinningButton":"\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059","rotateButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2","drawTextButton":"\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimm\xE4isen osuuden","continueLine":"Klikkaa jatkaaksesi piirt\xE4mist\xE4","finishLine":"Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi","finishPoly":"Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyr\xE4n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyr\xE4n","placeCircleMarker":"Klikkaa asettaaksesi ympyr\xE4merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr\xE4 merkkej\xE4","drawPolyButton":"Piirr\xE4 monikulmioita","drawLineButton":"Piirr\xE4 viivoja","drawCircleButton":"Piirr\xE4 ympyr\xE4","drawRectButton":"Piirr\xE4 neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr\xE4","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr\xE4 ympyr\xE4merkki","snappingButton":"Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin","pinningButton":"Kiinnit\xE4 jaetut muodot yhteen","rotateButton":"K\xE4\xE4nn\xE4","drawTextButton":"Piirr\xE4 teksti\xE4"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","firstVertex":"\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694","continueLine":"\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","finishLine":"\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishPoly":"\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishRect":"\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","startCircle":"\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishCircle":"\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","placeCircleMarker":"\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","placeText":"\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694"},"actions":{"finish":"\uB05D\uB0B4\uAE30","cancel":"\uCDE8\uC18C","removeLastVertex":"\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70"},"buttonTitles":{"drawMarkerButton":"\uB9C8\uCEE4 \uADF8\uB9AC\uAE30","drawPolyButton":"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30","drawLineButton":"\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30","drawCircleButton":"\uC6D0 \uADF8\uB9AC\uAE30","drawRectButton":"\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30","editButton":"\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30","dragButton":"\uB808\uC774\uC5B4 \uB04C\uAE30","cutButton":"\uB808\uC774\uC5B4 \uC790\uB974\uAE30","deleteButton":"\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30","drawCircleMarkerButton":"\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30","snappingButton":"\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30","pinningButton":"\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30","rotateButton":"\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30","drawTextButton":"\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30"}}')};function A(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function q(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?A(Object(a),!0).forEach(function(c){u(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function u(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}let yt={_globalEditModeEnabled:!1,enableGlobalEditMode:function(e){var n=q({},e);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(a){a.pm.enable(n)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(e){e.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(e)},handleLayerAdditionInGlobalEditMode:function(){var e=this._addedLayers;for(var n in this._addedLayers={},e){var a=e[n];this._isRelevantForEdit(a)&&this.globalEditModeEnabled()&&a.pm.enable(q({},this.globalOptions))}},_layerAdded:function(e){var n=e.layer;this._addedLayers[L.stamp(n)]=n},_isRelevantForEdit:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowEditing}},vt={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},e.forEach(function(n){n.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,e.forEach(function(n){n.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var e=this._addedLayersDrag;for(var n in this._addedLayersDrag={},e){var a=e[n];this._isRelevantForDrag(a)&&this.globalDragModeEnabled()&&a.pm.enableLayerDrag()}},_layerAddedDrag:function(e){var n=e.layer;this._addedLayersDrag[L.stamp(n)]=n},_isRelevantForDrag:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.draggable}},wt={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var e=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(n){e._isRelevantForRemoval(n)&&(n.pm.disable(),n.on("click",e.removeLayer,e))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var e=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(n){n.off("click",e.removeLayer,e)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(e){var n=e.layer;this._isRelevantForRemoval(n)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(e){var n=e.target;this._isRelevantForRemoval(n)&&!n.pm.dragging()&&(n.removeFrom(this.map.pm._getContainingLayer()),n.remove(),n instanceof L.LayerGroup?(this._fireRemoveLayerGroup(n),this._fireRemoveLayerGroup(this.map,n)):(n.pm._fireRemove(n),n.pm._fireRemove(this.map,n)))},_isRelevantForRemoval:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRemoval}},Mt={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var e=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(n){return n instanceof L.Polyline}).forEach(function(n){e._isRelevantForRotate(n)&&n.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(e){return e instanceof L.Polyline}).forEach(function(e){e.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(e){var n=e.layer;this._isRelevantForRotate(n)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRotation}};function jt(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function Lt(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?jt(Object(a),!0).forEach(function(c){It(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function It(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var Kt={_fireDrawStart:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},e,n)},_fireDrawEnd:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},e,n)},_fireCreate:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:e,layer:e},n,a)},_fireCenterPlaced:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e==="Draw"?this._layer:void 0,c=e!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:c,latlng:this._layer.getLatLng()},e,n)},_fireCut:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(e,"pm:cut",{shape:this._shape,layer:n,originalLayer:a},c,p)},_fireEdit:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(e,"pm:edit",{layer:this._layer,shape:this.getShape()},n,a)},_fireEnable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},e,n)},_fireDisable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},e,n)},_fireUpdate:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},e,n)},_fireMarkerDragStart:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:n},a,c)},_fireMarkerDrag:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:n},a,c)},_fireMarkerDragEnd:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:n,intersectionReset:a},c,p)},_fireDragStart:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},e,n)},_fireDrag:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",Lt(Lt({},e),{},{shape:this.getShape()}),n,a)},_fireDragEnd:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},e,n)},_fireDragEnable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},e,n)},_fireDragDisable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},e,n)},_fireRemove:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:remove",{layer:n,shape:this.getShape()},a,c)},_fireVertexAdded:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:e,indexPath:n,latlng:a,shape:this.getShape()},c,p)},_fireVertexRemoved:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:e,indexPath:n,shape:this.getShape()},a,c)},_fireVertexClick:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:e,indexPath:n,shape:this.getShape()},a,c)},_fireIntersect:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:e,shape:this.getShape()},n,a)},_fireLayerReset:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:e,indexPath:n,shape:this.getShape()},a,c)},_fireChange:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:e,shape:this.getShape()},n,a)},_fireTextChange:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:e,shape:this.getShape()},n,a)},_fireTextFocus:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},e,n)},_fireTextBlur:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},e,n)},_fireSnapDrag:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:snapdrag",n,a,c)},_fireSnap:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:snap",n,a,c)},_fireUnsnap:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:unsnap",n,a,c)},_fireRotationEnable:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,c)},_fireRotationDisable:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(e,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},n,a)},_fireRotationStart:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:n},a,c)},_fireRotation:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(e,"pm:rotate",{layer:c,helpLayer:this._layer,startAngle:this._startAngle,angle:c.pm.getAngle(),angleDiff:n,oldLatLngs:a,newLatLngs:c.getLatLngs()},p,C)},_fireRotationEnd:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(e,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:n,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},c,p)},_fireActionClick:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:e.text,action:e,btnName:n,button:a},c,p)},_fireButtonClick:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:e,button:n},a,c)},_fireLangChange:function(e,n,a,c){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:e,activeLang:n,fallback:a,translations:c},p,C)},_fireGlobalDragModeToggled:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:e,map:this.map},n,a)},_fireGlobalEditModeToggled:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:e,map:this.map},n,a)},_fireGlobalRemovalModeToggled:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:e,map:this.map},n,a)},_fireGlobalCutModeToggled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},e,n)},_fireGlobalDrawModeToggled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},e,n)},_fireGlobalRotateModeToggled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},e,n)},_fireRemoveLayerGroup:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:remove",{layer:n,shape:void 0},a,c)},_fireKeyeventEvent:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:e,eventType:n,focusOn:a},c,p)},__fire:function(e,n,a,c){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a=P()(a,p,{source:c}),L.PM.Utils._fireEvent(e,n,a)}};let At=Kt,Ct={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(e){this.map=e,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(e){var n="document";this.map.getContainer().contains(e.target)&&(n="map");var a={event:e,eventType:e.type,focusOn:n};this._lastEvents[e.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(e,e.type,n)},_onBlur:function(e){e.altKey=!1;var n={event:e,eventType:e.type,focusOn:"document"};this._lastEvents[e.type]=n,this._lastEvents.current=n},getLastKeyEvent:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[e]},isShiftKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.shiftKey},isAltKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.altKey},isCtrlKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.ctrlKey},isMetaKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.metaKey},getPressedKey:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.key}};var be=y(7361),St=y.n(be),qt=y(8721),ve=y.n(qt);function Ft(e){var n=L.PM.activeLang;return ve()(tt,n)||(n="en"),St()(tt[n],e)}function $t(e){for(var n=0;n<e.length;n+=1){var a=e[n];if(Array.isArray(a)){if($t(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function ue(e){return e.reduce(function(n,a){if(a.length!==0){var c=Array.isArray(a)?ue(a):a;Array.isArray(c)?c.length!==0&&n.push(c):n.push(c)}return n},[])}function ge(e,n,a){for(var c,p,C,B=6378137,I=63567523142e-4,N=.0033528106647474805,H=e.lng,et=e.lat,dt=a,ct=Math.PI,kt=n*ct/180,Et=Math.sin(kt),Ut=Math.cos(kt),Ot=(1-N)*Math.tan(et*ct/180),Le=1/Math.sqrt(1+Ot*Ot),le=Ot*Le,ce=Math.atan2(Ot,Ut),Ae=Le*Et,li=1-Ae*Ae,Li=li*(B*B-I*I)/(I*I),nr=1+Li/16384*(4096+Li*(Li*(320-175*Li)-768)),r=Li/1024*(256+Li*(Li*(74-47*Li)-128)),s=dt/(I*nr),h=2*Math.PI;Math.abs(s-h)>1e-12;)c=Math.cos(2*ce+s),h=s,s=dt/(I*nr)+r*(p=Math.sin(s))*(c+r/4*((C=Math.cos(s))*(2*c*c-1)-r/6*c*(4*p*p-3)*(4*c*c-3)));var f=le*p-Le*C*Ut,m=Math.atan2(le*C+Le*p*Ut,(1-N)*Math.sqrt(Ae*Ae+f*f)),g=N/16*li*(4+N*(4-3*li)),k=H+180*(Math.atan2(p*Et,Le*C-le*p*Ut)-(1-g)*N*Ae*(s+g*p*(c+g*C*(2*c*c-1))))/ct,z=180*m/ct;return L.latLng(k,z)}function ti(e,n,a,c){for(var p,C,B=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],I=[],N=0;N<a;N+=1){if(B)p=ge(e,360*N/a+c,n),C=L.latLng(p.lng,p.lat);else{var H=e.lat+Math.cos(2*N*Math.PI/a)*n,et=e.lng+Math.sin(2*N*Math.PI/a)*n;C=L.latLng(H,et)}I.push(C)}return I}function je(e,n,a,c){var p=function(C,B,I){var N=C.latLngToContainerPoint(B),H=C.latLngToContainerPoint(I),et=180*Math.atan2(H.y-N.y,H.x-N.x)/Math.PI+90;return et+(et<0?360:0)}(e,n,a);return function(C,B,I){B=(B+360)%360;var N=Math.PI/180,H=180/Math.PI,et=6378137,dt=C.lng*N,ct=C.lat*N,kt=B*N,Et=Math.sin(ct),Ut=Math.cos(ct),Ot=Math.cos(I/et),Le=Math.sin(I/et),le=Math.asin(Et*Ot+Ut*Le*Math.cos(kt)),ce=dt+Math.atan2(Math.sin(kt)*Le*Ut,Ot-Et*Math.sin(le));return ce=(ce*=H)>180?ce-360:ce<-180?ce+360:ce,L.latLng([le*H,ce])}(n,p,c)}function gn(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!n||Object.keys(n).length===0)return function(N,H){return N-H};for(var c,p=Object.keys(n),C=p.length-1,B={};C>=0;)c=p[C],B[c.toLowerCase()]=n[c],C-=1;function I(N){return N instanceof L.Marker?"Marker":N instanceof L.Circle?"Circle":N instanceof L.CircleMarker?"CircleMarker":N instanceof L.Rectangle?"Rectangle":N instanceof L.Polygon?"Polygon":N instanceof L.Polyline?"Line":void 0}return function(N,H){var et,dt;if(e==="instanceofShape"){if(et=I(N.layer).toLowerCase(),dt=I(H.layer).toLowerCase(),!et||!dt)return 0}else{if(!N.hasOwnProperty(e)||!H.hasOwnProperty(e))return 0;et=N[e].toLowerCase(),dt=H[e].toLowerCase()}var ct=et in B?B[et]:Number.MAX_SAFE_INTEGER,kt=dt in B?B[dt]:Number.MAX_SAFE_INTEGER,Et=0;return ct<kt?Et=-1:ct>kt&&(Et=1),a==="desc"?-1*Et:Et}}function ei(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLatLngs();return e instanceof L.Polygon?L.polygon(n).getLatLngs():L.polyline(n).getLatLngs()}function He(e,n){var a,c;if((a=n.options.crs)!==null&&a!==void 0&&(c=a.projection)!==null&&c!==void 0&&c.MAX_LATITUDE){var p,C,B=(p=n.options.crs)===null||p===void 0||(C=p.projection)===null||C===void 0?void 0:C.MAX_LATITUDE;e.lat=Math.max(Math.min(B,e.lat),-B)}return e}function ri(e){return e.options.renderer||e._map&&(e._map._getPaneRenderer(e.options.pane)||e._map.options.renderer||e._map._renderer)||e._renderer}let yi=L.Class.extend({includes:[yt,vt,wt,Mt,At],initialize:function(e){this.map=e,this.Draw=new L.PM.Draw(e),this.Toolbar=new L.PM.Toolbar(e),this.Keyboard=Ct,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(e)},setLang:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",c=L.PM.activeLang;n&&(tt[e]=P()(tt[a],n)),L.PM.activeLang=e,this.map.pm.Toolbar.reinit(),this._fireLangChange(c,e,a,tt[e])},addControls:function(e){this.Toolbar.addControls(e)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",n=arguments.length>1?arguments[1]:void 0;e==="Poly"&&(e="Polygon"),this.Draw.enable(e,n)},disableDraw:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";e==="Poly"&&(e="Polygon"),this.Draw.disable(e)},setPathOptions:function(e){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=a.ignoreShapes||[],p=a.merge||!1;this.map.pm.Draw.shapes.forEach(function(C){c.indexOf(C)===-1&&n.map.pm.Draw[C].setPathOptions(e,p)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(e){var n=this,a=P()(this.globalOptions,e),c=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!a.editable&&(this.map.pm.Draw.CircleMarker.disable(),c=!0),this.map.pm.Draw.shapes.forEach(function(p){n.map.pm.Draw[p].setOptions(a)}),c&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(p){p.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(e){e.pm.enabled()&&e.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(e){return this.Draw.Cut.enable(e)},toggleGlobalCutMode:function(e){return this.Draw.Cut.toggle(e)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=L.PM.Utils.findLayers(this.map);if(!e)return n;var a=L.featureGroup();return a._pmTempLayer=!0,n.forEach(function(c){a.addLayer(c)}),a},getGeomanDrawLayers:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=L.PM.Utils.findLayers(this.map).filter(function(c){return c._drawnByGeoman===!0});if(!e)return n;var a=L.featureGroup();return a._pmTempLayer=!0,n.forEach(function(c){a.addLayer(c)}),a},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(e){this._touchEventCounter===0&&(L.DomEvent.on(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(e){this._touchEventCounter===1&&(L.DomEvent.off(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(e){ri(this.map)._onMouseMove(this._createMouseEvent("mousemove",e))},_canvasTouchClick:function(e){var n="";e.type==="touchstart"||e.type==="pointerdown"?n="mousedown":e.type==="touchend"||e.type==="pointerup"?n="mouseup":e.type!=="touchcancel"&&e.type!=="pointercancel"||(n="mouseup"),n&&ri(this.map)._onClick(this._createMouseEvent(n,e))},_createMouseEvent:function(e,n){var a,c=n.touches[0]||n.changedTouches[0];try{a=new MouseEvent(e,{bubbles:n.bubbles,cancelable:n.cancelable,view:n.view,detail:c.detail,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,button:n.button,relatedTarget:n.relatedTarget})}catch{(a=document.createEvent("MouseEvents")).initMouseEvent(e,n.bubbles,n.cancelable,n.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}return a}}),Zi=L.Control.extend({includes:[At],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(e){this._button=L.Util.extend({},this.options,e)},onAdd:function(e){return this._map=e,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(e){return this._button.toggleStatus=typeof e=="boolean"?e:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(e){e&&e.preventDefault(),this._button.disabled||(this._button.onClick(e,{button:this,event:e}),this._clicked(e),this._button.afterClick(e,{button:this,event:e}))},_makeButton:function(e){var n=this,a=this.options.position.indexOf("right")>-1?"pos-right":"",c=L.DomUtil.create("div","button-container  ".concat(a),this._container);e.title&&c.setAttribute("title",e.title);var p=L.DomUtil.create("a","leaflet-buttons-control-button",c);p.setAttribute("role","button"),p.setAttribute("tabindex","0"),p.href="#";var C=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(a),c),B=e.actions,I={cancel:{text:Ft("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Ft("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Ft("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:Ft("actions.finish"),onClick:function(H){this._map.pm.Draw[e.jsClass]._finishShape(H)}}};B.forEach(function(H){var et,dt=typeof H=="string"?H:H.name;if(I[dt])et=I[dt];else{if(!H.text)return;et=H}var ct=L.DomUtil.create("a","leaflet-pm-action ".concat(a," action-").concat(dt),C);ct.setAttribute("role","button"),ct.setAttribute("tabindex","0"),ct.href="#",ct.innerHTML=et.text,L.DomEvent.disableClickPropagation(ct),L.DomEvent.on(ct,"click",L.DomEvent.stop),!e.disabled&&et.onClick&&(L.DomEvent.addListener(ct,"click",function(kt){kt.preventDefault();var Et="",Ut=n._map.pm.Toolbar.buttons;for(var Ot in Ut)if(Ut[Ot]._button===e){Et=Ot;break}n._fireActionClick(et,Et,e)},n),L.DomEvent.addListener(ct,"click",et.onClick,n))}),e.toggleStatus&&L.DomUtil.addClass(c,"active");var N=L.DomUtil.create("div","control-icon",p);return e.iconUrl&&N.setAttribute("src",e.iconUrl),e.className&&L.DomUtil.addClass(N,e.className),L.DomEvent.disableClickPropagation(p),L.DomEvent.on(p,"click",L.DomEvent.stop),e.disabled||(L.DomEvent.addListener(p,"click",this._onBtnClick,this),L.DomEvent.addListener(p,"click",this._triggerClick,this)),e.disabled&&(L.DomUtil.addClass(p,"pm-disabled"),p.setAttribute("aria-disabled","true")),c},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var e="",n=this._map.pm.Toolbar.buttons;for(var a in n)if(n[a]._button===this._button){e=a;break}this._fireButtonClick(e,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var e="pm-disabled",n=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(n,e),n.setAttribute("aria-disabled","true"),L.DomEvent.off(n,"click",this._triggerClick,this),L.DomEvent.off(n,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(n,e),n.setAttribute("aria-disabled","false"),L.DomEvent.on(n,"click",this._triggerClick,this),L.DomEvent.on(n,"click",this._onBtnClick,this))}}});function tn(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function We(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?tn(Object(a),!0).forEach(function(c){Hi(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tn(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function Hi(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function pi(e){return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pi(e)}L.Control.PMButton=Zi;let gi=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(e){this.init(e)},reinit:function(){var e=this.isVisible;this.removeControls(),this._defineButtons(),e&&this.addControls()},init:function(e){this.map=e,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(e){var n="".concat(e,"Container");return this[n]||(this[n]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(e," leaflet-bar leaflet-control"))),this[n]},getButtons:function(){return this.buttons},addControls:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof e.editPolygon<"u"&&(e.editMode=e.editPolygon),typeof e.deleteLayer<"u"&&(e.removalMode=e.deleteLayer),L.Util.setOptions(this,e),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var e=this.getButtons(),n={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var a in e){var c=e[a];L.Util.setOptions(c,{className:n.geomanIcons[a]})}},removeControls:function(){var e=this.getButtons();for(var n in e)e[n].remove();this.isVisible=!1},toggleControls:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(e)},_addButton:function(e,n){return this.buttons[e]=n,this.options[e]=this.options[e]||!1,this.buttons[e]},triggerClickOnToggledButtons:function(e){for(var n in this.buttons){var a=this.buttons[n];a._button.disableByOtherButtons&&a!==e&&a.toggled()&&a._triggerClick()}},toggleButton:function(e,n){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return e==="editPolygon"&&(e="editMode"),e==="deleteLayer"&&(e="removalMode"),a&&this.triggerClickOnToggledButtons(this.buttons[e]),!!this.buttons[e]&&this.buttons[e].toggle(n)},_defineButtons:function(){var e=this,n={className:"control-icon leaflet-pm-icon-marker",title:Ft("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:Ft("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},c={className:"control-icon leaflet-pm-icon-polyline",title:Ft("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},p={title:Ft("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},C={title:Ft("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},B={title:Ft("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},I={title:Ft("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={title:Ft("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Ft("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},et={title:Ft("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},dt={title:Ft("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ct={className:"control-icon leaflet-pm-icon-text",title:Ft("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(kt,Et){e.map.pm.Draw[Et.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(n)),this._addButton("drawPolyline",new L.Control.PMButton(c)),this._addButton("drawRectangle",new L.Control.PMButton(B)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(p)),this._addButton("drawCircleMarker",new L.Control.PMButton(C)),this._addButton("drawText",new L.Control.PMButton(ct)),this._addButton("editMode",new L.Control.PMButton(I)),this._addButton("dragMode",new L.Control.PMButton(N)),this._addButton("cutPolygon",new L.Control.PMButton(H)),this._addButton("removalMode",new L.Control.PMButton(et)),this._addButton("rotateMode",new L.Control.PMButton(dt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var e=this.getButtons(),n=[];for(var a in this.options.drawControls===!1&&(n=n.concat(Object.keys(e).filter(function(p){return!e[p]._button.tool}))),this.options.editControls===!1&&(n=n.concat(Object.keys(e).filter(function(p){return e[p]._button.tool==="edit"}))),this.options.optionsControls===!1&&(n=n.concat(Object.keys(e).filter(function(p){return e[p]._button.tool==="options"}))),this.options.customControls===!1&&(n=n.concat(Object.keys(e).filter(function(p){return e[p]._button.tool==="custom"}))),e)if(this.options[a]&&n.indexOf(a)===-1){var c=e[a]._button.tool;c||(c="draw"),e[a].setPosition(this._getBtnPosition(c)),e[a].addTo(this.map)}}},_getBtnPosition:function(e){return this.options.positions&&this.options.positions[e]?this.options.positions[e]:this.options.position},setBlockPosition:function(e,n){this.options.positions[e]=n,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(e,n){if(!n)throw new TypeError("Button has no name");pi(n)!=="object"&&(n={name:n});var a=this._btnNameMapping(e);if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");var c=this.map.pm.Draw.createNewDrawInstance(n.name,a);return n=We(We({},this.buttons[a]._button),n),{drawInstance:c,control:this.createCustomControl(n)}},createCustomControl:function(e){var n,a;if(!e.name)throw new TypeError("Button has no name");if(this.buttons[e.name])throw new TypeError("Button with this name already exists");e.onClick||(e.onClick=function(){}),e.afterClick||(e.afterClick=function(){}),e.toggle!==!1&&(e.toggle=!0),e.block&&(e.block=e.block.toLowerCase()),e.block&&e.block!=="draw"||(e.block=""),e.className?e.className.indexOf("control-icon")===-1&&(e.className="control-icon ".concat(e.className)):e.className="control-icon";var c={tool:e.block,className:e.className,title:e.title||"",jsClass:e.name,onClick:e.onClick,afterClick:e.afterClick,doToggle:e.toggle,toggleStatus:!1,disableOtherButtons:(n=e.disableOtherButtons)===null||n===void 0||n,disableByOtherButtons:(a=e.disableByOtherButtons)===null||a===void 0||a,cssToggle:e.toggle,position:this.options.position,actions:e.actions||[],disabled:!!e.disabled};this.options[e.name]!==!1&&(this.options[e.name]=!0);var p=this._addButton(e.name,new L.Control.PMButton(c));return this.changeControlOrder(),p},changeControlOrder:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this._shapeMapping(),a=[];e.forEach(function(H){n[H]?a.push(n[H]):a.push(H)});var c=this.getButtons(),p={};a.forEach(function(H){c[H]&&(p[H]=c[H])});var C=Object.keys(c).filter(function(H){return!c[H]._button.tool});C.forEach(function(H){a.indexOf(H)===-1&&(p[H]=c[H])});var B=Object.keys(c).filter(function(H){return c[H]._button.tool==="edit"});B.forEach(function(H){a.indexOf(H)===-1&&(p[H]=c[H])});var I=Object.keys(c).filter(function(H){return c[H]._button.tool==="options"});I.forEach(function(H){a.indexOf(H)===-1&&(p[H]=c[H])});var N=Object.keys(c).filter(function(H){return c[H]._button.tool==="custom"});N.forEach(function(H){a.indexOf(H)===-1&&(p[H]=c[H])}),Object.keys(c).forEach(function(H){a.indexOf(H)===-1&&(p[H]=c[H])}),this.map.pm.Toolbar.buttons=p,this._showHideButtons()},getControlOrder:function(){var e=this.getButtons(),n=[];for(var a in e)n.push(a);return n},changeActionsOfControl:function(e,n){var a=this._btnNameMapping(e);if(!a)throw new TypeError("No name passed");if(!n)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=n,this.changeControlOrder()},setButtonDisabled:function(e,n){var a=this._btnNameMapping(e);n?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(e){var n=this._shapeMapping();return n[e]?n[e]:e}});function mn(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function j(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?mn(Object(a),!0).forEach(function(c){_(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mn(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function _(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var x={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(e){var n=this;e.forEach(function(a){Array.isArray(a)?n._assignEvents(a):(a.off("drag",n._handleSnapping,n),a.on("drag",n._handleSnapping,n),a.off("dragend",n._cleanupSnapping,n),a.on("dragend",n._cleanupSnapping,n))})},_cleanupSnapping:function(e){e&&(e.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(n){n.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(e){var n=this,a=e.target;if(a._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var c=this._calcClosestLayer(a.getLatLng(),this._snapList);if(Object.keys(c).length===0)return!1;var p,C=c.layer instanceof L.Marker||c.layer instanceof L.CircleMarker||!this.options.snapSegment;p=C?c.latlng:this._checkPrioritiySnapping(c);var B=this.options.snapDistance,I={marker:a,shape:this._shape,snapLatLng:p,segment:c.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:c.layer,distance:c.distance};if(this._fireSnapDrag(I.marker,I),this._fireSnapDrag(this._layer,I),c.distance<B){a._orgLatLng=a.getLatLng(),a.setLatLng(p),a._snapped=!0,a._snapInfo=I;var N=this._snapLatLng||{},H=p||{};N.lat===H.lat&&N.lng===H.lng||(n._snapLatLng=p,n._fireSnap(a,I),n._fireSnap(n._layer,I))}else this._snapLatLng&&(this._unsnap(I),a._snapped=!1,a._snapInfo=void 0,this._fireUnsnap(I.marker,I),this._fireUnsnap(this._layer,I));return!0},_createSnapList:function(){var e=this,n=[],a=[],c=this._map;c.off("pm:remove",this._handleSnapLayerRemoval,this),c.on("pm:remove",this._handleSnapLayerRemoval,this),c.eachLayer(function(p){if((p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&p.options.snapIgnore!==!0){if(p.options.snapIgnore===void 0&&(!L.PM.optIn&&p.options.pmIgnore===!0||L.PM.optIn&&p.options.pmIgnore!==!1))return;(p instanceof L.Circle||p instanceof L.CircleMarker)&&p.pm&&p.pm._hiddenPolyCircle?n.push(p.pm._hiddenPolyCircle):p instanceof L.ImageOverlay&&(p=L.rectangle(p.getBounds())),n.push(p);var C=L.polyline([],{color:"red",pmIgnore:!0});C._pmTempLayer=!0,a.push(C),(p instanceof L.Circle||p instanceof L.CircleMarker)&&a.push(C)}}),n=(n=(n=n.filter(function(p){return e._layer!==p})).filter(function(p){return p._latlng||p._latlngs&&$t(p._latlngs)})).filter(function(p){return!p._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,a.push(p)}),this._snapList=n.concat(this._otherSnapLayers)):this._snapList=n,this.debugIndicatorLines=a},_handleSnapLayerRemoval:function(e){var n=e.layer,a=this._snapList.findIndex(function(c){return c._leaflet_id===n._leaflet_id});this._snapList.splice(a,1)},_calcClosestLayer:function(e,n){return this._calcClosestLayers(e,n,1)[0]},_calcClosestLayers:function(e,n){var a=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=[],C={};n.forEach(function(I,N){if(!I._parentCopy||I._parentCopy!==a._layer){var H=a._calcLayerDistances(e,I);if(H.distance=Math.floor(H.distance),a.debugIndicatorLines){if(!a.debugIndicatorLines[N]){var et=L.polyline([],{color:"red",pmIgnore:!0});et._pmTempLayer=!0,a.debugIndicatorLines[N]=et}a.debugIndicatorLines[N].setLatLngs([e,H.latlng])}c===1&&(C.distance===void 0||H.distance<=C.distance)?(H.distance<C.distance&&(p=[]),(C=H).layer=I,p.push(C)):c!==1&&(C={},(C=H).layer=I,p.push(C))}}),c!==1&&(p=p.sort(function(I,N){return I.distance-N.distance})),c===-1&&(c=p.length);var B=this._getClosestLayerByPriority(p,c);return L.Util.isArray(B)?B:[B]},_calcLayerDistances:function(e,n){var a=this._map,c=n instanceof L.Marker||n instanceof L.CircleMarker,p=n instanceof L.Polygon,C=e;if(c){var B=n.getLatLng();return{latlng:j({},B),distance:this._getDistance(a,B,C)}}return this._calcLatLngDistances(C,n.getLatLngs(),a,p)},_calcLatLngDistances:function(e,n,a){var c,p,C,B=this,I=arguments.length>3&&arguments[3]!==void 0&&arguments[3],N=function et(dt){dt.forEach(function(ct,kt){if(Array.isArray(ct))et(ct);else if(B.options.snapSegment){var Et,Ut=ct;Et=I?kt+1===dt.length?0:kt+1:kt+1===dt.length?void 0:kt+1;var Ot=dt[Et];if(Ot){var Le=B._getDistanceToSegment(a,e,Ut,Ot);(p===void 0||Le<p)&&(p=Le,C=[Ut,Ot])}}else{var le=B._getDistance(a,e,ct);(p===void 0||le<p)&&(p=le,c=ct)}})};if(N(n),this.options.snapSegment){var H=this._getClosestPointOnSegment(a,e,C[0],C[1]);return{latlng:j({},H),segment:C,distance:p}}return{latlng:c,distance:p}},_getClosestLayerByPriority:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;e=e.sort(function(B,I){return B._leaflet_id-I._leaflet_id});var a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],c=this._map.pm.globalOptions.snappingOrder||[],p=0,C={};return c.concat(a).forEach(function(B){C[B]||(p+=1,C[B]=p)}),e.sort(gn("instanceofShape",C)),n===1?e[0]||{}:e.slice(0,n)},_checkPrioritiySnapping:function(e){var n=this._map,a=e.segment[0],c=e.segment[1],p=e.latlng,C=this._getDistance(n,a,p),B=this._getDistance(n,c,p),I=C<B?a:c,N=C<B?C:B;if(this.options.snapMiddle){var H=L.PM.Utils.calcMiddleLatLng(n,a,c),et=this._getDistance(n,H,p);et<C&&et<B&&(I=H,N=et)}return j({},N<this.options.snapDistance?I:p)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(e,n,a,c){var p=e.getMaxZoom();p===1/0&&(p=e.getZoom());var C=e.project(n,p),B=e.project(a,p),I=e.project(c,p),N=L.LineUtil.closestPointOnSegment(C,B,I);return e.unproject(N,p)},_getDistanceToSegment:function(e,n,a,c){var p=e.latLngToLayerPoint(n),C=e.latLngToLayerPoint(a),B=e.latLngToLayerPoint(c);return L.LineUtil.pointToSegmentDistance(p,C,B)},_getDistance:function(e,n,a){return e.latLngToLayerPoint(n).distanceTo(e.latLngToLayerPoint(a))}};let S=x,G=L.Class.extend({includes:[S,At],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(e){L.Util.setOptions(this,e),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(e){var n=this,a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=e,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(c){n[c]=new L.PM.Draw[c](n._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=n?P()(this.options.pathOptions,e):e},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(e,n){if(!e)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[e].enable(n)},disable:function(){var e=this;this.shapes.forEach(function(n){e[n].disable()})},addControls:function(){var e=this;this.shapes.forEach(function(n){e[n].addButton()})},getActiveShape:function(){var e,n=this;return this.shapes.forEach(function(a){n[a]._enabled&&(e=a)}),e},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var e=L.PM.Utils.findLayers(this._map);this._enabled?e.forEach(function(n){L.PM.Utils.disablePopup(n)}):e.forEach(function(n){L.PM.Utils.enablePopup(n)})},createNewDrawInstance:function(e,n){var a=this._getShapeFromBtnName(n);if(this[e])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError("There is no class L.PM.Draw.".concat(a));return this[e]=new L.PM.Draw[a](this._map),this[e].toolbarButtonName=e,this[e]._shape=e,this.shapes.push(e),this[n]&&this[e].setOptions(this[n].options),this[e].setOptions(this[e].options),this[e]},_getShapeFromBtnName:function(e){var n={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return n[e]?n[e]:this[e]?this[e]._shape:e},_finishLayer:function(e){e.pm&&(e.pm.setOptions(this.options),e.pm._shape=this._shape,e.pm._map=this._map),this._addDrawnLayerProp(e)},_addDrawnLayerProp:function(e){e._drawnByGeoman=!0},_setPane:function(e,n){n==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":n==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":n==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});G.Marker=G.extend({initialize:function(e){this._map=e,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(e){var n=this;L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(a){n.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var e=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(n){e.isRelevantMarker(n)&&n.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},isRelevantMarker:function(e){return e instanceof L.Marker&&e.pm&&!e._pmTempLayer&&!e.pm._initTextMarker},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var n=e;n.target=this._hintMarker,this._handleSnapping(n)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(e){if(e.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng(),a=new L.Marker(n,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var e,n;(e=this.options.markerStyle)!==null&&e!==void 0&&e.icon&&((n=this._hintMarker)===null||n===void 0||n.setIcon(this.options.markerStyle.icon))}});var D=63710088e-1,ft={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*D,kilometers:6371.0088,kilometres:6371.0088,meters:D,metres:D,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:D/1852,radians:1,yards:6967335223679999e-9};function _t(e,n,a){a===void 0&&(a={});var c={type:"Feature"};return(a.id===0||a.id)&&(c.id=a.id),a.bbox&&(c.bbox=a.bbox),c.properties=n||{},c.geometry=e,c}function Tt(e,n,a){if(a===void 0&&(a={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ye(e[0])||!ye(e[1]))throw new Error("coordinates must contain numbers");return _t({type:"Point",coordinates:e},n,a)}function Zt(e,n,a){if(a===void 0&&(a={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return _t({type:"LineString",coordinates:e},n,a)}function Xt(e,n){n===void 0&&(n={});var a={type:"FeatureCollection"};return n.id&&(a.id=n.id),n.bbox&&(a.bbox=n.bbox),a.features=e,a}function ae(e,n){n===void 0&&(n="kilometers");var a=ft[n];if(!a)throw new Error(n+" units is invalid");return e*a}function ee(e,n){n===void 0&&(n="kilometers");var a=ft[n];if(!a)throw new Error(n+" units is invalid");return e/a}function se(e){return 180*(e%(2*Math.PI))/Math.PI}function Vt(e){return e%360*Math.PI/180}function ye(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Ce(e){var n,a,c={type:"FeatureCollection",features:[]};if((a=e.type==="Feature"?e.geometry:e).type==="LineString")n=[a.coordinates];else if(a.type==="MultiLineString")n=a.coordinates;else if(a.type==="MultiPolygon")n=[].concat.apply([],a.coordinates);else{if(a.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");n=a.coordinates}return n.forEach(function(p){n.forEach(function(C){for(var B=0;B<p.length-1;B++)for(var I=B;I<C.length-1;I++)if(!(p===C&&(Math.abs(B-I)===1||B===0&&I===p.length-2&&p[B][0]===p[p.length-1][0]&&p[B][1]===p[p.length-1][1]))){var N=Oe(p[B][0],p[B][1],p[B+1][0],p[B+1][1],C[I][0],C[I][1],C[I+1][0],C[I+1][1]);N&&c.features.push(Tt([N[0],N[1]]))}})}),c}function Oe(e,n,a,c,p,C,B,I){var N,H,et,dt,ct={x:null,y:null,onLine1:!1,onLine2:!1};return(N=(I-C)*(a-e)-(B-p)*(c-n))===0?ct.x!==null&&ct.y!==null&&ct:(dt=(a-e)*(H=n-C)-(c-n)*(et=e-p),H=((B-p)*H-(I-C)*et)/N,et=dt/N,ct.x=e+H*(a-e),ct.y=n+H*(c-n),H>=0&&H<=1&&(ct.onLine1=!0),et>=0&&et<=1&&(ct.onLine2=!0),!(!ct.onLine1||!ct.onLine2)&&[ct.x,ct.y])}function Ue(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function Ge(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ue(Object(a),!0).forEach(function(c){qe(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function qe(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Ke(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function Ye(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ke(Object(a),!0).forEach(function(c){Xe(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function Xe(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function oi(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,c)}return a}function De(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?oi(Object(a),!0).forEach(function(c){Be(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oi(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function Be(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Fe(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ie(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ci(e){return e.type==="Feature"?e.geometry:e}function jn(e,n){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function Di(e,n,a){if(e!==null)for(var c,p,C,B,I,N,H,et,dt=0,ct=0,kt=e.type,Et=kt==="FeatureCollection",Ut=kt==="Feature",Ot=Et?e.features.length:1,Le=0;Le<Ot;Le++){I=(et=!!(H=Et?e.features[Le].geometry:Ut?e.geometry:e)&&H.type==="GeometryCollection")?H.geometries.length:1;for(var le=0;le<I;le++){var ce=0,Ae=0;if((B=et?H.geometries[le]:H)!==null){N=B.coordinates;var li=B.type;switch(dt=!a||li!=="Polygon"&&li!=="MultiPolygon"?0:1,li){case null:break;case"Point":if(n(N,ct,Le,ce,Ae)===!1)return!1;ct++,ce++;break;case"LineString":case"MultiPoint":for(c=0;c<N.length;c++){if(n(N[c],ct,Le,ce,Ae)===!1)return!1;ct++,li==="MultiPoint"&&ce++}li==="LineString"&&ce++;break;case"Polygon":case"MultiLineString":for(c=0;c<N.length;c++){for(p=0;p<N[c].length-dt;p++){if(n(N[c][p],ct,Le,ce,Ae)===!1)return!1;ct++}li==="MultiLineString"&&ce++,li==="Polygon"&&Ae++}li==="Polygon"&&ce++;break;case"MultiPolygon":for(c=0;c<N.length;c++){for(Ae=0,p=0;p<N[c].length;p++){for(C=0;C<N[c][p].length-dt;C++){if(n(N[c][p][C],ct,Le,ce,Ae)===!1)return!1;ct++}Ae++}ce++}break;case"GeometryCollection":for(c=0;c<B.geometries.length;c++)if(Di(B.geometries[c],n,a)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function vi(e,n){if(e.type==="Feature")n(e,0);else if(e.type==="FeatureCollection")for(var a=0;a<e.features.length&&n(e.features[a],a)!==!1;a++);}function ai(e,n){var a,c,p,C,B,I,N,H,et,dt,ct=0,kt=e.type==="FeatureCollection",Et=e.type==="Feature",Ut=kt?e.features.length:1;for(a=0;a<Ut;a++){for(I=kt?e.features[a].geometry:Et?e.geometry:e,H=kt?e.features[a].properties:Et?e.properties:{},et=kt?e.features[a].bbox:Et?e.bbox:void 0,dt=kt?e.features[a].id:Et?e.id:void 0,B=(N=!!I&&I.type==="GeometryCollection")?I.geometries.length:1,p=0;p<B;p++)if((C=N?I.geometries[p]:I)!==null)switch(C.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(C,ct,H,et,dt)===!1)return!1;break;case"GeometryCollection":for(c=0;c<C.geometries.length;c++)if(n(C.geometries[c],ct,H,et,dt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,ct,H,et,dt)===!1)return!1;ct++}}function Nt(e,n){ai(e,function(a,c,p,C,B){var I,N=a===null?null:a.type;switch(N){case null:case"Point":case"LineString":case"Polygon":return n(_t(a,p,{bbox:C,id:B}),c,0)!==!1&&void 0}switch(N){case"MultiPoint":I="Point";break;case"MultiLineString":I="LineString";break;case"MultiPolygon":I="Polygon"}for(var H=0;H<a.coordinates.length;H++){var et=a.coordinates[H];if(n(_t({type:I,coordinates:et},p),c,H)===!1)return!1}})}G.Line=G.extend({initialize:function(e){this._map=e,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(e){L.Util.setOptions(this,e),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ge(Ge({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine:function(){var e=this._layer.getLatLngs();if(e.length>0){var n=e[e.length-1];this._hintline.setLatLngs([n,this._hintMarker.getLatLng()])}},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var n=e;n.target=this._hintMarker,this._handleSnapping(n)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection:function(){return Ce(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(e,n){var a=L.polyline(this._layer.getLatLngs());e&&(n||(n=this._hintMarker.getLatLng()),a.addLatLng(n));var c=Ce(a.toGeoJSON(15));this._doesSelfIntersect=c.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(e){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,e.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),c=a[a.length-1];if(n.equals(a[0])||a.length>0&&n.equals(c))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:n,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(n);var p=this._createMarker(n);this._setTooltipText(),this._setHintLineAfterNewVertex(n),this._fireVertexAdded(p,void 0,n,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(e)}}},_setHintLineAfterNewVertex:function(e){this._hintline.setLatLngs([e,e])},_removeLastVertex:function(){var e=this._markers;if(e.length<=1)this.disable();else{var n=this._layer.getLatLngs(),a=e[e.length-1],c=L.PM.Utils.findDeepMarkerIndex(e,a).indexPath;e.pop(),this._layerGroup.removeLayer(a);var p=e[e.length-1],C=n.indexOf(p.getLatLng());n=n.slice(0,C+1),this._layer.setLatLngs(n),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,c,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var e=this._layer.getLatLngs();if(!(e.length<=1)){var n=L.polyline(e,this.options.pathOptions);this._setPane(n,"layerPane"),this._finishLayer(n),n.addTo(this._map.pm._getContainingLayer()),this._fireCreate(n),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(e){var n=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._markers.push(n),n.on("click",this._finishShape,this),n},_setTooltipText:function(){var e="";e=Ft(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(e)},_change:function(e){this._fireChange(e,"Draw")},setStyle:function(){var e,n;(e=this._layer)===null||e===void 0||e.setStyle(this.options.templineStyle),(n=this._hintline)===null||n===void 0||n.setStyle(this.options.hintlineStyle)}}),G.Polygon=G.Line.extend({initialize:function(e){this._map=e,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(e){L.PM.Draw.Line.prototype.enable.call(this,e),this._layer.pm._shape="Polygon"},_createMarker:function(e){var n=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._markers.push(n),this._layer.getLatLngs().flat().length===1?(n.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(n)-1,this.options.snappable&&this._cleanupSnapping()):n.on("click",function(){return 1}),n},_setTooltipText:function(){var e="";e=Ft(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(e)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var e=this._layer.getLatLngs();if(!(e.length<=2)){var n=L.polygon(e,this.options.pathOptions);this._setPane(n,"layerPane"),this._finishLayer(n),n.addTo(this._map.pm._getContainingLayer()),this._fireCreate(n),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),G.Rectangle=G.extend({initialize:function(e){this._map=e,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(e){if(L.Util.setOptions(this,e),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var n=0;n<2;n+=1){var a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_placeStartingMarkers:function(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(n),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(a){L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(n)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Ft("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var e=this._startMarker.getLatLng();e&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([e,e]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var n=e;n.target=this._hintMarker,this._handleSnapping(n)}var a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize:function(){var e=this,n=He(this._startMarker.getLatLng(),this._map),a=He(this._hintMarker.getLatLng(),this._map),c=L.PM.Utils._getRotatedRectangle(n,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(c),this.options.cursorMarker&&this._styleMarkers){var p=[];c.forEach(function(C){C.equals(n,1e-8)||C.equals(a,1e-8)||p.push(C)}),p.forEach(function(C,B){try{e._styleMarkers[B].setLatLng(C)}catch{}})}},_findCorners:function(){var e=this._layer.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_finishShape:function(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var c=L.rectangle([a,n],this.options.pathOptions);if(this.options.rectangleAngle){var p=L.PM.Utils._getRotatedRectangle(a,n,this.options.rectangleAngle||0,this._map);c.setLatLngs(p),c.pm&&c.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var e;(e=this._layer)===null||e===void 0||e.setStyle(this.options.pathOptions)}}),G.Circle=G.extend({initialize:function(e){this._map=e,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(e){L.Util.setOptions(this,e),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),Ye(Ye({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),n=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,n])},_syncCircleRadius:function(){var e,n=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng();e=this._map.options.crs===L.CRS.Simple?this._map.distance(n,a):n.distanceTo(a),this.options.minRadiusCircle&&e<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&e>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(e)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var n=e;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping();var a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},_placeCenterMarker:function(e){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ft("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(e){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n,a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng();n=this._map.options.crs===L.CRS.Simple?this._map.distance(a,c):a.distanceTo(c),this.options.minRadiusCircle&&n<this.options.minRadiusCircle?n=this.options.minRadiusCircle:this.options.maxRadiusCircle&&n>this.options.maxRadiusCircle&&(n=this.options.maxRadiusCircle);var p=Ye(Ye({},this.options.pathOptions),{},{radius:n}),C=L.circle(a,p);this._setPane(C,"layerPane"),this._finishLayer(C),C.addTo(this._map.pm._getContainingLayer()),C.pm&&C.pm._updateHiddenPolyCircle(),this._fireCreate(C),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var e=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return e;var n=this._centerMarker.getLatLng(),a=n.distanceTo(e);return this.options.minRadiusCircle&&a<this.options.minRadiusCircle?e=je(this._map,n,e,this.options.minRadiusCircle):this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(e=je(this._map,n,e,this.options.maxRadiusCircle)),e},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var e=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),a=e.distanceTo(n);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&a<this.options.minRadiusCircle||this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var e,n;(e=this._layer)===null||e===void 0||e.setStyle(this.options.templineStyle),(n=this._hintline)===null||n===void 0||n.setStyle(this.options.hintlineStyle)}}),G.CircleMarker=G.Marker.extend({initialize:function(e){this._map=e,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(e){var n=this;if(L.Util.setOptions(this,e),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var a={};L.extend(a,this.options.templineStyle),a.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),a),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(c){n.isRelevantMarker(c)&&c.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var e=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(n){e.isRelevantMarker(n)&&n.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(e){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ft("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),n=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,n])},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),a=this._map.project(e).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(a)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var n=e;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping();var a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker:function(e){return e instanceof L.CircleMarker&&!(e instanceof L.Circle)&&e.pm&&!e._pmTempLayer},_createMarker:function(e){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&e.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng(),a=L.circleMarker(n,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable&&a.pm.enable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(e){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._map.project(n).distanceTo(this._map.project(a));this.options.editable&&(this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?c=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker&&(c=this.options.maxRadiusCircleMarker));var p=De(De({},this.options.pathOptions),{},{radius:c}),C=L.circleMarker(n,p);this._setPane(C,"layerPane"),this._finishLayer(C),C.addTo(this._map.pm._getContainingLayer()),C.pm&&C.pm._updateHiddenPolyCircle(),this._fireCreate(C),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var e=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return e;var n=this._centerMarker.getLatLng(),a=this._map.project(n).distanceTo(this._map.project(e));this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?e=je(this._map,n,e,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker&&(e=je(this._map,n,e,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return e},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var e=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),a=this._map.project(e).distanceTo(this._map.project(n));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(e){var n=this._centerMarker.getLatLng(),a=this._map.project(n),c=L.point(a.x+e,a.y);return this._map.unproject(c).distanceTo(n)},setStyle:function(){var e,n,a={};L.extend(a,this.options.templineStyle),this.options.editable&&(a.radius=0),(e=this._layer)===null||e===void 0||e.setStyle(a),(n=this._hintline)===null||n===void 0||n.setStyle(this.options.hintlineStyle)}});let Pn=function(e){if(!e)throw new Error("geojson is required");var n=[];return Nt(e,function(a){(function(c,p){var C=[],B=c.geometry;if(B!==null){switch(B.type){case"Polygon":C=Ie(B);break;case"LineString":C=[Ie(B)]}C.forEach(function(I){var N=function(H,et){var dt=[];return H.reduce(function(ct,kt){var Et,Ut,Ot,Le,le,ce,Ae=Zt([ct,kt],et);return Ae.bbox=(Ut=kt,Ot=(Et=ct)[0],Le=Et[1],le=Ut[0],ce=Ut[1],[Ot<le?Ot:le,Le<ce?Le:ce,Ot>le?Ot:le,Le>ce?Le:ce]),dt.push(Ae),kt}),dt}(I,c.properties);N.forEach(function(H){H.id=p.length,p.push(H)})})}})(a,n)}),Xt(n)};var Tn=y(1787);function Gn(e,n){var a=Ie(e),c=Ie(n);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(c.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var p=a[0][0],C=a[0][1],B=a[1][0],I=a[1][1],N=c[0][0],H=c[0][1],et=c[1][0],dt=c[1][1],ct=(dt-H)*(B-p)-(et-N)*(I-C),kt=(et-N)*(C-H)-(dt-H)*(p-N),Et=(B-p)*(C-H)-(I-C)*(p-N);if(ct===0)return null;var Ut=kt/ct,Ot=Et/ct;return Ut>=0&&Ut<=1&&Ot>=0&&Ot<=1?Tt([p+Ut*(B-p),C+Ut*(I-C)]):null}let Pi=function(e,n){var a={},c=[];if(e.type==="LineString"&&(e=_t(e)),n.type==="LineString"&&(n=_t(n)),e.type==="Feature"&&n.type==="Feature"&&e.geometry!==null&&n.geometry!==null&&e.geometry.type==="LineString"&&n.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&n.geometry.coordinates.length===2){var p=Gn(e,n);return p&&c.push(p),Xt(c)}var C=Tn();return C.load(Pn(n)),vi(Pn(e),function(B){vi(C.search(B),function(I){var N=Gn(B,I);if(N){var H=Ie(N).join(",");a[H]||(a[H]=!0,c.push(N))}})}),Xt(c)},Ti=function(e,n,a){a===void 0&&(a={});var c=Fe(e),p=Fe(n),C=Vt(p[1]-c[1]),B=Vt(p[0]-c[0]),I=Vt(c[1]),N=Vt(p[1]),H=Math.pow(Math.sin(C/2),2)+Math.pow(Math.sin(B/2),2)*Math.cos(I)*Math.cos(N);return ae(2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H)),a.units)},tr=function(e){var n=e[0],a=e[1],c=e[2],p=e[3];if(Ti(e.slice(0,2),[c,a])>=Ti(e.slice(0,2),[n,p])){var C=(a+p)/2;return[n,C-(c-n)/2,c,C+(c-n)/2]}var B=(n+c)/2;return[B-(p-a)/2,a,B+(p-a)/2,p]};function Si(e){var n=[1/0,1/0,-1/0,-1/0];return Di(e,function(a){n[0]>a[0]&&(n[0]=a[0]),n[1]>a[1]&&(n[1]=a[1]),n[2]<a[0]&&(n[2]=a[0]),n[3]<a[1]&&(n[3]=a[1])}),n}Si.default=Si;let en=Si,nn=function(e,n){n===void 0&&(n={});var a=n.precision,c=n.coordinates,p=n.mutate;if(a=a==null||isNaN(a)?6:a,c=c==null||isNaN(c)?3:c,!e)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof c!="number")throw new Error("<coordinates> must be a number");p!==!1&&p!==void 0||(e=JSON.parse(JSON.stringify(e)));var C=Math.pow(10,a);return Di(e,function(B){(function(I,N,H){I.length>H&&I.splice(H,I.length);for(var et=0;et<I.length;et++)I[et]=Math.round(I[et]*N)/N})(B,C,c)}),e};function Fn(e,n,a){if(a===void 0&&(a={}),a.final===!0)return function(dt,ct){var kt=Fn(ct,dt);return kt=(kt+180)%360}(e,n);var c=Fe(e),p=Fe(n),C=Vt(c[0]),B=Vt(p[0]),I=Vt(c[1]),N=Vt(p[1]),H=Math.sin(B-C)*Math.cos(N),et=Math.cos(I)*Math.sin(N)-Math.sin(I)*Math.cos(N)*Math.cos(B-C);return se(Math.atan2(H,et))}function Sn(e,n,a,c){c===void 0&&(c={});var p=Fe(e),C=Vt(p[0]),B=Vt(p[1]),I=Vt(a),N=ee(n,c.units),H=Math.asin(Math.sin(B)*Math.cos(N)+Math.cos(B)*Math.sin(N)*Math.cos(I));return Tt([se(C+Math.atan2(Math.sin(I)*Math.sin(N)*Math.cos(B),Math.cos(N)-Math.sin(B)*Math.sin(H))),se(H)],c.properties)}let Zn=function(e,n,a){a===void 0&&(a={});var c=Tt([1/0,1/0],{dist:1/0}),p=0;return Nt(e,function(C){for(var B=Ie(C),I=0;I<B.length-1;I++){var N=Tt(B[I]);N.properties.dist=Ti(n,N,a);var H=Tt(B[I+1]);H.properties.dist=Ti(n,H,a);var et=Ti(N,H,a),dt=Math.max(N.properties.dist,H.properties.dist),ct=Fn(N,H),kt=Sn(n,dt,ct+90,a),Et=Sn(n,dt,ct-90,a),Ut=Pi(Zt([kt.geometry.coordinates,Et.geometry.coordinates]),Zt([N.geometry.coordinates,H.geometry.coordinates])),Ot=null;Ut.features.length>0&&((Ot=Ut.features[0]).properties.dist=Ti(n,Ot,a),Ot.properties.location=p+Ti(N,Ot,a)),N.properties.dist<c.properties.dist&&((c=N).properties.index=I,c.properties.location=p),H.properties.dist<c.properties.dist&&((c=H).properties.index=I+1,c.properties.location=p+et),Ot&&Ot.properties.dist<c.properties.dist&&((c=Ot).properties.index=I),p+=et}}),c};function rn(e,n){var a=[],c=Tn();return Nt(n,function(p){if(a.forEach(function(I,N){I.id=N}),a.length){var C=c.search(p);if(C.features.length){var B=_n(p,C);a=a.filter(function(I){return I.id!==B.id}),c.remove(B),vi(En(B,p),function(I){a.push(I),c.insert(I)})}}else(a=En(e,p).features).forEach(function(I){I.bbox||(I.bbox=tr(en(I)))}),c.load(Xt(a))}),Xt(a)}function En(e,n){var a=[],c=Ie(e)[0],p=Ie(e)[e.geometry.coordinates.length-1];if(Ui(c,Fe(n))||Ui(p,Fe(n)))return Xt([e]);var C=Tn(),B=Pn(e);C.load(B);var I=C.search(n);if(!I.features.length)return Xt([e]);var N=_n(n,I),H=function(et,dt,ct){var kt=ct;return vi(et,function(Et,Ut){kt=Ut===0&&ct===void 0?Et:dt(kt,Et,Ut)}),kt}(B,function(et,dt,ct){var kt=Ie(dt)[1],Et=Fe(n);return ct===N.id?(et.push(Et),a.push(Zt(et)),Ui(Et,kt)?[Et]:[Et,kt]):(et.push(kt),et)},[c]);return H.length>1&&a.push(Zt(H)),Xt(a)}function _n(e,n){if(!n.features.length)throw new Error("lines must contain features");if(n.features.length===1)return n.features[0];var a,c=1/0;return vi(n,function(p){var C=Zn(p,e).properties.dist;C<c&&(a=p,c=C)}),a}function Ui(e,n){return e[0]===n[0]&&e[1]===n[1]}let er=function(e,n){if(!e)throw new Error("line is required");if(!n)throw new Error("splitter is required");var a=jn(e),c=jn(n);if(a!=="LineString")throw new Error("line must be LineString");if(c==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(c==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var p=nn(n,{precision:7});switch(c){case"Point":return En(e,p);case"MultiPoint":return rn(e,p);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return rn(e,Pi(e,p))}};function yn(e,n,a){if(a===void 0&&(a={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var c=Fe(e),p=Ci(n),C=p.type,B=n.bbox,I=p.coordinates;if(B&&function(ct,kt){return kt[0]<=ct[0]&&kt[1]<=ct[1]&&kt[2]>=ct[0]&&kt[3]>=ct[1]}(c,B)===!1)return!1;C==="Polygon"&&(I=[I]);for(var N=!1,H=0;H<I.length&&!N;H++)if(Hn(c,I[H][0],a.ignoreBoundary)){for(var et=!1,dt=1;dt<I[H].length&&!et;)Hn(c,I[H][dt],!a.ignoreBoundary)&&(et=!0),dt++;et||(N=!0)}return N}function Hn(e,n,a){var c=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var p=0,C=n.length-1;p<n.length;C=p++){var B=n[p][0],I=n[p][1],N=n[C][0],H=n[C][1];if(e[1]*(B-N)+I*(N-e[0])+H*(e[0]-B)==0&&(B-e[0])*(N-e[0])<=0&&(I-e[1])*(H-e[1])<=0)return!a;I>e[1]!=H>e[1]&&e[0]<(N-B)*(e[1]-I)/(H-I)+B&&(c=!c)}return c}function ir(e,n,a,c,p){var C=a[0],B=a[1],I=e[0],N=e[1],H=n[0],et=n[1],dt=H-I,ct=et-N,kt=(a[0]-I)*ct-(a[1]-N)*dt;if(p!==null){if(Math.abs(kt)>p)return!1}else if(kt!==0)return!1;return c?c==="start"?Math.abs(dt)>=Math.abs(ct)?dt>0?I<C&&C<=H:H<=C&&C<I:ct>0?N<B&&B<=et:et<=B&&B<N:c==="end"?Math.abs(dt)>=Math.abs(ct)?dt>0?I<=C&&C<H:H<C&&C<=I:ct>0?N<=B&&B<et:et<B&&B<=N:c==="both"&&(Math.abs(dt)>=Math.abs(ct)?dt>0?I<C&&C<H:H<C&&C<I:ct>0?N<B&&B<et:et<B&&B<N):Math.abs(dt)>=Math.abs(ct)?dt>0?I<=C&&C<=H:H<=C&&C<=I:ct>0?N<=B&&B<=et:et<=B&&B<=N}let qi=function(e,n,a){a===void 0&&(a={});for(var c=Fe(e),p=Ie(n),C=0;C<p.length-1;C++){var B=!1;if(a.ignoreEndVertices&&(C===0&&(B="start"),C===p.length-2&&(B="end"),C===0&&C+1===p.length-1&&(B="both")),ir(p[C],p[C+1],c,B,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1};function Vi(e,n){var a=Ci(e),c=Ci(n),p=a.type,C=c.type,B=a.coordinates,I=c.coordinates;switch(p){case"Point":if(C==="Point")return On(B,I);throw new Error("feature2 "+C+" geometry not supported");case"MultiPoint":switch(C){case"Point":return function(N,H){var et,dt=!1;for(et=0;et<N.coordinates.length;et++)if(On(N.coordinates[et],H.coordinates)){dt=!0;break}return dt}(a,c);case"MultiPoint":return function(N,H){for(var et=0,dt=H.coordinates;et<dt.length;et++){for(var ct=dt[et],kt=!1,Et=0,Ut=N.coordinates;Et<Ut.length;Et++)if(On(ct,Ut[Et])){kt=!0;break}if(!kt)return!1}return!0}(a,c);default:throw new Error("feature2 "+C+" geometry not supported")}case"LineString":switch(C){case"Point":return qi(c,a,{ignoreEndVertices:!0});case"LineString":return function(N,H){for(var et=!1,dt=0,ct=H.coordinates;dt<ct.length;dt++){var kt=ct[dt];if(qi({type:"Point",coordinates:kt},N,{ignoreEndVertices:!0})&&(et=!0),!qi({type:"Point",coordinates:kt},N,{ignoreEndVertices:!1}))return!1}return et}(a,c);case"MultiPoint":return function(N,H){for(var et=!1,dt=0,ct=H.coordinates;dt<ct.length;dt++){var kt=ct[dt];if(qi(kt,N,{ignoreEndVertices:!0})&&(et=!0),!qi(kt,N))return!1}return!!et}(a,c);default:throw new Error("feature2 "+C+" geometry not supported")}case"Polygon":switch(C){case"Point":return yn(c,a,{ignoreBoundary:!0});case"LineString":return function(N,H){var et=!1,dt=0,ct=en(N),kt=en(H);if(!Un(ct,kt))return!1;for(;dt<H.coordinates.length-1;dt++)if(yn({type:"Point",coordinates:on(H.coordinates[dt],H.coordinates[dt+1])},N,{ignoreBoundary:!0})){et=!0;break}return et}(a,c);case"Polygon":return function(N,H){if(N.type==="Feature"&&N.geometry===null||H.type==="Feature"&&H.geometry===null)return!1;var et=en(N),dt=en(H);if(!Un(et,dt))return!1;for(var ct=Ci(H).coordinates,kt=0,Et=ct;kt<Et.length;kt++)for(var Ut=0,Ot=Et[kt];Ut<Ot.length;Ut++)if(!yn(Ot[Ut],N))return!1;return!0}(a,c);case"MultiPoint":return function(N,H){for(var et=0,dt=H.coordinates;et<dt.length;et++)if(!yn(dt[et],N,{ignoreBoundary:!0}))return!1;return!0}(a,c);default:throw new Error("feature2 "+C+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function Un(e,n){return!(e[0]>n[0])&&!(e[2]<n[2])&&!(e[1]>n[1])&&!(e[3]<n[3])}function On(e,n){return e[0]===n[0]&&e[1]===n[1]}function on(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2]}var he=y(2676),xe=y.n(he);function Bi(e){var n={type:"Feature"};return n.geometry=e,n}function Te(e){return e.type==="Feature"?e.geometry:e}function si(e){return e&&e.geometry&&e.geometry.coordinates?e.geometry.coordinates:e}function Wi(e){return Bi({type:"Polygon",coordinates:e})}function ie(e){return Bi({type:"MultiPolygon",coordinates:e})}function Se(e){return Array.isArray(e)?1+Se(e[0]):-1}function vn(e){e instanceof L.Polyline&&(e=e.toGeoJSON(15));var n=si(e),a=Se(n),c=[];return a>1?n.forEach(function(p){c.push(function(C){return Bi({type:"LineString",coordinates:C})}(p))}):c.push(e),c}function bn(e){var n=[];return e.eachLayer(function(a){n.push(si(a.toGeoJSON(15)))}),function(a){return Bi({type:"MultiLineString",coordinates:a})}(n)}function $e(e,n){return function(a){if(Array.isArray(a))return a}(e)||function(a,c){var p=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var C,B,I=[],N=!0,H=!1;try{for(p=p.call(a);!(N=(C=p.next()).done)&&(I.push(C.value),!c||I.length!==c);N=!0);}catch(et){H=!0,B=et}finally{try{N||p.return==null||p.return()}finally{if(H)throw B}}return I}}(e,n)||function(a,c){if(a){if(typeof a=="string")return qn(a,c);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return qn(a,c)}}(e,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qn(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,c=new Array(n);a<n;a++)c[a]=e[a];return c}function Dn(e){return function(n){if(Array.isArray(n))return Ei(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||function(n,a){if(n){if(typeof n=="string")return Ei(n,a);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Ei(n,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ei(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,c=new Array(n);a<n;a++)c[a]=e[a];return c}G.Cut=G.Polygon.extend({initialize:function(e){this._map=e,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var e=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var n=this._layer.getLatLngs();if(!(n.length<=2)){var a=L.polygon(n,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(c){var p=c.layer,C=c.originalLayer;e._fireCut(C,p,C),e._fireCut(e._map,p,C),C.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(e){var n=this,a=this._map._layers,c=e._latlngInfos||[];Object.keys(a).map(function(p){return a[p]}).filter(function(p){return p.pm}).filter(function(p){return!p._pmTempLayer}).filter(function(p){return!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1}).filter(function(p){return p instanceof L.Polyline}).filter(function(p){return p!==e}).filter(function(p){return p.pm.options.allowCutting}).filter(function(p){return!(n.options.layersToCut&&L.Util.isArray(n.options.layersToCut)&&n.options.layersToCut.length>0)||n.options.layersToCut.indexOf(p)>-1}).filter(function(p){return!n._layerGroup.hasLayer(p)}).filter(function(p){try{var C=!!Pi(e.toGeoJSON(15),p.toGeoJSON(15)).features.length>0;return C||p instanceof L.Polyline&&!(p instanceof L.Polygon)?C:(B=e.toGeoJSON(15),I=p.toGeoJSON(15),N=Te(B),H=Te(I),!((et=xe().intersection(N.coordinates,H.coordinates)).length===0||!(et.length===1?Wi(et[0]):ie(et))))}catch{return p instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var B,I,N,H,et}).forEach(function(p){var C;if(p instanceof L.Polygon){var B=(C=L.polygon(p.getLatLngs())).getLatLngs();c.forEach(function(ct){if(ct&&ct.snapInfo){var kt=ct.latlng,Et=n._calcClosestLayer(kt,[C]);if(Et&&Et.segment&&Et.distance<n.options.snapDistance){var Ut=Et.segment;if(Ut&&Ut.length===2){var Ot=L.PM.Utils._getIndexFromSegment(B,Ut),Le=Ot.indexPath,le=Ot.parentPath,ce=Ot.newIndex;(Le.length>1?St()(B,le):B).splice(ce,0,kt)}}}})}else C=p;var I=n._cutLayer(e,C),N=L.geoJSON(I,p.options);if(N.getLayers().length===1){var H=N.getLayers();N=$e(H,1)[0]}n._setPane(N,"layerPane");var et=N.addTo(n._map.pm._getContainingLayer());if(et.pm.enable(p.pm.options),et.pm.disable(),p._pmTempLayer=!0,e._pmTempLayer=!0,p.remove(),p.removeFrom(n._map.pm._getContainingLayer()),e.remove(),e.removeFrom(n._map.pm._getContainingLayer()),et.getLayers&&et.getLayers().length===0&&n._map.pm.removeLayer({target:et}),et instanceof L.LayerGroup&&et.eachLayer(function(ct){n._addDrawnLayerProp(ct)}),n._addDrawnLayerProp(et),n.options.layersToCut&&L.Util.isArray(n.options.layersToCut)&&n.options.layersToCut.length>0){var dt=n.options.layersToCut.indexOf(p);dt>-1&&n.options.layersToCut.splice(dt,1)}n._editedLayers.push({layer:et,originalLayer:p})})},_cutLayer:function(e,n){var a,c,p,C,B,I,N=L.geoJSON();if(n instanceof L.Polygon)c=n.toGeoJSON(15),p=e.toGeoJSON(15),C=Te(c),B=Te(p),a=(I=xe().difference(C.coordinates,B.coordinates)).length===0?null:I.length===1?Wi(I[0]):ie(I);else{var H=vn(n);H.forEach(function(et){var dt=er(et,e.toGeoJSON(15));(dt&&dt.features.length>0?L.geoJSON(dt):L.geoJSON(et)).getLayers().forEach(function(ct){Vi(e.toGeoJSON(15),ct.toGeoJSON(15))||ct.addTo(N)})}),a=H.length>1?bn(N):N.toGeoJSON(15)}return a},_change:L.Util.falseFn}),G.Text=G.extend({initialize:function(e){this._map=e,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ft("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var n=e;n.target=this._hintMarker,this._handleSnapping(n)}},_createMarker:function(e){var n;if(e.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(n=this.options.textOptions)!==null&&n!==void 0&&n.className){var c,p=this.options.textOptions.className.split(" ");(c=this.textArea.classList).add.apply(c,Dn(p))}var C=this._createTextIcon(this.textArea),B=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:C});if(this._setPane(B,"markerPane"),this._finishLayer(B),B.pm||(B.options.draggable=!1),B.addTo(this._map.pm._getContainingLayer()),B.pm){var I,N,H,et,dt;B.pm.textArea=this.textArea,L.setOptions(B.pm,{removeIfEmpty:(I=(N=this.options.textOptions)===null||N===void 0?void 0:N.removeIfEmpty)===null||I===void 0||I});var ct=(H=(et=this.options.textOptions)===null||et===void 0?void 0:et.focusAfterDraw)===null||H===void 0||H;B.pm._createTextMarker(ct),(dt=this.options.textOptions)!==null&&dt!==void 0&&dt.text&&B.pm.setText(this.options.textOptions.text)}this._fireCreate(B),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var e=document.createElement("textarea");return e.autofocus=!0,e.readOnly=!0,e.classList.add("pm-textarea","pm-disabled"),e},_createTextIcon:function(e){return L.divIcon({className:"pm-text-marker",html:e})}});let _e={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,ri(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var e=this._getDOMElem();e&&(ri(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(e)):L.DomEvent.on(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,ri(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var e=this._getDOMElem();e&&(ri(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(e)):L.DomEvent.off(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(e){var n=e.touches?e.touches[0]:e,a={originalEvent:n,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(n),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent:function(e){var n=e.touches?e.touches[0]:e,a={originalEvent:n,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(n),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent:function(e){var n={originalEvent:e.touches?e.touches[0]:e,target:this._layer};return e.type.indexOf("touch")===-1&&(n.containerPoint=this._map.mouseEventToContainerPoint(e),n.latlng=this._map.containerPointToLatLng(n.containerPoint)),this._dragMixinOnMouseUp(n),!1},_dragMixinOnMouseDown:function(e){if(!(e.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(e);var n=e._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",e);this._layer instanceof L.Marker&&(!this.options.snappable||n||a?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||n||a?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=e.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(e){this._overwriteEventIfItComesFromMarker(e);var n=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",e),this._dragging||(this._dragging=!0,L.DomUtil.addClass(n,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=e.latlng),this._onLayerDrag(e),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(e){var n=this,a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",e),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){n._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),n._fireDragEnd(),n._fireEdit(),n._layerEdited=!0},10),!0)},_onLayerDrag:function(e){var n=e.latlng,a=n.lat-this._tempDragCoord.lat,c=n.lng-this._tempDragCoord.lng,p=function et(dt){return dt.map(function(ct){if(Array.isArray(ct))return et(ct);var kt={lat:ct.lat+a,lng:ct.lng+c};return(ct.alt||ct.alt===0)&&(kt.alt=ct.alt),kt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var C=p([this._layer.getLatLng()]);this._layer.setLatLng(C[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var B=this._layer.getLatLng();this._layer._snapped&&(B=this._layer._orgLatLng);var I=p([B]);this._layer.setLatLng(I[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var N=p([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(N),this._fireChange(this._layer.getBounds(),"Edit")}else{var H=p(this._layer.getLatLngs());this._layer.setLatLngs(H),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=n,e.layer=this._layer,this._fireDrag(e)},addDraggingClass:function(){var e=this._getDOMElem();e&&L.DomUtil.addClass(e,"leaflet-pm-draggable")},removeDraggingClass:function(){var e=this._getDOMElem();e&&L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_getDOMElem:function(){var e=null;return this._layer._path?e=this._layer._path:this._layer._renderer&&this._layer._renderer._container?e=this._layer._renderer._container:this._layer._image?e=this._layer._image:this._layer._icon&&(e=this._layer._icon),e},_overwriteEventIfItComesFromMarker:function(e){e.target.getLatLng&&(!e.target._radius||e.target._radius<=10)&&(e.containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),e.latlng=this._map.containerPointToLatLng(e.containerPoint))},_syncLayers:function(e,n){var a=this;if(this.enabled())return!1;if(!n._fromLayerSync&&this._layer===n.target&&this.options.syncLayersOnDrag){n._fromLayerSync=!0;var c=[];if(L.Util.isArray(this.options.syncLayersOnDrag))c=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(B){B instanceof L.LayerGroup&&(c=c.concat(B.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var p in this._parentLayerGroup){var C=this._parentLayerGroup[p];C.pm&&(c=C.pm.getLayers(!0))}return L.Util.isArray(c)&&c.length>0&&(c=c.filter(function(B){return!!B.pm}).filter(function(B){return!!B.pm.options.draggable})).forEach(function(B){B!==a._layer&&B.pm[e]&&(B._snapped=!1,B.pm[e](n))}),c.length>0}return!1},_stopDOMImageDrag:function(e){return e.preventDefault(),!1}};function Oi(e,n,a){var c=a.getMaxZoom();if(c===1/0&&(c=a.getZoom()),L.Util.isArray(e)){var p=[];return e.forEach(function(C){p.push(Oi(C,n,a))}),p}return e instanceof L.LatLng?function(C,B,I,N){return I.unproject(B.transform(I.project(C,N)),N)}(e,n,a,c):null}function Qe(e,n){n instanceof L.Layer&&(n=n.getLatLng());var a=e.getMaxZoom();return a===1/0&&(a=e.getZoom()),e.project(n,a)}function Ri(e,n){var a=e.getMaxZoom();return a===1/0&&(a=e.getZoom()),e.unproject(n,a)}var Vn={_onRotateStart:function(e){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Qe(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Qe(this._map,e.target.getLatLng()),this._initialRotateLatLng=ei(this._layer),this._startAngle=this.getAngle();var n=ei(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,n),this._fireRotationStart(this._map,n)},_onRotate:function(e){var n=Qe(this._map,e.target.getLatLng()),a=this._rotationStartPoint,c=this._rotationOriginPoint,p=Math.atan2(n.y-c.y,n.x-c.x)-Math.atan2(a.y-c.y,a.x-c.x);this._layer.setLatLngs(this._rotateLayer(p,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var C=this;(function H(et){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ct>-1&&dt.push(ct),L.Util.isArray(et[0]))et.forEach(function(Et,Ut){return H(Et,dt.slice(),Ut)});else{var kt=St()(C._markers,dt);et.forEach(function(Et,Ut){kt[Ut].setLatLng(Et)})}})(this._layer.getLatLngs());var B=ei(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(p,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var I=180*p/Math.PI,N=(I=I<0?I+360:I)+this._startAngle;this._setAngle(N),this._rotationLayer.pm._setAngle(N),this._fireRotation(this._rotationLayer,I,B),this._fireRotation(this._map,I,B),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var e=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var n=ei(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=ei(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,e,n),this._fireRotationEnd(this._map,e,n),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(e,n,a,c,p){var C=Qe(p,a);return this._matrix=c.clone().rotate(e,C).flip(),Oi(n,this._matrix,p)},_setAngle:function(e){e=e<0?e+360:e,this._angle=e%360},_getRotationCenter:function(){var e=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),n=e.getCenter();return e.removeFrom(this._layer._map),n},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=ei(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(e){var n=this.getAngle(),a=this._layer.getLatLngs(),c=e*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(c,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+e),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(c,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var p=this.getAngle()-n;p=p<0?p+360:p,this._startAngle=n,this._fireRotation(this._layer,p,a,this._layer),this._fireRotation(this._map||this._layer._map,p,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(e){var n=e-this.getAngle();this.rotateLayer(n)},getAngle:function(){return this._angle||0},setInitAngle:function(e){this._setAngle(e)}};let mi=Vn,we=L.Class.extend({includes:[_e,S,mi,At],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(e){L.Util.setOptions(this,e)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(e,n){n==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":n==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":n==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(e,n){var a=n.target,c={layer:this._layer,marker:a,event:n},p="";return e==="move"?p="moveVertexValidation":e==="add"?p="addVertexValidation":e==="remove"&&(p="removeVertexValidation"),this.options[p]&&typeof this.options[p]=="function"&&!this.options[p](c)?(e==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(e){return!e._cancelDragEventChain||(e._latlng=e._cancelDragEventChain,e.update(),!1)},_vertexValidationDragEnd:function(e){return!e._cancelDragEventChain||(e._cancelDragEventChain=null,!1)}});function Ii(e){return function(n){if(Array.isArray(n))return an(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||function(n,a){if(n){if(typeof n=="string")return an(n,a);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return an(n,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function an(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,c=new Array(n);a<n;a++)c[a]=e[a];return c}we.LayerGroup=L.Class.extend({initialize:function(e){var n=this;this._layerGroup=e,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(a){return n._initLayer(a)}),this._layerGroup.on("layeradd",L.Util.throttle(function(a){if(!a.layer._pmTempLayer){n._layers=n.getLayers();var c=n._layers.filter(function(p){return!p.pm._parentLayerGroup||!(n._layerGroup._leaflet_id in p.pm._parentLayerGroup)});c.forEach(function(p){n._initLayer(p)}),c.length>0&&n._getMap()&&n._getMap().pm.globalEditModeEnabled()&&n.enabled()&&n.enable(n.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(a){n._removeLayerFromGroup(a.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(a){a.target._pmTempLayer||(n._layers=n.getLayers())},100,this),this)},enable:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(function(a){a instanceof L.LayerGroup?n.indexOf(a._leaflet_id)===-1&&(n.push(a._leaflet_id),a.pm.enable(e,n)):a.pm.enable(e)})},disable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(n){n instanceof L.LayerGroup?e.indexOf(n._leaflet_id)===-1&&(e.push(n._leaflet_id),n.pm.disable(e)):n.pm.disable()})},enabled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length===0&&(this._layers=this.getLayers());var n=this._layers.find(function(a){return a instanceof L.LayerGroup?e.indexOf(a._leaflet_id)===-1&&(e.push(a._leaflet_id),a.pm.enabled(e)):a.pm.enabled()});return!!n},toggleEdit:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(function(a){a instanceof L.LayerGroup?n.indexOf(a._leaflet_id)===-1&&(n.push(a._leaflet_id),a.pm.toggleEdit(e,n)):a.pm.toggleEdit(e)})},_initLayer:function(e){var n=L.Util.stamp(this._layerGroup);e.pm._parentLayerGroup||(e.pm._parentLayerGroup={}),e.pm._parentLayerGroup[n]=this._layerGroup},_removeLayerFromGroup:function(e){if(e.pm&&e.pm._layerGroup){var n=L.Util.stamp(this._layerGroup);delete e.pm._layerGroup[n]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var e=this._layers.find(function(n){return n.pm.dragging()});return!!e}return!1},getOptions:function(){return this.options},_getMap:function(){var e;return this._map||((e=this._layers.find(function(n){return!!n._map}))===null||e===void 0?void 0:e._map)||null},getLayers:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],p=[];return e?this._layerGroup.getLayers().forEach(function(C){p.push(C),C instanceof L.LayerGroup&&c.indexOf(C._leaflet_id)===-1&&(c.push(C._leaflet_id),p=p.concat(C.pm.getLayers(!0,!0,!0,c)))}):p=this._layerGroup.getLayers(),a&&(p=p.filter(function(C){return!(C instanceof L.LayerGroup)})),n&&(p=(p=(p=p.filter(function(C){return!!C.pm})).filter(function(C){return!C._pmTempLayer})).filter(function(C){return!L.PM.optIn&&!C.options.pmIgnore||L.PM.optIn&&C.options.pmIgnore===!1})),p},setOptions:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.length===0&&(this._layers=this.getLayers()),this.options=e,this._layers.forEach(function(a){a.pm&&(a instanceof L.LayerGroup?n.indexOf(a._leaflet_id)===-1&&(n.push(a._leaflet_id),a.pm.setOptions(e,n)):a.pm.setOptions(e))})}}),we.Marker=we.extend({_shape:"Marker",initialize:function(e){this._layer=e,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,e),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(e){var n=e.target;n.remove(),this._fireRemove(n),this._fireRemove(this._map,n)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)}});let Ki={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var e=[].concat(Ii(this._markerGroup.getLayers()),Ii(this.markerCache));this.markerCache=e.filter(function(n,a,c){return c.indexOf(n)===a})},renderLimits:function(e){var n=this;this.markerCache.forEach(function(a){e.includes(a)?n._markerGroup.addLayer(a):n._markerGroup.removeLayer(a)})},applyLimitFilters:function(e){var n=e.latlng,a=n===void 0?{lat:0,lng:0}:n;if(!this._preventRenderMarkers){var c=Ii(this._filterClosestMarkers(a));this.renderLimits(c)}},_filterClosestMarkers:function(e){var n=Ii(this.markerCache),a=this.options.limitMarkersToCount;return a===-1?n:(n.sort(function(c,p){return c._latlng.distanceTo(e)-p._latlng.distanceTo(e)}),n.filter(function(c,p){return!(a>-1)||p<a}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(e){this._preventRenderMarkers=!!e}};function Bn(e,n){return function(a){if(Array.isArray(a))return a}(e)||function(a,c){var p=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var C,B,I=[],N=!0,H=!1;try{for(p=p.call(a);!(N=(C=p.next()).done)&&(I.push(C.value),!c||I.length!==c);N=!0);}catch(et){H=!0,B=et}finally{try{N||p.return==null||p.return()}finally{if(H)throw B}}return I}}(e,n)||function(a,c){if(a){if(typeof a=="string")return $i(a,c);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return $i(a,c)}}(e,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $i(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,c=new Array(n);a<n;a++)c[a]=e[a];return c}function Wn(e){return function(n){if(Array.isArray(n))return sn(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||function(n,a){if(n){if(typeof n=="string")return sn(n,a);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return sn(n,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sn(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,c=new Array(n);a<n;a++)c[a]=e[a];return c}we.Line=we.extend({includes:[Ki],_shape:"Line",initialize:function(e){this._layer=e,this._enabled=!1},enable:function(e){L.Util.setOptions(this,e),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(e,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(e){return this.enabled()?this.disable():this.enable(e),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var e=this,n=this._map,a=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function c(p){if(Array.isArray(p[0]))return p.map(c,e);var C=p.map(e._createMarker,e);return e.options.hideMiddleMarkers!==!0&&p.map(function(B,I){var N=e.isPolygon()?(I+1)%p.length:I+1;return e._createMiddleMarker(C[I],C[N])}),C}(a),this.filterMarkerGroup(),n.addLayer(this._markerGroup)},_createMarker:function(e){var n=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this.options.rotate?(n.on("dragstart",this._onRotateStart,this),n.on("drag",this._onRotate,this),n.on("dragend",this._onRotateEnd,this)):(n.on("click",this._onVertexClick,this),n.on("dragstart",this._onMarkerDragStart,this),n.on("move",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||n.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(n),n},_createMiddleMarker:function(e,n){if(!e||!n)return!1;var a=L.PM.Utils.calcMiddleLatLng(this._map,e.getLatLng(),n.getLatLng()),c=this._createMarker(a),p=L.divIcon({className:"marker-icon marker-icon-middle"});return c.setIcon(p),c.leftM=e,c.rightM=n,e._middleMarkerNext=c,n._middleMarkerPrev=c,c.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),c.on("movestart",this._onMiddleMarkerMoveStart,this),c},_onMiddleMarkerClick:function(e){var n=e.target;if(this._vertexValidation("add",e)){var a=L.divIcon({className:"marker-icon"});n.setIcon(a),this._addMarker(n,n.leftM,n.rightM)}},_onMiddleMarkerMoveStart:function(e){var n=e.target;n.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",e)?(n._dragging=!0,this._addMarker(n,n.leftM,n.rightM)):n.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(e){var n=e.target;this._vertexValidationDrag(n)},_onMiddleMarkerMoveEnd:function(e){var n=e.target;if(n.off("move",this._onMiddleMarkerMovePrevent,this),n.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(n)){var a=L.divIcon({className:"marker-icon"});n.setIcon(a),setTimeout(function(){delete n._dragging},100)}},_addMarker:function(e,n,a){e.off("movestart",this._onMiddleMarkerMoveStart,this),e.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var c=e.getLatLng(),p=this._layer._latlngs;delete e.leftM,delete e.rightM;var C=L.PM.Utils.findDeepMarkerIndex(this._markers,n),B=C.indexPath,I=C.index,N=C.parentPath,H=B.length>1?St()(p,N):p,et=B.length>1?St()(this._markers,N):this._markers;H.splice(I+1,0,c),et.splice(I+1,0,e),this._layer.setLatLngs(p),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(n,e),this._createMiddleMarker(e,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(e,L.PM.Utils.findDeepMarkerIndex(this._markers,e).indexPath,c),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return Ce(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(e){var n=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;e?this._flashLayer():(n.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(Ce(this._layer.toGeoJSON(15)))}else n.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var e=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){e._layer.setStyle({color:e.cachedColor}),e.isRed=!1},200)},_updateDisabledMarkerStyle:function(e,n){var a=this;e.forEach(function(c){Array.isArray(c)?a._updateDisabledMarkerStyle(c,n):c._icon&&(n&&!a._checkMarkerAllowedToDrag(c)?L.DomUtil.addClass(c._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(c._icon,"vertexmarker-disabled"))})},_removeMarker:function(e){var n=e.target;if(this._vertexValidation("remove",e)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=ei(this._layer,this._layer.getLatLngs()));var a=this._layer.getLatLngs(),c=L.PM.Utils.findDeepMarkerIndex(this._markers,n),p=c.indexPath,C=c.index,B=c.parentPath;if(p){var I=p.length>1?St()(a,B):a,N=p.length>1?St()(this._markers,B):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(I.length<=2||this.isPolygon()&&I.length<=3)){I.splice(C,1),this._layer.setLatLngs(a),this.isPolygon()&&I.length<=2&&I.splice(0,I.length);var H=!1;if(I.length<=1&&(I.splice(0,I.length),B.length>1&&p.length>1&&(a=ue(a)),this._layer.setLatLngs(a),this._initMarkers(),H=!0),$t(a)||this._layer.remove(),a=ue(a),this._layer.setLatLngs(a),this._markers=ue(this._markers),!H&&(N=p.length>1?St()(this._markers,B):this._markers,n._middleMarkerPrev&&this._markerGroup.removeLayer(n._middleMarkerPrev),n._middleMarkerNext&&this._markerGroup.removeLayer(n._middleMarkerNext),this._markerGroup.removeLayer(n),N)){var et,dt;if(this.isPolygon()?(et=(C+1)%N.length,dt=(C+(N.length-1))%N.length):(dt=C-1<0?void 0:C-1,et=C+1>=N.length?void 0:C+1),et!==dt){var ct=N[dt],kt=N[et];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ct,kt)}N.splice(C,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(n,p),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(e){var n=this._layer.getLatLngs(),a=e.getLatLng(),c=L.PM.Utils.findDeepMarkerIndex(this._markers,e),p=c.indexPath,C=c.index,B=c.parentPath;(p.length>1?St()(n,B):n).splice(C,1,a),this._layer.setLatLngs(n)},_getNeighborMarkers:function(e){var n=L.PM.Utils.findDeepMarkerIndex(this._markers,e),a=n.indexPath,c=n.index,p=n.parentPath,C=a.length>1?St()(this._markers,p):this._markers,B=(c+1)%C.length;return{prevMarker:C[(c+(C.length-1))%C.length],nextMarker:C[B]}},_checkMarkerAllowedToDrag:function(e){var n=this._getNeighborMarkers(e),a=n.prevMarker,c=n.nextMarker,p=L.polyline([a.getLatLng(),e.getLatLng()]),C=L.polyline([e.getLatLng(),c.getLatLng()]),B=Pi(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,I=Pi(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return e.getLatLng()===this._markers[0][0].getLatLng()?I+=1:e.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(B+=1),!(B<=2&&I<=2)},_onMarkerDragStart:function(e){var n=e.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",e)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath;this._fireMarkerDragStart(e,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=ei(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(n):this._markerAllowedToDrag=null}},_onMarkerDrag:function(e){var n=e.target;if(this._vertexValidationDrag(n)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,n),c=a.indexPath,p=a.index,C=a.parentPath;if(c){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(n);var B=c.length>1?St()(this._markers,C):this._markers,I=(p+1)%B.length,N=(p+(B.length-1))%B.length,H=n.getLatLng(),et=B[N].getLatLng(),dt=B[I].getLatLng();if(n._middleMarkerNext){var ct=L.PM.Utils.calcMiddleLatLng(this._map,H,dt);n._middleMarkerNext.setLatLng(ct)}if(n._middleMarkerPrev){var kt=L.PM.Utils.calcMiddleLatLng(this._map,H,et);n._middleMarkerPrev.setLatLng(kt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(e,c),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(e){var n=e.target;if(this._vertexValidationDragEnd(n)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath,c=this.hasSelfIntersection();c&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(c=!1);var p=!this.options.allowSelfIntersection&&c;if(this._fireMarkerDragEnd(e,a,p),p)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(e,a);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(e){var n=e.target;if(!n._dragging){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath;this._fireVertexClick(e,a)}}}),we.Polygon=we.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(e){var n=this._getNeighborMarkers(e),a=n.prevMarker,c=n.nextMarker,p=L.polyline([a.getLatLng(),e.getLatLng()]),C=L.polyline([e.getLatLng(),c.getLatLng()]),B=Pi(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,I=Pi(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return!(B<=2&&I<=2)}}),we.Rectangle=we.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var e=this,n=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,n.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this);var c=Bn(this._markers,1);this._cornerMarkers=c[0],this._layer.getLatLngs()[0].forEach(function(p,C){var B=e._cornerMarkers.find(function(I){return I._index===C});B&&B.setLatLng(p)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(e,n){var a=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=e,a._index=n,a._pmTempLayer=!0,this._markerGroup.addLayer(a),a},_addMarkerEvents:function(){var e=this;this._markers[0].forEach(function(n){n.on("dragstart",e._onMarkerDragStart,e),n.on("drag",e._onMarkerDrag,e),n.on("dragend",e._onMarkerDragEnd,e),e.options.preventMarkerRemoval||n.on("contextmenu",e._removeMarker,e)})},_removeMarker:function(){return null},_onMarkerDragStart:function(e){if(this._vertexValidation("move",e)){var n=e.target,a=this._cornerMarkers;n._oppositeCornerLatLng=a.find(function(c){return c._index===(n._index+2)%4}).getLatLng(),n._snapped=!1,this._fireMarkerDragStart(e)}},_onMarkerDrag:function(e){var n=e.target;this._vertexValidationDrag(n)&&n._index!==void 0&&(this._adjustRectangleForMarkerMove(n),this._fireMarkerDrag(e),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(e){var n=e.target;this._vertexValidationDragEnd(n)&&(this._cornerMarkers.forEach(function(a){delete a._oppositeCornerLatLng}),this._fireMarkerDragEnd(e),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(e){L.extend(e._origLatLng,e._latlng);var n=L.PM.Utils._getRotatedRectangle(e.getLatLng(),e._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(n),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var e=this,n=this._layer.getLatLngs()[0];n&&n.length!==4&&n.length>0?(n.forEach(function(a,c){e._cornerMarkers[c].setLatLng(a)}),this._cornerMarkers.slice(n.length).forEach(function(a){a.setLatLng(n[0])})):n&&n.length?this._cornerMarkers.forEach(function(a){a.setLatLng(n[a._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this._angle||0,this._map)}}),we.Circle=we.extend({_shape:"Circle",initialize:function(e){this._layer=e,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(e){L.Util.setOptions(this,e),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},_initMarkers:function(){var e=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);var n=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(n,a);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(c),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(e,n){var a=e.getLatLng(),c=n.getLatLng();this._hintline=L.polyline([a,c],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(e){var n=this._createMarker(e);return L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"),n.on("drag",this._moveCircle,this),n.on("dragstart",this._onCircleDragStart,this),n.on("drag",this._onCircleDrag,this),n.on("dragend",this._onCircleDragEnd,this),n},_createOuterMarker:function(e){var n=this._createMarker(e);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(e){var n=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=e,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(e){if(!e.target._cancelDragEventChain){var n=e.latlng;this._layer.setLatLng(n);var a=this._layer._radius,c=this._getLatLngOnCircle(n,a);this._outerMarker._latlng=c,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),a=this._map.distance(e,n);this.options.minRadiusCircle&&a<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,n])},_disableSnapping:function(){var e=this;this._markers.forEach(function(n){n.off("move",e._syncHintLine,e),n.off("move",e._syncCircleRadius,e),n.off("drag",e._handleSnapping,e),n.off("dragend",e._cleanupSnapping,e)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag:function(e){var n=e.target;this._vertexValidationDrag(n)&&this._fireMarkerDrag(e)},_onMarkerDragEnd:function(e){var n=e.target;this._vertexValidationDragEnd(n)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(e))},_onCircleDragStart:function(e){this._vertexValidationDrag(e.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(e){this._vertexValidationReset||this._fireDrag(e)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var e=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!e).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!e),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(e,n){var a=this._map.project(e),c=L.point(a.x+n,a.y);return this._map.unproject(c)},_getNewDestinationOfOuterMarker:function(){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),a=this._map.distance(e,n);return this.options.minRadiusCircle&&a<this.options.minRadiusCircle?n=je(this._map,e,n,this.options.minRadiusCircle):this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(n=je(this._map,e,n,this.options.maxRadiusCircle)),n},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),a=this._map.distance(e,n);(this.options.minRadiusCircle&&a<this.options.minRadiusCircle||this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),we.CircleMarker=we.extend({_shape:"CircleMarker",initialize:function(e){this._layer=e,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,e),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var e=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);var n=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(n,a);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(c),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(e,n){var a=this._map.project(e),c=L.point(a.x+n,a.y);return this._map.unproject(c)},_createHintLine:function(e,n){var a=e.getLatLng(),c=n.getLatLng();this._hintline=L.polyline([a,c],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(e){var n=this._createMarker(e);return this.options.draggable?L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"):n.dragging.disable(),n},_createOuterMarker:function(e){var n=this._createMarker(e);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(e){var n=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=e,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_moveCircle:function(){var e=this._centerMarker.getLatLng();this._layer.setLatLng(e);var n=this._layer._radius,a=this._getLatLngOnCircle(e,n);this._outerMarker._latlng=a,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var e=this._layer.getLatLng(),n=this._layer._radius,a=this._getLatLngOnCircle(e,n);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),a=this._map.project(e).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,n])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag:function(e){var n=e.target;n instanceof L.Marker&&!this._vertexValidationDrag(n)||this._fireMarkerDrag(e)},_onMarkerDragEnd:function(e){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var n=e.target;this._vertexValidationDragEnd(n)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(e))},_initSnappableMarkersDrag:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var e=this._layer._map||this._map;if(e){var n=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),e,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(n);var c=e&&e.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!c).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!c),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),a=this._map.project(e).distanceTo(this._map.project(n));return this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker?n=je(this._map,e,n,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,e)):this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker&&(n=je(this._map,e,n,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,e))),n},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var e=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),a=this._map.project(e).distanceTo(this._map.project(n));(this.options.minRadiusCircleMarker&&a<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&a>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),we.ImageOverlay=we.extend({_shape:"ImageOverlay",initialize:function(e){this._layer=e,this._enabled=!1},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},enabled:function(){return this._enabled},enable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,e),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var e=this._layer.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]}}),we.Text=we.extend({_shape:"Text",initialize:function(e){this._layer=e,this._enabled=!1},enable:function(e){L.Util.setOptions(this,e),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var e=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),e.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var e=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,n=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(e,"px"),this.textArea.style.width="".concat(n,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var e=this;this._disableOnBlurActive=!0,setTimeout(function(){e.enabled()&&L.DomEvent.on(document,"click",e._documentClick,e)},100)},_documentClick:function(e){e.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._hasFocus;this._hasFocus=e.type==="focus",!n!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(e){this.textArea.value=e,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var e,n=this.options.className.split(" ");(e=this.textArea.classList).add.apply(e,Wn(n))}var a=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(a),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),e===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(e){e.preventDefault()}});var Kn=function(e,n,a,c,p,C){this._matrix=[e,n,a,c,p,C]};Kn.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Kn.prototype={transform:function(e){return this._transform(e.clone())},_transform:function(e){var n=this._matrix,a=e.x,c=e.y;return e.x=n[0]*a+n[1]*c+n[4],e.y=n[2]*a+n[3]*c+n[5],e},untransform:function(e){var n=this._matrix;return new L.Point((e.x/n[0]-n[4])/n[0],(e.y/n[2]-n[5])/n[2])},clone:function(){var e=this._matrix;return new L.PM.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(e){return e===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof e=="number"?(n=e,a=e):(n=e.x,a=e.y),this._add(1,0,0,1,n,a));var n,a},scale:function(e,n){return e===void 0?new L.Point(this._matrix[0],this._matrix[3]):(n=n||L.point(0,0),typeof e=="number"?(a=e,c=e):(a=e.x,c=e.y),this._add(a,0,0,c,n.x,n.y)._add(1,0,0,1,-n.x,-n.y));var a,c},rotate:function(e,n){var a=Math.cos(e),c=Math.sin(e);return n=n||new L.Point(0,0),this._add(a,c,-c,a,n.x,n.y)._add(1,0,0,1,-n.x,-n.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(e,n,a,c,p,C){var B,I=[[],[],[]],N=this._matrix,H=[[N[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]],et=[[e,a,p],[n,c,C],[0,0,1]];e&&e instanceof L.PM.Matrix&&(et=[[(N=e._matrix)[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]]);for(var dt=0;dt<3;dt+=1)for(var ct=0;ct<3;ct+=1){B=0;for(var kt=0;kt<3;kt+=1)B+=H[dt][kt]*et[kt][ct];I[dt][ct]=B}return this._matrix=[I[0][0],I[1][0],I[0][1],I[1][1],I[0][2],I[1][2]],this}};let Qt=Kn;var bi={calcMiddleLatLng:function(e,n,a){var c=e.project(n),p=e.project(a);return e.unproject(c._add(p)._divideBy(2))},findLayers:function(e){var n=[];return e.eachLayer(function(a){(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&n.push(a)}),n=(n=(n=n.filter(function(a){return!!a.pm})).filter(function(a){return!a._pmTempLayer})).filter(function(a){return!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1})},circleToPolygon:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=e.getLatLng(),p=e.getRadius(),C=ti(c,p,n,0,a),B=[],I=0;I<C.length;I+=1){var N=[C[I].lat,C[I].lng];B.push(N)}return L.polygon(B,e.options)},disablePopup:function(e){e.getPopup()&&(e._tempPopupCopy=e.getPopup(),e.unbindPopup())},enablePopup:function(e){e._tempPopupCopy&&(e.bindPopup(e._tempPopupCopy),delete e._tempPopupCopy)},_fireEvent:function(e,n,a){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3];e.fire(n,a,c);var p=this.getAllParentGroups(e),C=p.groups;C.forEach(function(B){B.fire(n,a,c)})},getAllParentGroups:function(e){var n=[],a=[];return!e._pmLastGroupFetch||!e._pmLastGroupFetch.time||new Date().getTime()-e._pmLastGroupFetch.time>1e3?(function c(p){for(var C in p._eventParents)if(n.indexOf(C)===-1){n.push(C);var B=p._eventParents[C];a.push(B),c(B)}}(e),e._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:n},{groupIds:n,groups:a}):{groups:e._pmLastGroupFetch.groups,groupIds:e._pmLastGroupFetch.groupIds}},createGeodesicPolygon:ti,getTranslation:Ft,findDeepCoordIndex:function(e,n){var a,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=function B(I){return function(N,H){var et=I.concat(H);if(c){if(N.lat&&N.lat===n.lat&&N.lng===n.lng)return a=et,!0}else if(N.lat&&L.latLng(N).equals(n))return a=et,!0;return Array.isArray(N)&&N.some(B(et))}};e.some(p([]));var C={};return a&&(C={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),C},findDeepMarkerIndex:function(e,n){var a;e.some(function p(C){return function(B,I){var N=C.concat(I);return B._leaflet_id===n._leaflet_id?(a=N,!0):Array.isArray(B)&&B.some(p(N))}}([]));var c={};return a&&(c={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),c},_getIndexFromSegment:function(e,n){if(n&&n.length===2){var a=this.findDeepCoordIndex(e,n[0]),c=this.findDeepCoordIndex(e,n[1]),p=Math.max(a.index,c.index);return a.index!==0&&c.index!==0||p===1||(p+=1),{indexA:a,indexB:c,newIndex:p,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle:function(e,n,a,c){var p=Qe(c,e),C=Qe(c,n),B=a*Math.PI/180,I=Math.cos(B),N=Math.sin(B),H=(C.x-p.x)*I+(C.y-p.y)*N,et=(C.y-p.y)*I-(C.x-p.x)*N,dt=H*I+p.x,ct=H*N+p.y,kt=-et*N+p.x,Et=et*I+p.y;return[Ri(c,p),Ri(c,{x:dt,y:ct}),Ri(c,C),Ri(c,{x:kt,y:Et})]},pxRadiusToMeterRadius:function(e,n,a){var c=n.project(a),p=L.point(c.x+e,c.y);return n.distance(n.unproject(p),a)}};let Me=bi;L.PM=L.PM||{version:"2.14.2",Map:yi,Toolbar:gi,Draw:G,Edit:we,Utils:Me,Matrix:Qt,activeLang:"en",optIn:!1,initialize:function(e){this.addInitHooks(e)},setOptIn:function(e){this.optIn=!!e},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(e){var n=this;e instanceof L.LayerGroup&&e.eachLayer(function(a){n.reInitLayer(a)}),e.pm||L.PM.optIn&&e.options.pmIgnore!==!1||e.options.pmIgnore||(e instanceof L.Map?e.pm=new L.PM.Map(e):e instanceof L.Marker?e.options.textMarker?(e.pm=new L.PM.Edit.Text(e),e.pm._initTextMarker(),e.pm._createTextMarker(!1)):e.pm=new L.PM.Edit.Marker(e):e instanceof L.Circle?e.pm=new L.PM.Edit.Circle(e):e instanceof L.CircleMarker?e.pm=new L.PM.Edit.CircleMarker(e):e instanceof L.Rectangle?e.pm=new L.PM.Edit.Rectangle(e):e instanceof L.Polygon?e.pm=new L.PM.Edit.Polygon(e):e instanceof L.Polyline?e.pm=new L.PM.Edit.Line(e):e instanceof L.LayerGroup?e.pm=new L.PM.Edit.LayerGroup(e):e instanceof L.ImageOverlay&&(e.pm=new L.PM.Edit.ImageOverlay(e)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(e){for(var n,a,c=this._map.mouseEventToLayerPoint(e),p=this._drawFirst;p;p=p.next)(n=p.layer).options.interactive&&n._containsPoint(c)&&(e.type!=="click"&&e.type!=="preclick"||!this._map._draggableMoved(n))&&(a=n);a&&(L.DomEvent.fakeStop(e),this._fireEvent([a],e))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(v){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof v!="function")throw new TypeError("callback must be a function");for(var b=Object(this),y=b.length>>>0,M=arguments[1],P=0;P<y;P++)if(v.call(M,b[P],P,b))return P;return-1},Array.prototype.find=Array.prototype.find||function(v){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof v!="function")throw new TypeError("callback must be a function");for(var b=Object(this),y=b.length>>>0,M=arguments[1],P=0;P<y;P++){var Z=b[P];if(v.call(M,Z,P,b))return Z}},typeof Object.assign!="function"&&(Object.assign=function(v){"use strict";if(v==null)throw new TypeError("Cannot convert undefined or null to object");v=Object(v);for(var b=1;b<arguments.length;b++){var y=arguments[b];if(y!=null)for(var M in y)Object.prototype.hasOwnProperty.call(y,M)&&(v[M]=y[M])}return v}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(v){v.hasOwnProperty("remove")||Object.defineProperty(v,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(v,b){if(this==null)throw new TypeError('"this" is null or not defined');var y=Object(this),M=y.length>>>0;if(M===0)return!1;for(var P,Z,O=0|b,W=Math.max(O>=0?O:M-Math.abs(O),0);W<M;){if((P=y[W])===(Z=v)||typeof P=="number"&&typeof Z=="number"&&isNaN(P)&&isNaN(Z))return!0;W++}return!1}})},1787:(v,b,y)=>{var M=y(2582),P=y(4102),Z=y(1540),O=y(9705).Z,W=Z.featureEach,ut=(Z.coordEach,P.polygon,P.featureCollection);function mt(ot){var J=new M(ot);return J.insert=function(X){if(X.type!=="Feature")throw new Error("invalid feature");return X.bbox=X.bbox?X.bbox:O(X),M.prototype.insert.call(this,X)},J.load=function(X){var Y=[];return Array.isArray(X)?X.forEach(function(K){if(K.type!=="Feature")throw new Error("invalid features");K.bbox=K.bbox?K.bbox:O(K),Y.push(K)}):W(X,function(K){if(K.type!=="Feature")throw new Error("invalid features");K.bbox=K.bbox?K.bbox:O(K),Y.push(K)}),M.prototype.load.call(this,Y)},J.remove=function(X,Y){if(X.type!=="Feature")throw new Error("invalid feature");return X.bbox=X.bbox?X.bbox:O(X),M.prototype.remove.call(this,X,Y)},J.clear=function(){return M.prototype.clear.call(this)},J.search=function(X){var Y=M.prototype.search.call(this,this.toBBox(X));return ut(Y)},J.collides=function(X){return M.prototype.collides.call(this,this.toBBox(X))},J.all=function(){var X=M.prototype.all.call(this);return ut(X)},J.toJSON=function(){return M.prototype.toJSON.call(this)},J.fromJSON=function(X){return M.prototype.fromJSON.call(this,X)},J.toBBox=function(X){var Y;if(X.bbox)Y=X.bbox;else if(Array.isArray(X)&&X.length===4)Y=X;else if(Array.isArray(X)&&X.length===6)Y=[X[0],X[1],X[3],X[4]];else if(X.type==="Feature")Y=O(X);else{if(X.type!=="FeatureCollection")throw new Error("invalid geojson");Y=O(X)}return{minX:Y[0],minY:Y[1],maxX:Y[2],maxY:Y[3]}},J}v.exports=mt,v.exports.default=mt},1989:(v,b,y)=>{var M=y(1789),P=y(401),Z=y(7667),O=y(1327),W=y(1866);function ut(mt){var ot=-1,J=mt==null?0:mt.length;for(this.clear();++ot<J;){var X=mt[ot];this.set(X[0],X[1])}}ut.prototype.clear=M,ut.prototype.delete=P,ut.prototype.get=Z,ut.prototype.has=O,ut.prototype.set=W,v.exports=ut},8407:(v,b,y)=>{var M=y(7040),P=y(4125),Z=y(2117),O=y(7518),W=y(4705);function ut(mt){var ot=-1,J=mt==null?0:mt.length;for(this.clear();++ot<J;){var X=mt[ot];this.set(X[0],X[1])}}ut.prototype.clear=M,ut.prototype.delete=P,ut.prototype.get=Z,ut.prototype.has=O,ut.prototype.set=W,v.exports=ut},7071:(v,b,y)=>{var M=y(852)(y(5639),"Map");v.exports=M},3369:(v,b,y)=>{var M=y(4785),P=y(1285),Z=y(6e3),O=y(9916),W=y(5265);function ut(mt){var ot=-1,J=mt==null?0:mt.length;for(this.clear();++ot<J;){var X=mt[ot];this.set(X[0],X[1])}}ut.prototype.clear=M,ut.prototype.delete=P,ut.prototype.get=Z,ut.prototype.has=O,ut.prototype.set=W,v.exports=ut},6384:(v,b,y)=>{var M=y(8407),P=y(7465),Z=y(3779),O=y(7599),W=y(4758),ut=y(4309);function mt(ot){var J=this.__data__=new M(ot);this.size=J.size}mt.prototype.clear=P,mt.prototype.delete=Z,mt.prototype.get=O,mt.prototype.has=W,mt.prototype.set=ut,v.exports=mt},2705:(v,b,y)=>{var M=y(5639).Symbol;v.exports=M},1149:(v,b,y)=>{var M=y(5639).Uint8Array;v.exports=M},6874:v=>{v.exports=function(b,y,M){switch(M.length){case 0:return b.call(y);case 1:return b.call(y,M[0]);case 2:return b.call(y,M[0],M[1]);case 3:return b.call(y,M[0],M[1],M[2])}return b.apply(y,M)}},4636:(v,b,y)=>{var M=y(2545),P=y(5694),Z=y(1469),O=y(4144),W=y(5776),ut=y(6719),mt=Object.prototype.hasOwnProperty;v.exports=function(ot,J){var X=Z(ot),Y=!X&&P(ot),K=!X&&!Y&&O(ot),Q=!X&&!Y&&!K&&ut(ot),tt=X||Y||K||Q,A=tt?M(ot.length,String):[],q=A.length;for(var u in ot)!J&&!mt.call(ot,u)||tt&&(u=="length"||K&&(u=="offset"||u=="parent")||Q&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||W(u,q))||A.push(u);return A}},9932:v=>{v.exports=function(b,y){for(var M=-1,P=b==null?0:b.length,Z=Array(P);++M<P;)Z[M]=y(b[M],M,b);return Z}},6556:(v,b,y)=>{var M=y(9465),P=y(7813);v.exports=function(Z,O,W){(W!==void 0&&!P(Z[O],W)||W===void 0&&!(O in Z))&&M(Z,O,W)}},4865:(v,b,y)=>{var M=y(9465),P=y(7813),Z=Object.prototype.hasOwnProperty;v.exports=function(O,W,ut){var mt=O[W];Z.call(O,W)&&P(mt,ut)&&(ut!==void 0||W in O)||M(O,W,ut)}},8470:(v,b,y)=>{var M=y(7813);v.exports=function(P,Z){for(var O=P.length;O--;)if(M(P[O][0],Z))return O;return-1}},9465:(v,b,y)=>{var M=y(8777);v.exports=function(P,Z,O){Z=="__proto__"&&M?M(P,Z,{configurable:!0,enumerable:!0,value:O,writable:!0}):P[Z]=O}},3118:(v,b,y)=>{var M=y(3218),P=Object.create,Z=function(){function O(){}return function(W){if(!M(W))return{};if(P)return P(W);O.prototype=W;var ut=new O;return O.prototype=void 0,ut}}();v.exports=Z},8483:(v,b,y)=>{var M=y(5063)();v.exports=M},7786:(v,b,y)=>{var M=y(1811),P=y(327);v.exports=function(Z,O){for(var W=0,ut=(O=M(O,Z)).length;Z!=null&&W<ut;)Z=Z[P(O[W++])];return W&&W==ut?Z:void 0}},4239:(v,b,y)=>{var M=y(2705),P=y(9607),Z=y(2333),O=M?M.toStringTag:void 0;v.exports=function(W){return W==null?W===void 0?"[object Undefined]":"[object Null]":O&&O in Object(W)?P(W):Z(W)}},8565:v=>{var b=Object.prototype.hasOwnProperty;v.exports=function(y,M){return y!=null&&b.call(y,M)}},9454:(v,b,y)=>{var M=y(4239),P=y(7005);v.exports=function(Z){return P(Z)&&M(Z)=="[object Arguments]"}},8458:(v,b,y)=>{var M=y(3560),P=y(5346),Z=y(3218),O=y(346),W=/^\[object .+?Constructor\]$/,ut=Function.prototype,mt=Object.prototype,ot=ut.toString,J=mt.hasOwnProperty,X=RegExp("^"+ot.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");v.exports=function(Y){return!(!Z(Y)||P(Y))&&(M(Y)?X:W).test(O(Y))}},8749:(v,b,y)=>{var M=y(4239),P=y(1780),Z=y(7005),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,v.exports=function(W){return Z(W)&&P(W.length)&&!!O[M(W)]}},313:(v,b,y)=>{var M=y(3218),P=y(5726),Z=y(3498),O=Object.prototype.hasOwnProperty;v.exports=function(W){if(!M(W))return Z(W);var ut=P(W),mt=[];for(var ot in W)(ot!="constructor"||!ut&&O.call(W,ot))&&mt.push(ot);return mt}},2980:(v,b,y)=>{var M=y(6384),P=y(6556),Z=y(8483),O=y(9783),W=y(3218),ut=y(1704),mt=y(6390);v.exports=function ot(J,X,Y,K,Q){J!==X&&Z(X,function(tt,A){if(Q||(Q=new M),W(tt))O(J,X,A,Y,ot,K,Q);else{var q=K?K(mt(J,A),tt,A+"",J,X,Q):void 0;q===void 0&&(q=tt),P(J,A,q)}},ut)}},9783:(v,b,y)=>{var M=y(6556),P=y(4626),Z=y(7133),O=y(278),W=y(8517),ut=y(5694),mt=y(1469),ot=y(9246),J=y(4144),X=y(3560),Y=y(3218),K=y(8630),Q=y(6719),tt=y(6390),A=y(9881);v.exports=function(q,u,yt,vt,wt,Mt,jt){var Lt=tt(q,yt),It=tt(u,yt),Kt=jt.get(It);if(Kt)M(q,yt,Kt);else{var At=Mt?Mt(Lt,It,yt+"",q,u,jt):void 0,Ct=At===void 0;if(Ct){var be=mt(It),St=!be&&J(It),qt=!be&&!St&&Q(It);At=It,be||St||qt?mt(Lt)?At=Lt:ot(Lt)?At=O(Lt):St?(Ct=!1,At=P(It,!0)):qt?(Ct=!1,At=Z(It,!0)):At=[]:K(It)||ut(It)?(At=Lt,ut(Lt)?At=A(Lt):Y(Lt)&&!X(Lt)||(At=W(It))):Ct=!1}Ct&&(jt.set(It,At),wt(At,It,vt,Mt,jt),jt.delete(It)),M(q,yt,At)}}},5976:(v,b,y)=>{var M=y(6557),P=y(5357),Z=y(61);v.exports=function(O,W){return Z(P(O,W,M),O+"")}},6560:(v,b,y)=>{var M=y(5703),P=y(8777),Z=y(6557),O=P?function(W,ut){return P(W,"toString",{configurable:!0,enumerable:!1,value:M(ut),writable:!0})}:Z;v.exports=O},2545:v=>{v.exports=function(b,y){for(var M=-1,P=Array(b);++M<b;)P[M]=y(M);return P}},531:(v,b,y)=>{var M=y(2705),P=y(9932),Z=y(1469),O=y(3448),W=M?M.prototype:void 0,ut=W?W.toString:void 0;v.exports=function mt(ot){if(typeof ot=="string")return ot;if(Z(ot))return P(ot,mt)+"";if(O(ot))return ut?ut.call(ot):"";var J=ot+"";return J=="0"&&1/ot==-1/0?"-0":J}},1717:v=>{v.exports=function(b){return function(y){return b(y)}}},1811:(v,b,y)=>{var M=y(1469),P=y(5403),Z=y(5514),O=y(9833);v.exports=function(W,ut){return M(W)?W:P(W,ut)?[W]:Z(O(W))}},4318:(v,b,y)=>{var M=y(1149);v.exports=function(P){var Z=new P.constructor(P.byteLength);return new M(Z).set(new M(P)),Z}},4626:(v,b,y)=>{v=y.nmd(v);var M=y(5639),P=b&&!b.nodeType&&b,Z=P&&v&&!v.nodeType&&v,O=Z&&Z.exports===P?M.Buffer:void 0,W=O?O.allocUnsafe:void 0;v.exports=function(ut,mt){if(mt)return ut.slice();var ot=ut.length,J=W?W(ot):new ut.constructor(ot);return ut.copy(J),J}},7133:(v,b,y)=>{var M=y(4318);v.exports=function(P,Z){var O=Z?M(P.buffer):P.buffer;return new P.constructor(O,P.byteOffset,P.length)}},278:v=>{v.exports=function(b,y){var M=-1,P=b.length;for(y||(y=Array(P));++M<P;)y[M]=b[M];return y}},8363:(v,b,y)=>{var M=y(4865),P=y(9465);v.exports=function(Z,O,W,ut){var mt=!W;W||(W={});for(var ot=-1,J=O.length;++ot<J;){var X=O[ot],Y=ut?ut(W[X],Z[X],X,W,Z):void 0;Y===void 0&&(Y=Z[X]),mt?P(W,X,Y):M(W,X,Y)}return W}},4429:(v,b,y)=>{var M=y(5639)["__core-js_shared__"];v.exports=M},1463:(v,b,y)=>{var M=y(5976),P=y(6612);v.exports=function(Z){return M(function(O,W){var ut=-1,mt=W.length,ot=mt>1?W[mt-1]:void 0,J=mt>2?W[2]:void 0;for(ot=Z.length>3&&typeof ot=="function"?(mt--,ot):void 0,J&&P(W[0],W[1],J)&&(ot=mt<3?void 0:ot,mt=1),O=Object(O);++ut<mt;){var X=W[ut];X&&Z(O,X,ut,ot)}return O})}},5063:v=>{v.exports=function(b){return function(y,M,P){for(var Z=-1,O=Object(y),W=P(y),ut=W.length;ut--;){var mt=W[b?ut:++Z];if(M(O[mt],mt,O)===!1)break}return y}}},8777:(v,b,y)=>{var M=y(852),P=function(){try{var Z=M(Object,"defineProperty");return Z({},"",{}),Z}catch{}}();v.exports=P},1957:(v,b,y)=>{var M=typeof y.g=="object"&&y.g&&y.g.Object===Object&&y.g;v.exports=M},5050:(v,b,y)=>{var M=y(7019);v.exports=function(P,Z){var O=P.__data__;return M(Z)?O[typeof Z=="string"?"string":"hash"]:O.map}},852:(v,b,y)=>{var M=y(8458),P=y(7801);v.exports=function(Z,O){var W=P(Z,O);return M(W)?W:void 0}},5924:(v,b,y)=>{var M=y(5569)(Object.getPrototypeOf,Object);v.exports=M},9607:(v,b,y)=>{var M=y(2705),P=Object.prototype,Z=P.hasOwnProperty,O=P.toString,W=M?M.toStringTag:void 0;v.exports=function(ut){var mt=Z.call(ut,W),ot=ut[W];try{ut[W]=void 0;var J=!0}catch{}var X=O.call(ut);return J&&(mt?ut[W]=ot:delete ut[W]),X}},7801:v=>{v.exports=function(b,y){return b?.[y]}},222:(v,b,y)=>{var M=y(1811),P=y(5694),Z=y(1469),O=y(5776),W=y(1780),ut=y(327);v.exports=function(mt,ot,J){for(var X=-1,Y=(ot=M(ot,mt)).length,K=!1;++X<Y;){var Q=ut(ot[X]);if(!(K=mt!=null&&J(mt,Q)))break;mt=mt[Q]}return K||++X!=Y?K:!!(Y=mt==null?0:mt.length)&&W(Y)&&O(Q,Y)&&(Z(mt)||P(mt))}},1789:(v,b,y)=>{var M=y(4536);v.exports=function(){this.__data__=M?M(null):{},this.size=0}},401:v=>{v.exports=function(b){var y=this.has(b)&&delete this.__data__[b];return this.size-=y?1:0,y}},7667:(v,b,y)=>{var M=y(4536),P=Object.prototype.hasOwnProperty;v.exports=function(Z){var O=this.__data__;if(M){var W=O[Z];return W==="__lodash_hash_undefined__"?void 0:W}return P.call(O,Z)?O[Z]:void 0}},1327:(v,b,y)=>{var M=y(4536),P=Object.prototype.hasOwnProperty;v.exports=function(Z){var O=this.__data__;return M?O[Z]!==void 0:P.call(O,Z)}},1866:(v,b,y)=>{var M=y(4536);v.exports=function(P,Z){var O=this.__data__;return this.size+=this.has(P)?0:1,O[P]=M&&Z===void 0?"__lodash_hash_undefined__":Z,this}},8517:(v,b,y)=>{var M=y(3118),P=y(5924),Z=y(5726);v.exports=function(O){return typeof O.constructor!="function"||Z(O)?{}:M(P(O))}},5776:v=>{var b=/^(?:0|[1-9]\d*)$/;v.exports=function(y,M){var P=typeof y;return!!(M=M??9007199254740991)&&(P=="number"||P!="symbol"&&b.test(y))&&y>-1&&y%1==0&&y<M}},6612:(v,b,y)=>{var M=y(7813),P=y(8612),Z=y(5776),O=y(3218);v.exports=function(W,ut,mt){if(!O(mt))return!1;var ot=typeof ut;return!!(ot=="number"?P(mt)&&Z(ut,mt.length):ot=="string"&&ut in mt)&&M(mt[ut],W)}},5403:(v,b,y)=>{var M=y(1469),P=y(3448),Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;v.exports=function(W,ut){if(M(W))return!1;var mt=typeof W;return!(mt!="number"&&mt!="symbol"&&mt!="boolean"&&W!=null&&!P(W))||O.test(W)||!Z.test(W)||ut!=null&&W in Object(ut)}},7019:v=>{v.exports=function(b){var y=typeof b;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?b!=="__proto__":b===null}},5346:(v,b,y)=>{var M,P=y(4429),Z=(M=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"";v.exports=function(O){return!!Z&&Z in O}},5726:v=>{var b=Object.prototype;v.exports=function(y){var M=y&&y.constructor;return y===(typeof M=="function"&&M.prototype||b)}},7040:v=>{v.exports=function(){this.__data__=[],this.size=0}},4125:(v,b,y)=>{var M=y(8470),P=Array.prototype.splice;v.exports=function(Z){var O=this.__data__,W=M(O,Z);return!(W<0)&&(W==O.length-1?O.pop():P.call(O,W,1),--this.size,!0)}},2117:(v,b,y)=>{var M=y(8470);v.exports=function(P){var Z=this.__data__,O=M(Z,P);return O<0?void 0:Z[O][1]}},7518:(v,b,y)=>{var M=y(8470);v.exports=function(P){return M(this.__data__,P)>-1}},4705:(v,b,y)=>{var M=y(8470);v.exports=function(P,Z){var O=this.__data__,W=M(O,P);return W<0?(++this.size,O.push([P,Z])):O[W][1]=Z,this}},4785:(v,b,y)=>{var M=y(1989),P=y(8407),Z=y(7071);v.exports=function(){this.size=0,this.__data__={hash:new M,map:new(Z||P),string:new M}}},1285:(v,b,y)=>{var M=y(5050);v.exports=function(P){var Z=M(this,P).delete(P);return this.size-=Z?1:0,Z}},6e3:(v,b,y)=>{var M=y(5050);v.exports=function(P){return M(this,P).get(P)}},9916:(v,b,y)=>{var M=y(5050);v.exports=function(P){return M(this,P).has(P)}},5265:(v,b,y)=>{var M=y(5050);v.exports=function(P,Z){var O=M(this,P),W=O.size;return O.set(P,Z),this.size+=O.size==W?0:1,this}},4523:(v,b,y)=>{var M=y(8306);v.exports=function(P){var Z=M(P,function(W){return O.size===500&&O.clear(),W}),O=Z.cache;return Z}},4536:(v,b,y)=>{var M=y(852)(Object,"create");v.exports=M},3498:v=>{v.exports=function(b){var y=[];if(b!=null)for(var M in Object(b))y.push(M);return y}},1167:(v,b,y)=>{v=y.nmd(v);var M=y(1957),P=b&&!b.nodeType&&b,Z=P&&v&&!v.nodeType&&v,O=Z&&Z.exports===P&&M.process,W=function(){try{var ut=Z&&Z.require&&Z.require("util").types;return ut||O&&O.binding&&O.binding("util")}catch{}}();v.exports=W},2333:v=>{var b=Object.prototype.toString;v.exports=function(y){return b.call(y)}},5569:v=>{v.exports=function(b,y){return function(M){return b(y(M))}}},5357:(v,b,y)=>{var M=y(6874),P=Math.max;v.exports=function(Z,O,W){return O=P(O===void 0?Z.length-1:O,0),function(){for(var ut=arguments,mt=-1,ot=P(ut.length-O,0),J=Array(ot);++mt<ot;)J[mt]=ut[O+mt];mt=-1;for(var X=Array(O+1);++mt<O;)X[mt]=ut[mt];return X[O]=W(J),M(Z,this,X)}}},5639:(v,b,y)=>{var M=y(1957),P=typeof self=="object"&&self&&self.Object===Object&&self,Z=M||P||Function("return this")();v.exports=Z},6390:v=>{v.exports=function(b,y){if((y!=="constructor"||typeof b[y]!="function")&&y!="__proto__")return b[y]}},61:(v,b,y)=>{var M=y(6560),P=y(1275)(M);v.exports=P},1275:v=>{var b=Date.now;v.exports=function(y){var M=0,P=0;return function(){var Z=b(),O=16-(Z-P);if(P=Z,O>0){if(++M>=800)return arguments[0]}else M=0;return y.apply(void 0,arguments)}}},7465:(v,b,y)=>{var M=y(8407);v.exports=function(){this.__data__=new M,this.size=0}},3779:v=>{v.exports=function(b){var y=this.__data__,M=y.delete(b);return this.size=y.size,M}},7599:v=>{v.exports=function(b){return this.__data__.get(b)}},4758:v=>{v.exports=function(b){return this.__data__.has(b)}},4309:(v,b,y)=>{var M=y(8407),P=y(7071),Z=y(3369);v.exports=function(O,W){var ut=this.__data__;if(ut instanceof M){var mt=ut.__data__;if(!P||mt.length<199)return mt.push([O,W]),this.size=++ut.size,this;ut=this.__data__=new Z(mt)}return ut.set(O,W),this.size=ut.size,this}},5514:(v,b,y)=>{var M=y(4523),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/\\(\\)?/g,O=M(function(W){var ut=[];return W.charCodeAt(0)===46&&ut.push(""),W.replace(P,function(mt,ot,J,X){ut.push(J?X.replace(Z,"$1"):ot||mt)}),ut});v.exports=O},327:(v,b,y)=>{var M=y(3448);v.exports=function(P){if(typeof P=="string"||M(P))return P;var Z=P+"";return Z=="0"&&1/P==-1/0?"-0":Z}},346:v=>{var b=Function.prototype.toString;v.exports=function(y){if(y!=null){try{return b.call(y)}catch{}try{return y+""}catch{}}return""}},5703:v=>{v.exports=function(b){return function(){return b}}},7813:v=>{v.exports=function(b,y){return b===y||b!=b&&y!=y}},7361:(v,b,y)=>{var M=y(7786);v.exports=function(P,Z,O){var W=P==null?void 0:M(P,Z);return W===void 0?O:W}},8721:(v,b,y)=>{var M=y(8565),P=y(222);v.exports=function(Z,O){return Z!=null&&P(Z,O,M)}},6557:v=>{v.exports=function(b){return b}},5694:(v,b,y)=>{var M=y(9454),P=y(7005),Z=Object.prototype,O=Z.hasOwnProperty,W=Z.propertyIsEnumerable,ut=M(function(){return arguments}())?M:function(mt){return P(mt)&&O.call(mt,"callee")&&!W.call(mt,"callee")};v.exports=ut},1469:v=>{var b=Array.isArray;v.exports=b},8612:(v,b,y)=>{var M=y(3560),P=y(1780);v.exports=function(Z){return Z!=null&&P(Z.length)&&!M(Z)}},9246:(v,b,y)=>{var M=y(8612),P=y(7005);v.exports=function(Z){return P(Z)&&M(Z)}},4144:(v,b,y)=>{v=y.nmd(v);var M=y(5639),P=y(5062),Z=b&&!b.nodeType&&b,O=Z&&v&&!v.nodeType&&v,W=O&&O.exports===Z?M.Buffer:void 0,ut=(W?W.isBuffer:void 0)||P;v.exports=ut},3560:(v,b,y)=>{var M=y(4239),P=y(3218);v.exports=function(Z){if(!P(Z))return!1;var O=M(Z);return O=="[object Function]"||O=="[object GeneratorFunction]"||O=="[object AsyncFunction]"||O=="[object Proxy]"}},1780:v=>{v.exports=function(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=9007199254740991}},3218:v=>{v.exports=function(b){var y=typeof b;return b!=null&&(y=="object"||y=="function")}},7005:v=>{v.exports=function(b){return b!=null&&typeof b=="object"}},8630:(v,b,y)=>{var M=y(4239),P=y(5924),Z=y(7005),O=Function.prototype,W=Object.prototype,ut=O.toString,mt=W.hasOwnProperty,ot=ut.call(Object);v.exports=function(J){if(!Z(J)||M(J)!="[object Object]")return!1;var X=P(J);if(X===null)return!0;var Y=mt.call(X,"constructor")&&X.constructor;return typeof Y=="function"&&Y instanceof Y&&ut.call(Y)==ot}},3448:(v,b,y)=>{var M=y(4239),P=y(7005);v.exports=function(Z){return typeof Z=="symbol"||P(Z)&&M(Z)=="[object Symbol]"}},6719:(v,b,y)=>{var M=y(8749),P=y(1717),Z=y(1167),O=Z&&Z.isTypedArray,W=O?P(O):M;v.exports=W},1704:(v,b,y)=>{var M=y(4636),P=y(313),Z=y(8612);v.exports=function(O){return Z(O)?M(O,!0):P(O)}},8306:(v,b,y)=>{var M=y(3369);function P(Z,O){if(typeof Z!="function"||O!=null&&typeof O!="function")throw new TypeError("Expected a function");var W=function(){var ut=arguments,mt=O?O.apply(this,ut):ut[0],ot=W.cache;if(ot.has(mt))return ot.get(mt);var J=Z.apply(this,ut);return W.cache=ot.set(mt,J)||ot,J};return W.cache=new(P.Cache||M),W}P.Cache=M,v.exports=P},2492:(v,b,y)=>{var M=y(2980),P=y(1463)(function(Z,O,W){M(Z,O,W)});v.exports=P},5062:v=>{v.exports=function(){return!1}},9881:(v,b,y)=>{var M=y(8363),P=y(1704);v.exports=function(Z){return M(Z,P(Z))}},9833:(v,b,y)=>{var M=y(531);v.exports=function(P){return P==null?"":M(P)}},2676:function(v){v.exports=function(){"use strict";function b(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function y(j,_){for(var x=0;x<_.length;x++){var S=_[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}function M(j,_,x){return _&&y(j.prototype,_),x&&y(j,x),j}var P=function(){function j(_,x){this.next=null,this.key=_,this.data=x,this.left=null,this.right=null}return j}();function Z(j,_){return j>_?1:j<_?-1:0}function O(j,_,x){for(var S=new P(null,null),G=S,D=S;;){var ft=x(j,_.key);if(ft<0){if(_.left===null)break;if(x(j,_.left.key)<0){var _t=_.left;if(_.left=_t.right,_t.right=_,(_=_t).left===null)break}D.left=_,D=_,_=_.left}else{if(!(ft>0)||_.right===null||x(j,_.right.key)>0&&(_t=_.right,_.right=_t.left,_t.left=_,(_=_t).right===null))break;G.right=_,G=_,_=_.right}}return G.right=_.left,D.left=_.right,_.left=S.right,_.right=S.left,_}function W(j,_,x,S){var G=new P(j,_);if(x===null)return G.left=G.right=null,G;var D=S(j,(x=O(j,x,S)).key);return D<0?(G.left=x.left,G.right=x,x.left=null):D>=0&&(G.right=x.right,G.left=x,x.right=null),G}function ut(j,_,x){var S=null,G=null;if(_){var D=x((_=O(j,_,x)).key,j);D===0?(S=_.left,G=_.right):D<0?(G=_.right,_.right=null,S=_):(S=_.left,_.left=null,G=_)}return{left:S,right:G}}function mt(j,_,x){return _===null?j:(j===null||((_=O(j.key,_,x)).left=j),_)}function ot(j,_,x,S,G){if(j){S(_+(x?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+G(j)+`
`);var D=_+(x?"    ":"\u2502   ");j.left&&ot(j.left,D,!1,S,G),j.right&&ot(j.right,D,!0,S,G)}}var J=function(){function j(_){_===void 0&&(_=Z),this._root=null,this._size=0,this._comparator=_}return j.prototype.insert=function(_,x){return this._size++,this._root=W(_,x,this._root,this._comparator)},j.prototype.add=function(_,x){var S=new P(_,x);this._root===null&&(S.left=S.right=null,this._size++,this._root=S);var G=this._comparator,D=O(_,this._root,G),ft=G(_,D.key);return ft===0?this._root=D:(ft<0?(S.left=D.left,S.right=D,D.left=null):ft>0&&(S.right=D.right,S.left=D,D.right=null),this._size++,this._root=S),this._root},j.prototype.remove=function(_){this._root=this._remove(_,this._root,this._comparator)},j.prototype._remove=function(_,x,S){var G;return x===null?null:S(_,(x=O(_,x,S)).key)===0?(x.left===null?G=x.right:(G=O(_,x.left,S)).right=x.right,this._size--,G):x},j.prototype.pop=function(){var _=this._root;if(_){for(;_.left;)_=_.left;return this._root=O(_.key,this._root,this._comparator),this._root=this._remove(_.key,this._root,this._comparator),{key:_.key,data:_.data}}return null},j.prototype.findStatic=function(_){for(var x=this._root,S=this._comparator;x;){var G=S(_,x.key);if(G===0)return x;x=G<0?x.left:x.right}return null},j.prototype.find=function(_){return this._root&&(this._root=O(_,this._root,this._comparator),this._comparator(_,this._root.key)!==0)?null:this._root},j.prototype.contains=function(_){for(var x=this._root,S=this._comparator;x;){var G=S(_,x.key);if(G===0)return!0;x=G<0?x.left:x.right}return!1},j.prototype.forEach=function(_,x){for(var S=this._root,G=[],D=!1;!D;)S!==null?(G.push(S),S=S.left):G.length!==0?(S=G.pop(),_.call(x,S),S=S.right):D=!0;return this},j.prototype.range=function(_,x,S,G){for(var D=[],ft=this._comparator,_t=this._root;D.length!==0||_t;)if(_t)D.push(_t),_t=_t.left;else{if(ft((_t=D.pop()).key,x)>0)break;if(ft(_t.key,_)>=0&&S.call(G,_t))return this;_t=_t.right}return this},j.prototype.keys=function(){var _=[];return this.forEach(function(x){var S=x.key;return _.push(S)}),_},j.prototype.values=function(){var _=[];return this.forEach(function(x){var S=x.data;return _.push(S)}),_},j.prototype.min=function(){return this._root?this.minNode(this._root).key:null},j.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},j.prototype.minNode=function(_){if(_===void 0&&(_=this._root),_)for(;_.left;)_=_.left;return _},j.prototype.maxNode=function(_){if(_===void 0&&(_=this._root),_)for(;_.right;)_=_.right;return _},j.prototype.at=function(_){for(var x=this._root,S=!1,G=0,D=[];!S;)if(x)D.push(x),x=x.left;else if(D.length>0){if(x=D.pop(),G===_)return x;G++,x=x.right}else S=!0;return null},j.prototype.next=function(_){var x=this._root,S=null;if(_.right){for(S=_.right;S.left;)S=S.left;return S}for(var G=this._comparator;x;){var D=G(_.key,x.key);if(D===0)break;D<0?(S=x,x=x.left):x=x.right}return S},j.prototype.prev=function(_){var x=this._root,S=null;if(_.left!==null){for(S=_.left;S.right;)S=S.right;return S}for(var G=this._comparator;x;){var D=G(_.key,x.key);if(D===0)break;D<0?x=x.left:(S=x,x=x.right)}return S},j.prototype.clear=function(){return this._root=null,this._size=0,this},j.prototype.toList=function(){return K(this._root)},j.prototype.load=function(_,x,S){x===void 0&&(x=[]),S===void 0&&(S=!1);var G=_.length,D=this._comparator;if(S&&A(_,x,0,G-1,D),this._root===null)this._root=X(_,x,0,G),this._size=G;else{var ft=tt(this.toList(),Y(_,x),D);G=this._size+G,this._root=Q({head:ft},0,G)}return this},j.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(j.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),j.prototype.toString=function(_){_===void 0&&(_=function(S){return String(S.key)});var x=[];return ot(this._root,"",!0,function(S){return x.push(S)},_),x.join("")},j.prototype.update=function(_,x,S){var G=this._comparator,D=ut(_,this._root,G),ft=D.left,_t=D.right;G(_,x)<0?_t=W(x,S,_t,G):ft=W(x,S,ft,G),this._root=mt(ft,_t,G)},j.prototype.split=function(_){return ut(_,this._root,this._comparator)},j}();function X(j,_,x,S){var G=S-x;if(G>0){var D=x+Math.floor(G/2),ft=j[D],_t=_[D],Tt=new P(ft,_t);return Tt.left=X(j,_,x,D),Tt.right=X(j,_,D+1,S),Tt}return null}function Y(j,_){for(var x=new P(null,null),S=x,G=0;G<j.length;G++)S=S.next=new P(j[G],_[G]);return S.next=null,x.next}function K(j){for(var _=j,x=[],S=!1,G=new P(null,null),D=G;!S;)_?(x.push(_),_=_.left):x.length>0?_=(_=D=D.next=x.pop()).right:S=!0;return D.next=null,G.next}function Q(j,_,x){var S=x-_;if(S>0){var G=_+Math.floor(S/2),D=Q(j,_,G),ft=j.head;return ft.left=D,j.head=j.head.next,ft.right=Q(j,G+1,x),ft}return null}function tt(j,_,x){for(var S=new P(null,null),G=S,D=j,ft=_;D!==null&&ft!==null;)x(D.key,ft.key)<0?(G.next=D,D=D.next):(G.next=ft,ft=ft.next),G=G.next;return D!==null?G.next=D:ft!==null&&(G.next=ft),S.next}function A(j,_,x,S,G){if(!(x>=S)){for(var D=j[x+S>>1],ft=x-1,_t=S+1;;){do ft++;while(G(j[ft],D)<0);do _t--;while(G(j[_t],D)>0);if(ft>=_t)break;var Tt=j[ft];j[ft]=j[_t],j[_t]=Tt,Tt=_[ft],_[ft]=_[_t],_[_t]=Tt}A(j,_,x,_t,G),A(j,_,_t+1,S,G)}}var q=function(j,_){return j.ll.x<=_.x&&_.x<=j.ur.x&&j.ll.y<=_.y&&_.y<=j.ur.y},u=function(j,_){if(_.ur.x<j.ll.x||j.ur.x<_.ll.x||_.ur.y<j.ll.y||j.ur.y<_.ll.y)return null;var x=j.ll.x<_.ll.x?_.ll.x:j.ll.x,S=j.ur.x<_.ur.x?j.ur.x:_.ur.x;return{ll:{x,y:j.ll.y<_.ll.y?_.ll.y:j.ll.y},ur:{x:S,y:j.ur.y<_.ur.y?j.ur.y:_.ur.y}}},yt=Number.EPSILON;yt===void 0&&(yt=Math.pow(2,-52));var vt=yt*yt,wt=function(j,_){if(-yt<j&&j<yt&&-yt<_&&_<yt)return 0;var x=j-_;return x*x<vt*j*_?0:j<_?-1:1},Mt=function(){function j(){b(this,j),this.reset()}return M(j,[{key:"reset",value:function(){this.xRounder=new jt,this.yRounder=new jt}},{key:"round",value:function(_,x){return{x:this.xRounder.round(_),y:this.yRounder.round(x)}}}]),j}(),jt=function(){function j(){b(this,j),this.tree=new J,this.round(0)}return M(j,[{key:"round",value:function(_){var x=this.tree.add(_),S=this.tree.prev(x);if(S!==null&&wt(x.key,S.key)===0)return this.tree.remove(_),S.key;var G=this.tree.next(x);return G!==null&&wt(x.key,G.key)===0?(this.tree.remove(_),G.key):_}}]),j}(),Lt=new Mt,It=function(j,_){return j.x*_.y-j.y*_.x},Kt=function(j,_){return j.x*_.x+j.y*_.y},At=function(j,_,x){var S={x:_.x-j.x,y:_.y-j.y},G={x:x.x-j.x,y:x.y-j.y},D=It(S,G);return wt(D,0)},Ct=function(j){return Math.sqrt(Kt(j,j))},be=function(j,_,x){var S={x:_.x-j.x,y:_.y-j.y},G={x:x.x-j.x,y:x.y-j.y};return It(G,S)/Ct(G)/Ct(S)},St=function(j,_,x){var S={x:_.x-j.x,y:_.y-j.y},G={x:x.x-j.x,y:x.y-j.y};return Kt(G,S)/Ct(G)/Ct(S)},qt=function(j,_,x){return _.y===0?null:{x:j.x+_.x/_.y*(x-j.y),y:x}},ve=function(j,_,x){return _.x===0?null:{x,y:j.y+_.y/_.x*(x-j.x)}},Ft=function(j,_,x,S){if(_.x===0)return ve(x,S,j.x);if(S.x===0)return ve(j,_,x.x);if(_.y===0)return qt(x,S,j.y);if(S.y===0)return qt(j,_,x.y);var G=It(_,S);if(G==0)return null;var D={x:x.x-j.x,y:x.y-j.y},ft=It(D,_)/G,_t=It(D,S)/G;return{x:(j.x+_t*_.x+(x.x+ft*S.x))/2,y:(j.y+_t*_.y+(x.y+ft*S.y))/2}},$t=function(){function j(_,x){b(this,j),_.events===void 0?_.events=[this]:_.events.push(this),this.point=_,this.isLeft=x}return M(j,null,[{key:"compare",value:function(_,x){var S=j.comparePoints(_.point,x.point);return S!==0?S:(_.point!==x.point&&_.link(x),_.isLeft!==x.isLeft?_.isLeft?1:-1:ge.compare(_.segment,x.segment))}},{key:"comparePoints",value:function(_,x){return _.x<x.x?-1:_.x>x.x?1:_.y<x.y?-1:_.y>x.y?1:0}}]),M(j,[{key:"link",value:function(_){if(_.point===this.point)throw new Error("Tried to link already linked events");for(var x=_.point.events,S=0,G=x.length;S<G;S++){var D=x[S];this.point.events.push(D),D.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var _=this.point.events.length,x=0;x<_;x++){var S=this.point.events[x];if(S.segment.consumedBy===void 0)for(var G=x+1;G<_;G++){var D=this.point.events[G];D.consumedBy===void 0&&S.otherSE.point.events===D.otherSE.point.events&&S.segment.consume(D.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var _=[],x=0,S=this.point.events.length;x<S;x++){var G=this.point.events[x];G!==this&&!G.segment.ringOut&&G.segment.isInResult()&&_.push(G)}return _}},{key:"getLeftmostComparator",value:function(_){var x=this,S=new Map,G=function(D){var ft=D.otherSE;S.set(D,{sine:be(x.point,_.point,ft.point),cosine:St(x.point,_.point,ft.point)})};return function(D,ft){S.has(D)||G(D),S.has(ft)||G(ft);var _t=S.get(D),Tt=_t.sine,Zt=_t.cosine,Xt=S.get(ft),ae=Xt.sine,ee=Xt.cosine;return Tt>=0&&ae>=0?Zt<ee?1:Zt>ee?-1:0:Tt<0&&ae<0?Zt<ee?-1:Zt>ee?1:0:ae<Tt?-1:ae>Tt?1:0}}}]),j}(),ue=0,ge=function(){function j(_,x,S,G){b(this,j),this.id=++ue,this.leftSE=_,_.segment=this,_.otherSE=x,this.rightSE=x,x.segment=this,x.otherSE=_,this.rings=S,this.windings=G}return M(j,null,[{key:"compare",value:function(_,x){var S=_.leftSE.point.x,G=x.leftSE.point.x,D=_.rightSE.point.x,ft=x.rightSE.point.x;if(ft<S)return 1;if(D<G)return-1;var _t=_.leftSE.point.y,Tt=x.leftSE.point.y,Zt=_.rightSE.point.y,Xt=x.rightSE.point.y;if(S<G){if(Tt<_t&&Tt<Zt)return 1;if(Tt>_t&&Tt>Zt)return-1;var ae=_.comparePoint(x.leftSE.point);if(ae<0)return 1;if(ae>0)return-1;var ee=x.comparePoint(_.rightSE.point);return ee!==0?ee:-1}if(S>G){if(_t<Tt&&_t<Xt)return-1;if(_t>Tt&&_t>Xt)return 1;var se=x.comparePoint(_.leftSE.point);if(se!==0)return se;var Vt=_.comparePoint(x.rightSE.point);return Vt<0?1:Vt>0?-1:1}if(_t<Tt)return-1;if(_t>Tt)return 1;if(D<ft){var ye=x.comparePoint(_.rightSE.point);if(ye!==0)return ye}if(D>ft){var Ce=_.comparePoint(x.rightSE.point);if(Ce<0)return 1;if(Ce>0)return-1}if(D!==ft){var Oe=Zt-_t,Ue=D-S,Ge=Xt-Tt,qe=ft-G;if(Oe>Ue&&Ge<qe)return 1;if(Oe<Ue&&Ge>qe)return-1}return D>ft?1:D<ft||Zt<Xt?-1:Zt>Xt?1:_.id<x.id?-1:_.id>x.id?1:0}}]),M(j,[{key:"replaceRightSE",value:function(_){this.rightSE=_,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var _=this.leftSE.point.y,x=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:_<x?_:x},ur:{x:this.rightSE.point.x,y:_>x?_:x}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(_){return _.x===this.leftSE.point.x&&_.y===this.leftSE.point.y||_.x===this.rightSE.point.x&&_.y===this.rightSE.point.y}},{key:"comparePoint",value:function(_){if(this.isAnEndpoint(_))return 0;var x=this.leftSE.point,S=this.rightSE.point,G=this.vector();if(x.x===S.x)return _.x===x.x?0:_.x<x.x?1:-1;var D=(_.y-x.y)/G.y,ft=x.x+D*G.x;if(_.x===ft)return 0;var _t=(_.x-x.x)/G.x,Tt=x.y+_t*G.y;return _.y===Tt?0:_.y<Tt?-1:1}},{key:"getIntersection",value:function(_){var x=this.bbox(),S=_.bbox(),G=u(x,S);if(G===null)return null;var D=this.leftSE.point,ft=this.rightSE.point,_t=_.leftSE.point,Tt=_.rightSE.point,Zt=q(x,_t)&&this.comparePoint(_t)===0,Xt=q(S,D)&&_.comparePoint(D)===0,ae=q(x,Tt)&&this.comparePoint(Tt)===0,ee=q(S,ft)&&_.comparePoint(ft)===0;if(Xt&&Zt)return ee&&!ae?ft:!ee&&ae?Tt:null;if(Xt)return ae&&D.x===Tt.x&&D.y===Tt.y?null:D;if(Zt)return ee&&ft.x===_t.x&&ft.y===_t.y?null:_t;if(ee&&ae)return null;if(ee)return ft;if(ae)return Tt;var se=Ft(D,this.vector(),_t,_.vector());return se===null?null:q(G,se)?Lt.round(se.x,se.y):null}},{key:"split",value:function(_){var x=[],S=_.events!==void 0,G=new $t(_,!0),D=new $t(_,!1),ft=this.rightSE;this.replaceRightSE(D),x.push(D),x.push(G);var _t=new j(G,ft,this.rings.slice(),this.windings.slice());return $t.comparePoints(_t.leftSE.point,_t.rightSE.point)>0&&_t.swapEvents(),$t.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),S&&(G.checkForConsuming(),D.checkForConsuming()),x}},{key:"swapEvents",value:function(){var _=this.rightSE;this.rightSE=this.leftSE,this.leftSE=_,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var x=0,S=this.windings.length;x<S;x++)this.windings[x]*=-1}},{key:"consume",value:function(_){for(var x=this,S=_;x.consumedBy;)x=x.consumedBy;for(;S.consumedBy;)S=S.consumedBy;var G=j.compare(x,S);if(G!==0){if(G>0){var D=x;x=S,S=D}if(x.prev===S){var ft=x;x=S,S=ft}for(var _t=0,Tt=S.rings.length;_t<Tt;_t++){var Zt=S.rings[_t],Xt=S.windings[_t],ae=x.rings.indexOf(Zt);ae===-1?(x.rings.push(Zt),x.windings.push(Xt)):x.windings[ae]+=Xt}S.rings=null,S.windings=null,S.consumedBy=x,S.leftSE.consumedBy=x.leftSE,S.rightSE.consumedBy=x.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var _=this.prev.consumedBy||this.prev;this._beforeState=_.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var _=this.beforeState();this._afterState={rings:_.rings.slice(0),windings:_.windings.slice(0),multiPolys:[]};for(var x=this._afterState.rings,S=this._afterState.windings,G=this._afterState.multiPolys,D=0,ft=this.rings.length;D<ft;D++){var _t=this.rings[D],Tt=this.windings[D],Zt=x.indexOf(_t);Zt===-1?(x.push(_t),S.push(Tt)):S[Zt]+=Tt}for(var Xt=[],ae=[],ee=0,se=x.length;ee<se;ee++)if(S[ee]!==0){var Vt=x[ee],ye=Vt.poly;if(ae.indexOf(ye)===-1)if(Vt.isExterior)Xt.push(ye);else{ae.indexOf(ye)===-1&&ae.push(ye);var Ce=Xt.indexOf(Vt.poly);Ce!==-1&&Xt.splice(Ce,1)}}for(var Oe=0,Ue=Xt.length;Oe<Ue;Oe++){var Ge=Xt[Oe].multiPoly;G.indexOf(Ge)===-1&&G.push(Ge)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var _=this.beforeState().multiPolys,x=this.afterState().multiPolys;switch(We.type){case"union":var S=_.length===0,G=x.length===0;this._isInResult=S!==G;break;case"intersection":var D,ft;_.length<x.length?(D=_.length,ft=x.length):(D=x.length,ft=_.length),this._isInResult=ft===We.numMultiPolys&&D<ft;break;case"xor":var _t=Math.abs(_.length-x.length);this._isInResult=_t%2==1;break;case"difference":var Tt=function(Zt){return Zt.length===1&&Zt[0].isSubject};this._isInResult=Tt(_)!==Tt(x);break;default:throw new Error("Unrecognized operation type found ".concat(We.type))}return this._isInResult}}],[{key:"fromRing",value:function(_,x,S){var G,D,ft,_t=$t.comparePoints(_,x);if(_t<0)G=_,D=x,ft=1;else{if(!(_t>0))throw new Error("Tried to create degenerate segment at [".concat(_.x,", ").concat(_.y,"]"));G=x,D=_,ft=-1}return new j(new $t(G,!0),new $t(D,!1),[S],[ft])}}]),j}(),ti=function(){function j(_,x,S){if(b(this,j),!Array.isArray(_)||_.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=x,this.isExterior=S,this.segments=[],typeof _[0][0]!="number"||typeof _[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var G=Lt.round(_[0][0],_[0][1]);this.bbox={ll:{x:G.x,y:G.y},ur:{x:G.x,y:G.y}};for(var D=G,ft=1,_t=_.length;ft<_t;ft++){if(typeof _[ft][0]!="number"||typeof _[ft][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Tt=Lt.round(_[ft][0],_[ft][1]);Tt.x===D.x&&Tt.y===D.y||(this.segments.push(ge.fromRing(D,Tt,this)),Tt.x<this.bbox.ll.x&&(this.bbox.ll.x=Tt.x),Tt.y<this.bbox.ll.y&&(this.bbox.ll.y=Tt.y),Tt.x>this.bbox.ur.x&&(this.bbox.ur.x=Tt.x),Tt.y>this.bbox.ur.y&&(this.bbox.ur.y=Tt.y),D=Tt)}G.x===D.x&&G.y===D.y||this.segments.push(ge.fromRing(D,G,this))}return M(j,[{key:"getSweepEvents",value:function(){for(var _=[],x=0,S=this.segments.length;x<S;x++){var G=this.segments[x];_.push(G.leftSE),_.push(G.rightSE)}return _}}]),j}(),je=function(){function j(_,x){if(b(this,j),!Array.isArray(_))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ti(_[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var S=1,G=_.length;S<G;S++){var D=new ti(_[S],this,!1);D.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=D.bbox.ll.x),D.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=D.bbox.ll.y),D.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=D.bbox.ur.x),D.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=D.bbox.ur.y),this.interiorRings.push(D)}this.multiPoly=x}return M(j,[{key:"getSweepEvents",value:function(){for(var _=this.exteriorRing.getSweepEvents(),x=0,S=this.interiorRings.length;x<S;x++)for(var G=this.interiorRings[x].getSweepEvents(),D=0,ft=G.length;D<ft;D++)_.push(G[D]);return _}}]),j}(),gn=function(){function j(_,x){if(b(this,j),!Array.isArray(_))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof _[0][0][0]=="number"&&(_=[_])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var S=0,G=_.length;S<G;S++){var D=new je(_[S],this);D.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=D.bbox.ll.x),D.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=D.bbox.ll.y),D.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=D.bbox.ur.x),D.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=D.bbox.ur.y),this.polys.push(D)}this.isSubject=x}return M(j,[{key:"getSweepEvents",value:function(){for(var _=[],x=0,S=this.polys.length;x<S;x++)for(var G=this.polys[x].getSweepEvents(),D=0,ft=G.length;D<ft;D++)_.push(G[D]);return _}}]),j}(),ei=function(){function j(_){b(this,j),this.events=_;for(var x=0,S=_.length;x<S;x++)_[x].segment.ringOut=this;this.poly=null}return M(j,null,[{key:"factory",value:function(_){for(var x=[],S=0,G=_.length;S<G;S++){var D=_[S];if(D.isInResult()&&!D.ringOut){for(var ft=null,_t=D.leftSE,Tt=D.rightSE,Zt=[_t],Xt=_t.point,ae=[];ft=_t,_t=Tt,Zt.push(_t),_t.point!==Xt;)for(;;){var ee=_t.getAvailableLinkedEvents();if(ee.length===0){var se=Zt[0].point,Vt=Zt[Zt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(se.x,",")+" ".concat(se.y,"]. Last matching segment found ends at")+" [".concat(Vt.x,", ").concat(Vt.y,"]."))}if(ee.length===1){Tt=ee[0].otherSE;break}for(var ye=null,Ce=0,Oe=ae.length;Ce<Oe;Ce++)if(ae[Ce].point===_t.point){ye=Ce;break}if(ye===null){ae.push({index:Zt.length,point:_t.point});var Ue=_t.getLeftmostComparator(ft);Tt=ee.sort(Ue)[0].otherSE;break}var Ge=ae.splice(ye)[0],qe=Zt.splice(Ge.index);qe.unshift(qe[0].otherSE),x.push(new j(qe.reverse()))}x.push(new j(Zt))}}return x}}]),M(j,[{key:"getGeom",value:function(){for(var _=this.events[0].point,x=[_],S=1,G=this.events.length-1;S<G;S++){var D=this.events[S].point,ft=this.events[S+1].point;At(D,_,ft)!==0&&(x.push(D),_=D)}if(x.length===1)return null;var _t=x[0],Tt=x[1];At(_t,_,Tt)===0&&x.shift(),x.push(x[0]);for(var Zt=this.isExteriorRing()?1:-1,Xt=this.isExteriorRing()?0:x.length-1,ae=this.isExteriorRing()?x.length:-1,ee=[],se=Xt;se!=ae;se+=Zt)ee.push([x[se].x,x[se].y]);return ee}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var _=this.enclosingRing();this._isExteriorRing=!_||!_.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var _=this.events[0],x=1,S=this.events.length;x<S;x++){var G=this.events[x];$t.compare(_,G)>0&&(_=G)}for(var D=_.segment.prevInResult(),ft=D?D.prevInResult():null;;){if(!D)return null;if(!ft)return D.ringOut;if(ft.ringOut!==D.ringOut)return ft.ringOut.enclosingRing()!==D.ringOut?D.ringOut:D.ringOut.enclosingRing();D=ft.prevInResult(),ft=D?D.prevInResult():null}}}]),j}(),He=function(){function j(_){b(this,j),this.exteriorRing=_,_.poly=this,this.interiorRings=[]}return M(j,[{key:"addInterior",value:function(_){this.interiorRings.push(_),_.poly=this}},{key:"getGeom",value:function(){var _=[this.exteriorRing.getGeom()];if(_[0]===null)return null;for(var x=0,S=this.interiorRings.length;x<S;x++){var G=this.interiorRings[x].getGeom();G!==null&&_.push(G)}return _}}]),j}(),ri=function(){function j(_){b(this,j),this.rings=_,this.polys=this._composePolys(_)}return M(j,[{key:"getGeom",value:function(){for(var _=[],x=0,S=this.polys.length;x<S;x++){var G=this.polys[x].getGeom();G!==null&&_.push(G)}return _}},{key:"_composePolys",value:function(_){for(var x=[],S=0,G=_.length;S<G;S++){var D=_[S];if(!D.poly)if(D.isExteriorRing())x.push(new He(D));else{var ft=D.enclosingRing();ft.poly||x.push(new He(ft)),ft.poly.addInterior(D)}}return x}}]),j}(),yi=function(){function j(_){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ge.compare;b(this,j),this.queue=_,this.tree=new J(x),this.segments=[]}return M(j,[{key:"process",value:function(_){var x=_.segment,S=[];if(_.consumedBy)return _.isLeft?this.queue.remove(_.otherSE):this.tree.remove(x),S;var G=_.isLeft?this.tree.insert(x):this.tree.find(x);if(!G)throw new Error("Unable to find segment #".concat(x.id," ")+"[".concat(x.leftSE.point.x,", ").concat(x.leftSE.point.y,"] -> ")+"[".concat(x.rightSE.point.x,", ").concat(x.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var D=G,ft=G,_t=void 0,Tt=void 0;_t===void 0;)(D=this.tree.prev(D))===null?_t=null:D.key.consumedBy===void 0&&(_t=D.key);for(;Tt===void 0;)(ft=this.tree.next(ft))===null?Tt=null:ft.key.consumedBy===void 0&&(Tt=ft.key);if(_.isLeft){var Zt=null;if(_t){var Xt=_t.getIntersection(x);if(Xt!==null&&(x.isAnEndpoint(Xt)||(Zt=Xt),!_t.isAnEndpoint(Xt)))for(var ae=this._splitSafely(_t,Xt),ee=0,se=ae.length;ee<se;ee++)S.push(ae[ee])}var Vt=null;if(Tt){var ye=Tt.getIntersection(x);if(ye!==null&&(x.isAnEndpoint(ye)||(Vt=ye),!Tt.isAnEndpoint(ye)))for(var Ce=this._splitSafely(Tt,ye),Oe=0,Ue=Ce.length;Oe<Ue;Oe++)S.push(Ce[Oe])}if(Zt!==null||Vt!==null){var Ge=null;Ge=Zt===null?Vt:Vt===null||$t.comparePoints(Zt,Vt)<=0?Zt:Vt,this.queue.remove(x.rightSE),S.push(x.rightSE);for(var qe=x.split(Ge),Ke=0,Ye=qe.length;Ke<Ye;Ke++)S.push(qe[Ke])}S.length>0?(this.tree.remove(x),S.push(_)):(this.segments.push(x),x.prev=_t)}else{if(_t&&Tt){var Xe=_t.getIntersection(Tt);if(Xe!==null){if(!_t.isAnEndpoint(Xe))for(var oi=this._splitSafely(_t,Xe),De=0,Be=oi.length;De<Be;De++)S.push(oi[De]);if(!Tt.isAnEndpoint(Xe))for(var Fe=this._splitSafely(Tt,Xe),Ie=0,Ci=Fe.length;Ie<Ci;Ie++)S.push(Fe[Ie])}}this.tree.remove(x)}return S}},{key:"_splitSafely",value:function(_,x){this.tree.remove(_);var S=_.rightSE;this.queue.remove(S);var G=_.split(x);return G.push(S),_.consumedBy===void 0&&this.tree.insert(_),G}}]),j}(),Zi=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,tn=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,We=new(function(){function j(){b(this,j)}return M(j,[{key:"run",value:function(_,x,S){We.type=_,Lt.reset();for(var G=[new gn(x,!0)],D=0,ft=S.length;D<ft;D++)G.push(new gn(S[D],!1));if(We.numMultiPolys=G.length,We.type==="difference")for(var _t=G[0],Tt=1;Tt<G.length;)u(G[Tt].bbox,_t.bbox)!==null?Tt++:G.splice(Tt,1);if(We.type==="intersection"){for(var Zt=0,Xt=G.length;Zt<Xt;Zt++)for(var ae=G[Zt],ee=Zt+1,se=G.length;ee<se;ee++)if(u(ae.bbox,G[ee].bbox)===null)return[]}for(var Vt=new J($t.compare),ye=0,Ce=G.length;ye<Ce;ye++)for(var Oe=G[ye].getSweepEvents(),Ue=0,Ge=Oe.length;Ue<Ge;Ue++)if(Vt.insert(Oe[Ue]),Vt.size>Zi)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var qe=new yi(Vt),Ke=Vt.size,Ye=Vt.pop();Ye;){var Xe=Ye.key;if(Vt.size===Ke){var oi=Xe.segment;throw new Error("Unable to pop() ".concat(Xe.isLeft?"left":"right"," SweepEvent ")+"[".concat(Xe.point.x,", ").concat(Xe.point.y,"] from segment #").concat(oi.id," ")+"[".concat(oi.leftSE.point.x,", ").concat(oi.leftSE.point.y,"] -> ")+"[".concat(oi.rightSE.point.x,", ").concat(oi.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Vt.size>Zi)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(qe.segments.length>tn)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var De=qe.process(Xe),Be=0,Fe=De.length;Be<Fe;Be++){var Ie=De[Be];Ie.consumedBy===void 0&&Vt.insert(Ie)}Ke=Vt.size,Ye=Vt.pop()}Lt.reset();var Ci=ei.factory(qe.segments);return new ri(Ci).getGeom()}}]),j}()),Hi=function(j){for(var _=arguments.length,x=new Array(_>1?_-1:0),S=1;S<_;S++)x[S-1]=arguments[S];return We.run("union",j,x)},pi=function(j){for(var _=arguments.length,x=new Array(_>1?_-1:0),S=1;S<_;S++)x[S-1]=arguments[S];return We.run("intersection",j,x)},gi=function(j){for(var _=arguments.length,x=new Array(_>1?_-1:0),S=1;S<_;S++)x[S-1]=arguments[S];return We.run("xor",j,x)},mn=function(j){for(var _=arguments.length,x=new Array(_>1?_-1:0),S=1;S<_;S++)x[S-1]=arguments[S];return We.run("difference",j,x)};return{union:Hi,intersection:pi,xor:gi,difference:mn}}()},2582:function(v){v.exports=function(){"use strict";function b(A,q,u,yt,vt){(function wt(Mt,jt,Lt,It,Kt){for(;It>Lt;){if(It-Lt>600){var At=It-Lt+1,Ct=jt-Lt+1,be=Math.log(At),St=.5*Math.exp(2*be/3),qt=.5*Math.sqrt(be*St*(At-St)/At)*(Ct-At/2<0?-1:1);wt(Mt,jt,Math.max(Lt,Math.floor(jt-Ct*St/At+qt)),Math.min(It,Math.floor(jt+(At-Ct)*St/At+qt)),Kt)}var ve=Mt[jt],Ft=Lt,$t=It;for(y(Mt,Lt,jt),Kt(Mt[It],ve)>0&&y(Mt,Lt,It);Ft<$t;){for(y(Mt,Ft,$t),Ft++,$t--;Kt(Mt[Ft],ve)<0;)Ft++;for(;Kt(Mt[$t],ve)>0;)$t--}Kt(Mt[Lt],ve)===0?y(Mt,Lt,$t):y(Mt,++$t,It),$t<=jt&&(Lt=$t+1),jt<=$t&&(It=$t-1)}})(A,q,u||0,yt||A.length-1,vt||M)}function y(A,q,u){var yt=A[q];A[q]=A[u],A[u]=yt}function M(A,q){return A<q?-1:A>q?1:0}var P=function(A){A===void 0&&(A=9),this._maxEntries=Math.max(4,A),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function Z(A,q,u){if(!u)return q.indexOf(A);for(var yt=0;yt<q.length;yt++)if(u(A,q[yt]))return yt;return-1}function O(A,q){W(A,0,A.children.length,q,A)}function W(A,q,u,yt,vt){vt||(vt=Q(null)),vt.minX=1/0,vt.minY=1/0,vt.maxX=-1/0,vt.maxY=-1/0;for(var wt=q;wt<u;wt++){var Mt=A.children[wt];ut(vt,A.leaf?yt(Mt):Mt)}return vt}function ut(A,q){return A.minX=Math.min(A.minX,q.minX),A.minY=Math.min(A.minY,q.minY),A.maxX=Math.max(A.maxX,q.maxX),A.maxY=Math.max(A.maxY,q.maxY),A}function mt(A,q){return A.minX-q.minX}function ot(A,q){return A.minY-q.minY}function J(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function X(A){return A.maxX-A.minX+(A.maxY-A.minY)}function Y(A,q){return A.minX<=q.minX&&A.minY<=q.minY&&q.maxX<=A.maxX&&q.maxY<=A.maxY}function K(A,q){return q.minX<=A.maxX&&q.minY<=A.maxY&&q.maxX>=A.minX&&q.maxY>=A.minY}function Q(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tt(A,q,u,yt,vt){for(var wt=[q,u];wt.length;)if(!((u=wt.pop())-(q=wt.pop())<=yt)){var Mt=q+Math.ceil((u-q)/yt/2)*yt;b(A,Mt,q,u,vt),wt.push(q,Mt,Mt,u)}}return P.prototype.all=function(){return this._all(this.data,[])},P.prototype.search=function(A){var q=this.data,u=[];if(!K(A,q))return u;for(var yt=this.toBBox,vt=[];q;){for(var wt=0;wt<q.children.length;wt++){var Mt=q.children[wt],jt=q.leaf?yt(Mt):Mt;K(A,jt)&&(q.leaf?u.push(Mt):Y(A,jt)?this._all(Mt,u):vt.push(Mt))}q=vt.pop()}return u},P.prototype.collides=function(A){var q=this.data;if(!K(A,q))return!1;for(var u=[];q;){for(var yt=0;yt<q.children.length;yt++){var vt=q.children[yt],wt=q.leaf?this.toBBox(vt):vt;if(K(A,wt)){if(q.leaf||Y(A,wt))return!0;u.push(vt)}}q=u.pop()}return!1},P.prototype.load=function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var q=0;q<A.length;q++)this.insert(A[q]);return this}var u=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===u.height)this._splitRoot(this.data,u);else{if(this.data.height<u.height){var yt=this.data;this.data=u,u=yt}this._insert(u,this.data.height-u.height-1,!0)}else this.data=u;return this},P.prototype.insert=function(A){return A&&this._insert(A,this.data.height-1),this},P.prototype.clear=function(){return this.data=Q([]),this},P.prototype.remove=function(A,q){if(!A)return this;for(var u,yt,vt,wt=this.data,Mt=this.toBBox(A),jt=[],Lt=[];wt||jt.length;){if(wt||(wt=jt.pop(),yt=jt[jt.length-1],u=Lt.pop(),vt=!0),wt.leaf){var It=Z(A,wt.children,q);if(It!==-1)return wt.children.splice(It,1),jt.push(wt),this._condense(jt),this}vt||wt.leaf||!Y(wt,Mt)?yt?(u++,wt=yt.children[u],vt=!1):wt=null:(jt.push(wt),Lt.push(u),u=0,yt=wt,wt=wt.children[0])}return this},P.prototype.toBBox=function(A){return A},P.prototype.compareMinX=function(A,q){return A.minX-q.minX},P.prototype.compareMinY=function(A,q){return A.minY-q.minY},P.prototype.toJSON=function(){return this.data},P.prototype.fromJSON=function(A){return this.data=A,this},P.prototype._all=function(A,q){for(var u=[];A;)A.leaf?q.push.apply(q,A.children):u.push.apply(u,A.children),A=u.pop();return q},P.prototype._build=function(A,q,u,yt){var vt,wt=u-q+1,Mt=this._maxEntries;if(wt<=Mt)return O(vt=Q(A.slice(q,u+1)),this.toBBox),vt;yt||(yt=Math.ceil(Math.log(wt)/Math.log(Mt)),Mt=Math.ceil(wt/Math.pow(Mt,yt-1))),(vt=Q([])).leaf=!1,vt.height=yt;var jt=Math.ceil(wt/Mt),Lt=jt*Math.ceil(Math.sqrt(Mt));tt(A,q,u,Lt,this.compareMinX);for(var It=q;It<=u;It+=Lt){var Kt=Math.min(It+Lt-1,u);tt(A,It,Kt,jt,this.compareMinY);for(var At=It;At<=Kt;At+=jt){var Ct=Math.min(At+jt-1,Kt);vt.children.push(this._build(A,At,Ct,yt-1))}}return O(vt,this.toBBox),vt},P.prototype._chooseSubtree=function(A,q,u,yt){for(;yt.push(q),!q.leaf&&yt.length-1!==u;){for(var vt=1/0,wt=1/0,Mt=void 0,jt=0;jt<q.children.length;jt++){var Lt=q.children[jt],It=J(Lt),Kt=(At=A,Ct=Lt,(Math.max(Ct.maxX,At.maxX)-Math.min(Ct.minX,At.minX))*(Math.max(Ct.maxY,At.maxY)-Math.min(Ct.minY,At.minY))-It);Kt<wt?(wt=Kt,vt=It<vt?It:vt,Mt=Lt):Kt===wt&&It<vt&&(vt=It,Mt=Lt)}q=Mt||q.children[0]}var At,Ct;return q},P.prototype._insert=function(A,q,u){var yt=u?A:this.toBBox(A),vt=[],wt=this._chooseSubtree(yt,this.data,q,vt);for(wt.children.push(A),ut(wt,yt);q>=0&&vt[q].children.length>this._maxEntries;)this._split(vt,q),q--;this._adjustParentBBoxes(yt,vt,q)},P.prototype._split=function(A,q){var u=A[q],yt=u.children.length,vt=this._minEntries;this._chooseSplitAxis(u,vt,yt);var wt=this._chooseSplitIndex(u,vt,yt),Mt=Q(u.children.splice(wt,u.children.length-wt));Mt.height=u.height,Mt.leaf=u.leaf,O(u,this.toBBox),O(Mt,this.toBBox),q?A[q-1].children.push(Mt):this._splitRoot(u,Mt)},P.prototype._splitRoot=function(A,q){this.data=Q([A,q]),this.data.height=A.height+1,this.data.leaf=!1,O(this.data,this.toBBox)},P.prototype._chooseSplitIndex=function(A,q,u){for(var yt,vt,wt,Mt,jt,Lt,It,Kt=1/0,At=1/0,Ct=q;Ct<=u-q;Ct++){var be=W(A,0,Ct,this.toBBox),St=W(A,Ct,u,this.toBBox),qt=(vt=be,wt=St,Mt=void 0,jt=void 0,Lt=void 0,It=void 0,Mt=Math.max(vt.minX,wt.minX),jt=Math.max(vt.minY,wt.minY),Lt=Math.min(vt.maxX,wt.maxX),It=Math.min(vt.maxY,wt.maxY),Math.max(0,Lt-Mt)*Math.max(0,It-jt)),ve=J(be)+J(St);qt<Kt?(Kt=qt,yt=Ct,At=ve<At?ve:At):qt===Kt&&ve<At&&(At=ve,yt=Ct)}return yt||u-q},P.prototype._chooseSplitAxis=function(A,q,u){var yt=A.leaf?this.compareMinX:mt,vt=A.leaf?this.compareMinY:ot;this._allDistMargin(A,q,u,yt)<this._allDistMargin(A,q,u,vt)&&A.children.sort(yt)},P.prototype._allDistMargin=function(A,q,u,yt){A.children.sort(yt);for(var vt=this.toBBox,wt=W(A,0,q,vt),Mt=W(A,u-q,u,vt),jt=X(wt)+X(Mt),Lt=q;Lt<u-q;Lt++){var It=A.children[Lt];ut(wt,A.leaf?vt(It):It),jt+=X(wt)}for(var Kt=u-q-1;Kt>=q;Kt--){var At=A.children[Kt];ut(Mt,A.leaf?vt(At):At),jt+=X(Mt)}return jt},P.prototype._adjustParentBBoxes=function(A,q,u){for(var yt=u;yt>=0;yt--)ut(q[yt],A)},P.prototype._condense=function(A){for(var q=A.length-1,u=void 0;q>=0;q--)A[q].children.length===0?q>0?(u=A[q-1].children).splice(u.indexOf(A[q]),1):this.clear():O(A[q],this.toBBox)},P}()}},rt={};function V(v){var b=rt[v];if(b!==void 0)return b.exports;var y=rt[v]={id:v,loaded:!1,exports:{}};return E[v].call(y.exports,y,y.exports,V),y.loaded=!0,y.exports}V.n=v=>{var b=v&&v.__esModule?()=>v.default:()=>v;return V.d(b,{a:b}),b},V.d=(v,b)=>{for(var y in b)V.o(b,y)&&!V.o(v,y)&&Object.defineProperty(v,y,{enumerable:!0,get:b[y]})},V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),V.o=(v,b)=>Object.prototype.hasOwnProperty.call(v,b),V.nmd=v=>(v.paths=[],v.children||(v.children=[]),v),V(5975)})();var dn=cn(Nn(),1);var Ar=cn(Nn(),1);function zn([E,rt]){let V=rt/-64-.5,v=E/64;return[V,v]}function _o([E,rt]){let V=rt*64,v=(E+.5)*-64;return[V,v]}var yo=cn(wr(),1);async function vo(){let rt=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1JSmJtYkYrEx6Am5drhSet17qwJzOKDI7tE7FxPx4YNI&sheetName=New%20World")).json();ia(rt),Mn(),Nr().city.enable(),Nr().airportCalc.enable(),(0,yo.default)("#search__input").removeAttr("disabled")}function Mn(){let{cityLayers:E,CC:rt,searchLayer:V}=fn(),v=Ee().map;if(Ee().displayTowns)v.removeLayer(V),console.log(E.entries()),v.addLayer(E.get("Community")),v.addLayer(E.get("Premier")),v.addLayer(E.get("Governor")),v.addLayer(E.get("Senator")),v.addLayer(E.get("Mayor")),v.addLayer(E.get("Councillor")),v.addLayer(E.get("Unranked")),v.addLayer(rt);else{v.removeLayer(E.get("Community")),v.removeLayer(E.get("Premier")),v.removeLayer(E.get("Governor")),v.removeLayer(E.get("Senator")),v.removeLayer(E.get("Mayor")),v.removeLayer(E.get("Councillor")),v.removeLayer(E.get("Unranked")),v.removeLayer(rt);return}}function ia(E){let rt={Premier:"#fffc04",Governor:"#08fc04",Senator:"#08ac04",Mayor:"#0804fc",Councillor:"#5084ec",Community:"#781c44",Unranked:"#ffffff"};fn().towns=E;let{cityMarkers:V,cityLayers:v}=fn();for(let b of E){b.Name=b["Town Name"];let y=[b.X,b.Y,b.Z];if(isNaN(y[0])||isNaN(y[2]))console.warn(`Not displaying town ${b.Name}: invalid or missing coordinates`);else{let M=zn([y[0],y[2]]);V.has(b["Town Rank"])||V.set(b["Town Rank"],[]),V.get(b["Town Rank"]).push(Ar.default.circleMarker(M,{color:rt[b["Town Rank"]],radius:7}).bindPopup(`Name: ${b.Name}<br>Mayor: ${b.Mayor}<br>Deputy Mayor: ${b["Deputy Mayor"]}<br>Rank: ${b["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(b.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}}hr.cityTypes.forEach(b=>{let y=Ar.default.featureGroup();V.get(b).forEach(M=>{y.addLayer(M)}),v.set(b,y)}),Ee().map.on("zoomend",Mn)}var Cn=cn(Nn(),1);L.Control.Bar=L.Control.extend({includes:L.Mixin.Events,options:{position:"top",visible:"true"},initialize:function(E,rt){L.setOptions(this,rt);var V=this._contentContainer=L.DomUtil.get(E);V.parentNode.removeChild(V);var v=this.options.visible?"visible":"",b=this._container=L.DomUtil.create("div","leaflet-control-bar-"+this.options.position+" leaflet-control-bar "+v);L.DomUtil.addClass(V,"leaflet-control"),b.appendChild(V)},addTo:function(E){var rt=this._container,V=this._contentContainer;L.DomEvent.on(rt,"transitionend",this._handleTransitionEvent,this).on(rt,"webkitTransitionEnd",this._handleTransitionEvent,this);var v=E._controlContainer;v.insertBefore(rt,v.firstChild),this._map=E;var b=L.DomEvent.stopPropagation;return L.DomEvent.on(V,"contextmenu",b).on(V,"click",b).on(V,"mousedown",b).on(V,"touchstart",b).on(V,"dblclick",b).on(V,"mousewheel",b).on(V,"MozMousePixelScroll",b),this},removeFrom:function(E){this.hide();var rt=this._contentContainer,V=E._controlContainer;V.removeChild(this._container),this._map=null;var v=L.DomEvent.stopPropagation;return L.DomEvent.off(rt,"contextmenu",v).off(rt,"click",v).off(rt,"mousedown",v).off(rt,"touchstart",v).off(rt,"dblclick",v).off(rt,"mousewheel",v).off(rt,"MozMousePixelScroll",v),L.DomEvent.off(container,"transitionend",this._handleTransitionEvent,this).off(container,"webkitTransitionEnd",this._handleTransitionEvent,this),this},isVisible:function(){return L.DomUtil.hasClass(this._container,"visible")},show:function(){this.isVisible()||(L.DomUtil.addClass(this._container,"visible"),this.fire("show"))},hide:function(E){this.isVisible()&&(L.DomUtil.removeClass(this._container,"visible"),this.fire("hide")),E&&L.DomEvent.stopPropagation(E)},toggle:function(){this.isVisible()?this.hide():this.show()},getContainer:function(){return this._contentContainer},setContent:function(E){return this.getContainer().innerHTML=E,this},_handleTransitionEvent:function(E){(E.propertyName=="left"||E.propertyName=="right"||E.propertyName=="bottom"||E.propertyName=="top")&&this.fire(this.isVisible()?"shown":"hidden")}});L.control.bar=function(E,rt){return new L.Control.Bar(E,rt)};var na="2.2 (12/5/23)",Fi=Cn.default.layerGroup([]),zr=document.getElementById("downloader"),Fr=document.getElementById("importer"),Qn,jr="city",bo=1,_r="";function Lo(){let E=Ee().map;E.pm.setGlobalOptions({layerGroup:Fi,pathOptions:{color:"#ff0000"}}),E.pm.Toolbar.createCustomControl({name:"cityspace",title:"City Space",block:"custom",className:"fas fa-city icon",toggle:!1,onClick:()=>{E.pm.setGlobalOptions({layerGroup:Fi,pathOptions:{color:"#ff0000"}}),jr="city"}}),E.pm.Toolbar.createCustomControl({name:"airportspace",title:"Airport Space",block:"custom",className:"fas fa-plane icon",toggle:!1,onClick:()=>{E.pm.setGlobalOptions({layerGroup:Fi,pathOptions:{color:"#00dd00"}}),jr="airport"}}),E.pm.Toolbar.createCustomControl({name:"clearall",title:"Clear All",block:"custom",className:"fas fa-times icon",toggle:!1,onClick:()=>{ko("Are you sure you want to clear all polygons?")}}),E.pm.Toolbar.createCustomControl({name:"export",title:"Export",block:"custom",className:"fas fa-file-export icon",toggle:!1,onClick:()=>{let rt="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(wo(),null,2));zr.href=rt,zr.download="city.apc",zr.click(),Cr("Polygons exported")}}),E.pm.Toolbar.createCustomControl({name:"import",title:"Import",block:"custom",className:"fas fa-file-import icon",toggle:!1,onClick:()=>{document.getElementById("importer").click()}}),Qn=Cn.default.control.bar("bar",{position:"bottom",visible:!1}),E.addControl(Qn),E.pm.removeControls(),setInterval(()=>{if(Qn?.isVisible()){let[rt,V,v]=ra();isNaN(v)&&(v=0);let b=`<img src="media/airportcalcicon.png" style="height: 100%; float: right;" title="Logo by Cortesi">
            <b>City area size:</b> ${Math.round(rt)}m^2
            <b>| Airport area size:</b> ${Math.round(V)}m^2
            <b>| Percentage:</b> <span style="color: ${v<50?"green":"red"};">${Math.round(v*100)/100}%</span>
            <b>| Drawing for:</b> ${jr}`+(_r!=""?`<br><b>${_r}</b>`:"");Qn.getContainer()?.innerHTML!=b&&Qn.setContent(b)}},50)}function ko(E){Fi.getLayers().length!=0&&confirm(E)&&(Fi.clearLayers(),Cr("Polygons cleared"))}var Gr=!1;function xo(){let E=Ee().map;Gr?(E.pm.removeControls(),E.removeLayer(Fi),Ee().displayTowns=bo==1,Mn(),E.addControl(Ee().logo),Qn?.hide()):(E.pm.addControls({position:"bottomleft",drawCircleMarker:!1,drawPolyline:!1,drawMarker:!1}),window.localStorage.airportcalc!=null&&(Mo(JSON.parse(window.localStorage.airportcalc)),delete window.localStorage.airportcalc),E.addLayer(Fi),bo=Ee().displayTowns?1:0,Ee().displayTowns=!1,Mn(),Qn?.show(),E.removeControl(Ee().logo),Cr("Airportcalc "+na)),Gr=!Gr}function ra(){let E=0,rt=0;return Fi.getLayers().forEach(V=>{let v=0;if(V instanceof Cn.default.Polygon)for(let b=0;b<V.getLatLngs().length;b++){let y=0,M=V.getLatLngs()[b].map(P=>_o([P.lat,P.lng]));for(let P=0;P<M.length;P++){let Z=M[P],O=M[P+1];P==M.length-1&&(O=M[0]),y+=.5*(Z[1]+O[1])*(O[0]-Z[0])}b==0?v+=Math.abs(y):v-=Math.abs(y)}else{let b=V.getRadius()*64;v=Math.PI*b**2}V.options.color=="#ff0000"?E+=Math.abs(v):rt+=Math.abs(v)}),[E,rt,rt/E*100]}function wo(){let E=[];return Fi.getLayers().forEach(rt=>{let V={type:"feature",geometry:{type:rt instanceof Cn.default.Circle?"point":"polygon",coordinates:[]},properties:{space:rt.options.color=="#ff0000"?"city":"airport",shape:rt.pm.getShape(),color:rt.options.color}};if(rt instanceof Cn.default.Circle){V.properties.radius=rt.getRadius();let v=rt.getLatLng();V.geometry.coordinates=[v.lat,v.lng]}else{let v=rt.getLatLngs();V.geometry.coordinates=v.map(b=>b.map(y=>[y.lat,y.lng]))}E.push(V)}),{type:"FeatureCollection",features:E}}function Mo(E){E.features.forEach(rt=>{rt.properties.shape=="Circle"?Fi.addLayer(Cn.default.circle(rt.geometry.coordinates,{color:rt.properties.color,radius:rt.properties.radius}).addTo(Ee().map)):rt.properties.shape=="Rectangle"?Fi.addLayer(Cn.default.rectangle([rt.geometry.coordinates[0],rt.geometry.coordinates[2]],{color:rt.properties.color}).addTo(Ee().map)):Fi.addLayer(Cn.default.polygon(rt.geometry.coordinates,{color:rt.properties.color}).addTo(Ee().map))})}function oa(){let E=Fr.files?.[0];if(E===void 0)return;let rt=new FileReader;rt.onload=function(){ko("Do you want to clear all polygons?");let V=JSON.parse(rt.result?.toString()??"");Fr.value="",Mo(V),Cr("New polygons imported")},rt.readAsText(E)}Fr.oninput=oa;function Cr(E){_r=E,setTimeout(()=>{_r==E&&(_r="")},3e3)}window.addEventListener("beforeunload",()=>{window.localStorage.airportcalc=JSON.stringify(wo())});var Pr=class{constructor(rt){ni(this,"displayTowns",!0);ni(this,"map");ni(this,"cityMap",new hr);ni(this,"streetMapVisible",!1);ni(this,"buttons");ni(this,"logo");this.map=rt,this.buttons=new Hr(this.map),this.logo=new Zr(this.map)}},hr=class{constructor(){ni(this,"searchLayer",dn.default.featureGroup());ni(this,"CC",dn.default.featureGroup());ni(this,"cityLayers",new Map);ni(this,"cityMarkers",new Map);ni(this,"towns",[])}};ni(hr,"cityTypes",["Premier","Governor","Senator","Community","Mayor","Councillor","Unranked"]);var Zr=class extends dn.default.Control{onAdd(){let rt=dn.default.DomUtil.create("div");return rt.innerHTML="<img src='media/mrtmapicon_lighttext.png' style='height: 50px;' title='Logo by Cortesi'>",rt}onRemove(){}constructor(rt,V){super(V),this.setPosition("bottomright").addTo(rt)}},Hr=class{constructor(rt){ni(this,"city");ni(this,"guide");ni(this,"streetMap");ni(this,"airportCalc");this.guide=dn.default.easyButton("fa-question",()=>{window.open("guide.html","_blank")},"Guide").setPosition("topright").addTo(rt);let V=dn.default.tileLayer("https://raw.githubusercontent.com/MRT-Map/map-data/main/tiles/{z}/{x}/{y}.webp");this.streetMap=dn.default.easyButton("fa-map",()=>{Ee().streetMapVisible?V.removeFrom(rt):V.addTo(rt),Ee().streetMapVisible=!Ee().streetMapVisible},"Show Streetmap").setPosition("topright").addTo(rt),this.city=dn.default.easyButton("fa-city",()=>{Ee().displayTowns=!Ee().displayTowns,Mn()},"Show/Hide towns").setPosition("topright").addTo(rt),this.city.disable(),this.airportCalc=dn.default.easyButton("fa-ruler",xo,"Open Airportcalc 2").setPosition("topright").addTo(rt),this.airportCalc.disable()}};function Ee(){return window.globals}function fn(){return window.globals.cityMap}function Nr(){return window.globals.buttons}var Ur=class extends yr.default.TileLayer{getTileUrl(rt){let V=2**(8-rt.z),v=rt.x*1,b=rt.y*-1,y={x:Math.floor(v*V/32),y:Math.floor(b*V/32)},M={x:Math.floor(v*V),y:Math.floor(b*V)},P="";for(let O=8;O>rt.z;O--)P+="z";return P.length!=0&&(P+="_"),`https://dynmap.minecartrapidtransit.net/tiles/new/flat/${y.x}_${y.y}/${P}${M.x}_${M.y}.png`}},aa=function(E,rt){return new Ur(E,rt)};function Co(){let E=yr.default.map("map",{crs:yr.default.CRS.Simple}).setView([0,0],8);aa("unused url; check custom function",{maxZoom:8,id:"map",tileSize:128,zoomOffset:0,noWrap:!0,bounds:[[-900,-900],[900,900]],attribution:"Minecart Rapid Transit"}).addTo(E),yr.default.control.zoom({position:"topright"}).addTo(E),window.globals=new Pr(E)}var qr=cn(Nn(),1);var pn=cn(wr(),1),Vr;async function To(){Vr=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1Hhj_Cghfhfs8Xh5v5gt65kGc4mDW0sC5GWULKidOBW8&sheetName=Members")).json();for(let rt of Vr){if(rt.names=[rt.Username],rt["Former Usernames"]!=""){let V=rt["Former Usernames"].split(",");for(let v of V)rt.names.push(v.trim())}if(rt["Temporary Usernames"]!=""){let V=rt["Temporary Usernames"].split(",");for(let v of V)rt.names.push(v.trim())}}}function sa(E){let rt=Ee().map;rt.removeLayer(fn().CC),rt.removeLayer(fn().searchLayer),fn().searchLayer=qr.default.featureGroup(),window.globals.displayTowns=!1;let V=[];for(let b of Vr)for(let y of b.names)typeof y!="string"&&(y=y.toString()),y=y.toLowerCase(),y.toLowerCase().includes(E.toLowerCase())&&V.push(y);let v=window.globals.cityMap.towns.filter(b=>b.Name?.toString().toLowerCase().includes(E.toLowerCase())??V.includes(b.Mayor.toString().toLowerCase()));for(let b of window.globals.cityMap.cityLayers.values())rt.removeLayer(b);for(let b of v){let y=[b.X,b.Y,b.Z];isNaN(y[0])||isNaN(y[2])?console.log(`Not displaying town ${b.Name} in search results popup: invalid or missing coordinates`):fn().searchLayer.addLayer(qr.default.marker(zn([y[0],y[2]])).addTo(rt).bindPopup(`Name: ${b.Name}<br>Mayor: ${b.Mayor}<br>Deputy Mayor: ${b["Deputy Mayor"]}<br>Rank: ${b["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(b.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}return rt.addLayer(fn().searchLayer),v}function Wr(){try{go()}catch{console.log("couldn't reset results")}let E=(0,pn.default)("#search__input").val();if(E==null||E=="")(0,pn.default)(".results__container").css("display","none"),window.globals.displayTowns=!0,Mn(),document.getElementById("search__results").innerHTML="";else{(0,pn.default)(".results__container").css("display","block");let rt=sa(E);document.getElementById("search__results").innerHTML="",rt.length==0&&(document.getElementById("search__results").innerHTML="<div>No Results</div>");for(let V of rt){let v=document.getElementById("search__results");v.innerHTML+=`<div class="result"><div class="result__name">${V.Name}</div><div class="result__details"><div class="result__rank">Rank: ${V["Town Rank"]}</div><div class="result__mayor">Mayor: ${V.Mayor}</div></div></div>`,v.querySelector("div").onclick=()=>ua(V.X,V.Z)}}}function So(){document.activeElement?.blur(),(0,pn.default)("input").blur()}function la(){let E=!1;return function(rt){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(rt)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(rt.substr(0,4)))&&(E=!0)}(navigator.userAgent||navigator.vendor||window.opera),E}var Po;(0,pn.default)("#search__input").on("input",function(){(0,pn.default)(".results__container").css("display","none");let E=(0,pn.default)("#search__input").val();(!la()||E==null||E=="")&&(clearTimeout(Po),Po=setTimeout(function(){Wr()},500))});(0,pn.default)("#search__input").keypress(function(E){E.which==13&&(So(),Wr())});(0,pn.default)(".search__bar button").click(function(){So(),Wr()});function ua(E,rt){if(isNaN(E)||isNaN(rt))return alert("This town cannot be displayed because it contains invalid coordinates. Please contact a staff member to fix.");console.log(E,rt),Ee().map.flyTo(zn([E,rt]),5)}var Tr=cn(Nn(),1);var Eo=new URL(document.location.toString()).searchParams;async function Oo(){if(Eo.get("waypoints")){let rt=(await(await fetch("https://docs.google.com/spreadsheets/d/11E60uIBKs5cOSIRHLz0O0nLCefpj7HgndS1gIXY_1hw/export?format=csv&gid=707730663")).text()).split(`
`).map(V=>V.split(","));rt.shift();for(let V of rt)console.log(V),Tr.circleMarker(zn(V[1].split(" ").map(v=>parseInt(v))),{radius:5}).bindPopup(V[0]).addTo(Ee().map)}}async function Do(){if(Eo.get("airways")){let rt=await(await fetch("https://raw.githubusercontent.com/MRT-Map/mrt-flightradar/main/data/airway_coords.json")).json();for(let V of rt)console.log(V),Tr.polyline(V.map(([v,b])=>[v,-b]).map(zn),{color:"red"}).addTo(Ee().map)}}var Kr=cn(Nn(),1);delete Kr.default.Icon.Default.prototype._getIconUrl;Kr.default.Icon.Default.mergeOptions({iconRetinaUrl:Bo(),iconUrl:Ro(),shadowUrl:Io()});Co();vo();To();Lo();Oo();Do();})();
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)
*/
//# sourceMappingURL=https://mrt-map.github.io/map/out.js.map
