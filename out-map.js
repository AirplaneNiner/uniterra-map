(()=>{var Ps=Object.create;var Fo=Object.defineProperty;var As=Object.getOwnPropertyDescriptor;var Ts=Object.getOwnPropertyNames;var Ss=Object.getPrototypeOf,Ds=Object.prototype.hasOwnProperty;var jr=(j,st)=>()=>(st||j((st={exports:{}}).exports,st),st.exports);var Os=(j,st,Y,mt)=>{if(st&&typeof st=="object"||typeof st=="function")for(let dt of Ts(st))!Ds.call(j,dt)&&dt!==Y&&Fo(j,dt,{get:()=>st[dt],enumerable:!(mt=As(st,dt))||mt.enumerable});return j};var ga=(j,st,Y)=>(Y=j!=null?Ps(Ss(j)):{},Os(st||!j||!j.__esModule?Fo(Y,"default",{value:j,enumerable:!0}):Y,j));var Wa=jr((no,Io)=>{(function(j,st){typeof no=="object"&&typeof Io<"u"?st(no):typeof define=="function"&&define.amd?define(["exports"],st):(j=typeof globalThis<"u"?globalThis:j||self,st(j.leaflet={}))})(no,function(j){"use strict";var st="1.9.4";function Y(t){var a,s,u,g;for(s=1,u=arguments.length;s<u;s++){g=arguments[s];for(a in g)t[a]=g[a]}return t}var mt=Object.create||function(){function t(){}return function(a){return t.prototype=a,new t}}();function dt(t,a){var s=Array.prototype.slice;if(t.bind)return t.bind.apply(t,s.call(arguments,1));var u=s.call(arguments,2);return function(){return t.apply(a,u.length?u.concat(s.call(arguments)):arguments)}}var Qt=0;function X(t){return"_leaflet_id"in t||(t._leaflet_id=++Qt),t._leaflet_id}function je(t,a,s){var u,g,C,F;return F=function(){u=!1,g&&(C.apply(s,g),g=!1)},C=function(){u?g=arguments:(t.apply(s,arguments),setTimeout(F,a),u=!0)},C}function Te(t,a,s){var u=a[1],g=a[0],C=u-g;return t===u&&s?t:((t-g)%C+C)%C+g}function ce(){return!1}function Se(t,a){if(a===!1)return t;var s=Math.pow(10,a===void 0?6:a);return Math.round(t*s)/s}function Ji(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Qi(t){return Ji(t).split(/\s+/)}function xt(t,a){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?mt(t.options):{});for(var s in a)t.options[s]=a[s];return t.options}function Nt(t,a,s){var u=[];for(var g in t)u.push(encodeURIComponent(s?g.toUpperCase():g)+"="+encodeURIComponent(t[g]));return(!a||a.indexOf("?")===-1?"?":"&")+u.join("&")}var _a=/\{ *([\w_ -]+) *\}/g;function Ot(t,a){return t.replace(_a,function(s,u){var g=a[u];if(g===void 0)throw new Error("No value provided for variable "+s);return typeof g=="function"&&(g=g(a)),g})}var mi=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Ka(t,a){for(var s=0;s<t.length;s++)if(t[s]===a)return s;return-1}var Si="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $a(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var xn=0;function m(t){var a=+new Date,s=Math.max(0,16-(a-xn));return xn=a+s,window.setTimeout(t,s)}var ta=window.requestAnimationFrame||$a("RequestAnimationFrame")||m,le=window.cancelAnimationFrame||$a("CancelAnimationFrame")||$a("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Ke(t,a,s){if(s&&ta===m)t.call(a);else return ta.call(window,dt(t,a))}function Fe(t){t&&le.call(window,t)}var ea={__proto__:null,extend:Y,create:mt,bind:dt,get lastId(){return Qt},stamp:X,throttle:je,wrapNum:Te,falseFn:ce,formatNum:Se,trim:Ji,splitWords:Qi,setOptions:xt,getParamString:Nt,template:Ot,isArray:mi,indexOf:Ka,emptyImageUrl:Si,requestFn:ta,cancelFn:le,requestAnimFrame:Ke,cancelAnimFrame:Fe};function Ht(){}Ht.extend=function(t){var a=function(){xt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=a.__super__=this.prototype,u=mt(s);u.constructor=a,a.prototype=u;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(a[g]=this[g]);return t.statics&&Y(a,t.statics),t.includes&&(Da(t.includes),Y.apply(null,[u].concat(t.includes))),Y(u,t),delete u.statics,delete u.includes,u.options&&(u.options=s.options?mt(s.options):{},Y(u.options,t.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,F=u._initHooks.length;C<F;C++)u._initHooks[C].call(this)}},a},Ht.include=function(t){var a=this.prototype.options;return Y(this.prototype,t),t.options&&(this.prototype.options=a,this.mergeOptions(t.options)),this},Ht.mergeOptions=function(t){return Y(this.prototype.options,t),this},Ht.addInitHook=function(t){var a=Array.prototype.slice.call(arguments,1),s=typeof t=="function"?t:function(){this[t].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function Da(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=mi(t)?t:[t];for(var a=0;a<t.length;a++)t[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Je={on:function(t,a,s){if(typeof t=="object")for(var u in t)this._on(u,t[u],a);else{t=Qi(t);for(var g=0,C=t.length;g<C;g++)this._on(t[g],a,s)}return this},off:function(t,a,s){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var u in t)this._off(u,t[u],a);else{t=Qi(t);for(var g=arguments.length===1,C=0,F=t.length;C<F;C++)g?this._off(t[C]):this._off(t[C],a,s)}return this},_on:function(t,a,s,u){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(t,a,s)===!1){s===this&&(s=void 0);var g={fn:a,ctx:s};u&&(g.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(g)}},_off:function(t,a,s){var u,g,C;if(this._events&&(u=this._events[t],!!u)){if(arguments.length===1){if(this._firingCount)for(g=0,C=u.length;g<C;g++)u[g].fn=ce;delete this._events[t];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var F=this._listens(t,a,s);if(F!==!1){var J=u[F];this._firingCount&&(J.fn=ce,this._events[t]=u=u.slice()),u.splice(F,1)}}},fire:function(t,a,s){if(!this.listens(t,s))return this;var u=Y({},a,{type:t,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[t];if(g){this._firingCount=this._firingCount+1||1;for(var C=0,F=g.length;C<F;C++){var J=g[C],at=J.fn;J.once&&this.off(t,at,J.ctx),at.call(J.ctx||this,u)}this._firingCount--}}return s&&this._propagateEvent(u),this},listens:function(t,a,s,u){typeof t!="string"&&console.warn('"string" type argument expected');var g=a;typeof a!="function"&&(u=!!a,g=void 0,s=void 0);var C=this._events&&this._events[t];if(C&&C.length&&this._listens(t,g,s)!==!1)return!0;if(u){for(var F in this._eventParents)if(this._eventParents[F].listens(t,a,s,u))return!0}return!1},_listens:function(t,a,s){if(!this._events)return!1;var u=this._events[t]||[];if(!a)return!!u.length;s===this&&(s=void 0);for(var g=0,C=u.length;g<C;g++)if(u[g].fn===a&&u[g].ctx===s)return g;return!1},once:function(t,a,s){if(typeof t=="object")for(var u in t)this._on(u,t[u],a,!0);else{t=Qi(t);for(var g=0,C=t.length;g<C;g++)this._on(t[g],a,s,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[X(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[X(t)],this},_propagateEvent:function(t){for(var a in this._eventParents)this._eventParents[a].fire(t.type,Y({layer:t.target,propagatedFrom:t.target},t),!0)}};Je.addEventListener=Je.on,Je.removeEventListener=Je.clearAllEventListeners=Je.off,Je.addOneTimeEventListener=Je.once,Je.fireEvent=Je.fire,Je.hasEventListeners=Je.listens;var Oa=Ht.extend(Je);function Tt(t,a,s){this.x=s?Math.round(t):t,this.y=s?Math.round(a):a}var Ya=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Tt.prototype={clone:function(){return new Tt(this.x,this.y)},add:function(t){return this.clone()._add(Pt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Pt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Tt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Tt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ya(this.x),this.y=Ya(this.y),this},distanceTo:function(t){t=Pt(t);var a=t.x-this.x,s=t.y-this.y;return Math.sqrt(a*a+s*s)},equals:function(t){return t=Pt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Pt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+Se(this.x)+", "+Se(this.y)+")"}};function Pt(t,a,s){return t instanceof Tt?t:mi(t)?new Tt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Tt(t.x,t.y):new Tt(t,a,s)}function de(t,a){if(t)for(var s=a?[t,a]:t,u=0,g=s.length;u<g;u++)this.extend(s[u])}de.prototype={extend:function(t){var a,s;if(!t)return this;if(t instanceof Tt||typeof t[0]=="number"||"x"in t)a=s=Pt(t);else if(t=Ee(t),a=t.min,s=t.max,!a||!s)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=s.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(t){return Pt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Pt(this.min.x,this.max.y)},getTopRight:function(){return Pt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var a,s;return typeof t[0]=="number"||t instanceof Tt?t=Pt(t):t=Ee(t),t instanceof de?(a=t.min,s=t.max):a=s=t,a.x>=this.min.x&&s.x<=this.max.x&&a.y>=this.min.y&&s.y<=this.max.y},intersects:function(t){t=Ee(t);var a=this.min,s=this.max,u=t.min,g=t.max,C=g.x>=a.x&&u.x<=s.x,F=g.y>=a.y&&u.y<=s.y;return C&&F},overlaps:function(t){t=Ee(t);var a=this.min,s=this.max,u=t.min,g=t.max,C=g.x>a.x&&u.x<s.x,F=g.y>a.y&&u.y<s.y;return C&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var a=this.min,s=this.max,u=Math.abs(a.x-s.x)*t,g=Math.abs(a.y-s.y)*t;return Ee(Pt(a.x-u,a.y-g),Pt(s.x+u,s.y+g))},equals:function(t){return t?(t=Ee(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Ee(t,a){return!t||t instanceof de?t:new de(t,a)}function qe(t,a){if(t)for(var s=a?[t,a]:t,u=0,g=s.length;u<g;u++)this.extend(s[u])}qe.prototype={extend:function(t){var a=this._southWest,s=this._northEast,u,g;if(t instanceof ne)u=t,g=t;else if(t instanceof qe){if(u=t._southWest,g=t._northEast,!u||!g)return this}else return t?this.extend(Xt(t)||ye(t)):this;return!a&&!s?(this._southWest=new ne(u.lat,u.lng),this._northEast=new ne(g.lat,g.lng)):(a.lat=Math.min(u.lat,a.lat),a.lng=Math.min(u.lng,a.lng),s.lat=Math.max(g.lat,s.lat),s.lng=Math.max(g.lng,s.lng)),this},pad:function(t){var a=this._southWest,s=this._northEast,u=Math.abs(a.lat-s.lat)*t,g=Math.abs(a.lng-s.lng)*t;return new qe(new ne(a.lat-u,a.lng-g),new ne(s.lat+u,s.lng+g))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ne||"lat"in t?t=Xt(t):t=ye(t);var a=this._southWest,s=this._northEast,u,g;return t instanceof qe?(u=t.getSouthWest(),g=t.getNorthEast()):u=g=t,u.lat>=a.lat&&g.lat<=s.lat&&u.lng>=a.lng&&g.lng<=s.lng},intersects:function(t){t=ye(t);var a=this._southWest,s=this._northEast,u=t.getSouthWest(),g=t.getNorthEast(),C=g.lat>=a.lat&&u.lat<=s.lat,F=g.lng>=a.lng&&u.lng<=s.lng;return C&&F},overlaps:function(t){t=ye(t);var a=this._southWest,s=this._northEast,u=t.getSouthWest(),g=t.getNorthEast(),C=g.lat>a.lat&&u.lat<s.lat,F=g.lng>a.lng&&u.lng<s.lng;return C&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,a){return t?(t=ye(t),this._southWest.equals(t.getSouthWest(),a)&&this._northEast.equals(t.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(t,a){return t instanceof qe?t:new qe(t,a)}function ne(t,a,s){if(isNaN(t)||isNaN(a))throw new Error("Invalid LatLng object: ("+t+", "+a+")");this.lat=+t,this.lng=+a,s!==void 0&&(this.alt=+s)}ne.prototype={equals:function(t,a){if(!t)return!1;t=Xt(t);var s=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return s<=(a===void 0?1e-9:a)},toString:function(t){return"LatLng("+Se(this.lat,t)+", "+Se(this.lng,t)+")"},distanceTo:function(t){return ji.distance(this,Xt(t))},wrap:function(){return ji.wrapLatLng(this)},toBounds:function(t){var a=180*t/40075017,s=a/Math.cos(Math.PI/180*this.lat);return ye([this.lat-a,this.lng-s],[this.lat+a,this.lng+s])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function Xt(t,a,s){return t instanceof ne?t:mi(t)&&typeof t[0]!="object"?t.length===3?new ne(t[0],t[1],t[2]):t.length===2?new ne(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ne(t.lat,"lng"in t?t.lng:t.lon,t.alt):a===void 0?null:new ne(t,a,s)}var Di={latLngToPoint:function(t,a){var s=this.projection.project(t),u=this.scale(a);return this.transformation._transform(s,u)},pointToLatLng:function(t,a){var s=this.scale(a),u=this.transformation.untransform(t,s);return this.projection.unproject(u)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var a=this.projection.bounds,s=this.scale(t),u=this.transformation.transform(a.min,s),g=this.transformation.transform(a.max,s);return new de(u,g)},infinite:!1,wrapLatLng:function(t){var a=this.wrapLng?Te(t.lng,this.wrapLng,!0):t.lng,s=this.wrapLat?Te(t.lat,this.wrapLat,!0):t.lat,u=t.alt;return new ne(s,a,u)},wrapLatLngBounds:function(t){var a=t.getCenter(),s=this.wrapLatLng(a),u=a.lat-s.lat,g=a.lng-s.lng;if(u===0&&g===0)return t;var C=t.getSouthWest(),F=t.getNorthEast(),J=new ne(C.lat-u,C.lng-g),at=new ne(F.lat-u,F.lng-g);return new qe(J,at)}},ji=Y({},Di,{wrapLng:[-180,180],R:6371e3,distance:function(t,a){var s=Math.PI/180,u=t.lat*s,g=a.lat*s,C=Math.sin((a.lat-t.lat)*s/2),F=Math.sin((a.lng-t.lng)*s/2),J=C*C+Math.cos(u)*Math.cos(g)*F*F,at=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*at}}),Kn=6378137,Xa={R:Kn,MAX_LATITUDE:85.0511287798,project:function(t){var a=Math.PI/180,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,t.lat),-s),g=Math.sin(u*a);return new Tt(this.R*t.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(t){var a=180/Math.PI;return new ne((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*a,t.x*a/this.R)},bounds:function(){var t=Kn*Math.PI;return new de([-t,-t],[t,t])}()};function Ge(t,a,s,u){if(mi(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=a,this._c=s,this._d=u}Ge.prototype={transform:function(t,a){return this._transform(t.clone(),a)},_transform:function(t,a){return a=a||1,t.x=a*(this._a*t.x+this._b),t.y=a*(this._c*t.y+this._d),t},untransform:function(t,a){return a=a||1,new Tt((t.x/a-this._b)/this._a,(t.y/a-this._d)/this._c)}};function Ra(t,a,s,u){return new Ge(t,a,s,u)}var qi=Y({},ji,{code:"EPSG:3857",projection:Xa,transformation:function(){var t=.5/(Math.PI*Xa.R);return Ra(t,.5,-t,.5)}()}),Ja=Y({},qi,{code:"EPSG:900913"});function wn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ln(t,a){var s="",u,g,C,F,J,at;for(u=0,C=t.length;u<C;u++){for(J=t[u],g=0,F=J.length;g<F;g++)at=J[g],s+=(g?"L":"M")+at.x+" "+at.y;s+=a?Mt.svg?"z":"x":""}return s||"M0 0"}var Fa=document.documentElement.style,ia="ActiveXObject"in window,Li=ia&&!document.addEventListener,Qa="msLaunchUri"in navigator&&!("documentMode"in document),tn=oi("webkit"),$n=oi("android"),gi=oi("android 2")||oi("android 3"),Ia=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),za=$n&&oi("Google")&&Ia<537&&!("AudioNode"in window),Ct=!!window.opera,Ze=!Qa&&oi("chrome"),Yn=oi("gecko")&&!tn&&!Ct&&!ia,Br=!Ze&&oi("safari"),Xn=oi("phantom"),en="OTransition"in Fa,kn=navigator.platform.indexOf("Win")===0,ya=ia&&"transition"in Fa,Ie="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gi,Gi="MozPerspective"in Fa,aa=!window.L_DISABLE_3D&&(ya||Ie||Gi)&&!en&&!Xn,Oi=typeof orientation<"u"||oi("mobile"),Na=Oi&&tn,an=Oi&&Ie,Cn=!window.PointerEvent&&window.MSPointerEvent,Jn=!!(window.PointerEvent||Cn),Zi="ontouchstart"in window||!!window.TouchEvent,ja=!window.L_NO_TOUCH&&(Zi||Jn),Qn=Oi&&Ct,tr=Oi&&Yn,ri=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ue=function(){var t=!1;try{var a=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",ce,a),window.removeEventListener("testPassiveEventSupport",ce,a)}catch{}return t}(),nn=function(){return!!document.createElement("canvas").getContext}(),Mn=!!(document.createElementNS&&wn("svg").createSVGRect),er=!!Mn&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ir=!Mn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var a=t.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),na=navigator.platform.indexOf("Mac")===0,va=navigator.platform.indexOf("Linux")===0;function oi(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Mt={ie:ia,ielt9:Li,edge:Qa,webkit:tn,android:$n,android23:gi,androidStock:za,opera:Ct,chrome:Ze,gecko:Yn,safari:Br,phantom:Xn,opera12:en,win:kn,ie3d:ya,webkit3d:Ie,gecko3d:Gi,any3d:aa,mobile:Oi,mobileWebkit:Na,mobileWebkit3d:an,msPointer:Cn,pointer:Jn,touch:ja,touchNative:Zi,mobileOpera:Qn,mobileGecko:tr,retina:ri,passiveEvents:Ue,canvas:nn,svg:Mn,vml:ir,inlineSvg:er,mac:na,linux:va},En=Mt.msPointer?"MSPointerDown":"pointerdown",ar=Mt.msPointer?"MSPointerMove":"pointermove",nr=Mt.msPointer?"MSPointerUp":"pointerup",Bn=Mt.msPointer?"MSPointerCancel":"pointercancel",rn={touchstart:En,touchmove:ar,touchend:nr,touchcancel:Bn},rr={touchstart:oa,touchmove:xa,touchend:xa,touchcancel:xa},ra={},or=!1;function ba(t,a,s){return a==="touchstart"&&lr(),rr[a]?(s=rr[a].bind(this,s),t.addEventListener(rn[a],s,!1),s):(console.warn("wrong event specified:",a),ce)}function sr(t,a,s){if(!rn[a]){console.warn("wrong event specified:",a);return}t.removeEventListener(rn[a],s,!1)}function Pn(t){ra[t.pointerId]=t}function An(t){ra[t.pointerId]&&(ra[t.pointerId]=t)}function qa(t){delete ra[t.pointerId]}function lr(){or||(document.addEventListener(En,Pn,!0),document.addEventListener(ar,An,!0),document.addEventListener(nr,qa,!0),document.addEventListener(Bn,qa,!0),or=!0)}function xa(t,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var s in ra)a.touches.push(ra[s]);a.changedTouches=[a],t(a)}}function oa(t,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&De(a),xa(t,a)}function fr(t){var a={},s,u;for(u in t)s=t[u],a[u]=s&&s.bind?s.bind(t):s;return t=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var ur=200;function hr(t,a){t.addEventListener("dblclick",a);var s=0,u;function g(C){if(C.detail!==1){u=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var F=hn(C);if(!(F.some(function(at){return at instanceof HTMLLabelElement&&at.attributes.for})&&!F.some(function(at){return at instanceof HTMLInputElement||at instanceof HTMLSelectElement}))){var J=Date.now();J-s<=ur?(u++,u===2&&a(fr(C))):u=1,s=J}}}return t.addEventListener("click",g),{dblclick:a,simDblclick:g}}function cr(t,a){t.removeEventListener("dblclick",a.dblclick),t.removeEventListener("click",a.simDblclick)}var Tn=on(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sa=on(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dr=sa==="webkitTransition"||sa==="OTransition"?sa+"End":"transitionend";function pr(t){return typeof t=="string"?document.getElementById(t):t}function wa(t,a){var s=t.style[a]||t.currentStyle&&t.currentStyle[a];if((!s||s==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(t,null);s=u?u[a]:null}return s==="auto"?null:s}function te(t,a,s){var u=document.createElement(t);return u.className=a||"",s&&s.appendChild(u),u}function se(t){var a=t.parentNode;a&&a.removeChild(t)}function Ga(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Le(t){var a=t.parentNode;a&&a.lastChild!==t&&a.appendChild(t)}function si(t){var a=t.parentNode;a&&a.firstChild!==t&&a.insertBefore(t,a.firstChild)}function La(t,a){if(t.classList!==void 0)return t.classList.contains(a);var s=Za(t);return s.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(s)}function qt(t,a){if(t.classList!==void 0)for(var s=Qi(a),u=0,g=s.length;u<g;u++)t.classList.add(s[u]);else if(!La(t,a)){var C=Za(t);ka(t,(C?C+" ":"")+a)}}function xe(t,a){t.classList!==void 0?t.classList.remove(a):ka(t,Ji((" "+Za(t)+" ").replace(" "+a+" "," ")))}function ka(t,a){t.className.baseVal===void 0?t.className=a:t.className.baseVal=a}function Za(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function He(t,a){"opacity"in t.style?t.style.opacity=a:"filter"in t.style&&mr(t,a)}function mr(t,a){var s=!1,u="DXImageTransform.Microsoft.Alpha";try{s=t.filters.item(u)}catch{if(a===1)return}a=Math.round(a*100),s?(s.Enabled=a!==100,s.Opacity=a):t.style.filter+=" progid:"+u+"(opacity="+a+")"}function on(t){for(var a=document.documentElement.style,s=0;s<t.length;s++)if(t[s]in a)return t[s];return!1}function la(t,a,s){var u=a||new Tt(0,0);t.style[Tn]=(Mt.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(s?" scale("+s+")":"")}function ie(t,a){t._leaflet_pos=a,Mt.any3d?la(t,a):(t.style.left=a.x+"px",t.style.top=a.y+"px")}function Ui(t){return t._leaflet_pos||new Tt(0,0)}var Ri,Ua,Sn;if("onselectstart"in document)Ri=function(){zt(window,"selectstart",De)},Ua=function(){fe(window,"selectstart",De)};else{var _i=on(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ri=function(){if(_i){var t=document.documentElement.style;Sn=t[_i],t[_i]="none"}},Ua=function(){_i&&(document.documentElement.style[_i]=Sn,Sn=void 0)}}function Fi(){zt(window,"dragstart",De)}function Ca(){fe(window,"dragstart",De)}var sn,fa;function ln(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ma(),sn=t,fa=t.style.outlineStyle,t.style.outlineStyle="none",zt(window,"keydown",Ma))}function Ma(){sn&&(sn.style.outlineStyle=fa,sn=void 0,fa=void 0,fe(window,"keydown",Ma))}function Dn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function fn(t){var a=t.getBoundingClientRect();return{x:a.width/t.offsetWidth||1,y:a.height/t.offsetHeight||1,boundingClientRect:a}}var Pr={__proto__:null,TRANSFORM:Tn,TRANSITION:sa,TRANSITION_END:dr,get:pr,getStyle:wa,create:te,remove:se,empty:Ga,toFront:Le,toBack:si,hasClass:La,addClass:qt,removeClass:xe,setClass:ka,getClass:Za,setOpacity:He,testProp:on,setTransform:la,setPosition:ie,getPosition:Ui,get disableTextSelection(){return Ri},get enableTextSelection(){return Ua},disableImageDrag:Fi,enableImageDrag:Ca,preventOutline:ln,restoreOutline:Ma,getSizedParentNode:Dn,getScale:fn};function zt(t,a,s,u){if(a&&typeof a=="object")for(var g in a)Rn(t,g,a[g],s);else{a=Qi(a);for(var C=0,F=a.length;C<F;C++)Rn(t,a[C],s,u)}return this}var ki="_leaflet_events";function fe(t,a,s,u){if(arguments.length===1)un(t),delete t[ki];else if(a&&typeof a=="object")for(var g in a)Fn(t,g,a[g],s);else if(a=Qi(a),arguments.length===2)un(t,function(J){return Ka(a,J)!==-1});else for(var C=0,F=a.length;C<F;C++)Fn(t,a[C],s,u);return this}function un(t,a){for(var s in t[ki]){var u=s.split(/\d/)[0];(!a||a(u))&&Fn(t,u,null,null,s)}}var On={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rn(t,a,s,u){var g=a+X(s)+(u?"_"+X(u):"");if(t[ki]&&t[ki][g])return this;var C=function(J){return s.call(u||t,J||window.event)},F=C;!Mt.touchNative&&Mt.pointer&&a.indexOf("touch")===0?C=ba(t,a,C):Mt.touch&&a==="dblclick"?C=hr(t,C):"addEventListener"in t?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?t.addEventListener(On[a]||a,C,Mt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(C=function(J){J=J||window.event,cn(t,J)&&F(J)},t.addEventListener(On[a],C,!1)):t.addEventListener(a,F,!1):t.attachEvent("on"+a,C),t[ki]=t[ki]||{},t[ki][g]=C}function Fn(t,a,s,u,g){g=g||a+X(s)+(u?"_"+X(u):"");var C=t[ki]&&t[ki][g];if(!C)return this;!Mt.touchNative&&Mt.pointer&&a.indexOf("touch")===0?sr(t,a,C):Mt.touch&&a==="dblclick"?cr(t,C):"removeEventListener"in t?t.removeEventListener(On[a]||a,C,!1):t.detachEvent("on"+a,C),t[ki][g]=null}function ua(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Hi(t){return Rn(t,"wheel",ua),this}function Ha(t){return zt(t,"mousedown touchstart dblclick contextmenu",ua),t._leaflet_disable_click=!0,this}function De(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Vi(t){return De(t),ua(t),this}function hn(t){if(t.composedPath)return t.composedPath();for(var a=[],s=t.target;s;)a.push(s),s=s.parentNode;return a}function In(t,a){if(!a)return new Tt(t.clientX,t.clientY);var s=fn(a),u=s.boundingClientRect;return new Tt((t.clientX-u.left)/s.x-a.clientLeft,(t.clientY-u.top)/s.y-a.clientTop)}var zn=Mt.linux&&Mt.chrome?window.devicePixelRatio:Mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nn(t){return Mt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/zn:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function cn(t,a){var s=a.relatedTarget;if(!s)return!0;try{for(;s&&s!==t;)s=s.parentNode}catch{return!1}return s!==t}var jn={__proto__:null,on:zt,off:fe,stopPropagation:ua,disableScrollPropagation:Hi,disableClickPropagation:Ha,preventDefault:De,stop:Vi,getPropagationPath:hn,getMousePosition:In,getWheelDelta:Nn,isExternalTarget:cn,addListener:zt,removeListener:fe},gr=Oa.extend({run:function(t,a,s,u){this.stop(),this._el=t,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Ui(t),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ke(this._animate,this),this._step()},_step:function(t){var a=+new Date-this._startTime,s=this._duration*1e3;a<s?this._runFrame(this._easeOut(a/s),t):(this._runFrame(1),this._complete())},_runFrame:function(t,a){var s=this._startPos.add(this._offset.multiplyBy(t));a&&s._round(),ie(this._el,s),this.fire("step")},_complete:function(){Fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Kt=Oa.extend({options:{crs:qi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,a){a=xt(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=dt(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Xt(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sa&&Mt.any3d&&!Mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,dr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,a,s){if(a=a===void 0?this._zoom:this._limitZoom(a),t=this._limitCenter(Xt(t),a,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=Y({animate:s.animate},s.zoom),s.pan=Y({animate:s.animate,duration:s.duration},s.pan));var u=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,a,s.zoom):this._tryAnimatedPan(t,s.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(t,a,s.pan&&s.pan.noMoveStart),this},setZoom:function(t,a){return this._loaded?this.setView(this.getCenter(),t,{zoom:a}):(this._zoom=t,this)},zoomIn:function(t,a){return t=t||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,a)},zoomOut:function(t,a){return t=t||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,a)},setZoomAround:function(t,a,s){var u=this.getZoomScale(a),g=this.getSize().divideBy(2),C=t instanceof Tt?t:this.latLngToContainerPoint(t),F=C.subtract(g).multiplyBy(1-1/u),J=this.containerPointToLatLng(g.add(F));return this.setView(J,a,{zoom:s})},_getBoundsCenterZoom:function(t,a){a=a||{},t=t.getBounds?t.getBounds():ye(t);var s=Pt(a.paddingTopLeft||a.padding||[0,0]),u=Pt(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(t,!1,s.add(u));if(g=typeof a.maxZoom=="number"?Math.min(a.maxZoom,g):g,g===1/0)return{center:t.getCenter(),zoom:g};var C=u.subtract(s).divideBy(2),F=this.project(t.getSouthWest(),g),J=this.project(t.getNorthEast(),g),at=this.unproject(F.add(J).divideBy(2).add(C),g);return{center:at,zoom:g}},fitBounds:function(t,a){if(t=ye(t),!t.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(t,a);return this.setView(s.center,s.zoom,a)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,a){return this.setView(t,this._zoom,{pan:a})},panBy:function(t,a){if(t=Pt(t).round(),a=a||{},!t.x&&!t.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,s,a.duration||.25,a.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,a,s){if(s=s||{},s.animate===!1||!Mt.any3d)return this.setView(t,a,s);this._stop();var u=this.project(this.getCenter()),g=this.project(t),C=this.getSize(),F=this._zoom;t=Xt(t),a=a===void 0?F:a;var J=Math.max(C.x,C.y),at=J*this.getZoomScale(F,a),ct=g.distanceTo(u)||1,bt=1.42,It=bt*bt;function Ut(we){var kr=we?-1:1,co=we?at:J,Yr=at*at-J*J+kr*It*It*ct*ct,Xr=2*co*It*ct,Ir=Yr/Xr,zi=Math.sqrt(Ir*Ir+1)-Ir,po=zi<1e-9?-18:Math.log(zi);return po}function Ye(we){return(Math.exp(we)-Math.exp(-we))/2}function Ne(we){return(Math.exp(we)+Math.exp(-we))/2}function Ai(we){return Ye(we)/Ne(we)}var hi=Ut(0);function vn(we){return J*(Ne(hi)/Ne(hi+bt*we))}function Rr(we){return J*(Ne(hi)*Ai(hi+bt*we)-Ye(hi))/It}function ma(we){return 1-Math.pow(1-we,1.5)}var Vn=Date.now(),wr=(Ut(1)-hi)/bt,Lr=s.duration?1e3*s.duration:1e3*wr*.8;function Fr(){var we=(Date.now()-Vn)/Lr,kr=ma(we)*wr;we<=1?(this._flyToFrame=Ke(Fr,this),this._move(this.unproject(u.add(g.subtract(u).multiplyBy(Rr(kr)/ct)),F),this.getScaleZoom(J/vn(kr),F),{flyTo:!0})):this._move(t,a)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),Fr.call(this),this},flyToBounds:function(t,a){var s=this._getBoundsCenterZoom(t,a);return this.flyTo(s.center,s.zoom,a)},setMaxBounds:function(t){return t=ye(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var a=this.options.minZoom;return this.options.minZoom=t,this._loaded&&a!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var a=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&a!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,a){this._enforcingBounds=!0;var s=this.getCenter(),u=this._limitCenter(s,this._zoom,ye(t));return s.equals(u)||this.panTo(u,a),this._enforcingBounds=!1,this},panInside:function(t,a){a=a||{};var s=Pt(a.paddingTopLeft||a.padding||[0,0]),u=Pt(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),C=this.project(t),F=this.getPixelBounds(),J=Ee([F.min.add(s),F.max.subtract(u)]),at=J.getSize();if(!J.contains(C)){this._enforcingBounds=!0;var ct=C.subtract(J.getCenter()),bt=J.extend(C).getSize().subtract(at);g.x+=ct.x<0?-bt.x:bt.x,g.y+=ct.y<0?-bt.y:bt.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=Y({animate:!1,pan:!0},t===!0?{animate:!0}:t);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),u=a.divideBy(2).round(),g=s.divideBy(2).round(),C=u.subtract(g);return!C.x&&!C.y?this:(t.animate&&t.pan?this.panBy(C):(t.pan&&this._rawPanBy(C),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(dt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=Y({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=dt(this._handleGeolocationResponse,this),s=dt(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,s,t):navigator.geolocation.getCurrentPosition(a,s,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var a=t.code,s=t.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var a=t.coords.latitude,s=t.coords.longitude,u=new ne(a,s),g=u.toBounds(t.coords.accuracy*2),C=this._locateOptions;if(C.setView){var F=this.getBoundsZoom(g);this.setView(u,C.maxZoom?Math.min(F,C.maxZoom):F)}var J={latlng:u,bounds:g,timestamp:t.timestamp};for(var at in t.coords)typeof t.coords[at]=="number"&&(J[at]=t.coords[at]);this.fire("locationfound",J)}},addHandler:function(t,a){if(!a)return this;var s=this[t]=new a(this);return this._handlers.push(s),this.options[t]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,a){var s="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),u=te("div",s,a||this._mapPane);return t&&(this._panes[t]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),a=this.unproject(t.getBottomLeft()),s=this.unproject(t.getTopRight());return new qe(a,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,a,s){t=ye(t),s=Pt(s||[0,0]);var u=this.getZoom()||0,g=this.getMinZoom(),C=this.getMaxZoom(),F=t.getNorthWest(),J=t.getSouthEast(),at=this.getSize().subtract(s),ct=Ee(this.project(J,u),this.project(F,u)).getSize(),bt=Mt.any3d?this.options.zoomSnap:1,It=at.x/ct.x,Ut=at.y/ct.y,Ye=a?Math.max(It,Ut):Math.min(It,Ut);return u=this.getScaleZoom(Ye,u),bt&&(u=Math.round(u/(bt/100))*(bt/100),u=a?Math.ceil(u/bt)*bt:Math.floor(u/bt)*bt),Math.max(g,Math.min(C,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,a){var s=this._getTopLeftPoint(t,a);return new de(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,a){var s=this.options.crs;return a=a===void 0?this._zoom:a,s.scale(t)/s.scale(a)},getScaleZoom:function(t,a){var s=this.options.crs;a=a===void 0?this._zoom:a;var u=s.zoom(t*s.scale(a));return isNaN(u)?1/0:u},project:function(t,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Xt(t),a)},unproject:function(t,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(Pt(t),a)},layerPointToLatLng:function(t){var a=Pt(t).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(t){var a=this.project(Xt(t))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Xt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ye(t))},distance:function(t,a){return this.options.crs.distance(Xt(t),Xt(a))},containerPointToLayerPoint:function(t){return Pt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Pt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var a=this.containerPointToLayerPoint(Pt(t));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Xt(t)))},mouseEventToContainerPoint:function(t){return In(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var a=this._container=pr(t);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(a,"scroll",this._onScroll,this),this._containerId=X(a)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt.any3d,qt(t,"leaflet-container"+(Mt.touch?" leaflet-touch":"")+(Mt.retina?" leaflet-retina":"")+(Mt.ielt9?" leaflet-oldie":"")+(Mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=wa(t,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ie(this._mapPane,new Tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(t.markerPane,"leaflet-zoom-hide"),qt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,a,s){ie(this._mapPane,new Tt(0,0));var u=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,s)._move(t,a)._moveEnd(g),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(t,a){return t&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(t,a,s,u){a===void 0&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),u?s&&s.pinch&&this.fire("zoom",s):((g||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ie(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[X(this._container)]=this;var a=t?fe:zt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Mt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Fe(this._resizeRequest),this._resizeRequest=Ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,a){for(var s=[],u,g=a==="mouseout"||a==="mouseover",C=t.target||t.srcElement,F=!1;C;){if(u=this._targets[X(C)],u&&(a==="click"||a==="preclick")&&this._draggableMoved(u)){F=!0;break}if(u&&u.listens(a,!0)&&(g&&!cn(C,t)||(s.push(u),g))||C===this._container)break;C=C.parentNode}return!s.length&&!F&&!g&&this.listens(a,!0)&&(s=[this]),s},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var a=t.target||t.srcElement;if(!(!this._loaded||a._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(a))){var s=t.type;s==="mousedown"&&ln(a),this._fireDOMEvent(t,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,a,s){if(t.type==="click"){var u=Y({},t);u.type="preclick",this._fireDOMEvent(u,u.type,s)}var g=this._findEventTargets(t,a);if(s){for(var C=[],F=0;F<s.length;F++)s[F].listens(a,!0)&&C.push(s[F]);g=C.concat(g)}if(g.length){a==="contextmenu"&&De(t);var J=g[0],at={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ct=J.getLatLng&&(!J._radius||J._radius<=10);at.containerPoint=ct?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(t),at.layerPoint=this.containerPointToLayerPoint(at.containerPoint),at.latlng=ct?J.getLatLng():this.layerPointToLatLng(at.layerPoint)}for(F=0;F<g.length;F++)if(g[F].fire(a,at,!0),at.originalEvent._stopped||g[F].options.bubblingMouseEvents===!1&&Ka(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,a=this._handlers.length;t<a;t++)this._handlers[t].disable()},whenReady:function(t,a){return this._loaded?t.call(a||this,{target:this}):this.on("load",t,a),this},_getMapPanePos:function(){return Ui(this._mapPane)||new Tt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,a){var s=t&&a!==void 0?this._getNewPixelOrigin(t,a):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,a){var s=this.getSize()._divideBy(2);return this.project(t,a)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,a,s){var u=this._getNewPixelOrigin(s,a);return this.project(t,a)._subtract(u)},_latLngBoundsToNewLayerBounds:function(t,a,s){var u=this._getNewPixelOrigin(s,a);return Ee([this.project(t.getSouthWest(),a)._subtract(u),this.project(t.getNorthWest(),a)._subtract(u),this.project(t.getSouthEast(),a)._subtract(u),this.project(t.getNorthEast(),a)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,a,s){if(!s)return t;var u=this.project(t,a),g=this.getSize().divideBy(2),C=new de(u.subtract(g),u.add(g)),F=this._getBoundsOffset(C,s,a);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?t:this.unproject(u.add(F),a)},_limitOffset:function(t,a){if(!a)return t;var s=this.getPixelBounds(),u=new de(s.min.add(t),s.max.add(t));return t.add(this._getBoundsOffset(u,a))},_getBoundsOffset:function(t,a,s){var u=Ee(this.project(a.getNorthEast(),s),this.project(a.getSouthWest(),s)),g=u.min.subtract(t.min),C=u.max.subtract(t.max),F=this._rebound(g.x,-C.x),J=this._rebound(g.y,-C.y);return new Tt(F,J)},_rebound:function(t,a){return t+a>0?Math.round(t-a)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(a))},_limitZoom:function(t){var a=this.getMinZoom(),s=this.getMaxZoom(),u=Mt.any3d?this.options.zoomSnap:1;return u&&(t=Math.round(t/u)*u),Math.max(a,Math.min(s,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,a){var s=this._getCenterOffset(t)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,a),!0)},_createAnimProxy:function(){var t=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(a){var s=Tn,u=this._proxy.style[s];la(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),u===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),a=this.getZoom();la(this._proxy,this.project(t,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,a,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(a),g=this._getCenterOffset(t)._divideBy(1-1/u);return s.animate!==!0&&!this.getSize().contains(g)?!1:(Ke(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(t,a,!0)},this),!0)},_animateZoom:function(t,a,s,u){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=a,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:a,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(dt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ar(t,a){return new Kt(t,a)}var Ve=Ht.extend({options:{position:"topright"},initialize:function(t){xt(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var a=this._map;return a&&a.removeControl(this),this.options.position=t,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var a=this._container=this.onAdd(t),s=this.getPosition(),u=t._controlCorners[s];return qt(a,"leaflet-control"),s.indexOf("bottom")!==-1?u.insertBefore(a,u.firstChild):u.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ha=function(t){return new Ve(t)};Kt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},a="leaflet-",s=this._controlContainer=te("div",a+"control-container",this._container);function u(g,C){var F=a+g+" "+a+C;t[g+C]=te("div",F,s)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $t=Ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,a,s,u){return s<u?-1:u<s?1:0}},initialize:function(t,a,s){xt(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in t)this._addLayer(t[u],u);for(u in a)this._addLayer(a[u],u,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ve.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,a){return this._addLayer(t,a),this._map?this._update():this},addOverlay:function(t,a){return this._addLayer(t,a,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var a=this._getLayer(X(t));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",a=this._container=te("div",t),s=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Ha(a),Hi(a);var u=this._section=te("section",t+"-list");s&&(this._map.on("click",this.collapse,this),zt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=te("a",t+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),zt(g,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){De(C),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=te("div",t+"-base",u),this._separator=te("div",t+"-separator",u),this._overlaysList=te("div",t+"-overlays",u),a.appendChild(u)},_getLayer:function(t){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&X(this._layers[a].layer)===t)return this._layers[a]},_addLayer:function(t,a,s){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:a,overlay:s}),this.options.sortLayers&&this._layers.sort(dt(function(u,g){return this.options.sortFunction(u.layer,g.layer,u.name,g.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ga(this._baseLayersList),Ga(this._overlaysList),this._layerControlInputs=[];var t,a,s,u,g=0;for(s=0;s<this._layers.length;s++)u=this._layers[s],this._addItem(u),a=a||u.overlay,t=t||!u.overlay,g+=u.overlay?0:1;return this.options.hideSingleBase&&(t=t&&g>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=a&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var a=this._getLayer(X(t.target)),s=a.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;s&&this._map.fire(s,a)},_createRadioElement:function(t,a){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(a?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=s,u.firstChild},_addItem:function(t){var a=document.createElement("label"),s=this._map.hasLayer(t.layer),u;t.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=s):u=this._createRadioElement("leaflet-base-layers_"+X(this),s),this._layerControlInputs.push(u),u.layerId=X(t.layer),zt(u,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+t.name;var C=document.createElement("span");a.appendChild(C),C.appendChild(u),C.appendChild(g);var F=t.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,a,s,u=[],g=[];this._handlingClick=!0;for(var C=t.length-1;C>=0;C--)a=t[C],s=this._getLayer(a.layerId).layer,a.checked?u.push(s):a.checked||g.push(s);for(C=0;C<g.length;C++)this._map.hasLayer(g[C])&&this._map.removeLayer(g[C]);for(C=0;C<u.length;C++)this._map.hasLayer(u[C])||this._map.addLayer(u[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,a,s,u=this._map.getZoom(),g=t.length-1;g>=0;g--)a=t[g],s=this._getLayer(a.layerId).layer,a.disabled=s.options.minZoom!==void 0&&u<s.options.minZoom||s.options.maxZoom!==void 0&&u>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,zt(t,"click",De),this.expand();var a=this;setTimeout(function(){fe(t,"click",De),a._preventClick=!1})}}),qn=function(t,a,s){return new $t(t,a,s)},Ea=Ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var a="leaflet-control-zoom",s=te("div",a+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,a+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,a+"-out",s,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,a,s,u,g){var C=te("a",s,u);return C.innerHTML=t,C.href="#",C.title=a,C.setAttribute("role","button"),C.setAttribute("aria-label",a),Ha(C),zt(C,"click",Vi),zt(C,"click",g,this),zt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var t=this._map,a="leaflet-disabled";xe(this._zoomInButton,a),xe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(qt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(qt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ea,this.addControl(this.zoomControl))});var Tr=function(t){return new Ea(t)},r=Ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var a="leaflet-control-scale",s=te("div",a),u=this.options;return this._addScales(u,a+"-line",s),t.on(u.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),s},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,a,s){t.metric&&(this._mScale=te("div",a,s)),t.imperial&&(this._iScale=te("div",a,s))},_update:function(){var t=this._map,a=t.getSize().y/2,s=t.distance(t.containerPointToLatLng([0,a]),t.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(s)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var a=this._getRoundNum(t),s=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,s,a/t)},_updateImperial:function(t){var a=t*3.2808399,s,u,g;a>5280?(s=a/5280,u=this._getRoundNum(s),this._updateScale(this._iScale,u+" mi",u/s)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(t,a,s){t.style.width=Math.round(this.options.maxWidth*s)+"px",t.innerHTML=a},_getRoundNum:function(t){var a=Math.pow(10,(Math.floor(t)+"").length-1),s=t/a;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,a*s}}),f=function(t){return new r(t)},c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',d=Ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Mt.inlineSvg?c+" ":"")+"Leaflet</a>"},initialize:function(t){xt(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=te("div","leaflet-control-attribution"),Ha(this._container);for(var a in t._layers)t._layers[a].getAttribution&&this.addAttribution(t._layers[a].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var a in this._attributions)this._attributions[a]&&t.push(a);var s=[];this.options.prefix&&s.push(this.options.prefix),t.length&&s.push(t.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new d().addTo(this)});var v=function(t){return new d(t)};Ve.Layers=$t,Ve.Zoom=Ea,Ve.Scale=r,Ve.Attribution=d,ha.layers=qn,ha.zoom=Tr,ha.scale=f,ha.attribution=v;var y=Ht.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});y.addTo=function(t,a){return t.addHandler(a,this),this};var w={Events:Je},R=Mt.touch?"touchstart mousedown":"mousedown",S=Oa.extend({options:{clickTolerance:3},initialize:function(t,a,s,u){xt(this,u),this._element=t,this._dragStartTarget=a||t,this._preventOutline=s},enable:function(){this._enabled||(zt(this._dragStartTarget,R,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(S._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,R,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!La(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){S._dragging===this&&this.finishDrag();return}if(!(S._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(S._dragging=this,this._preventOutline&&ln(this._element),Fi(),Ri(),!this._moving)){this.fire("down");var a=t.touches?t.touches[0]:t,s=Dn(this._element);this._startPoint=new Tt(a.clientX,a.clientY),this._startPos=Ui(this._element),this._parentScale=fn(s);var u=t.type==="mousedown";zt(document,u?"mousemove":"touchmove",this._onMove,this),zt(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var a=t.touches&&t.touches.length===1?t.touches[0]:t,s=new Tt(a.clientX,a.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,De(t),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ie(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Ca(),Ua();var a=this._moved&&this._moving;this._moving=!1,S._dragging=!1,a&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function U(t,a,s){var u,g=[1,4,2,8],C,F,J,at,ct,bt,It,Ut;for(C=0,bt=t.length;C<bt;C++)t[C]._code=Be(t[C],a);for(J=0;J<4;J++){for(It=g[J],u=[],C=0,bt=t.length,F=bt-1;C<bt;F=C++)at=t[C],ct=t[F],at._code&It?ct._code&It||(Ut=Vt(ct,at,It,a,s),Ut._code=Be(Ut,a),u.push(Ut)):(ct._code&It&&(Ut=Vt(ct,at,It,a,s),Ut._code=Be(Ut,a),u.push(Ut)),u.push(at));t=u}return t}function ot(t,a){var s,u,g,C,F,J,at,ct,bt;if(!t||t.length===0)throw new Error("latlngs not passed");_e(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var It=Xt([0,0]),Ut=ye(t),Ye=Ut.getNorthWest().distanceTo(Ut.getSouthWest())*Ut.getNorthEast().distanceTo(Ut.getNorthWest());Ye<1700&&(It=lt(t));var Ne=t.length,Ai=[];for(s=0;s<Ne;s++){var hi=Xt(t[s]);Ai.push(a.project(Xt([hi.lat-It.lat,hi.lng-It.lng])))}for(J=at=ct=0,s=0,u=Ne-1;s<Ne;u=s++)g=Ai[s],C=Ai[u],F=g.y*C.x-C.y*g.x,at+=(g.x+C.x)*F,ct+=(g.y+C.y)*F,J+=F*3;J===0?bt=Ai[0]:bt=[at/J,ct/J];var vn=a.unproject(Pt(bt));return Xt([vn.lat+It.lat,vn.lng+It.lng])}function lt(t){for(var a=0,s=0,u=0,g=0;g<t.length;g++){var C=Xt(t[g]);a+=C.lat,s+=C.lng,u++}return Xt([a/u,s/u])}var it={__proto__:null,clipPolygon:U,polygonCenter:ot,centroid:lt};function pt(t,a){if(!a||!t.length)return t.slice();var s=a*a;return t=Yt(t,s),t=Gt(t,s),t}function Rt(t,a,s){return Math.sqrt(ae(t,a,s,!0))}function Jt(t,a,s){return ae(t,a,s)}function Gt(t,a){var s=t.length,u=typeof Uint8Array<"u"?Uint8Array:Array,g=new u(s);g[0]=g[s-1]=1,Me(t,g,a,0,s-1);var C,F=[];for(C=0;C<s;C++)g[C]&&F.push(t[C]);return F}function Me(t,a,s,u,g){var C=0,F,J,at;for(J=u+1;J<=g-1;J++)at=ae(t[J],t[u],t[g],!0),at>C&&(F=J,C=at);C>s&&(a[F]=1,Me(t,a,s,u,F),Me(t,a,s,F,g))}function Yt(t,a){for(var s=[t[0]],u=1,g=0,C=t.length;u<C;u++)Wt(t[u],t[g])>a&&(s.push(t[u]),g=u);return g<C-1&&s.push(t[C-1]),s}var pe;function li(t,a,s,u,g){var C=u?pe:Be(t,s),F=Be(a,s),J,at,ct;for(pe=F;;){if(!(C|F))return[t,a];if(C&F)return!1;J=C||F,at=Vt(t,a,J,s,g),ct=Be(at,s),J===C?(t=at,C=ct):(a=at,F=ct)}}function Vt(t,a,s,u,g){var C=a.x-t.x,F=a.y-t.y,J=u.min,at=u.max,ct,bt;return s&8?(ct=t.x+C*(at.y-t.y)/F,bt=at.y):s&4?(ct=t.x+C*(J.y-t.y)/F,bt=J.y):s&2?(ct=at.x,bt=t.y+F*(at.x-t.x)/C):s&1&&(ct=J.x,bt=t.y+F*(J.x-t.x)/C),new Tt(ct,bt,g)}function Be(t,a){var s=0;return t.x<a.min.x?s|=1:t.x>a.max.x&&(s|=2),t.y<a.min.y?s|=4:t.y>a.max.y&&(s|=8),s}function Wt(t,a){var s=a.x-t.x,u=a.y-t.y;return s*s+u*u}function ae(t,a,s,u){var g=a.x,C=a.y,F=s.x-g,J=s.y-C,at=F*F+J*J,ct;return at>0&&(ct=((t.x-g)*F+(t.y-C)*J)/at,ct>1?(g=s.x,C=s.y):ct>0&&(g+=F*ct,C+=J*ct)),F=t.x-g,J=t.y-C,u?F*F+J*J:new Tt(g,C)}function _e(t){return!mi(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function dn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_e(t)}function yi(t,a){var s,u,g,C,F,J,at,ct;if(!t||t.length===0)throw new Error("latlngs not passed");_e(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var bt=Xt([0,0]),It=ye(t),Ut=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Ut<1700&&(bt=lt(t));var Ye=t.length,Ne=[];for(s=0;s<Ye;s++){var Ai=Xt(t[s]);Ne.push(a.project(Xt([Ai.lat-bt.lat,Ai.lng-bt.lng])))}for(s=0,u=0;s<Ye-1;s++)u+=Ne[s].distanceTo(Ne[s+1])/2;if(u===0)ct=Ne[0];else for(s=0,C=0;s<Ye-1;s++)if(F=Ne[s],J=Ne[s+1],g=F.distanceTo(J),C+=g,C>u){at=(C-u)/g,ct=[J.x-at*(J.x-F.x),J.y-at*(J.y-F.y)];break}var hi=a.unproject(Pt(ct));return Xt([hi.lat+bt.lat,hi.lng+bt.lng])}var ca={__proto__:null,simplify:pt,pointToSegmentDistance:Rt,closestPointOnSegment:Jt,clipSegment:li,_getEdgeIntersection:Vt,_getBitCode:Be,_sqClosestPointOnSegment:ae,isFlat:_e,_flat:dn,polylineCenter:yi},ve={project:function(t){return new Tt(t.lng,t.lat)},unproject:function(t){return new ne(t.y,t.x)},bounds:new de([-180,-90],[180,90])},vi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var a=Math.PI/180,s=this.R,u=t.lat*a,g=this.R_MINOR/s,C=Math.sqrt(1-g*g),F=C*Math.sin(u),J=Math.tan(Math.PI/4-u/2)/Math.pow((1-F)/(1+F),C/2);return u=-s*Math.log(Math.max(J,1e-10)),new Tt(t.lng*a*s,u)},unproject:function(t){for(var a=180/Math.PI,s=this.R,u=this.R_MINOR/s,g=Math.sqrt(1-u*u),C=Math.exp(-t.y/s),F=Math.PI/2-2*Math.atan(C),J=0,at=.1,ct;J<15&&Math.abs(at)>1e-7;J++)ct=g*Math.sin(F),ct=Math.pow((1-ct)/(1+ct),g/2),at=Math.PI/2-2*Math.atan(C*ct)-F,F+=at;return new ne(F*a,t.x*a/s)}},bi={__proto__:null,LonLat:ve,Mercator:vi,SphericalMercator:Xa},fi=Y({},ji,{code:"EPSG:3395",projection:vi,transformation:function(){var t=.5/(Math.PI*vi.R);return Ra(t,.5,-t,.5)}()}),Qe=Y({},ji,{code:"EPSG:4326",projection:ve,transformation:Ra(1/180,1,-1/180,.5)}),Pe=Y({},Di,{projection:ve,transformation:Ra(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,a){var s=a.lng-t.lng,u=a.lat-t.lat;return Math.sqrt(s*s+u*u)},infinite:!0});Di.Earth=ji,Di.EPSG3395=fi,Di.EPSG3857=qi,Di.EPSG900913=Ja,Di.EPSG4326=Qe,Di.Simple=Pe;var be=Oa.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[X(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[X(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var a=t.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var s=this.getEvents();a.on(s,this),this.once("remove",function(){a.off(s,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var a=X(t);return this._layers[a]?this:(this._layers[a]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var a=X(t);return this._layers[a]?(this._loaded&&t.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return X(t)in this._layers},eachLayer:function(t,a){for(var s in this._layers)t.call(a,this._layers[s]);return this},_addLayers:function(t){t=t?mi(t)?t:[t]:[];for(var a=0,s=t.length;a<s;a++)this.addLayer(t[a])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[X(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var a=X(t);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,a=-1/0,s=this._getZoomSpan();for(var u in this._zoomBoundLayers){var g=this._zoomBoundLayers[u].options;t=g.minZoom===void 0?t:Math.min(t,g.minZoom),a=g.maxZoom===void 0?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=t===1/0?void 0:t,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var da=be.extend({initialize:function(t,a){xt(this,a),this._layers={};var s,u;if(t)for(s=0,u=t.length;s<u;s++)this.addLayer(t[s])},addLayer:function(t){var a=this.getLayerId(t);return this._layers[a]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var a=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(t){var a=typeof t=="number"?t:this.getLayerId(t);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var a=Array.prototype.slice.call(arguments,1),s,u;for(s in this._layers)u=this._layers[s],u[t]&&u[t].apply(u,a);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,a){for(var s in this._layers)t.call(a,this._layers[s]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return X(t)}}),Gn=function(t,a){return new da(t,a)},ti=da.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),da.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),da.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new qe;for(var a in this._layers){var s=this._layers[a];t.extend(s.getBounds?s.getBounds():s.getLatLng())}return t}}),re=function(t,a){return new ti(t,a)},Ii=Ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){xt(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,a){var s=this._getIconUrl(t);if(!s){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(s,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(u,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(t,a){var s=this.options,u=s[a+"Size"];typeof u=="number"&&(u=[u,u]);var g=Pt(u),C=Pt(a==="shadow"&&s.shadowAnchor||s.iconAnchor||g&&g.divideBy(2,!0));t.className="leaflet-marker-"+a+" "+(s.className||""),C&&(t.style.marginLeft=-C.x+"px",t.style.marginTop=-C.y+"px"),g&&(t.style.width=g.x+"px",t.style.height=g.y+"px")},_createImg:function(t,a){return a=a||document.createElement("img"),a.src=t,a},_getIconUrl:function(t){return Mt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ei(t){return new Ii(t)}var Ci=Ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ci.imagePath!="string"&&(Ci.imagePath=this._detectIconPath()),(this.options.imagePath||Ci.imagePath)+Ii.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var a=function(s,u,g){var C=u.exec(s);return C&&C[g]};return t=a(t,/^url\((['"])?(.+)\1\)$/,2),t&&a(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=te("div","leaflet-default-icon-path",document.body),a=wa(t,"background-image")||wa(t,"backgroundImage");if(document.body.removeChild(t),a=this._stripUrl(a),a)return a;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),_r=y.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new S(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var a=this._marker,s=a._map,u=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,C=Ui(a._icon),F=s.getPixelBounds(),J=s.getPixelOrigin(),at=Ee(F.min._subtract(J).add(g),F.max._subtract(J).subtract(g));if(!at.contains(C)){var ct=Pt((Math.max(at.max.x,C.x)-at.max.x)/(F.max.x-at.max.x)-(Math.min(at.min.x,C.x)-at.min.x)/(F.min.x-at.min.x),(Math.max(at.max.y,C.y)-at.max.y)/(F.max.y-at.max.y)-(Math.min(at.min.y,C.y)-at.min.y)/(F.min.y-at.min.y)).multiplyBy(u);s.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),ie(a._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Ke(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Fe(this._panRequest),this._panRequest=Ke(this._adjustPan.bind(this,t)))},_onDrag:function(t){var a=this._marker,s=a._shadow,u=Ui(a._icon),g=a._map.layerPointToLatLng(u);s&&ie(s,u),a._latlng=g,t.latlng=g,t.oldLatLng=this._oldLatLng,a.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pn=be.extend({options:{icon:new Ci,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,a){xt(this,a),this._latlng=Xt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var a=this._latlng;return this._latlng=Xt(t),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=t.icon.createIcon(this._icon),u=!1;s!==this._icon&&(this._icon&&this._removeIcon(),u=!0,t.title&&(s.title=t.title),s.tagName==="IMG"&&(s.alt=t.alt||"")),qt(s,a),t.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(s,"focus",this._panOnFocus,this);var g=t.icon.createShadow(this._shadow),C=!1;g!==this._shadow&&(this._removeShadow(),C=!0),g&&(qt(g,a),g.alt=""),this._shadow=g,t.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&C&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ie(this._icon,t),this._shadow&&ie(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var a=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_r)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _r(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&He(this._icon,t),this._shadow&&He(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var a=this.options.icon.options,s=a.iconSize?Pt(a.iconSize):Pt(0,0),u=a.iconAnchor?Pt(a.iconAnchor):Pt(0,0);t.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:s.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yr(t,a){return new pn(t,a)}var ze=be.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return xt(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ba=ze.extend({options:{fill:!0,radius:10},initialize:function(t,a){xt(this,a),this._latlng=Xt(t),this._radius=this.options.radius},setLatLng:function(t){var a=this._latlng;return this._latlng=Xt(t),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var a=t&&t.radius||this._radius;return ze.prototype.setStyle.call(this,t),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,a=this._radiusY||t,s=this._clickTolerance(),u=[t+s,a+s];this._pxBounds=new de(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Wi(t,a){return new Ba(t,a)}var Va=Ba.extend({initialize:function(t,a,s){if(typeof a=="number"&&(a=Y({},s,{radius:a})),xt(this,a),this._latlng=Xt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new qe(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ze.prototype.setStyle,_project:function(){var t=this._latlng.lng,a=this._latlng.lat,s=this._map,u=s.options.crs;if(u.distance===ji.distance){var g=Math.PI/180,C=this._mRadius/ji.R/g,F=s.project([a+C,t]),J=s.project([a-C,t]),at=F.add(J).divideBy(2),ct=s.unproject(at).lat,bt=Math.acos((Math.cos(C*g)-Math.sin(a*g)*Math.sin(ct*g))/(Math.cos(a*g)*Math.cos(ct*g)))/g;(isNaN(bt)||bt===0)&&(bt=C/Math.cos(Math.PI/180*a)),this._point=at.subtract(s.getPixelOrigin()),this._radius=isNaN(bt)?0:at.x-s.project([ct,t-bt]).x,this._radiusY=at.y-F.y}else{var It=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(It).x}this._updateBounds()}});function xi(t,a,s){return new Va(t,a,s)}var ii=ze.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,a){xt(this,a),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var a=1/0,s=null,u=ae,g,C,F=0,J=this._parts.length;F<J;F++)for(var at=this._parts[F],ct=1,bt=at.length;ct<bt;ct++){g=at[ct-1],C=at[ct];var It=u(t,g,C,!0);It<a&&(a=It,s=u(t,g,C))}return s&&(s.distance=Math.sqrt(a)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,a){return a=a||this._defaultShape(),t=Xt(t),a.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new qe,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return _e(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var a=[],s=_e(t),u=0,g=t.length;u<g;u++)s?(a[u]=Xt(t[u]),this._bounds.extend(a[u])):a[u]=this._convertLatLngs(t[u]);return a},_project:function(){var t=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),a=new Tt(t,t);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(t,a,s){var u=t[0]instanceof ne,g=t.length,C,F;if(u){for(F=[],C=0;C<g;C++)F[C]=this._map.latLngToLayerPoint(t[C]),s.extend(F[C]);a.push(F)}else for(C=0;C<g;C++)this._projectLatlngs(t[C],a,s)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,s,u,g,C,F,J,at;for(s=0,g=0,C=this._rings.length;s<C;s++)for(at=this._rings[s],u=0,F=at.length;u<F-1;u++)J=li(at[u],at[u+1],t,u,!0),J&&(a[g]=a[g]||[],a[g].push(J[0]),(J[1]!==at[u+1]||u===F-2)&&(a[g].push(J[1]),g++))}},_simplifyPoints:function(){for(var t=this._parts,a=this.options.smoothFactor,s=0,u=t.length;s<u;s++)t[s]=pt(t[s],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,a){var s,u,g,C,F,J,at=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(s=0,C=this._parts.length;s<C;s++)for(J=this._parts[s],u=0,F=J.length,g=F-1;u<F;g=u++)if(!(!a&&u===0)&&Rt(t,J[g],J[u])<=at)return!0;return!1}});function mn(t,a){return new ii(t,a)}ii._flat=dn;var $e=ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ot(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var a=ii.prototype._convertLatLngs.call(this,t),s=a.length;return s>=2&&a[0]instanceof ne&&a[0].equals(a[s-1])&&a.pop(),a},_setLatLngs:function(t){ii.prototype._setLatLngs.call(this,t),_e(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _e(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,a=this.options.weight,s=new Tt(a,a);if(t=new de(t.min.subtract(s),t.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,g=this._rings.length,C;u<g;u++)C=U(this._rings[u],t,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var a=!1,s,u,g,C,F,J,at,ct;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(C=0,at=this._parts.length;C<at;C++)for(s=this._parts[C],F=0,ct=s.length,J=ct-1;F<ct;J=F++)u=s[F],g=s[J],u.y>t.y!=g.y>t.y&&t.x<(g.x-u.x)*(t.y-u.y)/(g.y-u.y)+u.x&&(a=!a);return a||ii.prototype._containsPoint.call(this,t,!0)}});function Sr(t,a){return new $e(t,a)}var ui=ti.extend({initialize:function(t,a){xt(this,a),this._layers={},t&&this.addData(t)},addData:function(t){var a=mi(t)?t:t.features,s,u,g;if(a){for(s=0,u=a.length;s<u;s++)g=a[s],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var C=this.options;if(C.filter&&!C.filter(t))return this;var F=Ki(t,C);return F?(F.feature=Q(t),F.defaultOptions=F.options,this.resetStyle(F),C.onEachFeature&&C.onEachFeature(t,F),this.addLayer(F)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=Y({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(a){this._setLayerStyle(a,t)},this)},_setLayerStyle:function(t,a){t.setStyle&&(typeof a=="function"&&(a=a(t.feature)),t.setStyle(a))}});function Ki(t,a){var s=t.type==="Feature"?t.geometry:t,u=s?s.coordinates:null,g=[],C=a&&a.pointToLayer,F=a&&a.coordsToLatLng||Zn,J,at,ct,bt;if(!u&&!s)return null;switch(s.type){case"Point":return J=F(u),$i(C,t,J,a);case"MultiPoint":for(ct=0,bt=u.length;ct<bt;ct++)J=F(u[ct]),g.push($i(C,t,J,a));return new ti(g);case"LineString":case"MultiLineString":return at=Pa(u,s.type==="LineString"?0:1,F),new ii(at,a);case"Polygon":case"MultiPolygon":return at=Pa(u,s.type==="Polygon"?1:2,F),new $e(at,a);case"GeometryCollection":for(ct=0,bt=s.geometries.length;ct<bt;ct++){var It=Ki({geometry:s.geometries[ct],type:"Feature",properties:t.properties},a);It&&g.push(It)}return new ti(g);case"FeatureCollection":for(ct=0,bt=s.features.length;ct<bt;ct++){var Ut=Ki(s.features[ct],a);Ut&&g.push(Ut)}return new ti(g);default:throw new Error("Invalid GeoJSON object.")}}function $i(t,a,s,u){return t?t(a,s):new pn(s,u&&u.markersInheritOptions&&u)}function Zn(t){return new ne(t[1],t[0],t[2])}function Pa(t,a,s){for(var u=[],g=0,C=t.length,F;g<C;g++)F=a?Pa(t[g],a-1,s):(s||Zn)(t[g]),u.push(F);return u}function gn(t,a){return t=Xt(t),t.alt!==void 0?[Se(t.lng,a),Se(t.lat,a),Se(t.alt,a)]:[Se(t.lng,a),Se(t.lat,a)]}function T(t,a,s,u){for(var g=[],C=0,F=t.length;C<F;C++)g.push(a?T(t[C],_e(t[C])?0:a-1,s,u):gn(t[C],u));return!a&&s&&g.length>0&&g.push(g[0].slice()),g}function G(t,a){return t.feature?Y({},t.feature,{geometry:a}):Q(a)}function Q(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var rt={toGeoJSON:function(t){return G(this,{type:"Point",coordinates:gn(this.getLatLng(),t)})}};pn.include(rt),Va.include(rt),Ba.include(rt),ii.include({toGeoJSON:function(t){var a=!_e(this._latlngs),s=T(this._latlngs,a?1:0,!1,t);return G(this,{type:(a?"Multi":"")+"LineString",coordinates:s})}}),$e.include({toGeoJSON:function(t){var a=!_e(this._latlngs),s=a&&!_e(this._latlngs[0]),u=T(this._latlngs,s?2:a?1:0,!0,t);return a||(u=[u]),G(this,{type:(s?"Multi":"")+"Polygon",coordinates:u})}}),da.include({toMultiPoint:function(t){var a=[];return this.eachLayer(function(s){a.push(s.toGeoJSON(t).geometry.coordinates)}),G(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(t){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(t);var s=a==="GeometryCollection",u=[];return this.eachLayer(function(g){if(g.toGeoJSON){var C=g.toGeoJSON(t);if(s)u.push(C.geometry);else{var F=Q(C);F.type==="FeatureCollection"?u.push.apply(u,F.features):u.push(F)}}}),s?G(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function ft(t,a){return new ui(t,a)}var _t=ft,yt=be.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,a,s){this._url=t,this._bounds=ye(a),xt(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Le(this._image),this},bringToBack:function(){return this._map&&si(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ye(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",a=this._image=t?this._url:te("img");if(qt(a,"leaflet-image-layer"),this._zoomAnimated&&qt(a,"leaflet-zoom-animated"),this.options.className&&qt(a,this.options.className),a.onselectstart=ce,a.onmousemove=ce,a.onload=dt(this.fire,this,"load"),a.onerror=dt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(t){var a=this._map.getZoomScale(t.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;la(this._image,s,a)},_reset:function(){var t=this._image,a=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=a.getSize();ie(t,a.min),t.style.width=s.x+"px",t.style.height=s.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Lt=function(t,a,s){return new yt(t,a,s)},vt=yt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",a=this._image=t?this._url:te("video");if(qt(a,"leaflet-image-layer"),this._zoomAnimated&&qt(a,"leaflet-zoom-animated"),this.options.className&&qt(a,this.options.className),a.onselectstart=ce,a.onmousemove=ce,a.onloadeddata=dt(this.fire,this,"load"),t){for(var s=a.getElementsByTagName("source"),u=[],g=0;g<s.length;g++)u.push(s[g].src);this._url=s.length>0?u:[a.src];return}mi(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var F=te("source");F.src=this._url[C],a.appendChild(F)}}});function Zt(t,a,s){return new vt(t,a,s)}var St=yt.extend({_initImage:function(){var t=this._image=this._url;qt(t,"leaflet-image-layer"),this._zoomAnimated&&qt(t,"leaflet-zoom-animated"),this.options.className&&qt(t,this.options.className),t.onselectstart=ce,t.onmousemove=ce}});function Dt(t,a,s){return new St(t,a,s)}var Ft=be.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,a){t&&(t instanceof ne||mi(t))?(this._latlng=Xt(t),xt(this,a)):(xt(this,t),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(dt(se,void 0,this._container),200)):se(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Xt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Le(this._container),this},bringToBack:function(){return this._map&&si(this._container),this},_prepareOpen:function(t){var a=this._source;if(!a._map)return!1;if(a instanceof ti){a=null;var s=this._source._layers;for(var u in s)if(s[u]._map){a=s[u];break}if(!a)return!1;this._source=a}if(!t)if(a.getCenter)t=a.getCenter();else if(a.getLatLng)t=a.getLatLng();else if(a.getBounds)t=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")t.innerHTML=a;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),a=Pt(this.options.offset),s=this._getAnchor();this._zoomAnimated?ie(this._container,t.add(s)):a=a.add(t).add(s);var u=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=u+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(t,a,s,u){var g=a;return g instanceof t||(g=new t(u).setContent(a)),s&&g.setLatLng(s),g}}),be.include({_initOverlay:function(t,a,s,u){var g=s;return g instanceof t?(xt(g,u),g._source=this):(g=a&&!u?a:new t(u,this),g.setContent(s)),g}});var Bt=Ft.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ft.prototype.openOn.call(this,t)},onAdd:function(t){Ft.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ze||this._source.on("preclick",ua))},onRemove:function(t){Ft.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ze||this._source.off("preclick",ua))},getEvents:function(){var t=Ft.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",a=this._container=te("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=te("div",t+"-content-wrapper",a);if(this._contentNode=te("div",t+"-content",s),Ha(a),Hi(this._contentNode),zt(a,"contextmenu",ua),this._tipContainer=te("div",t+"-tip-container",a),this._tip=te("div",t+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=te("a",t+"-close-button",a);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',zt(u,"click",function(g){De(g),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,a=t.style;a.width="",a.whiteSpace="nowrap";var s=t.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),a.width=s+1+"px",a.whiteSpace="",a.height="";var u=t.offsetHeight,g=this.options.maxHeight,C="leaflet-popup-scrolled";g&&u>g?(a.height=g+"px",qt(t,C)):xe(t,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var a=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),s=this._getAnchor();ie(this._container,a.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,a=parseInt(wa(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+a,u=this._containerWidth,g=new Tt(this._containerLeft,-s-this._containerBottom);g._add(Ui(this._container));var C=t.layerPointToContainerPoint(g),F=Pt(this.options.autoPanPadding),J=Pt(this.options.autoPanPaddingTopLeft||F),at=Pt(this.options.autoPanPaddingBottomRight||F),ct=t.getSize(),bt=0,It=0;C.x+u+at.x>ct.x&&(bt=C.x+u-ct.x+at.x),C.x-bt-J.x<0&&(bt=C.x-J.x),C.y+s+at.y>ct.y&&(It=C.y+s-ct.y+at.y),C.y-It-J.y<0&&(It=C.y-J.y),(bt||It)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([bt,It]))}},_getAnchor:function(){return Pt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ue=function(t,a){return new Bt(t,a)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(t,a,s){return this._initOverlay(Bt,t,a,s).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),be.include({bindPopup:function(t,a){return this._popup=this._initOverlay(Bt,this._popup,t,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Vi(t);var a=t.layer||t.target;if(this._popup._source===a&&!(a instanceof ze)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=a,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Oe=Ft.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ft.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ft.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ft.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",a=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+X(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var a,s,u=this._map,g=this._container,C=u.latLngToContainerPoint(u.getCenter()),F=u.layerPointToContainerPoint(t),J=this.options.direction,at=g.offsetWidth,ct=g.offsetHeight,bt=Pt(this.options.offset),It=this._getAnchor();J==="top"?(a=at/2,s=ct):J==="bottom"?(a=at/2,s=0):J==="center"?(a=at/2,s=ct/2):J==="right"?(a=0,s=ct/2):J==="left"?(a=at,s=ct/2):F.x<C.x?(J="right",a=0,s=ct/2):(J="left",a=at+(bt.x+It.x)*2,s=ct/2),t=t.subtract(Pt(a,s,!0)).add(bt).add(It),xe(g,"leaflet-tooltip-right"),xe(g,"leaflet-tooltip-left"),xe(g,"leaflet-tooltip-top"),xe(g,"leaflet-tooltip-bottom"),qt(g,"leaflet-tooltip-"+J),ie(g,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&He(this._container,t)},_animateZoom:function(t){var a=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(a)},_getAnchor:function(){return Pt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ke=function(t,a){return new Oe(t,a)};Kt.include({openTooltip:function(t,a,s){return this._initOverlay(Oe,t,a,s).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),be.include({bindTooltip:function(t,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oe,this._tooltip,t,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var a=t?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[a](s),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var a=typeof t.getElement=="function"&&t.getElement();a&&(zt(a,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),zt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var a=typeof t.getElement=="function"&&t.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var a=t.latlng,s,u;this._tooltip.options.sticky&&t.originalEvent&&(s=this._map.mouseEventToContainerPoint(t.originalEvent),u=this._map.containerPointToLayerPoint(s),a=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(a)}});var ai=Ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var a=t&&t.tagName==="DIV"?t:document.createElement("div"),s=this.options;if(s.html instanceof Element?(Ga(a),a.appendChild(s.html)):a.innerHTML=s.html!==!1?s.html:"",s.bgPos){var u=Pt(s.bgPos);a.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Mi(t){return new ai(t)}Ii.Default=Ci;var Ei=be.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){xt(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=je(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Tt?t:new Tt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var a=this.getPane().children,s=-t(-1/0,1/0),u=0,g=a.length,C;u<g;u++)C=a[u].style.zIndex,a[u]!==this._container&&C&&(s=t(s,+C));isFinite(s)&&(this.options.zIndex=s+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Mt.ielt9){He(this._container,this.options.opacity);var t=+new Date,a=!1,s=!1;for(var u in this._tiles){var g=this._tiles[u];if(!(!g.current||!g.loaded)){var C=Math.min(1,(t-g.loaded)/200);He(g.el,C),C<1?a=!0:(g.active?s=!0:this._onOpaqueTile(g),g.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),a&&(Fe(this._fadeFrame),this._fadeFrame=Ke(this._updateOpacity,this))}},_onOpaqueTile:ce,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,a=this.options.maxZoom;if(t!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===t?(this._levels[s].el.style.zIndex=a-Math.abs(t-s),this._onUpdateLevel(s)):(se(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var u=this._levels[t],g=this._map;return u||(u=this._levels[t]={},u.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=a,u.origin=g.project(g.unproject(g.getPixelOrigin()),t).round(),u.zoom=t,this._setZoomTransform(u,g.getCenter(),g.getZoom()),ce(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:ce,_onRemoveLevel:ce,_onCreateLevel:ce,_pruneTiles:function(){if(this._map){var t,a,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)a=this._tiles[t],a.retain=a.current;for(t in this._tiles)if(a=this._tiles[t],a.current&&!a.active){var u=a.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var a in this._tiles)this._tiles[a].coords.z===t&&this._removeTile(a)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,a,s,u){var g=Math.floor(t/2),C=Math.floor(a/2),F=s-1,J=new Tt(+g,+C);J.z=+F;var at=this._tileCoordsToKey(J),ct=this._tiles[at];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),F>u?this._retainParent(g,C,F,u):!1)},_retainChildren:function(t,a,s,u){for(var g=2*t;g<2*t+2;g++)for(var C=2*a;C<2*a+2;C++){var F=new Tt(g,C);F.z=s+1;var J=this._tileCoordsToKey(F),at=this._tiles[J];if(at&&at.active){at.retain=!0;continue}else at&&at.loaded&&(at.retain=!0);s+1<u&&this._retainChildren(g,C,s+1,u)}},_resetView:function(t){var a=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var a=this.options;return a.minNativeZoom!==void 0&&t<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<t?a.maxNativeZoom:t},_setView:function(t,a,s,u){var g=Math.round(a);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var C=this.options.updateWhenZooming&&g!==this._tileZoom;(!u||C)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(t),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(t,a)},_setZoomTransforms:function(t,a){for(var s in this._levels)this._setZoomTransform(this._levels[s],t,a)},_setZoomTransform:function(t,a,s){var u=this._map.getZoomScale(s,t.zoom),g=t.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(a,s)).round();Mt.any3d?la(t.el,g,u):ie(t.el,g)},_resetGrid:function(){var t=this._map,a=t.options.crs,s=this._tileSize=this.getTileSize(),u=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,a.wrapLng[0]],u).x/s.x),Math.ceil(t.project([0,a.wrapLng[1]],u).x/s.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([a.wrapLat[0],0],u).y/s.x),Math.ceil(t.project([a.wrapLat[1],0],u).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var a=this._map,s=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),u=a.getZoomScale(s,this._tileZoom),g=a.project(t,this._tileZoom).floor(),C=a.getSize().divideBy(u*2);return new de(g.subtract(C),g.add(C))},_update:function(t){var a=this._map;if(a){var s=this._clampZoom(a.getZoom());if(t===void 0&&(t=a.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(t),g=this._pxBoundsToTileRange(u),C=g.getCenter(),F=[],J=this.options.keepBuffer,at=new de(g.getBottomLeft().subtract([J,-J]),g.getTopRight().add([J,-J]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var bt=this._tiles[ct].coords;(bt.z!==this._tileZoom||!at.contains(new Tt(bt.x,bt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(t,s);return}for(var It=g.min.y;It<=g.max.y;It++)for(var Ut=g.min.x;Ut<=g.max.x;Ut++){var Ye=new Tt(Ut,It);if(Ye.z=this._tileZoom,!!this._isValidTile(Ye)){var Ne=this._tiles[this._tileCoordsToKey(Ye)];Ne?Ne.current=!0:F.push(Ye)}}if(F.sort(function(hi,vn){return hi.distanceTo(C)-vn.distanceTo(C)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ai=document.createDocumentFragment();for(Ut=0;Ut<F.length;Ut++)this._addTile(F[Ut],Ai);this._level.el.appendChild(Ai)}}}},_isValidTile:function(t){var a=this._map.options.crs;if(!a.infinite){var s=this._globalTileRange;if(!a.wrapLng&&(t.x<s.min.x||t.x>s.max.x)||!a.wrapLat&&(t.y<s.min.y||t.y>s.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(t);return ye(this.options.bounds).overlaps(u)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var a=this._map,s=this.getTileSize(),u=t.scaleBy(s),g=u.add(s),C=a.unproject(u,t.z),F=a.unproject(g,t.z);return[C,F]},_tileCoordsToBounds:function(t){var a=this._tileCoordsToNwSe(t),s=new qe(a[0],a[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var a=t.split(":"),s=new Tt(+a[0],+a[1]);return s.z=+a[2],s},_removeTile:function(t){var a=this._tiles[t];a&&(se(a.el),delete this._tiles[t],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){qt(t,"leaflet-tile");var a=this.getTileSize();t.style.width=a.x+"px",t.style.height=a.y+"px",t.onselectstart=ce,t.onmousemove=ce,Mt.ielt9&&this.options.opacity<1&&He(t,this.options.opacity)},_addTile:function(t,a){var s=this._getTilePos(t),u=this._tileCoordsToKey(t),g=this.createTile(this._wrapCoords(t),dt(this._tileReady,this,t));this._initTile(g),this.createTile.length<2&&Ke(dt(this._tileReady,this,t,null,g)),ie(g,s),this._tiles[u]={el:g,coords:t,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:t})},_tileReady:function(t,a,s){a&&this.fire("tileerror",{error:a,tile:s,coords:t});var u=this._tileCoordsToKey(t);s=this._tiles[u],s&&(s.loaded=+new Date,this._map._fadeAnimated?(He(s.el,0),Fe(this._fadeFrame),this._fadeFrame=Ke(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),a||(qt(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Mt.ielt9||!this._map._fadeAnimated?Ke(this._pruneTiles,this):setTimeout(dt(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var a=new Tt(this._wrapX?Te(t.x,this._wrapX):t.x,this._wrapY?Te(t.y,this._wrapY):t.y);return a.z=t.z,a},_pxBoundsToTileRange:function(t){var a=this.getTileSize();return new de(t.min.unscaleBy(a).floor(),t.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function We(t){return new Ei(t)}var _n=Ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,a){this._url=t,a=xt(this,a),a.detectRetina&&Mt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,a){return this._url===t&&a===void 0&&(a=!0),this._url=t,a||this.redraw(),this},createTile:function(t,a){var s=document.createElement("img");return zt(s,"load",dt(this._tileOnLoad,this,a,s)),zt(s,"error",dt(this._tileOnError,this,a,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(t),s},getTileUrl:function(t){var a={r:Mt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-t.y;this.options.tms&&(a.y=s),a["-y"]=s}return Ot(this._url,Y(a,this.options))},_tileOnLoad:function(t,a){Mt.ielt9?setTimeout(dt(t,this,null,a),0):t(null,a)},_tileOnError:function(t,a,s){var u=this.options.errorTileUrl;u&&a.getAttribute("src")!==u&&(a.src=u),t(s,a)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,a=this.options.maxZoom,s=this.options.zoomReverse,u=this.options.zoomOffset;return s&&(t=a-t),t+u},_getSubdomain:function(t){var a=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var t,a;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(a=this._tiles[t].el,a.onload=ce,a.onerror=ce,!a.complete)){a.src=Si;var s=this._tiles[t].coords;se(a),delete this._tiles[t],this.fire("tileabort",{tile:a,coords:s})}},_removeTile:function(t){var a=this._tiles[t];if(a)return a.el.setAttribute("src",Si),Ei.prototype._removeTile.call(this,t)},_tileReady:function(t,a,s){if(!(!this._map||s&&s.getAttribute("src")===Si))return Ei.prototype._tileReady.call(this,t,a,s)}});function Ur(t,a){return new _n(t,a)}var Hr=_n.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,a){this._url=t;var s=Y({},this.defaultWmsParams);for(var u in a)u in this.options||(s[u]=a[u]);a=xt(this,a);var g=a.detectRetina&&Mt.retina?2:1,C=this.getTileSize();s.width=C.x*g,s.height=C.y*g,this.wmsParams=s},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,_n.prototype.onAdd.call(this,t)},getTileUrl:function(t){var a=this._tileCoordsToNwSe(t),s=this._crs,u=Ee(s.project(a[0]),s.project(a[1])),g=u.min,C=u.max,F=(this._wmsVersion>=1.3&&this._crs===Qe?[g.y,g.x,C.y,C.x]:[g.x,g.y,C.x,C.y]).join(","),J=_n.prototype.getTileUrl.call(this,t);return J+Nt(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(t,a){return Y(this.wmsParams,t),a||this.redraw(),this}});function ho(t,a){return new Hr(t,a)}_n.WMS=Hr,Ur.wms=ho;var Yi=be.extend({options:{padding:.1},initialize:function(t){xt(this,t),X(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,a){var s=this._map.getZoomScale(a,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),C=u.multiplyBy(-s).add(g).subtract(this._map._getNewPixelOrigin(t,a));Mt.any3d?la(this._container,C,s):ie(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,a=this._map.getSize(),s=this._map.containerPointToLayerPoint(a.multiplyBy(-t)).round();this._bounds=new de(s,s.add(a.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vr=Yi.extend({options:{tolerance:0},getEvents:function(){var t=Yi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");zt(t,"mousemove",this._onMouseMove,this),zt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Fe(this._redrawRequest),delete this._ctx,se(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var a in this._layers)t=this._layers[a],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yi.prototype._update.call(this);var t=this._bounds,a=this._container,s=t.getSize(),u=Mt.retina?2:1;ie(a,t.min),a.width=u*s.x,a.height=u*s.y,a.style.width=s.x+"px",a.style.height=s.y+"px",Mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Yi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[X(t)]=t;var a=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var a=t._order,s=a.next,u=a.prev;s?s.prev=u:this._drawLast=u,u?u.next=s:this._drawFirst=s,delete t._order,delete this._layers[X(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var a=t.options.dashArray.split(/[, ]+/),s=[],u,g;for(g=0;g<a.length;g++){if(u=Number(a[g]),isNaN(u))return;s.push(u)}t.options._dashArray=s}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Ke(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var a=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(t._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(t._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var a=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,a=this._redrawBounds;if(this._ctx.save(),a){var s=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)t=u.layer,(!a||t._pxBounds&&t._pxBounds.intersects(a))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,a){if(this._drawing){var s,u,g,C,F=t._parts,J=F.length,at=this._ctx;if(J){for(at.beginPath(),s=0;s<J;s++){for(u=0,g=F[s].length;u<g;u++)C=F[s][u],at[u?"lineTo":"moveTo"](C.x,C.y);a&&at.closePath()}this._fillStroke(at,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var a=t._point,s=this._ctx,u=Math.max(Math.round(t._radius),1),g=(Math.max(Math.round(t._radiusY),1)||u)/u;g!==1&&(s.save(),s.scale(1,g)),s.beginPath(),s.arc(a.x,a.y/g,u,0,Math.PI*2,!1),g!==1&&s.restore(),this._fillStroke(s,t)}},_fillStroke:function(t,a){var s=a.options;s.fill&&(t.globalAlpha=s.fillOpacity,t.fillStyle=s.fillColor||s.color,t.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(t.setLineDash&&t.setLineDash(a.options&&a.options._dashArray||[]),t.globalAlpha=s.opacity,t.lineWidth=s.weight,t.strokeStyle=s.color,t.lineCap=s.lineCap,t.lineJoin=s.lineJoin,t.stroke())},_onClick:function(t){for(var a=this._map.mouseEventToLayerPoint(t),s,u,g=this._drawFirst;g;g=g.next)s=g.layer,s.options.interactive&&s._containsPoint(a)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(s))&&(u=s);this._fireEvent(u?[u]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,a)}},_handleMouseOut:function(t){var a=this._hoveredLayer;a&&(xe(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,a){if(!this._mouseHoverThrottled){for(var s,u,g=this._drawFirst;g;g=g.next)s=g.layer,s.options.interactive&&s._containsPoint(a)&&(u=s);u!==this._hoveredLayer&&(this._handleMouseOut(t),u&&(qt(this._container,"leaflet-interactive"),this._fireEvent([u],t,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(dt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,a,s){this._map._fireDOMEvent(a,s||a.type,t)},_bringToFront:function(t){var a=t._order;if(a){var s=a.next,u=a.prev;if(s)s.prev=u;else return;u?u.next=s:s&&(this._drawFirst=s),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(t)}},_bringToBack:function(t){var a=t._order;if(a){var s=a.next,u=a.prev;if(u)u.next=s;else return;s?s.prev=u:u&&(this._drawLast=u),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(t)}}});function Vr(t){return Mt.canvas?new vr(t):null}var Un=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wr={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var a=t._container=Un("shape");qt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",t._path=Un("path"),a.appendChild(t._path),this._updateStyle(t),this._layers[X(t)]=t},_addPath:function(t){var a=t._container;this._container.appendChild(a),t.options.interactive&&t.addInteractiveTarget(a)},_removePath:function(t){var a=t._container;se(a),t.removeInteractiveTarget(a),delete this._layers[X(t)]},_updateStyle:function(t){var a=t._stroke,s=t._fill,u=t.options,g=t._container;g.stroked=!!u.stroke,g.filled=!!u.fill,u.stroke?(a||(a=t._stroke=Un("stroke")),g.appendChild(a),a.weight=u.weight+"px",a.color=u.color,a.opacity=u.opacity,u.dashArray?a.dashStyle=mi(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=u.lineCap.replace("butt","flat"),a.joinstyle=u.lineJoin):a&&(g.removeChild(a),t._stroke=null),u.fill?(s||(s=t._fill=Un("fill")),g.appendChild(s),s.color=u.fillColor||u.color,s.opacity=u.fillOpacity):s&&(g.removeChild(s),t._fill=null)},_updateCircle:function(t){var a=t._point.round(),s=Math.round(t._radius),u=Math.round(t._radiusY||s);this._setPath(t,t._empty()?"M0 0":"AL "+a.x+","+a.y+" "+s+","+u+" 0,"+65535*360)},_setPath:function(t,a){t._path.v=a},_bringToFront:function(t){Le(t._container)},_bringToBack:function(t){si(t._container)}},yn=Mt.vml?Un:wn,Hn=Yi.extend({_initContainer:function(){this._container=yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yi.prototype._update.call(this);var t=this._bounds,a=t.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,s.setAttribute("width",a.x),s.setAttribute("height",a.y)),ie(s,t.min),s.setAttribute("viewBox",[t.min.x,t.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(t){var a=t._path=yn("path");t.options.className&&qt(a,t.options.className),t.options.interactive&&qt(a,"leaflet-interactive"),this._updateStyle(t),this._layers[X(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[X(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var a=t._path,s=t.options;a&&(s.stroke?(a.setAttribute("stroke",s.color),a.setAttribute("stroke-opacity",s.opacity),a.setAttribute("stroke-width",s.weight),a.setAttribute("stroke-linecap",s.lineCap),a.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?a.setAttribute("stroke-dasharray",s.dashArray):a.removeAttribute("stroke-dasharray"),s.dashOffset?a.setAttribute("stroke-dashoffset",s.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),s.fill?(a.setAttribute("fill",s.fillColor||s.color),a.setAttribute("fill-opacity",s.fillOpacity),a.setAttribute("fill-rule",s.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(t,a){this._setPath(t,Ln(t._parts,a))},_updateCircle:function(t){var a=t._point,s=Math.max(Math.round(t._radius),1),u=Math.max(Math.round(t._radiusY),1)||s,g="a"+s+","+u+" 0 1,0 ",C=t._empty()?"M0 0":"M"+(a.x-s)+","+a.y+g+s*2+",0 "+g+-s*2+",0 ";this._setPath(t,C)},_setPath:function(t,a){t._path.setAttribute("d",a)},_bringToFront:function(t){Le(t._path)},_bringToBack:function(t){si(t._path)}});Mt.vml&&Hn.include(Wr);function Kr(t){return Mt.svg||Mt.vml?new Hn(t):null}Kt.include({getRenderer:function(t){var a=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var a=this._paneRenderers[t];return a===void 0&&(a=this._createRenderer({pane:t}),this._paneRenderers[t]=a),a},_createRenderer:function(t){return this.options.preferCanvas&&Vr(t)||Kr(t)}});var br=$e.extend({initialize:function(t,a){$e.prototype.initialize.call(this,this._boundsToLatLngs(t),a)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ye(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Bi(t,a){return new br(t,a)}Hn.create=yn,Hn.pointsToPath=Ln,ui.geometryToLayer=Ki,ui.coordsToLatLng=Zn,ui.coordsToLatLngs=Pa,ui.latLngToCoords=gn,ui.latLngsToCoords=T,ui.getFeature=G,ui.asFeature=Q,Kt.mergeOptions({boxZoom:!0});var ni=y.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ri(),Fi(),this._startPoint=this._map.mouseEventToContainerPoint(t),zt(document,{contextmenu:Vi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var a=new de(this._point,this._startPoint),s=a.getSize();ie(this._box,a.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(se(this._box),xe(this._container,"leaflet-crosshair")),Ua(),Ca(),fe(document,{contextmenu:Vi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(dt(this._resetState,this),0);var a=new qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",ni),Kt.mergeOptions({doubleClickZoom:!0});var Dr=y.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var a=this._map,s=a.getZoom(),u=a.options.zoomDelta,g=t.originalEvent.shiftKey?s-u:s+u;a.options.doubleClickZoom==="center"?a.setZoom(g):a.setZoomAround(t.containerPoint,g)}});Kt.addInitHook("addHandler","doubleClickZoom",Dr),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pi=y.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new S(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ye(this._map.options.maxBounds);this._offsetLimit=Ee(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var a=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(a),this._prunePositions(a)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,a){return t-(t-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;t.x<a.min.x&&(t.x=this._viscousLimit(t.x,a.min.x)),t.y<a.min.y&&(t.y=this._viscousLimit(t.y,a.min.y)),t.x>a.max.x&&(t.x=this._viscousLimit(t.x,a.max.x)),t.y>a.max.y&&(t.y=this._viscousLimit(t.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,a=Math.round(t/2),s=this._initialWorldOffset,u=this._draggable._newPos.x,g=(u-a+s)%t+a-s,C=(u+a+s)%t-a-s,F=Math.abs(g+s)<Math.abs(C+s)?g:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(t){var a=this._map,s=a.options,u=!s.inertia||t.noInertia||this._times.length<2;if(a.fire("dragend",t),u)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,F=s.easeLinearity,J=g.multiplyBy(F/C),at=J.distanceTo([0,0]),ct=Math.min(s.inertiaMaxSpeed,at),bt=J.multiplyBy(ct/at),It=ct/(s.inertiaDeceleration*F),Ut=bt.multiplyBy(-It/2).round();!Ut.x&&!Ut.y?a.fire("moveend"):(Ut=a._limitOffset(Ut,a.options.maxBounds),Ke(function(){a.panBy(Ut,{duration:It,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",Pi),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jt=y.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),zt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,a=document.documentElement,s=t.scrollTop||a.scrollTop,u=t.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(u,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var a=this._panKeys={},s=this.keyCodes,u,g;for(u=0,g=s.left.length;u<g;u++)a[s.left[u]]=[-1*t,0];for(u=0,g=s.right.length;u<g;u++)a[s.right[u]]=[t,0];for(u=0,g=s.down.length;u<g;u++)a[s.down[u]]=[0,t];for(u=0,g=s.up.length;u<g;u++)a[s.up[u]]=[0,-1*t]},_setZoomDelta:function(t){var a=this._zoomKeys={},s=this.keyCodes,u,g;for(u=0,g=s.zoomIn.length;u<g;u++)a[s.zoomIn[u]]=t;for(u=0,g=s.zoomOut.length;u<g;u++)a[s.zoomOut[u]]=-t},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var a=t.keyCode,s=this._map,u;if(a in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(u=this._panKeys[a],t.shiftKey&&(u=Pt(u).multiplyBy(3)),s.options.maxBounds&&(u=s._limitOffset(Pt(u),s.options.maxBounds)),s.options.worldCopyJump){var g=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(u)));s.panTo(g)}else s.panBy(u)}else if(a in this._zoomKeys)s.setZoom(s.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;Vi(t)}}});Kt.addInitHook("addHandler","keyboard",jt),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xr=y.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var a=Nn(t),s=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var u=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(dt(this._performZoom,this),u),Vi(t)},_performZoom:function(){var t=this._map,a=t.getZoom(),s=this._map.options.zoomSnap||0;t._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,C=s?Math.ceil(g/s)*s:g,F=t._limitZoom(a+(this._delta>0?C:-C))-a;this._delta=0,this._startTime=null,F&&(t.options.scrollWheelZoom==="center"?t.setZoom(a+F):t.setZoomAround(this._lastMousePos,a+F))}});Kt.addInitHook("addHandler","scrollWheelZoom",xr);var Or=600;Kt.mergeOptions({tapHold:Mt.touchNative&&Mt.safari&&Mt.mobile,tapTolerance:15});var pa=y.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var a=t.touches[0];this._startPos=this._newPos=new Tt(a.clientX,a.clientY),this._holdTimeout=setTimeout(dt(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",De),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Or),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){fe(document,"touchend",De),fe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(t){var a=t.touches[0];this._newPos=new Tt(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,a){var s=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});s._simulated=!0,a.target.dispatchEvent(s)}});Kt.addInitHook("addHandler","tapHold",pa),Kt.mergeOptions({touchZoom:Mt.touch,bounceAtZoomLimits:!0});var Re=y.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var a=this._map;if(!(!t.touches||t.touches.length!==2||a._animatingZoom||this._zooming)){var s=a.mouseEventToContainerPoint(t.touches[0]),u=a.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(s.add(u)._divideBy(2))),this._startDist=s.distanceTo(u),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),De(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var a=this._map,s=a.mouseEventToContainerPoint(t.touches[0]),u=a.mouseEventToContainerPoint(t.touches[1]),g=s.distanceTo(u)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var C=s._add(u)._divideBy(2)._subtract(this._centerPoint);if(g===1&&C.x===0&&C.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Fe(this._animRequest);var F=dt(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ke(F,this,!0),De(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Fe(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Re),Kt.BoxZoom=ni,Kt.DoubleClickZoom=Dr,Kt.Drag=Pi,Kt.Keyboard=jt,Kt.ScrollWheelZoom=xr,Kt.TapHold=pa,Kt.TouchZoom=Re,j.Bounds=de,j.Browser=Mt,j.CRS=Di,j.Canvas=vr,j.Circle=Va,j.CircleMarker=Ba,j.Class=Ht,j.Control=Ve,j.DivIcon=ai,j.DivOverlay=Ft,j.DomEvent=jn,j.DomUtil=Pr,j.Draggable=S,j.Evented=Oa,j.FeatureGroup=ti,j.GeoJSON=ui,j.GridLayer=Ei,j.Handler=y,j.Icon=Ii,j.ImageOverlay=yt,j.LatLng=ne,j.LatLngBounds=qe,j.Layer=be,j.LayerGroup=da,j.LineUtil=ca,j.Map=Kt,j.Marker=pn,j.Mixin=w,j.Path=ze,j.Point=Tt,j.PolyUtil=it,j.Polygon=$e,j.Polyline=ii,j.Popup=Bt,j.PosAnimation=gr,j.Projection=bi,j.Rectangle=br,j.Renderer=Yi,j.SVG=Hn,j.SVGOverlay=St,j.TileLayer=_n,j.Tooltip=Oe,j.Transformation=Ge,j.Util=ea,j.VideoOverlay=vt,j.bind=dt,j.bounds=Ee,j.canvas=Vr,j.circle=xi,j.circleMarker=Wi,j.control=ha,j.divIcon=Mi,j.extend=Y,j.featureGroup=re,j.geoJSON=ft,j.geoJson=_t,j.gridLayer=We,j.icon=ei,j.imageOverlay=Lt,j.latLng=Xt,j.latLngBounds=ye,j.layerGroup=Gn,j.map=Ar,j.marker=yr,j.point=Pt,j.polygon=Sr,j.polyline=mn,j.popup=ue,j.rectangle=Bi,j.setOptions=xt,j.stamp=X,j.svg=Kr,j.svgOverlay=Dt,j.tileLayer=Ur,j.tooltip=ke,j.transformation=Ra,j.version=st,j.videoOverlay=Zt;var $r=window.L;j.noConflict=function(){return window.L=$r,this},window.L=j})});var so=jr((jo,oo)=>{(function(j,st){"use strict";typeof oo=="object"&&typeof oo.exports=="object"?oo.exports=j.document?st(j,!0):function(Y){if(!Y.document)throw new Error("jQuery requires a window with a document");return st(Y)}:st(j)})(typeof window<"u"?window:jo,function(j,st){"use strict";var Y=[],mt=Object.getPrototypeOf,dt=Y.slice,Qt=Y.flat?function(r){return Y.flat.call(r)}:function(r){return Y.concat.apply([],r)},X=Y.push,je=Y.indexOf,Te={},ce=Te.toString,Se=Te.hasOwnProperty,Ji=Se.toString,Qi=Ji.call(Object),xt={},Nt=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},_a=function(f){return f!=null&&f===f.window},Ot=j.document,mi={type:!0,src:!0,nonce:!0,noModule:!0};function Ka(r,f,c){c=c||Ot;var d,v,y=c.createElement("script");if(y.text=r,f)for(d in mi)v=f[d]||f.getAttribute&&f.getAttribute(d),v&&y.setAttribute(d,v);c.head.appendChild(y).parentNode.removeChild(y)}function Si(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?Te[ce.call(r)]||"object":typeof r}var $a="3.7.1",xn=/HTML$/i,m=function(r,f){return new m.fn.init(r,f)};m.fn=m.prototype={jquery:$a,constructor:m,length:0,toArray:function(){return dt.call(this)},get:function(r){return r==null?dt.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var f=m.merge(this.constructor(),r);return f.prevObject=this,f},each:function(r){return m.each(this,r)},map:function(r){return this.pushStack(m.map(this,function(f,c){return r.call(f,c,f)}))},slice:function(){return this.pushStack(dt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(r,f){return(f+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(r,f){return f%2}))},eq:function(r){var f=this.length,c=+r+(r<0?f:0);return this.pushStack(c>=0&&c<f?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:X,sort:Y.sort,splice:Y.splice},m.extend=m.fn.extend=function(){var r,f,c,d,v,y,w=arguments[0]||{},R=1,S=arguments.length,U=!1;for(typeof w=="boolean"&&(U=w,w=arguments[R]||{},R++),typeof w!="object"&&!Nt(w)&&(w={}),R===S&&(w=this,R--);R<S;R++)if((r=arguments[R])!=null)for(f in r)d=r[f],!(f==="__proto__"||w===d)&&(U&&d&&(m.isPlainObject(d)||(v=Array.isArray(d)))?(c=w[f],v&&!Array.isArray(c)?y=[]:!v&&!m.isPlainObject(c)?y={}:y=c,v=!1,w[f]=m.extend(U,y,d)):d!==void 0&&(w[f]=d));return w},m.extend({expando:"jQuery"+($a+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var f,c;return!r||ce.call(r)!=="[object Object]"?!1:(f=mt(r),f?(c=Se.call(f,"constructor")&&f.constructor,typeof c=="function"&&Ji.call(c)===Qi):!0)},isEmptyObject:function(r){var f;for(f in r)return!1;return!0},globalEval:function(r,f,c){Ka(r,{nonce:f&&f.nonce},c)},each:function(r,f){var c,d=0;if(ta(r))for(c=r.length;d<c&&f.call(r[d],d,r[d])!==!1;d++);else for(d in r)if(f.call(r[d],d,r[d])===!1)break;return r},text:function(r){var f,c="",d=0,v=r.nodeType;if(!v)for(;f=r[d++];)c+=m.text(f);return v===1||v===11?r.textContent:v===9?r.documentElement.textContent:v===3||v===4?r.nodeValue:c},makeArray:function(r,f){var c=f||[];return r!=null&&(ta(Object(r))?m.merge(c,typeof r=="string"?[r]:r):X.call(c,r)),c},inArray:function(r,f,c){return f==null?-1:je.call(f,r,c)},isXMLDoc:function(r){var f=r&&r.namespaceURI,c=r&&(r.ownerDocument||r).documentElement;return!xn.test(f||c&&c.nodeName||"HTML")},merge:function(r,f){for(var c=+f.length,d=0,v=r.length;d<c;d++)r[v++]=f[d];return r.length=v,r},grep:function(r,f,c){for(var d,v=[],y=0,w=r.length,R=!c;y<w;y++)d=!f(r[y],y),d!==R&&v.push(r[y]);return v},map:function(r,f,c){var d,v,y=0,w=[];if(ta(r))for(d=r.length;y<d;y++)v=f(r[y],y,c),v!=null&&w.push(v);else for(y in r)v=f(r[y],y,c),v!=null&&w.push(v);return Qt(w)},guid:1,support:xt}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=Y[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,f){Te["[object "+f+"]"]=f.toLowerCase()});function ta(r){var f=!!r&&"length"in r&&r.length,c=Si(r);return Nt(r)||_a(r)?!1:c==="array"||f===0||typeof f=="number"&&f>0&&f-1 in r}function le(r,f){return r.nodeName&&r.nodeName.toLowerCase()===f.toLowerCase()}var Ke=Y.pop,Fe=Y.sort,ea=Y.splice,Ht="[\\x20\\t\\r\\n\\f]",Da=new RegExp("^"+Ht+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ht+"+$","g");m.contains=function(r,f){var c=f&&f.parentNode;return r===c||!!(c&&c.nodeType===1&&(r.contains?r.contains(c):r.compareDocumentPosition&&r.compareDocumentPosition(c)&16))};var Je=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Oa(r,f){return f?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}m.escapeSelector=function(r){return(r+"").replace(Je,Oa)};var Tt=Ot,Ya=X;(function(){var r,f,c,d,v,y=Ya,w,R,S,U,ot,lt=m.expando,it=0,pt=0,Rt=Ii(),Jt=Ii(),Gt=Ii(),Me=Ii(),Yt=function(T,G){return T===G&&(v=!0),0},pe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",li="(?:\\\\[\\da-fA-F]{1,6}"+Ht+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Vt="\\["+Ht+"*("+li+")(?:"+Ht+"*([*^$|!~]?=)"+Ht+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+li+"))|)"+Ht+"*\\]",Be=":("+li+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Vt+")*)|.*)\\)|)",Wt=new RegExp(Ht+"+","g"),ae=new RegExp("^"+Ht+"*,"+Ht+"*"),_e=new RegExp("^"+Ht+"*([>+~]|"+Ht+")"+Ht+"*"),dn=new RegExp(Ht+"|>"),yi=new RegExp(Be),ca=new RegExp("^"+li+"$"),ve={ID:new RegExp("^#("+li+")"),CLASS:new RegExp("^\\.("+li+")"),TAG:new RegExp("^("+li+"|[*])"),ATTR:new RegExp("^"+Vt),PSEUDO:new RegExp("^"+Be),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ht+"*(even|odd|(([+-]|)(\\d*)n|)"+Ht+"*(?:([+-]|)"+Ht+"*(\\d+)|))"+Ht+"*\\)|)","i"),bool:new RegExp("^(?:"+pe+")$","i"),needsContext:new RegExp("^"+Ht+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ht+"*((?:-\\d)?\\d*)"+Ht+"*\\)|)(?=[^-]|$)","i")},vi=/^(?:input|select|textarea|button)$/i,bi=/^h\d$/i,fi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Qe=/[+~]/,Pe=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ht+"?|\\\\([^\\r\\n\\f])","g"),be=function(T,G){var Q="0x"+T.slice(1)-65536;return G||(Q<0?String.fromCharCode(Q+65536):String.fromCharCode(Q>>10|55296,Q&1023|56320))},da=function(){Wi()},Gn=mn(function(T){return T.disabled===!0&&le(T,"fieldset")},{dir:"parentNode",next:"legend"});function ti(){try{return w.activeElement}catch{}}try{y.apply(Y=dt.call(Tt.childNodes),Tt.childNodes),Y[Tt.childNodes.length].nodeType}catch{y={apply:function(G,Q){Ya.apply(G,dt.call(Q))},call:function(G){Ya.apply(G,dt.call(arguments,1))}}}function re(T,G,Q,rt){var ft,_t,yt,Lt,vt,Zt,St,Dt=G&&G.ownerDocument,Ft=G?G.nodeType:9;if(Q=Q||[],typeof T!="string"||!T||Ft!==1&&Ft!==9&&Ft!==11)return Q;if(!rt&&(Wi(G),G=G||w,S)){if(Ft!==11&&(vt=fi.exec(T)))if(ft=vt[1]){if(Ft===9)if(yt=G.getElementById(ft)){if(yt.id===ft)return y.call(Q,yt),Q}else return Q;else if(Dt&&(yt=Dt.getElementById(ft))&&re.contains(G,yt)&&yt.id===ft)return y.call(Q,yt),Q}else{if(vt[2])return y.apply(Q,G.getElementsByTagName(T)),Q;if((ft=vt[3])&&G.getElementsByClassName)return y.apply(Q,G.getElementsByClassName(ft)),Q}if(!Me[T+" "]&&(!U||!U.test(T))){if(St=T,Dt=G,Ft===1&&(dn.test(T)||_e.test(T))){for(Dt=Qe.test(T)&&Ba(G.parentNode)||G,(Dt!=G||!xt.scope)&&((Lt=G.getAttribute("id"))?Lt=m.escapeSelector(Lt):G.setAttribute("id",Lt=lt)),Zt=xi(T),_t=Zt.length;_t--;)Zt[_t]=(Lt?"#"+Lt:":scope")+" "+ii(Zt[_t]);St=Zt.join(",")}try{return y.apply(Q,Dt.querySelectorAll(St)),Q}catch{Me(T,!0)}finally{Lt===lt&&G.removeAttribute("id")}}}return gn(T.replace(Da,"$1"),G,Q,rt)}function Ii(){var T=[];function G(Q,rt){return T.push(Q+" ")>f.cacheLength&&delete G[T.shift()],G[Q+" "]=rt}return G}function ei(T){return T[lt]=!0,T}function Ci(T){var G=w.createElement("fieldset");try{return!!T(G)}catch{return!1}finally{G.parentNode&&G.parentNode.removeChild(G),G=null}}function _r(T){return function(G){return le(G,"input")&&G.type===T}}function pn(T){return function(G){return(le(G,"input")||le(G,"button"))&&G.type===T}}function yr(T){return function(G){return"form"in G?G.parentNode&&G.disabled===!1?"label"in G?"label"in G.parentNode?G.parentNode.disabled===T:G.disabled===T:G.isDisabled===T||G.isDisabled!==!T&&Gn(G)===T:G.disabled===T:"label"in G?G.disabled===T:!1}}function ze(T){return ei(function(G){return G=+G,ei(function(Q,rt){for(var ft,_t=T([],Q.length,G),yt=_t.length;yt--;)Q[ft=_t[yt]]&&(Q[ft]=!(rt[ft]=Q[ft]))})})}function Ba(T){return T&&typeof T.getElementsByTagName<"u"&&T}function Wi(T){var G,Q=T?T.ownerDocument||T:Tt;return Q==w||Q.nodeType!==9||!Q.documentElement||(w=Q,R=w.documentElement,S=!m.isXMLDoc(w),ot=R.matches||R.webkitMatchesSelector||R.msMatchesSelector,R.msMatchesSelector&&Tt!=w&&(G=w.defaultView)&&G.top!==G&&G.addEventListener("unload",da),xt.getById=Ci(function(rt){return R.appendChild(rt).id=m.expando,!w.getElementsByName||!w.getElementsByName(m.expando).length}),xt.disconnectedMatch=Ci(function(rt){return ot.call(rt,"*")}),xt.scope=Ci(function(){return w.querySelectorAll(":scope")}),xt.cssHas=Ci(function(){try{return w.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),xt.getById?(f.filter.ID=function(rt){var ft=rt.replace(Pe,be);return function(_t){return _t.getAttribute("id")===ft}},f.find.ID=function(rt,ft){if(typeof ft.getElementById<"u"&&S){var _t=ft.getElementById(rt);return _t?[_t]:[]}}):(f.filter.ID=function(rt){var ft=rt.replace(Pe,be);return function(_t){var yt=typeof _t.getAttributeNode<"u"&&_t.getAttributeNode("id");return yt&&yt.value===ft}},f.find.ID=function(rt,ft){if(typeof ft.getElementById<"u"&&S){var _t,yt,Lt,vt=ft.getElementById(rt);if(vt){if(_t=vt.getAttributeNode("id"),_t&&_t.value===rt)return[vt];for(Lt=ft.getElementsByName(rt),yt=0;vt=Lt[yt++];)if(_t=vt.getAttributeNode("id"),_t&&_t.value===rt)return[vt]}return[]}}),f.find.TAG=function(rt,ft){return typeof ft.getElementsByTagName<"u"?ft.getElementsByTagName(rt):ft.querySelectorAll(rt)},f.find.CLASS=function(rt,ft){if(typeof ft.getElementsByClassName<"u"&&S)return ft.getElementsByClassName(rt)},U=[],Ci(function(rt){var ft;R.appendChild(rt).innerHTML="<a id='"+lt+"' href='' disabled='disabled'></a><select id='"+lt+"-\r\\' disabled='disabled'><option selected=''></option></select>",rt.querySelectorAll("[selected]").length||U.push("\\["+Ht+"*(?:value|"+pe+")"),rt.querySelectorAll("[id~="+lt+"-]").length||U.push("~="),rt.querySelectorAll("a#"+lt+"+*").length||U.push(".#.+[+~]"),rt.querySelectorAll(":checked").length||U.push(":checked"),ft=w.createElement("input"),ft.setAttribute("type","hidden"),rt.appendChild(ft).setAttribute("name","D"),R.appendChild(rt).disabled=!0,rt.querySelectorAll(":disabled").length!==2&&U.push(":enabled",":disabled"),ft=w.createElement("input"),ft.setAttribute("name",""),rt.appendChild(ft),rt.querySelectorAll("[name='']").length||U.push("\\["+Ht+"*name"+Ht+"*="+Ht+`*(?:''|"")`)}),xt.cssHas||U.push(":has"),U=U.length&&new RegExp(U.join("|")),Yt=function(rt,ft){if(rt===ft)return v=!0,0;var _t=!rt.compareDocumentPosition-!ft.compareDocumentPosition;return _t||(_t=(rt.ownerDocument||rt)==(ft.ownerDocument||ft)?rt.compareDocumentPosition(ft):1,_t&1||!xt.sortDetached&&ft.compareDocumentPosition(rt)===_t?rt===w||rt.ownerDocument==Tt&&re.contains(Tt,rt)?-1:ft===w||ft.ownerDocument==Tt&&re.contains(Tt,ft)?1:d?je.call(d,rt)-je.call(d,ft):0:_t&4?-1:1)}),w}re.matches=function(T,G){return re(T,null,null,G)},re.matchesSelector=function(T,G){if(Wi(T),S&&!Me[G+" "]&&(!U||!U.test(G)))try{var Q=ot.call(T,G);if(Q||xt.disconnectedMatch||T.document&&T.document.nodeType!==11)return Q}catch{Me(G,!0)}return re(G,w,null,[T]).length>0},re.contains=function(T,G){return(T.ownerDocument||T)!=w&&Wi(T),m.contains(T,G)},re.attr=function(T,G){(T.ownerDocument||T)!=w&&Wi(T);var Q=f.attrHandle[G.toLowerCase()],rt=Q&&Se.call(f.attrHandle,G.toLowerCase())?Q(T,G,!S):void 0;return rt!==void 0?rt:T.getAttribute(G)},re.error=function(T){throw new Error("Syntax error, unrecognized expression: "+T)},m.uniqueSort=function(T){var G,Q=[],rt=0,ft=0;if(v=!xt.sortStable,d=!xt.sortStable&&dt.call(T,0),Fe.call(T,Yt),v){for(;G=T[ft++];)G===T[ft]&&(rt=Q.push(ft));for(;rt--;)ea.call(T,Q[rt],1)}return d=null,T},m.fn.uniqueSort=function(){return this.pushStack(m.uniqueSort(dt.apply(this)))},f=m.expr={cacheLength:50,createPseudo:ei,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(T){return T[1]=T[1].replace(Pe,be),T[3]=(T[3]||T[4]||T[5]||"").replace(Pe,be),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},CHILD:function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||re.error(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&re.error(T[0]),T},PSEUDO:function(T){var G,Q=!T[6]&&T[2];return ve.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":Q&&yi.test(Q)&&(G=xi(Q,!0))&&(G=Q.indexOf(")",Q.length-G)-Q.length)&&(T[0]=T[0].slice(0,G),T[2]=Q.slice(0,G)),T.slice(0,3))}},filter:{TAG:function(T){var G=T.replace(Pe,be).toLowerCase();return T==="*"?function(){return!0}:function(Q){return le(Q,G)}},CLASS:function(T){var G=Rt[T+" "];return G||(G=new RegExp("(^|"+Ht+")"+T+"("+Ht+"|$)"))&&Rt(T,function(Q){return G.test(typeof Q.className=="string"&&Q.className||typeof Q.getAttribute<"u"&&Q.getAttribute("class")||"")})},ATTR:function(T,G,Q){return function(rt){var ft=re.attr(rt,T);return ft==null?G==="!=":G?(ft+="",G==="="?ft===Q:G==="!="?ft!==Q:G==="^="?Q&&ft.indexOf(Q)===0:G==="*="?Q&&ft.indexOf(Q)>-1:G==="$="?Q&&ft.slice(-Q.length)===Q:G==="~="?(" "+ft.replace(Wt," ")+" ").indexOf(Q)>-1:G==="|="?ft===Q||ft.slice(0,Q.length+1)===Q+"-":!1):!0}},CHILD:function(T,G,Q,rt,ft){var _t=T.slice(0,3)!=="nth",yt=T.slice(-4)!=="last",Lt=G==="of-type";return rt===1&&ft===0?function(vt){return!!vt.parentNode}:function(vt,Zt,St){var Dt,Ft,Bt,ue,Oe,ke=_t!==yt?"nextSibling":"previousSibling",ai=vt.parentNode,Mi=Lt&&vt.nodeName.toLowerCase(),Ei=!St&&!Lt,We=!1;if(ai){if(_t){for(;ke;){for(Bt=vt;Bt=Bt[ke];)if(Lt?le(Bt,Mi):Bt.nodeType===1)return!1;Oe=ke=T==="only"&&!Oe&&"nextSibling"}return!0}if(Oe=[yt?ai.firstChild:ai.lastChild],yt&&Ei){for(Ft=ai[lt]||(ai[lt]={}),Dt=Ft[T]||[],ue=Dt[0]===it&&Dt[1],We=ue&&Dt[2],Bt=ue&&ai.childNodes[ue];Bt=++ue&&Bt&&Bt[ke]||(We=ue=0)||Oe.pop();)if(Bt.nodeType===1&&++We&&Bt===vt){Ft[T]=[it,ue,We];break}}else if(Ei&&(Ft=vt[lt]||(vt[lt]={}),Dt=Ft[T]||[],ue=Dt[0]===it&&Dt[1],We=ue),We===!1)for(;(Bt=++ue&&Bt&&Bt[ke]||(We=ue=0)||Oe.pop())&&!((Lt?le(Bt,Mi):Bt.nodeType===1)&&++We&&(Ei&&(Ft=Bt[lt]||(Bt[lt]={}),Ft[T]=[it,We]),Bt===vt)););return We-=ft,We===rt||We%rt===0&&We/rt>=0}}},PSEUDO:function(T,G){var Q,rt=f.pseudos[T]||f.setFilters[T.toLowerCase()]||re.error("unsupported pseudo: "+T);return rt[lt]?rt(G):rt.length>1?(Q=[T,T,"",G],f.setFilters.hasOwnProperty(T.toLowerCase())?ei(function(ft,_t){for(var yt,Lt=rt(ft,G),vt=Lt.length;vt--;)yt=je.call(ft,Lt[vt]),ft[yt]=!(_t[yt]=Lt[vt])}):function(ft){return rt(ft,0,Q)}):rt}},pseudos:{not:ei(function(T){var G=[],Q=[],rt=Pa(T.replace(Da,"$1"));return rt[lt]?ei(function(ft,_t,yt,Lt){for(var vt,Zt=rt(ft,null,Lt,[]),St=ft.length;St--;)(vt=Zt[St])&&(ft[St]=!(_t[St]=vt))}):function(ft,_t,yt){return G[0]=ft,rt(G,null,yt,Q),G[0]=null,!Q.pop()}}),has:ei(function(T){return function(G){return re(T,G).length>0}}),contains:ei(function(T){return T=T.replace(Pe,be),function(G){return(G.textContent||m.text(G)).indexOf(T)>-1}}),lang:ei(function(T){return ca.test(T||"")||re.error("unsupported lang: "+T),T=T.replace(Pe,be).toLowerCase(),function(G){var Q;do if(Q=S?G.lang:G.getAttribute("xml:lang")||G.getAttribute("lang"))return Q=Q.toLowerCase(),Q===T||Q.indexOf(T+"-")===0;while((G=G.parentNode)&&G.nodeType===1);return!1}}),target:function(T){var G=j.location&&j.location.hash;return G&&G.slice(1)===T.id},root:function(T){return T===R},focus:function(T){return T===ti()&&w.hasFocus()&&!!(T.type||T.href||~T.tabIndex)},enabled:yr(!1),disabled:yr(!0),checked:function(T){return le(T,"input")&&!!T.checked||le(T,"option")&&!!T.selected},selected:function(T){return T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},empty:function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},parent:function(T){return!f.pseudos.empty(T)},header:function(T){return bi.test(T.nodeName)},input:function(T){return vi.test(T.nodeName)},button:function(T){return le(T,"input")&&T.type==="button"||le(T,"button")},text:function(T){var G;return le(T,"input")&&T.type==="text"&&((G=T.getAttribute("type"))==null||G.toLowerCase()==="text")},first:ze(function(){return[0]}),last:ze(function(T,G){return[G-1]}),eq:ze(function(T,G,Q){return[Q<0?Q+G:Q]}),even:ze(function(T,G){for(var Q=0;Q<G;Q+=2)T.push(Q);return T}),odd:ze(function(T,G){for(var Q=1;Q<G;Q+=2)T.push(Q);return T}),lt:ze(function(T,G,Q){var rt;for(Q<0?rt=Q+G:Q>G?rt=G:rt=Q;--rt>=0;)T.push(rt);return T}),gt:ze(function(T,G,Q){for(var rt=Q<0?Q+G:Q;++rt<G;)T.push(rt);return T})}},f.pseudos.nth=f.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})f.pseudos[r]=_r(r);for(r in{submit:!0,reset:!0})f.pseudos[r]=pn(r);function Va(){}Va.prototype=f.filters=f.pseudos,f.setFilters=new Va;function xi(T,G){var Q,rt,ft,_t,yt,Lt,vt,Zt=Jt[T+" "];if(Zt)return G?0:Zt.slice(0);for(yt=T,Lt=[],vt=f.preFilter;yt;){(!Q||(rt=ae.exec(yt)))&&(rt&&(yt=yt.slice(rt[0].length)||yt),Lt.push(ft=[])),Q=!1,(rt=_e.exec(yt))&&(Q=rt.shift(),ft.push({value:Q,type:rt[0].replace(Da," ")}),yt=yt.slice(Q.length));for(_t in f.filter)(rt=ve[_t].exec(yt))&&(!vt[_t]||(rt=vt[_t](rt)))&&(Q=rt.shift(),ft.push({value:Q,type:_t,matches:rt}),yt=yt.slice(Q.length));if(!Q)break}return G?yt.length:yt?re.error(T):Jt(T,Lt).slice(0)}function ii(T){for(var G=0,Q=T.length,rt="";G<Q;G++)rt+=T[G].value;return rt}function mn(T,G,Q){var rt=G.dir,ft=G.next,_t=ft||rt,yt=Q&&_t==="parentNode",Lt=pt++;return G.first?function(vt,Zt,St){for(;vt=vt[rt];)if(vt.nodeType===1||yt)return T(vt,Zt,St);return!1}:function(vt,Zt,St){var Dt,Ft,Bt=[it,Lt];if(St){for(;vt=vt[rt];)if((vt.nodeType===1||yt)&&T(vt,Zt,St))return!0}else for(;vt=vt[rt];)if(vt.nodeType===1||yt)if(Ft=vt[lt]||(vt[lt]={}),ft&&le(vt,ft))vt=vt[rt]||vt;else{if((Dt=Ft[_t])&&Dt[0]===it&&Dt[1]===Lt)return Bt[2]=Dt[2];if(Ft[_t]=Bt,Bt[2]=T(vt,Zt,St))return!0}return!1}}function $e(T){return T.length>1?function(G,Q,rt){for(var ft=T.length;ft--;)if(!T[ft](G,Q,rt))return!1;return!0}:T[0]}function Sr(T,G,Q){for(var rt=0,ft=G.length;rt<ft;rt++)re(T,G[rt],Q);return Q}function ui(T,G,Q,rt,ft){for(var _t,yt=[],Lt=0,vt=T.length,Zt=G!=null;Lt<vt;Lt++)(_t=T[Lt])&&(!Q||Q(_t,rt,ft))&&(yt.push(_t),Zt&&G.push(Lt));return yt}function Ki(T,G,Q,rt,ft,_t){return rt&&!rt[lt]&&(rt=Ki(rt)),ft&&!ft[lt]&&(ft=Ki(ft,_t)),ei(function(yt,Lt,vt,Zt){var St,Dt,Ft,Bt,ue=[],Oe=[],ke=Lt.length,ai=yt||Sr(G||"*",vt.nodeType?[vt]:vt,[]),Mi=T&&(yt||!G)?ui(ai,ue,T,vt,Zt):ai;if(Q?(Bt=ft||(yt?T:ke||rt)?[]:Lt,Q(Mi,Bt,vt,Zt)):Bt=Mi,rt)for(St=ui(Bt,Oe),rt(St,[],vt,Zt),Dt=St.length;Dt--;)(Ft=St[Dt])&&(Bt[Oe[Dt]]=!(Mi[Oe[Dt]]=Ft));if(yt){if(ft||T){if(ft){for(St=[],Dt=Bt.length;Dt--;)(Ft=Bt[Dt])&&St.push(Mi[Dt]=Ft);ft(null,Bt=[],St,Zt)}for(Dt=Bt.length;Dt--;)(Ft=Bt[Dt])&&(St=ft?je.call(yt,Ft):ue[Dt])>-1&&(yt[St]=!(Lt[St]=Ft))}}else Bt=ui(Bt===Lt?Bt.splice(ke,Bt.length):Bt),ft?ft(null,Lt,Bt,Zt):y.apply(Lt,Bt)})}function $i(T){for(var G,Q,rt,ft=T.length,_t=f.relative[T[0].type],yt=_t||f.relative[" "],Lt=_t?1:0,vt=mn(function(Dt){return Dt===G},yt,!0),Zt=mn(function(Dt){return je.call(G,Dt)>-1},yt,!0),St=[function(Dt,Ft,Bt){var ue=!_t&&(Bt||Ft!=c)||((G=Ft).nodeType?vt(Dt,Ft,Bt):Zt(Dt,Ft,Bt));return G=null,ue}];Lt<ft;Lt++)if(Q=f.relative[T[Lt].type])St=[mn($e(St),Q)];else{if(Q=f.filter[T[Lt].type].apply(null,T[Lt].matches),Q[lt]){for(rt=++Lt;rt<ft&&!f.relative[T[rt].type];rt++);return Ki(Lt>1&&$e(St),Lt>1&&ii(T.slice(0,Lt-1).concat({value:T[Lt-2].type===" "?"*":""})).replace(Da,"$1"),Q,Lt<rt&&$i(T.slice(Lt,rt)),rt<ft&&$i(T=T.slice(rt)),rt<ft&&ii(T))}St.push(Q)}return $e(St)}function Zn(T,G){var Q=G.length>0,rt=T.length>0,ft=function(_t,yt,Lt,vt,Zt){var St,Dt,Ft,Bt=0,ue="0",Oe=_t&&[],ke=[],ai=c,Mi=_t||rt&&f.find.TAG("*",Zt),Ei=it+=ai==null?1:Math.random()||.1,We=Mi.length;for(Zt&&(c=yt==w||yt||Zt);ue!==We&&(St=Mi[ue])!=null;ue++){if(rt&&St){for(Dt=0,!yt&&St.ownerDocument!=w&&(Wi(St),Lt=!S);Ft=T[Dt++];)if(Ft(St,yt||w,Lt)){y.call(vt,St);break}Zt&&(it=Ei)}Q&&((St=!Ft&&St)&&Bt--,_t&&Oe.push(St))}if(Bt+=ue,Q&&ue!==Bt){for(Dt=0;Ft=G[Dt++];)Ft(Oe,ke,yt,Lt);if(_t){if(Bt>0)for(;ue--;)Oe[ue]||ke[ue]||(ke[ue]=Ke.call(vt));ke=ui(ke)}y.apply(vt,ke),Zt&&!_t&&ke.length>0&&Bt+G.length>1&&m.uniqueSort(vt)}return Zt&&(it=Ei,c=ai),Oe};return Q?ei(ft):ft}function Pa(T,G){var Q,rt=[],ft=[],_t=Gt[T+" "];if(!_t){for(G||(G=xi(T)),Q=G.length;Q--;)_t=$i(G[Q]),_t[lt]?rt.push(_t):ft.push(_t);_t=Gt(T,Zn(ft,rt)),_t.selector=T}return _t}function gn(T,G,Q,rt){var ft,_t,yt,Lt,vt,Zt=typeof T=="function"&&T,St=!rt&&xi(T=Zt.selector||T);if(Q=Q||[],St.length===1){if(_t=St[0]=St[0].slice(0),_t.length>2&&(yt=_t[0]).type==="ID"&&G.nodeType===9&&S&&f.relative[_t[1].type]){if(G=(f.find.ID(yt.matches[0].replace(Pe,be),G)||[])[0],G)Zt&&(G=G.parentNode);else return Q;T=T.slice(_t.shift().value.length)}for(ft=ve.needsContext.test(T)?0:_t.length;ft--&&(yt=_t[ft],!f.relative[Lt=yt.type]);)if((vt=f.find[Lt])&&(rt=vt(yt.matches[0].replace(Pe,be),Qe.test(_t[0].type)&&Ba(G.parentNode)||G))){if(_t.splice(ft,1),T=rt.length&&ii(_t),!T)return y.apply(Q,rt),Q;break}}return(Zt||Pa(T,St))(rt,G,!S,Q,!G||Qe.test(T)&&Ba(G.parentNode)||G),Q}xt.sortStable=lt.split("").sort(Yt).join("")===lt,Wi(),xt.sortDetached=Ci(function(T){return T.compareDocumentPosition(w.createElement("fieldset"))&1}),m.find=re,m.expr[":"]=m.expr.pseudos,m.unique=m.uniqueSort,re.compile=Pa,re.select=gn,re.setDocument=Wi,re.tokenize=xi,re.escape=m.escapeSelector,re.getText=m.text,re.isXML=m.isXMLDoc,re.selectors=m.expr,re.support=m.support,re.uniqueSort=m.uniqueSort})();var Pt=function(r,f,c){for(var d=[],v=c!==void 0;(r=r[f])&&r.nodeType!==9;)if(r.nodeType===1){if(v&&m(r).is(c))break;d.push(r)}return d},de=function(r,f){for(var c=[];r;r=r.nextSibling)r.nodeType===1&&r!==f&&c.push(r);return c},Ee=m.expr.match.needsContext,qe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ye(r,f,c){return Nt(f)?m.grep(r,function(d,v){return!!f.call(d,v,d)!==c}):f.nodeType?m.grep(r,function(d){return d===f!==c}):typeof f!="string"?m.grep(r,function(d){return je.call(f,d)>-1!==c}):m.filter(f,r,c)}m.filter=function(r,f,c){var d=f[0];return c&&(r=":not("+r+")"),f.length===1&&d.nodeType===1?m.find.matchesSelector(d,r)?[d]:[]:m.find.matches(r,m.grep(f,function(v){return v.nodeType===1}))},m.fn.extend({find:function(r){var f,c,d=this.length,v=this;if(typeof r!="string")return this.pushStack(m(r).filter(function(){for(f=0;f<d;f++)if(m.contains(v[f],this))return!0}));for(c=this.pushStack([]),f=0;f<d;f++)m.find(r,v[f],c);return d>1?m.uniqueSort(c):c},filter:function(r){return this.pushStack(ye(this,r||[],!1))},not:function(r){return this.pushStack(ye(this,r||[],!0))},is:function(r){return!!ye(this,typeof r=="string"&&Ee.test(r)?m(r):r||[],!1).length}});var ne,Xt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Di=m.fn.init=function(r,f,c){var d,v;if(!r)return this;if(c=c||ne,typeof r=="string")if(r[0]==="<"&&r[r.length-1]===">"&&r.length>=3?d=[null,r,null]:d=Xt.exec(r),d&&(d[1]||!f))if(d[1]){if(f=f instanceof m?f[0]:f,m.merge(this,m.parseHTML(d[1],f&&f.nodeType?f.ownerDocument||f:Ot,!0)),qe.test(d[1])&&m.isPlainObject(f))for(d in f)Nt(this[d])?this[d](f[d]):this.attr(d,f[d]);return this}else return v=Ot.getElementById(d[2]),v&&(this[0]=v,this.length=1),this;else return!f||f.jquery?(f||c).find(r):this.constructor(f).find(r);else{if(r.nodeType)return this[0]=r,this.length=1,this;if(Nt(r))return c.ready!==void 0?c.ready(r):r(m)}return m.makeArray(r,this)};Di.prototype=m.fn,ne=m(Ot);var ji=/^(?:parents|prev(?:Until|All))/,Kn={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(r){var f=m(r,this),c=f.length;return this.filter(function(){for(var d=0;d<c;d++)if(m.contains(this,f[d]))return!0})},closest:function(r,f){var c,d=0,v=this.length,y=[],w=typeof r!="string"&&m(r);if(!Ee.test(r)){for(;d<v;d++)for(c=this[d];c&&c!==f;c=c.parentNode)if(c.nodeType<11&&(w?w.index(c)>-1:c.nodeType===1&&m.find.matchesSelector(c,r))){y.push(c);break}}return this.pushStack(y.length>1?m.uniqueSort(y):y)},index:function(r){return r?typeof r=="string"?je.call(m(r),this[0]):je.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,f){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(r,f))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}});function Xa(r,f){for(;(r=r[f])&&r.nodeType!==1;);return r}m.each({parent:function(r){var f=r.parentNode;return f&&f.nodeType!==11?f:null},parents:function(r){return Pt(r,"parentNode")},parentsUntil:function(r,f,c){return Pt(r,"parentNode",c)},next:function(r){return Xa(r,"nextSibling")},prev:function(r){return Xa(r,"previousSibling")},nextAll:function(r){return Pt(r,"nextSibling")},prevAll:function(r){return Pt(r,"previousSibling")},nextUntil:function(r,f,c){return Pt(r,"nextSibling",c)},prevUntil:function(r,f,c){return Pt(r,"previousSibling",c)},siblings:function(r){return de((r.parentNode||{}).firstChild,r)},children:function(r){return de(r.firstChild)},contents:function(r){return r.contentDocument!=null&&mt(r.contentDocument)?r.contentDocument:(le(r,"template")&&(r=r.content||r),m.merge([],r.childNodes))}},function(r,f){m.fn[r]=function(c,d){var v=m.map(this,f,c);return r.slice(-5)!=="Until"&&(d=c),d&&typeof d=="string"&&(v=m.filter(d,v)),this.length>1&&(Kn[r]||m.uniqueSort(v),ji.test(r)&&v.reverse()),this.pushStack(v)}});var Ge=/[^\x20\t\r\n\f]+/g;function Ra(r){var f={};return m.each(r.match(Ge)||[],function(c,d){f[d]=!0}),f}m.Callbacks=function(r){r=typeof r=="string"?Ra(r):m.extend({},r);var f,c,d,v,y=[],w=[],R=-1,S=function(){for(v=v||r.once,d=f=!0;w.length;R=-1)for(c=w.shift();++R<y.length;)y[R].apply(c[0],c[1])===!1&&r.stopOnFalse&&(R=y.length,c=!1);r.memory||(c=!1),f=!1,v&&(c?y=[]:y="")},U={add:function(){return y&&(c&&!f&&(R=y.length-1,w.push(c)),function ot(lt){m.each(lt,function(it,pt){Nt(pt)?(!r.unique||!U.has(pt))&&y.push(pt):pt&&pt.length&&Si(pt)!=="string"&&ot(pt)})}(arguments),c&&!f&&S()),this},remove:function(){return m.each(arguments,function(ot,lt){for(var it;(it=m.inArray(lt,y,it))>-1;)y.splice(it,1),it<=R&&R--}),this},has:function(ot){return ot?m.inArray(ot,y)>-1:y.length>0},empty:function(){return y&&(y=[]),this},disable:function(){return v=w=[],y=c="",this},disabled:function(){return!y},lock:function(){return v=w=[],!c&&!f&&(y=c=""),this},locked:function(){return!!v},fireWith:function(ot,lt){return v||(lt=lt||[],lt=[ot,lt.slice?lt.slice():lt],w.push(lt),f||S()),this},fire:function(){return U.fireWith(this,arguments),this},fired:function(){return!!d}};return U};function qi(r){return r}function Ja(r){throw r}function wn(r,f,c,d){var v;try{r&&Nt(v=r.promise)?v.call(r).done(f).fail(c):r&&Nt(v=r.then)?v.call(r,f,c):f.apply(void 0,[r].slice(d))}catch(y){c.apply(void 0,[y])}}m.extend({Deferred:function(r){var f=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],c="pending",d={state:function(){return c},always:function(){return v.done(arguments).fail(arguments),this},catch:function(y){return d.then(null,y)},pipe:function(){var y=arguments;return m.Deferred(function(w){m.each(f,function(R,S){var U=Nt(y[S[4]])&&y[S[4]];v[S[1]](function(){var ot=U&&U.apply(this,arguments);ot&&Nt(ot.promise)?ot.promise().progress(w.notify).done(w.resolve).fail(w.reject):w[S[0]+"With"](this,U?[ot]:arguments)})}),y=null}).promise()},then:function(y,w,R){var S=0;function U(ot,lt,it,pt){return function(){var Rt=this,Jt=arguments,Gt=function(){var Yt,pe;if(!(ot<S)){if(Yt=it.apply(Rt,Jt),Yt===lt.promise())throw new TypeError("Thenable self-resolution");pe=Yt&&(typeof Yt=="object"||typeof Yt=="function")&&Yt.then,Nt(pe)?pt?pe.call(Yt,U(S,lt,qi,pt),U(S,lt,Ja,pt)):(S++,pe.call(Yt,U(S,lt,qi,pt),U(S,lt,Ja,pt),U(S,lt,qi,lt.notifyWith))):(it!==qi&&(Rt=void 0,Jt=[Yt]),(pt||lt.resolveWith)(Rt,Jt))}},Me=pt?Gt:function(){try{Gt()}catch(Yt){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(Yt,Me.error),ot+1>=S&&(it!==Ja&&(Rt=void 0,Jt=[Yt]),lt.rejectWith(Rt,Jt))}};ot?Me():(m.Deferred.getErrorHook?Me.error=m.Deferred.getErrorHook():m.Deferred.getStackHook&&(Me.error=m.Deferred.getStackHook()),j.setTimeout(Me))}}return m.Deferred(function(ot){f[0][3].add(U(0,ot,Nt(R)?R:qi,ot.notifyWith)),f[1][3].add(U(0,ot,Nt(y)?y:qi)),f[2][3].add(U(0,ot,Nt(w)?w:Ja))}).promise()},promise:function(y){return y!=null?m.extend(y,d):d}},v={};return m.each(f,function(y,w){var R=w[2],S=w[5];d[w[1]]=R.add,S&&R.add(function(){c=S},f[3-y][2].disable,f[3-y][3].disable,f[0][2].lock,f[0][3].lock),R.add(w[3].fire),v[w[0]]=function(){return v[w[0]+"With"](this===v?void 0:this,arguments),this},v[w[0]+"With"]=R.fireWith}),d.promise(v),r&&r.call(v,v),v},when:function(r){var f=arguments.length,c=f,d=Array(c),v=dt.call(arguments),y=m.Deferred(),w=function(R){return function(S){d[R]=this,v[R]=arguments.length>1?dt.call(arguments):S,--f||y.resolveWith(d,v)}};if(f<=1&&(wn(r,y.done(w(c)).resolve,y.reject,!f),y.state()==="pending"||Nt(v[c]&&v[c].then)))return y.then();for(;c--;)wn(v[c],w(c),y.reject);return y.promise()}});var Ln=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(r,f){j.console&&j.console.warn&&r&&Ln.test(r.name)&&j.console.warn("jQuery.Deferred exception: "+r.message,r.stack,f)},m.readyException=function(r){j.setTimeout(function(){throw r})};var Fa=m.Deferred();m.fn.ready=function(r){return Fa.then(r).catch(function(f){m.readyException(f)}),this},m.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(r!==!0&&--m.readyWait>0)&&Fa.resolveWith(Ot,[m]))}}),m.ready.then=Fa.then;function ia(){Ot.removeEventListener("DOMContentLoaded",ia),j.removeEventListener("load",ia),m.ready()}Ot.readyState==="complete"||Ot.readyState!=="loading"&&!Ot.documentElement.doScroll?j.setTimeout(m.ready):(Ot.addEventListener("DOMContentLoaded",ia),j.addEventListener("load",ia));var Li=function(r,f,c,d,v,y,w){var R=0,S=r.length,U=c==null;if(Si(c)==="object"){v=!0;for(R in c)Li(r,f,R,c[R],!0,y,w)}else if(d!==void 0&&(v=!0,Nt(d)||(w=!0),U&&(w?(f.call(r,d),f=null):(U=f,f=function(ot,lt,it){return U.call(m(ot),it)})),f))for(;R<S;R++)f(r[R],c,w?d:d.call(r[R],R,f(r[R],c)));return v?r:U?f.call(r):S?f(r[0],c):y},Qa=/^-ms-/,tn=/-([a-z])/g;function $n(r,f){return f.toUpperCase()}function gi(r){return r.replace(Qa,"ms-").replace(tn,$n)}var Ia=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function za(){this.expando=m.expando+za.uid++}za.uid=1,za.prototype={cache:function(r){var f=r[this.expando];return f||(f={},Ia(r)&&(r.nodeType?r[this.expando]=f:Object.defineProperty(r,this.expando,{value:f,configurable:!0}))),f},set:function(r,f,c){var d,v=this.cache(r);if(typeof f=="string")v[gi(f)]=c;else for(d in f)v[gi(d)]=f[d];return v},get:function(r,f){return f===void 0?this.cache(r):r[this.expando]&&r[this.expando][gi(f)]},access:function(r,f,c){return f===void 0||f&&typeof f=="string"&&c===void 0?this.get(r,f):(this.set(r,f,c),c!==void 0?c:f)},remove:function(r,f){var c,d=r[this.expando];if(d!==void 0){if(f!==void 0)for(Array.isArray(f)?f=f.map(gi):(f=gi(f),f=f in d?[f]:f.match(Ge)||[]),c=f.length;c--;)delete d[f[c]];(f===void 0||m.isEmptyObject(d))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var f=r[this.expando];return f!==void 0&&!m.isEmptyObject(f)}};var Ct=new za,Ze=new za,Yn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Br=/[A-Z]/g;function Xn(r){return r==="true"?!0:r==="false"?!1:r==="null"?null:r===+r+""?+r:Yn.test(r)?JSON.parse(r):r}function en(r,f,c){var d;if(c===void 0&&r.nodeType===1)if(d="data-"+f.replace(Br,"-$&").toLowerCase(),c=r.getAttribute(d),typeof c=="string"){try{c=Xn(c)}catch{}Ze.set(r,f,c)}else c=void 0;return c}m.extend({hasData:function(r){return Ze.hasData(r)||Ct.hasData(r)},data:function(r,f,c){return Ze.access(r,f,c)},removeData:function(r,f){Ze.remove(r,f)},_data:function(r,f,c){return Ct.access(r,f,c)},_removeData:function(r,f){Ct.remove(r,f)}}),m.fn.extend({data:function(r,f){var c,d,v,y=this[0],w=y&&y.attributes;if(r===void 0){if(this.length&&(v=Ze.get(y),y.nodeType===1&&!Ct.get(y,"hasDataAttrs"))){for(c=w.length;c--;)w[c]&&(d=w[c].name,d.indexOf("data-")===0&&(d=gi(d.slice(5)),en(y,d,v[d])));Ct.set(y,"hasDataAttrs",!0)}return v}return typeof r=="object"?this.each(function(){Ze.set(this,r)}):Li(this,function(R){var S;if(y&&R===void 0)return S=Ze.get(y,r),S!==void 0||(S=en(y,r),S!==void 0)?S:void 0;this.each(function(){Ze.set(this,r,R)})},null,f,arguments.length>1,null,!0)},removeData:function(r){return this.each(function(){Ze.remove(this,r)})}}),m.extend({queue:function(r,f,c){var d;if(r)return f=(f||"fx")+"queue",d=Ct.get(r,f),c&&(!d||Array.isArray(c)?d=Ct.access(r,f,m.makeArray(c)):d.push(c)),d||[]},dequeue:function(r,f){f=f||"fx";var c=m.queue(r,f),d=c.length,v=c.shift(),y=m._queueHooks(r,f),w=function(){m.dequeue(r,f)};v==="inprogress"&&(v=c.shift(),d--),v&&(f==="fx"&&c.unshift("inprogress"),delete y.stop,v.call(r,w,y)),!d&&y&&y.empty.fire()},_queueHooks:function(r,f){var c=f+"queueHooks";return Ct.get(r,c)||Ct.access(r,c,{empty:m.Callbacks("once memory").add(function(){Ct.remove(r,[f+"queue",c])})})}}),m.fn.extend({queue:function(r,f){var c=2;return typeof r!="string"&&(f=r,r="fx",c--),arguments.length<c?m.queue(this[0],r):f===void 0?this:this.each(function(){var d=m.queue(this,r,f);m._queueHooks(this,r),r==="fx"&&d[0]!=="inprogress"&&m.dequeue(this,r)})},dequeue:function(r){return this.each(function(){m.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,f){var c,d=1,v=m.Deferred(),y=this,w=this.length,R=function(){--d||v.resolveWith(y,[y])};for(typeof r!="string"&&(f=r,r=void 0),r=r||"fx";w--;)c=Ct.get(y[w],r+"queueHooks"),c&&c.empty&&(d++,c.empty.add(R));return R(),v.promise(f)}});var kn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ya=new RegExp("^(?:([+-])=|)("+kn+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],Gi=Ot.documentElement,aa=function(r){return m.contains(r.ownerDocument,r)},Oi={composed:!0};Gi.getRootNode&&(aa=function(r){return m.contains(r.ownerDocument,r)||r.getRootNode(Oi)===r.ownerDocument});var Na=function(r,f){return r=f||r,r.style.display==="none"||r.style.display===""&&aa(r)&&m.css(r,"display")==="none"};function an(r,f,c,d){var v,y,w=20,R=d?function(){return d.cur()}:function(){return m.css(r,f,"")},S=R(),U=c&&c[3]||(m.cssNumber[f]?"":"px"),ot=r.nodeType&&(m.cssNumber[f]||U!=="px"&&+S)&&ya.exec(m.css(r,f));if(ot&&ot[3]!==U){for(S=S/2,U=U||ot[3],ot=+S||1;w--;)m.style(r,f,ot+U),(1-y)*(1-(y=R()/S||.5))<=0&&(w=0),ot=ot/y;ot=ot*2,m.style(r,f,ot+U),c=c||[]}return c&&(ot=+ot||+S||0,v=c[1]?ot+(c[1]+1)*c[2]:+c[2],d&&(d.unit=U,d.start=ot,d.end=v)),v}var Cn={};function Jn(r){var f,c=r.ownerDocument,d=r.nodeName,v=Cn[d];return v||(f=c.body.appendChild(c.createElement(d)),v=m.css(f,"display"),f.parentNode.removeChild(f),v==="none"&&(v="block"),Cn[d]=v,v)}function Zi(r,f){for(var c,d,v=[],y=0,w=r.length;y<w;y++)d=r[y],d.style&&(c=d.style.display,f?(c==="none"&&(v[y]=Ct.get(d,"display")||null,v[y]||(d.style.display="")),d.style.display===""&&Na(d)&&(v[y]=Jn(d))):c!=="none"&&(v[y]="none",Ct.set(d,"display",c)));for(y=0;y<w;y++)v[y]!=null&&(r[y].style.display=v[y]);return r}m.fn.extend({show:function(){return Zi(this,!0)},hide:function(){return Zi(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){Na(this)?m(this).show():m(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,Qn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var r=Ot.createDocumentFragment(),f=r.appendChild(Ot.createElement("div")),c=Ot.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),f.appendChild(c),xt.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,f.innerHTML="<textarea>x</textarea>",xt.noCloneChecked=!!f.cloneNode(!0).lastChild.defaultValue,f.innerHTML="<option></option>",xt.option=!!f.lastChild})();var ri={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ri.tbody=ri.tfoot=ri.colgroup=ri.caption=ri.thead,ri.th=ri.td,xt.option||(ri.optgroup=ri.option=[1,"<select multiple='multiple'>","</select>"]);function Ue(r,f){var c;return typeof r.getElementsByTagName<"u"?c=r.getElementsByTagName(f||"*"):typeof r.querySelectorAll<"u"?c=r.querySelectorAll(f||"*"):c=[],f===void 0||f&&le(r,f)?m.merge([r],c):c}function nn(r,f){for(var c=0,d=r.length;c<d;c++)Ct.set(r[c],"globalEval",!f||Ct.get(f[c],"globalEval"))}var Mn=/<|&#?\w+;/;function er(r,f,c,d,v){for(var y,w,R,S,U,ot,lt=f.createDocumentFragment(),it=[],pt=0,Rt=r.length;pt<Rt;pt++)if(y=r[pt],y||y===0)if(Si(y)==="object")m.merge(it,y.nodeType?[y]:y);else if(!Mn.test(y))it.push(f.createTextNode(y));else{for(w=w||lt.appendChild(f.createElement("div")),R=(Qn.exec(y)||["",""])[1].toLowerCase(),S=ri[R]||ri._default,w.innerHTML=S[1]+m.htmlPrefilter(y)+S[2],ot=S[0];ot--;)w=w.lastChild;m.merge(it,w.childNodes),w=lt.firstChild,w.textContent=""}for(lt.textContent="",pt=0;y=it[pt++];){if(d&&m.inArray(y,d)>-1){v&&v.push(y);continue}if(U=aa(y),w=Ue(lt.appendChild(y),"script"),U&&nn(w),c)for(ot=0;y=w[ot++];)tr.test(y.type||"")&&c.push(y)}return lt}var ir=/^([^.]*)(?:\.(.+)|)/;function na(){return!0}function va(){return!1}function oi(r,f,c,d,v,y){var w,R;if(typeof f=="object"){typeof c!="string"&&(d=d||c,c=void 0);for(R in f)oi(r,R,c,d,f[R],y);return r}if(d==null&&v==null?(v=c,d=c=void 0):v==null&&(typeof c=="string"?(v=d,d=void 0):(v=d,d=c,c=void 0)),v===!1)v=va;else if(!v)return r;return y===1&&(w=v,v=function(S){return m().off(S),w.apply(this,arguments)},v.guid=w.guid||(w.guid=m.guid++)),r.each(function(){m.event.add(this,f,v,d,c)})}m.event={global:{},add:function(r,f,c,d,v){var y,w,R,S,U,ot,lt,it,pt,Rt,Jt,Gt=Ct.get(r);if(Ia(r))for(c.handler&&(y=c,c=y.handler,v=y.selector),v&&m.find.matchesSelector(Gi,v),c.guid||(c.guid=m.guid++),(S=Gt.events)||(S=Gt.events=Object.create(null)),(w=Gt.handle)||(w=Gt.handle=function(Me){return typeof m<"u"&&m.event.triggered!==Me.type?m.event.dispatch.apply(r,arguments):void 0}),f=(f||"").match(Ge)||[""],U=f.length;U--;)R=ir.exec(f[U])||[],pt=Jt=R[1],Rt=(R[2]||"").split(".").sort(),pt&&(lt=m.event.special[pt]||{},pt=(v?lt.delegateType:lt.bindType)||pt,lt=m.event.special[pt]||{},ot=m.extend({type:pt,origType:Jt,data:d,handler:c,guid:c.guid,selector:v,needsContext:v&&m.expr.match.needsContext.test(v),namespace:Rt.join(".")},y),(it=S[pt])||(it=S[pt]=[],it.delegateCount=0,(!lt.setup||lt.setup.call(r,d,Rt,w)===!1)&&r.addEventListener&&r.addEventListener(pt,w)),lt.add&&(lt.add.call(r,ot),ot.handler.guid||(ot.handler.guid=c.guid)),v?it.splice(it.delegateCount++,0,ot):it.push(ot),m.event.global[pt]=!0)},remove:function(r,f,c,d,v){var y,w,R,S,U,ot,lt,it,pt,Rt,Jt,Gt=Ct.hasData(r)&&Ct.get(r);if(!(!Gt||!(S=Gt.events))){for(f=(f||"").match(Ge)||[""],U=f.length;U--;){if(R=ir.exec(f[U])||[],pt=Jt=R[1],Rt=(R[2]||"").split(".").sort(),!pt){for(pt in S)m.event.remove(r,pt+f[U],c,d,!0);continue}for(lt=m.event.special[pt]||{},pt=(d?lt.delegateType:lt.bindType)||pt,it=S[pt]||[],R=R[2]&&new RegExp("(^|\\.)"+Rt.join("\\.(?:.*\\.|)")+"(\\.|$)"),w=y=it.length;y--;)ot=it[y],(v||Jt===ot.origType)&&(!c||c.guid===ot.guid)&&(!R||R.test(ot.namespace))&&(!d||d===ot.selector||d==="**"&&ot.selector)&&(it.splice(y,1),ot.selector&&it.delegateCount--,lt.remove&&lt.remove.call(r,ot));w&&!it.length&&((!lt.teardown||lt.teardown.call(r,Rt,Gt.handle)===!1)&&m.removeEvent(r,pt,Gt.handle),delete S[pt])}m.isEmptyObject(S)&&Ct.remove(r,"handle events")}},dispatch:function(r){var f,c,d,v,y,w,R=new Array(arguments.length),S=m.event.fix(r),U=(Ct.get(this,"events")||Object.create(null))[S.type]||[],ot=m.event.special[S.type]||{};for(R[0]=S,f=1;f<arguments.length;f++)R[f]=arguments[f];if(S.delegateTarget=this,!(ot.preDispatch&&ot.preDispatch.call(this,S)===!1)){for(w=m.event.handlers.call(this,S,U),f=0;(v=w[f++])&&!S.isPropagationStopped();)for(S.currentTarget=v.elem,c=0;(y=v.handlers[c++])&&!S.isImmediatePropagationStopped();)(!S.rnamespace||y.namespace===!1||S.rnamespace.test(y.namespace))&&(S.handleObj=y,S.data=y.data,d=((m.event.special[y.origType]||{}).handle||y.handler).apply(v.elem,R),d!==void 0&&(S.result=d)===!1&&(S.preventDefault(),S.stopPropagation()));return ot.postDispatch&&ot.postDispatch.call(this,S),S.result}},handlers:function(r,f){var c,d,v,y,w,R=[],S=f.delegateCount,U=r.target;if(S&&U.nodeType&&!(r.type==="click"&&r.button>=1)){for(;U!==this;U=U.parentNode||this)if(U.nodeType===1&&!(r.type==="click"&&U.disabled===!0)){for(y=[],w={},c=0;c<S;c++)d=f[c],v=d.selector+" ",w[v]===void 0&&(w[v]=d.needsContext?m(v,this).index(U)>-1:m.find(v,this,null,[U]).length),w[v]&&y.push(d);y.length&&R.push({elem:U,handlers:y})}}return U=this,S<f.length&&R.push({elem:U,handlers:f.slice(S)}),R},addProp:function(r,f){Object.defineProperty(m.Event.prototype,r,{enumerable:!0,configurable:!0,get:Nt(f)?function(){if(this.originalEvent)return f(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(c){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(r){return r[m.expando]?r:new m.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var f=this||r;return ja.test(f.type)&&f.click&&le(f,"input")&&Mt(f,"click",!0),!1},trigger:function(r){var f=this||r;return ja.test(f.type)&&f.click&&le(f,"input")&&Mt(f,"click"),!0},_default:function(r){var f=r.target;return ja.test(f.type)&&f.click&&le(f,"input")&&Ct.get(f,"click")||le(f,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};function Mt(r,f,c){if(!c){Ct.get(r,f)===void 0&&m.event.add(r,f,na);return}Ct.set(r,f,!1),m.event.add(r,f,{namespace:!1,handler:function(d){var v,y=Ct.get(this,f);if(d.isTrigger&1&&this[f]){if(y)(m.event.special[f]||{}).delegateType&&d.stopPropagation();else if(y=dt.call(arguments),Ct.set(this,f,y),this[f](),v=Ct.get(this,f),Ct.set(this,f,!1),y!==v)return d.stopImmediatePropagation(),d.preventDefault(),v}else y&&(Ct.set(this,f,m.event.trigger(y[0],y.slice(1),this)),d.stopPropagation(),d.isImmediatePropagationStopped=na)}})}m.removeEvent=function(r,f,c){r.removeEventListener&&r.removeEventListener(f,c)},m.Event=function(r,f){if(!(this instanceof m.Event))return new m.Event(r,f);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?na:va,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,f&&m.extend(this,f),this.timeStamp=r&&r.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=na,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=na,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=na,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(r,f){function c(d){if(Ot.documentMode){var v=Ct.get(this,"handle"),y=m.event.fix(d);y.type=d.type==="focusin"?"focus":"blur",y.isSimulated=!0,v(d),y.target===y.currentTarget&&v(y)}else m.event.simulate(f,d.target,m.event.fix(d))}m.event.special[r]={setup:function(){var d;if(Mt(this,r,!0),Ot.documentMode)d=Ct.get(this,f),d||this.addEventListener(f,c),Ct.set(this,f,(d||0)+1);else return!1},trigger:function(){return Mt(this,r),!0},teardown:function(){var d;if(Ot.documentMode)d=Ct.get(this,f)-1,d?Ct.set(this,f,d):(this.removeEventListener(f,c),Ct.remove(this,f));else return!1},_default:function(d){return Ct.get(d.target,r)},delegateType:f},m.event.special[f]={setup:function(){var d=this.ownerDocument||this.document||this,v=Ot.documentMode?this:d,y=Ct.get(v,f);y||(Ot.documentMode?this.addEventListener(f,c):d.addEventListener(r,c,!0)),Ct.set(v,f,(y||0)+1)},teardown:function(){var d=this.ownerDocument||this.document||this,v=Ot.documentMode?this:d,y=Ct.get(v,f)-1;y?Ct.set(v,f,y):(Ot.documentMode?this.removeEventListener(f,c):d.removeEventListener(r,c,!0),Ct.remove(v,f))}}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,f){m.event.special[r]={delegateType:f,bindType:f,handle:function(c){var d,v=this,y=c.relatedTarget,w=c.handleObj;return(!y||y!==v&&!m.contains(v,y))&&(c.type=w.origType,d=w.handler.apply(this,arguments),c.type=f),d}}}),m.fn.extend({on:function(r,f,c,d){return oi(this,r,f,c,d)},one:function(r,f,c,d){return oi(this,r,f,c,d,1)},off:function(r,f,c){var d,v;if(r&&r.preventDefault&&r.handleObj)return d=r.handleObj,m(r.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if(typeof r=="object"){for(v in r)this.off(v,f,r[v]);return this}return(f===!1||typeof f=="function")&&(c=f,f=void 0),c===!1&&(c=va),this.each(function(){m.event.remove(this,r,c,f)})}});var En=/<script|<style|<link/i,ar=/checked\s*(?:[^=]|=\s*.checked.)/i,nr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Bn(r,f){return le(r,"table")&&le(f.nodeType!==11?f:f.firstChild,"tr")&&m(r).children("tbody")[0]||r}function rn(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function rr(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function ra(r,f){var c,d,v,y,w,R,S;if(f.nodeType===1){if(Ct.hasData(r)&&(y=Ct.get(r),S=y.events,S)){Ct.remove(f,"handle events");for(v in S)for(c=0,d=S[v].length;c<d;c++)m.event.add(f,v,S[v][c])}Ze.hasData(r)&&(w=Ze.access(r),R=m.extend({},w),Ze.set(f,R))}}function or(r,f){var c=f.nodeName.toLowerCase();c==="input"&&ja.test(r.type)?f.checked=r.checked:(c==="input"||c==="textarea")&&(f.defaultValue=r.defaultValue)}function ba(r,f,c,d){f=Qt(f);var v,y,w,R,S,U,ot=0,lt=r.length,it=lt-1,pt=f[0],Rt=Nt(pt);if(Rt||lt>1&&typeof pt=="string"&&!xt.checkClone&&ar.test(pt))return r.each(function(Jt){var Gt=r.eq(Jt);Rt&&(f[0]=pt.call(this,Jt,Gt.html())),ba(Gt,f,c,d)});if(lt&&(v=er(f,r[0].ownerDocument,!1,r,d),y=v.firstChild,v.childNodes.length===1&&(v=y),y||d)){for(w=m.map(Ue(v,"script"),rn),R=w.length;ot<lt;ot++)S=v,ot!==it&&(S=m.clone(S,!0,!0),R&&m.merge(w,Ue(S,"script"))),c.call(r[ot],S,ot);if(R)for(U=w[w.length-1].ownerDocument,m.map(w,rr),ot=0;ot<R;ot++)S=w[ot],tr.test(S.type||"")&&!Ct.access(S,"globalEval")&&m.contains(U,S)&&(S.src&&(S.type||"").toLowerCase()!=="module"?m._evalUrl&&!S.noModule&&m._evalUrl(S.src,{nonce:S.nonce||S.getAttribute("nonce")},U):Ka(S.textContent.replace(nr,""),S,U))}return r}function sr(r,f,c){for(var d,v=f?m.filter(f,r):r,y=0;(d=v[y])!=null;y++)!c&&d.nodeType===1&&m.cleanData(Ue(d)),d.parentNode&&(c&&aa(d)&&nn(Ue(d,"script")),d.parentNode.removeChild(d));return r}m.extend({htmlPrefilter:function(r){return r},clone:function(r,f,c){var d,v,y,w,R=r.cloneNode(!0),S=aa(r);if(!xt.noCloneChecked&&(r.nodeType===1||r.nodeType===11)&&!m.isXMLDoc(r))for(w=Ue(R),y=Ue(r),d=0,v=y.length;d<v;d++)or(y[d],w[d]);if(f)if(c)for(y=y||Ue(r),w=w||Ue(R),d=0,v=y.length;d<v;d++)ra(y[d],w[d]);else ra(r,R);return w=Ue(R,"script"),w.length>0&&nn(w,!S&&Ue(r,"script")),R},cleanData:function(r){for(var f,c,d,v=m.event.special,y=0;(c=r[y])!==void 0;y++)if(Ia(c)){if(f=c[Ct.expando]){if(f.events)for(d in f.events)v[d]?m.event.remove(c,d):m.removeEvent(c,d,f.handle);c[Ct.expando]=void 0}c[Ze.expando]&&(c[Ze.expando]=void 0)}}}),m.fn.extend({detach:function(r){return sr(this,r,!0)},remove:function(r){return sr(this,r)},text:function(r){return Li(this,function(f){return f===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=f)})},null,r,arguments.length)},append:function(){return ba(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=Bn(this,r);f.appendChild(r)}})},prepend:function(){return ba(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=Bn(this,r);f.insertBefore(r,f.firstChild)}})},before:function(){return ba(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return ba(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,f=0;(r=this[f])!=null;f++)r.nodeType===1&&(m.cleanData(Ue(r,!1)),r.textContent="");return this},clone:function(r,f){return r=r??!1,f=f??r,this.map(function(){return m.clone(this,r,f)})},html:function(r){return Li(this,function(f){var c=this[0]||{},d=0,v=this.length;if(f===void 0&&c.nodeType===1)return c.innerHTML;if(typeof f=="string"&&!En.test(f)&&!ri[(Qn.exec(f)||["",""])[1].toLowerCase()]){f=m.htmlPrefilter(f);try{for(;d<v;d++)c=this[d]||{},c.nodeType===1&&(m.cleanData(Ue(c,!1)),c.innerHTML=f);c=0}catch{}}c&&this.empty().append(f)},null,r,arguments.length)},replaceWith:function(){var r=[];return ba(this,arguments,function(f){var c=this.parentNode;m.inArray(this,r)<0&&(m.cleanData(Ue(this)),c&&c.replaceChild(f,this))},r)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,f){m.fn[r]=function(c){for(var d,v=[],y=m(c),w=y.length-1,R=0;R<=w;R++)d=R===w?this:this.clone(!0),m(y[R])[f](d),X.apply(v,d.get());return this.pushStack(v)}});var Pn=new RegExp("^("+kn+")(?!px)[a-z%]+$","i"),An=/^--/,qa=function(r){var f=r.ownerDocument.defaultView;return(!f||!f.opener)&&(f=j),f.getComputedStyle(r)},lr=function(r,f,c){var d,v,y={};for(v in f)y[v]=r.style[v],r.style[v]=f[v];d=c.call(r);for(v in f)r.style[v]=y[v];return d},xa=new RegExp(Ie.join("|"),"i");(function(){function r(){if(U){S.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",U.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Gi.appendChild(S).appendChild(U);var ot=j.getComputedStyle(U);c=ot.top!=="1%",R=f(ot.marginLeft)===12,U.style.right="60%",y=f(ot.right)===36,d=f(ot.width)===36,U.style.position="absolute",v=f(U.offsetWidth/3)===12,Gi.removeChild(S),U=null}}function f(ot){return Math.round(parseFloat(ot))}var c,d,v,y,w,R,S=Ot.createElement("div"),U=Ot.createElement("div");U.style&&(U.style.backgroundClip="content-box",U.cloneNode(!0).style.backgroundClip="",xt.clearCloneStyle=U.style.backgroundClip==="content-box",m.extend(xt,{boxSizingReliable:function(){return r(),d},pixelBoxStyles:function(){return r(),y},pixelPosition:function(){return r(),c},reliableMarginLeft:function(){return r(),R},scrollboxSize:function(){return r(),v},reliableTrDimensions:function(){var ot,lt,it,pt;return w==null&&(ot=Ot.createElement("table"),lt=Ot.createElement("tr"),it=Ot.createElement("div"),ot.style.cssText="position:absolute;left:-11111px;border-collapse:separate",lt.style.cssText="box-sizing:content-box;border:1px solid",lt.style.height="1px",it.style.height="9px",it.style.display="block",Gi.appendChild(ot).appendChild(lt).appendChild(it),pt=j.getComputedStyle(lt),w=parseInt(pt.height,10)+parseInt(pt.borderTopWidth,10)+parseInt(pt.borderBottomWidth,10)===lt.offsetHeight,Gi.removeChild(ot)),w}}))})();function oa(r,f,c){var d,v,y,w,R=An.test(f),S=r.style;return c=c||qa(r),c&&(w=c.getPropertyValue(f)||c[f],R&&w&&(w=w.replace(Da,"$1")||void 0),w===""&&!aa(r)&&(w=m.style(r,f)),!xt.pixelBoxStyles()&&Pn.test(w)&&xa.test(f)&&(d=S.width,v=S.minWidth,y=S.maxWidth,S.minWidth=S.maxWidth=S.width=w,w=c.width,S.width=d,S.minWidth=v,S.maxWidth=y)),w!==void 0?w+"":w}function fr(r,f){return{get:function(){if(r()){delete this.get;return}return(this.get=f).apply(this,arguments)}}}var ur=["Webkit","Moz","ms"],hr=Ot.createElement("div").style,cr={};function Tn(r){for(var f=r[0].toUpperCase()+r.slice(1),c=ur.length;c--;)if(r=ur[c]+f,r in hr)return r}function sa(r){var f=m.cssProps[r]||cr[r];return f||(r in hr?r:cr[r]=Tn(r)||r)}var dr=/^(none|table(?!-c[ea]).+)/,pr={position:"absolute",visibility:"hidden",display:"block"},wa={letterSpacing:"0",fontWeight:"400"};function te(r,f,c){var d=ya.exec(f);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):f}function se(r,f,c,d,v,y){var w=f==="width"?1:0,R=0,S=0,U=0;if(c===(d?"border":"content"))return 0;for(;w<4;w+=2)c==="margin"&&(U+=m.css(r,c+Ie[w],!0,v)),d?(c==="content"&&(S-=m.css(r,"padding"+Ie[w],!0,v)),c!=="margin"&&(S-=m.css(r,"border"+Ie[w]+"Width",!0,v))):(S+=m.css(r,"padding"+Ie[w],!0,v),c!=="padding"?S+=m.css(r,"border"+Ie[w]+"Width",!0,v):R+=m.css(r,"border"+Ie[w]+"Width",!0,v));return!d&&y>=0&&(S+=Math.max(0,Math.ceil(r["offset"+f[0].toUpperCase()+f.slice(1)]-y-S-R-.5))||0),S+U}function Ga(r,f,c){var d=qa(r),v=!xt.boxSizingReliable()||c,y=v&&m.css(r,"boxSizing",!1,d)==="border-box",w=y,R=oa(r,f,d),S="offset"+f[0].toUpperCase()+f.slice(1);if(Pn.test(R)){if(!c)return R;R="auto"}return(!xt.boxSizingReliable()&&y||!xt.reliableTrDimensions()&&le(r,"tr")||R==="auto"||!parseFloat(R)&&m.css(r,"display",!1,d)==="inline")&&r.getClientRects().length&&(y=m.css(r,"boxSizing",!1,d)==="border-box",w=S in r,w&&(R=r[S])),R=parseFloat(R)||0,R+se(r,f,c||(y?"border":"content"),w,d,R)+"px"}m.extend({cssHooks:{opacity:{get:function(r,f){if(f){var c=oa(r,"opacity");return c===""?"1":c}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,f,c,d){if(!(!r||r.nodeType===3||r.nodeType===8||!r.style)){var v,y,w,R=gi(f),S=An.test(f),U=r.style;if(S||(f=sa(R)),w=m.cssHooks[f]||m.cssHooks[R],c!==void 0){if(y=typeof c,y==="string"&&(v=ya.exec(c))&&v[1]&&(c=an(r,f,v),y="number"),c==null||c!==c)return;y==="number"&&!S&&(c+=v&&v[3]||(m.cssNumber[R]?"":"px")),!xt.clearCloneStyle&&c===""&&f.indexOf("background")===0&&(U[f]="inherit"),(!w||!("set"in w)||(c=w.set(r,c,d))!==void 0)&&(S?U.setProperty(f,c):U[f]=c)}else return w&&"get"in w&&(v=w.get(r,!1,d))!==void 0?v:U[f]}},css:function(r,f,c,d){var v,y,w,R=gi(f),S=An.test(f);return S||(f=sa(R)),w=m.cssHooks[f]||m.cssHooks[R],w&&"get"in w&&(v=w.get(r,!0,c)),v===void 0&&(v=oa(r,f,d)),v==="normal"&&f in wa&&(v=wa[f]),c===""||c?(y=parseFloat(v),c===!0||isFinite(y)?y||0:v):v}}),m.each(["height","width"],function(r,f){m.cssHooks[f]={get:function(c,d,v){if(d)return dr.test(m.css(c,"display"))&&(!c.getClientRects().length||!c.getBoundingClientRect().width)?lr(c,pr,function(){return Ga(c,f,v)}):Ga(c,f,v)},set:function(c,d,v){var y,w=qa(c),R=!xt.scrollboxSize()&&w.position==="absolute",S=R||v,U=S&&m.css(c,"boxSizing",!1,w)==="border-box",ot=v?se(c,f,v,U,w):0;return U&&R&&(ot-=Math.ceil(c["offset"+f[0].toUpperCase()+f.slice(1)]-parseFloat(w[f])-se(c,f,"border",!1,w)-.5)),ot&&(y=ya.exec(d))&&(y[3]||"px")!=="px"&&(c.style[f]=d,d=m.css(c,f)),te(c,d,ot)}}}),m.cssHooks.marginLeft=fr(xt.reliableMarginLeft,function(r,f){if(f)return(parseFloat(oa(r,"marginLeft"))||r.getBoundingClientRect().left-lr(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(r,f){m.cssHooks[r+f]={expand:function(c){for(var d=0,v={},y=typeof c=="string"?c.split(" "):[c];d<4;d++)v[r+Ie[d]+f]=y[d]||y[d-2]||y[0];return v}},r!=="margin"&&(m.cssHooks[r+f].set=te)}),m.fn.extend({css:function(r,f){return Li(this,function(c,d,v){var y,w,R={},S=0;if(Array.isArray(d)){for(y=qa(c),w=d.length;S<w;S++)R[d[S]]=m.css(c,d[S],!1,y);return R}return v!==void 0?m.style(c,d,v):m.css(c,d)},r,f,arguments.length>1)}});function Le(r,f,c,d,v){return new Le.prototype.init(r,f,c,d,v)}m.Tween=Le,Le.prototype={constructor:Le,init:function(r,f,c,d,v,y){this.elem=r,this.prop=c,this.easing=v||m.easing._default,this.options=f,this.start=this.now=this.cur(),this.end=d,this.unit=y||(m.cssNumber[c]?"":"px")},cur:function(){var r=Le.propHooks[this.prop];return r&&r.get?r.get(this):Le.propHooks._default.get(this)},run:function(r){var f,c=Le.propHooks[this.prop];return this.options.duration?this.pos=f=m.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=f=r,this.now=(this.end-this.start)*f+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Le.propHooks._default.set(this),this}},Le.prototype.init.prototype=Le.prototype,Le.propHooks={_default:{get:function(r){var f;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(f=m.css(r.elem,r.prop,""),!f||f==="auto"?0:f)},set:function(r){m.fx.step[r.prop]?m.fx.step[r.prop](r):r.elem.nodeType===1&&(m.cssHooks[r.prop]||r.elem.style[sa(r.prop)]!=null)?m.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}},Le.propHooks.scrollTop=Le.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},m.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},m.fx=Le.prototype.init,m.fx.step={};var si,La,qt=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;function ka(){La&&(Ot.hidden===!1&&j.requestAnimationFrame?j.requestAnimationFrame(ka):j.setTimeout(ka,m.fx.interval),m.fx.tick())}function Za(){return j.setTimeout(function(){si=void 0}),si=Date.now()}function He(r,f){var c,d=0,v={height:r};for(f=f?1:0;d<4;d+=2-f)c=Ie[d],v["margin"+c]=v["padding"+c]=r;return f&&(v.opacity=v.width=r),v}function mr(r,f,c){for(var d,v=(ie.tweeners[f]||[]).concat(ie.tweeners["*"]),y=0,w=v.length;y<w;y++)if(d=v[y].call(c,f,r))return d}function on(r,f,c){var d,v,y,w,R,S,U,ot,lt="width"in f||"height"in f,it=this,pt={},Rt=r.style,Jt=r.nodeType&&Na(r),Gt=Ct.get(r,"fxshow");c.queue||(w=m._queueHooks(r,"fx"),w.unqueued==null&&(w.unqueued=0,R=w.empty.fire,w.empty.fire=function(){w.unqueued||R()}),w.unqueued++,it.always(function(){it.always(function(){w.unqueued--,m.queue(r,"fx").length||w.empty.fire()})}));for(d in f)if(v=f[d],qt.test(v)){if(delete f[d],y=y||v==="toggle",v===(Jt?"hide":"show"))if(v==="show"&&Gt&&Gt[d]!==void 0)Jt=!0;else continue;pt[d]=Gt&&Gt[d]||m.style(r,d)}if(S=!m.isEmptyObject(f),!(!S&&m.isEmptyObject(pt))){lt&&r.nodeType===1&&(c.overflow=[Rt.overflow,Rt.overflowX,Rt.overflowY],U=Gt&&Gt.display,U==null&&(U=Ct.get(r,"display")),ot=m.css(r,"display"),ot==="none"&&(U?ot=U:(Zi([r],!0),U=r.style.display||U,ot=m.css(r,"display"),Zi([r]))),(ot==="inline"||ot==="inline-block"&&U!=null)&&m.css(r,"float")==="none"&&(S||(it.done(function(){Rt.display=U}),U==null&&(ot=Rt.display,U=ot==="none"?"":ot)),Rt.display="inline-block")),c.overflow&&(Rt.overflow="hidden",it.always(function(){Rt.overflow=c.overflow[0],Rt.overflowX=c.overflow[1],Rt.overflowY=c.overflow[2]})),S=!1;for(d in pt)S||(Gt?"hidden"in Gt&&(Jt=Gt.hidden):Gt=Ct.access(r,"fxshow",{display:U}),y&&(Gt.hidden=!Jt),Jt&&Zi([r],!0),it.done(function(){Jt||Zi([r]),Ct.remove(r,"fxshow");for(d in pt)m.style(r,d,pt[d])})),S=mr(Jt?Gt[d]:0,d,it),d in Gt||(Gt[d]=S.start,Jt&&(S.end=S.start,S.start=0))}}function la(r,f){var c,d,v,y,w;for(c in r)if(d=gi(c),v=f[d],y=r[c],Array.isArray(y)&&(v=y[1],y=r[c]=y[0]),c!==d&&(r[d]=y,delete r[c]),w=m.cssHooks[d],w&&"expand"in w){y=w.expand(y),delete r[d];for(c in y)c in r||(r[c]=y[c],f[c]=v)}else f[d]=v}function ie(r,f,c){var d,v,y=0,w=ie.prefilters.length,R=m.Deferred().always(function(){delete S.elem}),S=function(){if(v)return!1;for(var lt=si||Za(),it=Math.max(0,U.startTime+U.duration-lt),pt=it/U.duration||0,Rt=1-pt,Jt=0,Gt=U.tweens.length;Jt<Gt;Jt++)U.tweens[Jt].run(Rt);return R.notifyWith(r,[U,Rt,it]),Rt<1&&Gt?it:(Gt||R.notifyWith(r,[U,1,0]),R.resolveWith(r,[U]),!1)},U=R.promise({elem:r,props:m.extend({},f),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},c),originalProperties:f,originalOptions:c,startTime:si||Za(),duration:c.duration,tweens:[],createTween:function(lt,it){var pt=m.Tween(r,U.opts,lt,it,U.opts.specialEasing[lt]||U.opts.easing);return U.tweens.push(pt),pt},stop:function(lt){var it=0,pt=lt?U.tweens.length:0;if(v)return this;for(v=!0;it<pt;it++)U.tweens[it].run(1);return lt?(R.notifyWith(r,[U,1,0]),R.resolveWith(r,[U,lt])):R.rejectWith(r,[U,lt]),this}}),ot=U.props;for(la(ot,U.opts.specialEasing);y<w;y++)if(d=ie.prefilters[y].call(U,r,ot,U.opts),d)return Nt(d.stop)&&(m._queueHooks(U.elem,U.opts.queue).stop=d.stop.bind(d)),d;return m.map(ot,mr,U),Nt(U.opts.start)&&U.opts.start.call(r,U),U.progress(U.opts.progress).done(U.opts.done,U.opts.complete).fail(U.opts.fail).always(U.opts.always),m.fx.timer(m.extend(S,{elem:r,anim:U,queue:U.opts.queue})),U}m.Animation=m.extend(ie,{tweeners:{"*":[function(r,f){var c=this.createTween(r,f);return an(c.elem,r,ya.exec(f),c),c}]},tweener:function(r,f){Nt(r)?(f=r,r=["*"]):r=r.match(Ge);for(var c,d=0,v=r.length;d<v;d++)c=r[d],ie.tweeners[c]=ie.tweeners[c]||[],ie.tweeners[c].unshift(f)},prefilters:[on],prefilter:function(r,f){f?ie.prefilters.unshift(r):ie.prefilters.push(r)}}),m.speed=function(r,f,c){var d=r&&typeof r=="object"?m.extend({},r):{complete:c||!c&&f||Nt(r)&&r,duration:r,easing:c&&f||f&&!Nt(f)&&f};return m.fx.off?d.duration=0:typeof d.duration!="number"&&(d.duration in m.fx.speeds?d.duration=m.fx.speeds[d.duration]:d.duration=m.fx.speeds._default),(d.queue==null||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){Nt(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(r,f,c,d){return this.filter(Na).css("opacity",0).show().end().animate({opacity:f},r,c,d)},animate:function(r,f,c,d){var v=m.isEmptyObject(r),y=m.speed(f,c,d),w=function(){var R=ie(this,m.extend({},r),y);(v||Ct.get(this,"finish"))&&R.stop(!0)};return w.finish=w,v||y.queue===!1?this.each(w):this.queue(y.queue,w)},stop:function(r,f,c){var d=function(v){var y=v.stop;delete v.stop,y(c)};return typeof r!="string"&&(c=f,f=r,r=void 0),f&&this.queue(r||"fx",[]),this.each(function(){var v=!0,y=r!=null&&r+"queueHooks",w=m.timers,R=Ct.get(this);if(y)R[y]&&R[y].stop&&d(R[y]);else for(y in R)R[y]&&R[y].stop&&xe.test(y)&&d(R[y]);for(y=w.length;y--;)w[y].elem===this&&(r==null||w[y].queue===r)&&(w[y].anim.stop(c),v=!1,w.splice(y,1));(v||!c)&&m.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var f,c=Ct.get(this),d=c[r+"queue"],v=c[r+"queueHooks"],y=m.timers,w=d?d.length:0;for(c.finish=!0,m.queue(this,r,[]),v&&v.stop&&v.stop.call(this,!0),f=y.length;f--;)y[f].elem===this&&y[f].queue===r&&(y[f].anim.stop(!0),y.splice(f,1));for(f=0;f<w;f++)d[f]&&d[f].finish&&d[f].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(r,f){var c=m.fn[f];m.fn[f]=function(d,v,y){return d==null||typeof d=="boolean"?c.apply(this,arguments):this.animate(He(f,!0),d,v,y)}}),m.each({slideDown:He("show"),slideUp:He("hide"),slideToggle:He("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,f){m.fn[r]=function(c,d,v){return this.animate(f,c,d,v)}}),m.timers=[],m.fx.tick=function(){var r,f=0,c=m.timers;for(si=Date.now();f<c.length;f++)r=c[f],!r()&&c[f]===r&&c.splice(f--,1);c.length||m.fx.stop(),si=void 0},m.fx.timer=function(r){m.timers.push(r),m.fx.start()},m.fx.interval=13,m.fx.start=function(){La||(La=!0,ka())},m.fx.stop=function(){La=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(r,f){return r=m.fx&&m.fx.speeds[r]||r,f=f||"fx",this.queue(f,function(c,d){var v=j.setTimeout(c,r);d.stop=function(){j.clearTimeout(v)}})},function(){var r=Ot.createElement("input"),f=Ot.createElement("select"),c=f.appendChild(Ot.createElement("option"));r.type="checkbox",xt.checkOn=r.value!=="",xt.optSelected=c.selected,r=Ot.createElement("input"),r.value="t",r.type="radio",xt.radioValue=r.value==="t"}();var Ui,Ri=m.expr.attrHandle;m.fn.extend({attr:function(r,f){return Li(this,m.attr,r,f,arguments.length>1)},removeAttr:function(r){return this.each(function(){m.removeAttr(this,r)})}}),m.extend({attr:function(r,f,c){var d,v,y=r.nodeType;if(!(y===3||y===8||y===2)){if(typeof r.getAttribute>"u")return m.prop(r,f,c);if((y!==1||!m.isXMLDoc(r))&&(v=m.attrHooks[f.toLowerCase()]||(m.expr.match.bool.test(f)?Ui:void 0)),c!==void 0){if(c===null){m.removeAttr(r,f);return}return v&&"set"in v&&(d=v.set(r,c,f))!==void 0?d:(r.setAttribute(f,c+""),c)}return v&&"get"in v&&(d=v.get(r,f))!==null?d:(d=m.find.attr(r,f),d??void 0)}},attrHooks:{type:{set:function(r,f){if(!xt.radioValue&&f==="radio"&&le(r,"input")){var c=r.value;return r.setAttribute("type",f),c&&(r.value=c),f}}}},removeAttr:function(r,f){var c,d=0,v=f&&f.match(Ge);if(v&&r.nodeType===1)for(;c=v[d++];)r.removeAttribute(c)}}),Ui={set:function(r,f,c){return f===!1?m.removeAttr(r,c):r.setAttribute(c,c),c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(r,f){var c=Ri[f]||m.find.attr;Ri[f]=function(d,v,y){var w,R,S=v.toLowerCase();return y||(R=Ri[S],Ri[S]=w,w=c(d,v,y)!=null?S:null,Ri[S]=R),w}});var Ua=/^(?:input|select|textarea|button)$/i,Sn=/^(?:a|area)$/i;m.fn.extend({prop:function(r,f){return Li(this,m.prop,r,f,arguments.length>1)},removeProp:function(r){return this.each(function(){delete this[m.propFix[r]||r]})}}),m.extend({prop:function(r,f,c){var d,v,y=r.nodeType;if(!(y===3||y===8||y===2))return(y!==1||!m.isXMLDoc(r))&&(f=m.propFix[f]||f,v=m.propHooks[f]),c!==void 0?v&&"set"in v&&(d=v.set(r,c,f))!==void 0?d:r[f]=c:v&&"get"in v&&(d=v.get(r,f))!==null?d:r[f]},propHooks:{tabIndex:{get:function(r){var f=m.find.attr(r,"tabindex");return f?parseInt(f,10):Ua.test(r.nodeName)||Sn.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xt.optSelected||(m.propHooks.selected={get:function(r){var f=r.parentNode;return f&&f.parentNode&&f.parentNode.selectedIndex,null},set:function(r){var f=r.parentNode;f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function _i(r){var f=r.match(Ge)||[];return f.join(" ")}function Fi(r){return r.getAttribute&&r.getAttribute("class")||""}function Ca(r){return Array.isArray(r)?r:typeof r=="string"?r.match(Ge)||[]:[]}m.fn.extend({addClass:function(r){var f,c,d,v,y,w;return Nt(r)?this.each(function(R){m(this).addClass(r.call(this,R,Fi(this)))}):(f=Ca(r),f.length?this.each(function(){if(d=Fi(this),c=this.nodeType===1&&" "+_i(d)+" ",c){for(y=0;y<f.length;y++)v=f[y],c.indexOf(" "+v+" ")<0&&(c+=v+" ");w=_i(c),d!==w&&this.setAttribute("class",w)}}):this)},removeClass:function(r){var f,c,d,v,y,w;return Nt(r)?this.each(function(R){m(this).removeClass(r.call(this,R,Fi(this)))}):arguments.length?(f=Ca(r),f.length?this.each(function(){if(d=Fi(this),c=this.nodeType===1&&" "+_i(d)+" ",c){for(y=0;y<f.length;y++)for(v=f[y];c.indexOf(" "+v+" ")>-1;)c=c.replace(" "+v+" "," ");w=_i(c),d!==w&&this.setAttribute("class",w)}}):this):this.attr("class","")},toggleClass:function(r,f){var c,d,v,y,w=typeof r,R=w==="string"||Array.isArray(r);return Nt(r)?this.each(function(S){m(this).toggleClass(r.call(this,S,Fi(this),f),f)}):typeof f=="boolean"&&R?f?this.addClass(r):this.removeClass(r):(c=Ca(r),this.each(function(){if(R)for(y=m(this),v=0;v<c.length;v++)d=c[v],y.hasClass(d)?y.removeClass(d):y.addClass(d);else(r===void 0||w==="boolean")&&(d=Fi(this),d&&Ct.set(this,"__className__",d),this.setAttribute&&this.setAttribute("class",d||r===!1?"":Ct.get(this,"__className__")||""))}))},hasClass:function(r){var f,c,d=0;for(f=" "+r+" ";c=this[d++];)if(c.nodeType===1&&(" "+_i(Fi(c))+" ").indexOf(f)>-1)return!0;return!1}});var sn=/\r/g;m.fn.extend({val:function(r){var f,c,d,v=this[0];return arguments.length?(d=Nt(r),this.each(function(y){var w;this.nodeType===1&&(d?w=r.call(this,y,m(this).val()):w=r,w==null?w="":typeof w=="number"?w+="":Array.isArray(w)&&(w=m.map(w,function(R){return R==null?"":R+""})),f=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!f||!("set"in f)||f.set(this,w,"value")===void 0)&&(this.value=w))})):v?(f=m.valHooks[v.type]||m.valHooks[v.nodeName.toLowerCase()],f&&"get"in f&&(c=f.get(v,"value"))!==void 0?c:(c=v.value,typeof c=="string"?c.replace(sn,""):c??"")):void 0}}),m.extend({valHooks:{option:{get:function(r){var f=m.find.attr(r,"value");return f??_i(m.text(r))}},select:{get:function(r){var f,c,d,v=r.options,y=r.selectedIndex,w=r.type==="select-one",R=w?null:[],S=w?y+1:v.length;for(y<0?d=S:d=w?y:0;d<S;d++)if(c=v[d],(c.selected||d===y)&&!c.disabled&&(!c.parentNode.disabled||!le(c.parentNode,"optgroup"))){if(f=m(c).val(),w)return f;R.push(f)}return R},set:function(r,f){for(var c,d,v=r.options,y=m.makeArray(f),w=v.length;w--;)d=v[w],(d.selected=m.inArray(m.valHooks.option.get(d),y)>-1)&&(c=!0);return c||(r.selectedIndex=-1),y}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(r,f){if(Array.isArray(f))return r.checked=m.inArray(m(r).val(),f)>-1}},xt.checkOn||(m.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})});var fa=j.location,ln={guid:Date.now()},Ma=/\?/;m.parseXML=function(r){var f,c;if(!r||typeof r!="string")return null;try{f=new j.DOMParser().parseFromString(r,"text/xml")}catch{}return c=f&&f.getElementsByTagName("parsererror")[0],(!f||c)&&m.error("Invalid XML: "+(c?m.map(c.childNodes,function(d){return d.textContent}).join(`
`):r)),f};var Dn=/^(?:focusinfocus|focusoutblur)$/,fn=function(r){r.stopPropagation()};m.extend(m.event,{trigger:function(r,f,c,d){var v,y,w,R,S,U,ot,lt,it=[c||Ot],pt=Se.call(r,"type")?r.type:r,Rt=Se.call(r,"namespace")?r.namespace.split("."):[];if(y=lt=w=c=c||Ot,!(c.nodeType===3||c.nodeType===8)&&!Dn.test(pt+m.event.triggered)&&(pt.indexOf(".")>-1&&(Rt=pt.split("."),pt=Rt.shift(),Rt.sort()),S=pt.indexOf(":")<0&&"on"+pt,r=r[m.expando]?r:new m.Event(pt,typeof r=="object"&&r),r.isTrigger=d?2:3,r.namespace=Rt.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+Rt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=c),f=f==null?[r]:m.makeArray(f,[r]),ot=m.event.special[pt]||{},!(!d&&ot.trigger&&ot.trigger.apply(c,f)===!1))){if(!d&&!ot.noBubble&&!_a(c)){for(R=ot.delegateType||pt,Dn.test(R+pt)||(y=y.parentNode);y;y=y.parentNode)it.push(y),w=y;w===(c.ownerDocument||Ot)&&it.push(w.defaultView||w.parentWindow||j)}for(v=0;(y=it[v++])&&!r.isPropagationStopped();)lt=y,r.type=v>1?R:ot.bindType||pt,U=(Ct.get(y,"events")||Object.create(null))[r.type]&&Ct.get(y,"handle"),U&&U.apply(y,f),U=S&&y[S],U&&U.apply&&Ia(y)&&(r.result=U.apply(y,f),r.result===!1&&r.preventDefault());return r.type=pt,!d&&!r.isDefaultPrevented()&&(!ot._default||ot._default.apply(it.pop(),f)===!1)&&Ia(c)&&S&&Nt(c[pt])&&!_a(c)&&(w=c[S],w&&(c[S]=null),m.event.triggered=pt,r.isPropagationStopped()&&lt.addEventListener(pt,fn),c[pt](),r.isPropagationStopped()&&lt.removeEventListener(pt,fn),m.event.triggered=void 0,w&&(c[S]=w)),r.result}},simulate:function(r,f,c){var d=m.extend(new m.Event,c,{type:r,isSimulated:!0});m.event.trigger(d,null,f)}}),m.fn.extend({trigger:function(r,f){return this.each(function(){m.event.trigger(r,f,this)})},triggerHandler:function(r,f){var c=this[0];if(c)return m.event.trigger(r,f,c,!0)}});var Pr=/\[\]$/,zt=/\r?\n/g,ki=/^(?:submit|button|image|reset|file)$/i,fe=/^(?:input|select|textarea|keygen)/i;function un(r,f,c,d){var v;if(Array.isArray(f))m.each(f,function(y,w){c||Pr.test(r)?d(r,w):un(r+"["+(typeof w=="object"&&w!=null?y:"")+"]",w,c,d)});else if(!c&&Si(f)==="object")for(v in f)un(r+"["+v+"]",f[v],c,d);else d(r,f)}m.param=function(r,f){var c,d=[],v=function(y,w){var R=Nt(w)?w():w;d[d.length]=encodeURIComponent(y)+"="+encodeURIComponent(R??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!m.isPlainObject(r))m.each(r,function(){v(this.name,this.value)});else for(c in r)un(c,r[c],f,v);return d.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=m.prop(this,"elements");return r?m.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!m(this).is(":disabled")&&fe.test(this.nodeName)&&!ki.test(r)&&(this.checked||!ja.test(r))}).map(function(r,f){var c=m(this).val();return c==null?null:Array.isArray(c)?m.map(c,function(d){return{name:f.name,value:d.replace(zt,`\r
`)}}):{name:f.name,value:c.replace(zt,`\r
`)}}).get()}});var On=/%20/g,Rn=/#.*$/,Fn=/([?&])_=[^&]*/,ua=/^(.*?):[ \t]*([^\r\n]*)$/mg,Hi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ha=/^(?:GET|HEAD)$/,De=/^\/\//,Vi={},hn={},In="*/".concat("*"),zn=Ot.createElement("a");zn.href=fa.href;function Nn(r){return function(f,c){typeof f!="string"&&(c=f,f="*");var d,v=0,y=f.toLowerCase().match(Ge)||[];if(Nt(c))for(;d=y[v++];)d[0]==="+"?(d=d.slice(1)||"*",(r[d]=r[d]||[]).unshift(c)):(r[d]=r[d]||[]).push(c)}}function cn(r,f,c,d){var v={},y=r===hn;function w(R){var S;return v[R]=!0,m.each(r[R]||[],function(U,ot){var lt=ot(f,c,d);if(typeof lt=="string"&&!y&&!v[lt])return f.dataTypes.unshift(lt),w(lt),!1;if(y)return!(S=lt)}),S}return w(f.dataTypes[0])||!v["*"]&&w("*")}function jn(r,f){var c,d,v=m.ajaxSettings.flatOptions||{};for(c in f)f[c]!==void 0&&((v[c]?r:d||(d={}))[c]=f[c]);return d&&m.extend(!0,r,d),r}function gr(r,f,c){for(var d,v,y,w,R=r.contents,S=r.dataTypes;S[0]==="*";)S.shift(),d===void 0&&(d=r.mimeType||f.getResponseHeader("Content-Type"));if(d){for(v in R)if(R[v]&&R[v].test(d)){S.unshift(v);break}}if(S[0]in c)y=S[0];else{for(v in c){if(!S[0]||r.converters[v+" "+S[0]]){y=v;break}w||(w=v)}y=y||w}if(y)return y!==S[0]&&S.unshift(y),c[y]}function Kt(r,f,c,d){var v,y,w,R,S,U={},ot=r.dataTypes.slice();if(ot[1])for(w in r.converters)U[w.toLowerCase()]=r.converters[w];for(y=ot.shift();y;)if(r.responseFields[y]&&(c[r.responseFields[y]]=f),!S&&d&&r.dataFilter&&(f=r.dataFilter(f,r.dataType)),S=y,y=ot.shift(),y){if(y==="*")y=S;else if(S!=="*"&&S!==y){if(w=U[S+" "+y]||U["* "+y],!w){for(v in U)if(R=v.split(" "),R[1]===y&&(w=U[S+" "+R[0]]||U["* "+R[0]],w)){w===!0?w=U[v]:U[v]!==!0&&(y=R[0],ot.unshift(R[1]));break}}if(w!==!0)if(w&&r.throws)f=w(f);else try{f=w(f)}catch(lt){return{state:"parsererror",error:w?lt:"No conversion from "+S+" to "+y}}}}return{state:"success",data:f}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fa.href,type:"GET",isLocal:Hi.test(fa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":In,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,f){return f?jn(jn(r,m.ajaxSettings),f):jn(m.ajaxSettings,r)},ajaxPrefilter:Nn(Vi),ajaxTransport:Nn(hn),ajax:function(r,f){typeof r=="object"&&(f=r,r=void 0),f=f||{};var c,d,v,y,w,R,S,U,ot,lt,it=m.ajaxSetup({},f),pt=it.context||it,Rt=it.context&&(pt.nodeType||pt.jquery)?m(pt):m.event,Jt=m.Deferred(),Gt=m.Callbacks("once memory"),Me=it.statusCode||{},Yt={},pe={},li="canceled",Vt={readyState:0,getResponseHeader:function(Wt){var ae;if(S){if(!y)for(y={};ae=ua.exec(v);)y[ae[1].toLowerCase()+" "]=(y[ae[1].toLowerCase()+" "]||[]).concat(ae[2]);ae=y[Wt.toLowerCase()+" "]}return ae==null?null:ae.join(", ")},getAllResponseHeaders:function(){return S?v:null},setRequestHeader:function(Wt,ae){return S==null&&(Wt=pe[Wt.toLowerCase()]=pe[Wt.toLowerCase()]||Wt,Yt[Wt]=ae),this},overrideMimeType:function(Wt){return S==null&&(it.mimeType=Wt),this},statusCode:function(Wt){var ae;if(Wt)if(S)Vt.always(Wt[Vt.status]);else for(ae in Wt)Me[ae]=[Me[ae],Wt[ae]];return this},abort:function(Wt){var ae=Wt||li;return c&&c.abort(ae),Be(0,ae),this}};if(Jt.promise(Vt),it.url=((r||it.url||fa.href)+"").replace(De,fa.protocol+"//"),it.type=f.method||f.type||it.method||it.type,it.dataTypes=(it.dataType||"*").toLowerCase().match(Ge)||[""],it.crossDomain==null){R=Ot.createElement("a");try{R.href=it.url,R.href=R.href,it.crossDomain=zn.protocol+"//"+zn.host!=R.protocol+"//"+R.host}catch{it.crossDomain=!0}}if(it.data&&it.processData&&typeof it.data!="string"&&(it.data=m.param(it.data,it.traditional)),cn(Vi,it,f,Vt),S)return Vt;U=m.event&&it.global,U&&m.active++===0&&m.event.trigger("ajaxStart"),it.type=it.type.toUpperCase(),it.hasContent=!Ha.test(it.type),d=it.url.replace(Rn,""),it.hasContent?it.data&&it.processData&&(it.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(it.data=it.data.replace(On,"+")):(lt=it.url.slice(d.length),it.data&&(it.processData||typeof it.data=="string")&&(d+=(Ma.test(d)?"&":"?")+it.data,delete it.data),it.cache===!1&&(d=d.replace(Fn,"$1"),lt=(Ma.test(d)?"&":"?")+"_="+ln.guid+++lt),it.url=d+lt),it.ifModified&&(m.lastModified[d]&&Vt.setRequestHeader("If-Modified-Since",m.lastModified[d]),m.etag[d]&&Vt.setRequestHeader("If-None-Match",m.etag[d])),(it.data&&it.hasContent&&it.contentType!==!1||f.contentType)&&Vt.setRequestHeader("Content-Type",it.contentType),Vt.setRequestHeader("Accept",it.dataTypes[0]&&it.accepts[it.dataTypes[0]]?it.accepts[it.dataTypes[0]]+(it.dataTypes[0]!=="*"?", "+In+"; q=0.01":""):it.accepts["*"]);for(ot in it.headers)Vt.setRequestHeader(ot,it.headers[ot]);if(it.beforeSend&&(it.beforeSend.call(pt,Vt,it)===!1||S))return Vt.abort();if(li="abort",Gt.add(it.complete),Vt.done(it.success),Vt.fail(it.error),c=cn(hn,it,f,Vt),!c)Be(-1,"No Transport");else{if(Vt.readyState=1,U&&Rt.trigger("ajaxSend",[Vt,it]),S)return Vt;it.async&&it.timeout>0&&(w=j.setTimeout(function(){Vt.abort("timeout")},it.timeout));try{S=!1,c.send(Yt,Be)}catch(Wt){if(S)throw Wt;Be(-1,Wt)}}function Be(Wt,ae,_e,dn){var yi,ca,ve,vi,bi,fi=ae;S||(S=!0,w&&j.clearTimeout(w),c=void 0,v=dn||"",Vt.readyState=Wt>0?4:0,yi=Wt>=200&&Wt<300||Wt===304,_e&&(vi=gr(it,Vt,_e)),!yi&&m.inArray("script",it.dataTypes)>-1&&m.inArray("json",it.dataTypes)<0&&(it.converters["text script"]=function(){}),vi=Kt(it,vi,Vt,yi),yi?(it.ifModified&&(bi=Vt.getResponseHeader("Last-Modified"),bi&&(m.lastModified[d]=bi),bi=Vt.getResponseHeader("etag"),bi&&(m.etag[d]=bi)),Wt===204||it.type==="HEAD"?fi="nocontent":Wt===304?fi="notmodified":(fi=vi.state,ca=vi.data,ve=vi.error,yi=!ve)):(ve=fi,(Wt||!fi)&&(fi="error",Wt<0&&(Wt=0))),Vt.status=Wt,Vt.statusText=(ae||fi)+"",yi?Jt.resolveWith(pt,[ca,fi,Vt]):Jt.rejectWith(pt,[Vt,fi,ve]),Vt.statusCode(Me),Me=void 0,U&&Rt.trigger(yi?"ajaxSuccess":"ajaxError",[Vt,it,yi?ca:ve]),Gt.fireWith(pt,[Vt,fi]),U&&(Rt.trigger("ajaxComplete",[Vt,it]),--m.active||m.event.trigger("ajaxStop")))}return Vt},getJSON:function(r,f,c){return m.get(r,f,c,"json")},getScript:function(r,f){return m.get(r,void 0,f,"script")}}),m.each(["get","post"],function(r,f){m[f]=function(c,d,v,y){return Nt(d)&&(y=y||v,v=d,d=void 0),m.ajax(m.extend({url:c,type:f,dataType:y,data:d,success:v},m.isPlainObject(c)&&c))}}),m.ajaxPrefilter(function(r){var f;for(f in r.headers)f.toLowerCase()==="content-type"&&(r.contentType=r.headers[f]||"")}),m._evalUrl=function(r,f,c){return m.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(d){m.globalEval(d,f,c)}})},m.fn.extend({wrapAll:function(r){var f;return this[0]&&(Nt(r)&&(r=r.call(this[0])),f=m(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&f.insertBefore(this[0]),f.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(r){return Nt(r)?this.each(function(f){m(this).wrapInner(r.call(this,f))}):this.each(function(){var f=m(this),c=f.contents();c.length?c.wrapAll(r):f.append(r)})},wrap:function(r){var f=Nt(r);return this.each(function(c){m(this).wrapAll(f?r.call(this,c):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(r){return!m.expr.pseudos.visible(r)},m.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new j.XMLHttpRequest}catch{}};var Ar={0:200,1223:204},Ve=m.ajaxSettings.xhr();xt.cors=!!Ve&&"withCredentials"in Ve,xt.ajax=Ve=!!Ve,m.ajaxTransport(function(r){var f,c;if(xt.cors||Ve&&!r.crossDomain)return{send:function(d,v){var y,w=r.xhr();if(w.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(y in r.xhrFields)w[y]=r.xhrFields[y];r.mimeType&&w.overrideMimeType&&w.overrideMimeType(r.mimeType),!r.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");for(y in d)w.setRequestHeader(y,d[y]);f=function(R){return function(){f&&(f=c=w.onload=w.onerror=w.onabort=w.ontimeout=w.onreadystatechange=null,R==="abort"?w.abort():R==="error"?typeof w.status!="number"?v(0,"error"):v(w.status,w.statusText):v(Ar[w.status]||w.status,w.statusText,(w.responseType||"text")!=="text"||typeof w.responseText!="string"?{binary:w.response}:{text:w.responseText},w.getAllResponseHeaders()))}},w.onload=f(),c=w.onerror=w.ontimeout=f("error"),w.onabort!==void 0?w.onabort=c:w.onreadystatechange=function(){w.readyState===4&&j.setTimeout(function(){f&&c()})},f=f("abort");try{w.send(r.hasContent&&r.data||null)}catch(R){if(f)throw R}},abort:function(){f&&f()}}}),m.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return m.globalEval(r),r}}}),m.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),m.ajaxTransport("script",function(r){if(r.crossDomain||r.scriptAttrs){var f,c;return{send:function(d,v){f=m("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",c=function(y){f.remove(),c=null,y&&v(y.type==="error"?404:200,y.type)}),Ot.head.appendChild(f[0])},abort:function(){c&&c()}}}});var ha=[],$t=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=ha.pop()||m.expando+"_"+ln.guid++;return this[r]=!0,r}}),m.ajaxPrefilter("json jsonp",function(r,f,c){var d,v,y,w=r.jsonp!==!1&&($t.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&$t.test(r.data)&&"data");if(w||r.dataTypes[0]==="jsonp")return d=r.jsonpCallback=Nt(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,w?r[w]=r[w].replace($t,"$1"+d):r.jsonp!==!1&&(r.url+=(Ma.test(r.url)?"&":"?")+r.jsonp+"="+d),r.converters["script json"]=function(){return y||m.error(d+" was not called"),y[0]},r.dataTypes[0]="json",v=j[d],j[d]=function(){y=arguments},c.always(function(){v===void 0?m(j).removeProp(d):j[d]=v,r[d]&&(r.jsonpCallback=f.jsonpCallback,ha.push(d)),y&&Nt(v)&&v(y[0]),y=v=void 0}),"script"}),xt.createHTMLDocument=function(){var r=Ot.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}(),m.parseHTML=function(r,f,c){if(typeof r!="string")return[];typeof f=="boolean"&&(c=f,f=!1);var d,v,y;return f||(xt.createHTMLDocument?(f=Ot.implementation.createHTMLDocument(""),d=f.createElement("base"),d.href=Ot.location.href,f.head.appendChild(d)):f=Ot),v=qe.exec(r),y=!c&&[],v?[f.createElement(v[1])]:(v=er([r],f,y),y&&y.length&&m(y).remove(),m.merge([],v.childNodes))},m.fn.load=function(r,f,c){var d,v,y,w=this,R=r.indexOf(" ");return R>-1&&(d=_i(r.slice(R)),r=r.slice(0,R)),Nt(f)?(c=f,f=void 0):f&&typeof f=="object"&&(v="POST"),w.length>0&&m.ajax({url:r,type:v||"GET",dataType:"html",data:f}).done(function(S){y=arguments,w.html(d?m("<div>").append(m.parseHTML(S)).find(d):S)}).always(c&&function(S,U){w.each(function(){c.apply(this,y||[S.responseText,U,S])})}),this},m.expr.pseudos.animated=function(r){return m.grep(m.timers,function(f){return r===f.elem}).length},m.offset={setOffset:function(r,f,c){var d,v,y,w,R,S,U,ot=m.css(r,"position"),lt=m(r),it={};ot==="static"&&(r.style.position="relative"),R=lt.offset(),y=m.css(r,"top"),S=m.css(r,"left"),U=(ot==="absolute"||ot==="fixed")&&(y+S).indexOf("auto")>-1,U?(d=lt.position(),w=d.top,v=d.left):(w=parseFloat(y)||0,v=parseFloat(S)||0),Nt(f)&&(f=f.call(r,c,m.extend({},R))),f.top!=null&&(it.top=f.top-R.top+w),f.left!=null&&(it.left=f.left-R.left+v),"using"in f?f.using.call(r,it):lt.css(it)}},m.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(v){m.offset.setOffset(this,r,v)});var f,c,d=this[0];if(d)return d.getClientRects().length?(f=d.getBoundingClientRect(),c=d.ownerDocument.defaultView,{top:f.top+c.pageYOffset,left:f.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var r,f,c,d=this[0],v={top:0,left:0};if(m.css(d,"position")==="fixed")f=d.getBoundingClientRect();else{for(f=this.offset(),c=d.ownerDocument,r=d.offsetParent||c.documentElement;r&&(r===c.body||r===c.documentElement)&&m.css(r,"position")==="static";)r=r.parentNode;r&&r!==d&&r.nodeType===1&&(v=m(r).offset(),v.top+=m.css(r,"borderTopWidth",!0),v.left+=m.css(r,"borderLeftWidth",!0))}return{top:f.top-v.top-m.css(d,"marginTop",!0),left:f.left-v.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&m.css(r,"position")==="static";)r=r.offsetParent;return r||Gi})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,f){var c=f==="pageYOffset";m.fn[r]=function(d){return Li(this,function(v,y,w){var R;if(_a(v)?R=v:v.nodeType===9&&(R=v.defaultView),w===void 0)return R?R[f]:v[y];R?R.scrollTo(c?R.pageXOffset:w,c?w:R.pageYOffset):v[y]=w},r,d,arguments.length)}}),m.each(["top","left"],function(r,f){m.cssHooks[f]=fr(xt.pixelPosition,function(c,d){if(d)return d=oa(c,f),Pn.test(d)?m(c).position()[f]+"px":d})}),m.each({Height:"height",Width:"width"},function(r,f){m.each({padding:"inner"+r,content:f,"":"outer"+r},function(c,d){m.fn[d]=function(v,y){var w=arguments.length&&(c||typeof v!="boolean"),R=c||(v===!0||y===!0?"margin":"border");return Li(this,function(S,U,ot){var lt;return _a(S)?d.indexOf("outer")===0?S["inner"+r]:S.document.documentElement["client"+r]:S.nodeType===9?(lt=S.documentElement,Math.max(S.body["scroll"+r],lt["scroll"+r],S.body["offset"+r],lt["offset"+r],lt["client"+r])):ot===void 0?m.css(S,U,R):m.style(S,U,ot,R)},f,w?v:void 0,w)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,f){m.fn[f]=function(c){return this.on(f,c)}}),m.fn.extend({bind:function(r,f,c){return this.on(r,null,f,c)},unbind:function(r,f){return this.off(r,null,f)},delegate:function(r,f,c,d){return this.on(f,r,c,d)},undelegate:function(r,f,c){return arguments.length===1?this.off(r,"**"):this.off(f,r||"**",c)},hover:function(r,f){return this.on("mouseenter",r).on("mouseleave",f||r)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,f){m.fn[f]=function(c,d){return arguments.length>0?this.on(f,null,c,d):this.trigger(f)}});var qn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;m.proxy=function(r,f){var c,d,v;if(typeof f=="string"&&(c=r[f],f=r,r=c),!!Nt(r))return d=dt.call(arguments,2),v=function(){return r.apply(f||this,d.concat(dt.call(arguments)))},v.guid=r.guid=r.guid||m.guid++,v},m.holdReady=function(r){r?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=le,m.isFunction=Nt,m.isWindow=_a,m.camelCase=gi,m.type=Si,m.now=Date.now,m.isNumeric=function(r){var f=m.type(r);return(f==="number"||f==="string")&&!isNaN(r-parseFloat(r))},m.trim=function(r){return r==null?"":(r+"").replace(qn,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return m});var Ea=j.jQuery,Tr=j.$;return m.noConflict=function(r){return j.$===m&&(j.$=Tr),r&&j.jQuery===m&&(j.jQuery=Ea),m},typeof st>"u"&&(j.jQuery=j.$=m),m})});var es=jr((ql,js)=>{js.exports="https://mrt-map.github.io/map/marker-icon-2x-SP63CLEO.png"});var is=jr((Gl,qs)=>{qs.exports="https://mrt-map.github.io/map/marker-icon-2V3QKKVC.png"});var as=jr((Zl,Gs)=>{Gs.exports="https://mrt-map.github.io/map/marker-shadow-MEXDWUU7.png"});var Eo=ga(Wa(),1);var qr=ga(Wa(),1),yo=class extends qr.default.TileLayer{getTileUrl(st){let Y=2**(8-st.z),mt=st.x*1,dt=st.y*-1,Qt={x:Math.floor(mt*Y/32),y:Math.floor(dt*Y/32)},X={x:Math.floor(mt*Y),y:Math.floor(dt*Y)},je="";for(let ce=8;ce>st.z;ce--)je+="z";return je.length!=0&&(je+="_"),`https://dynmap.minecartrapidtransit.net/main/tiles/new/flat/${Qt.x}_${Qt.y}/${je}${X.x}_${X.y}.png`}},Rs=function(j,st){return new yo(j,st)};function zo(){let j=qr.default.map("map",{crs:qr.default.CRS.Simple,preferCanvas:!0}).setView([0,0],8);return Rs("unused url; check custom function",{maxZoom:8,id:"map",tileSize:128,zoomOffset:0,noWrap:!0,bounds:[[-900,-900],[900,900]],attribution:"Minecart Rapid Transit"}).addTo(j),qr.default.control.zoom({position:"topright"}).addTo(j),j}(()=>{var j=Object.create,st=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,mt=Object.getOwnPropertyNames,dt=Object.getPrototypeOf,Qt=Object.prototype.hasOwnProperty,X=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),je=(e,i,n,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let l of mt(i))!Qt.call(e,l)&&l!==n&&st(e,l,{get:()=>i[l],enumerable:!(o=Y(i,l))||o.enumerable});return e},Te=(e,i,n)=>(n=e!=null?j(dt(e)):{},je(i||!e||!e.__esModule?st(n,"default",{value:e,enumerable:!0}):n,e)),ce=X((e,i)=>{function n(){this.__data__=[],this.size=0}i.exports=n}),Se=X((e,i)=>{function n(o,l){return o===l||o!==o&&l!==l}i.exports=n}),Ji=X((e,i)=>{var n=Se();function o(l,h){for(var p=l.length;p--;)if(n(l[p][0],h))return p;return-1}i.exports=o}),Qi=X((e,i)=>{var n=Ji(),o=Array.prototype,l=o.splice;function h(p){var _=this.__data__,x=n(_,p);if(x<0)return!1;var k=_.length-1;return x==k?_.pop():l.call(_,x,1),--this.size,!0}i.exports=h}),xt=X((e,i)=>{var n=Ji();function o(l){var h=this.__data__,p=n(h,l);return p<0?void 0:h[p][1]}i.exports=o}),Nt=X((e,i)=>{var n=Ji();function o(l){return n(this.__data__,l)>-1}i.exports=o}),_a=X((e,i)=>{var n=Ji();function o(l,h){var p=this.__data__,_=n(p,l);return _<0?(++this.size,p.push([l,h])):p[_][1]=h,this}i.exports=o}),Ot=X((e,i)=>{var n=ce(),o=Qi(),l=xt(),h=Nt(),p=_a();function _(x){var k=-1,O=x==null?0:x.length;for(this.clear();++k<O;){var I=x[k];this.set(I[0],I[1])}}_.prototype.clear=n,_.prototype.delete=o,_.prototype.get=l,_.prototype.has=h,_.prototype.set=p,i.exports=_}),mi=X((e,i)=>{var n=Ot();function o(){this.__data__=new n,this.size=0}i.exports=o}),Ka=X((e,i)=>{function n(o){var l=this.__data__,h=l.delete(o);return this.size=l.size,h}i.exports=n}),Si=X((e,i)=>{function n(o){return this.__data__.get(o)}i.exports=n}),$a=X((e,i)=>{function n(o){return this.__data__.has(o)}i.exports=n}),xn=X((e,i)=>{var n=typeof global=="object"&&global&&global.Object===Object&&global;i.exports=n}),m=X((e,i)=>{var n=xn(),o=typeof self=="object"&&self&&self.Object===Object&&self,l=n||o||Function("return this")();i.exports=l}),ta=X((e,i)=>{var n=m(),o=n.Symbol;i.exports=o}),le=X((e,i)=>{var n=ta(),o=Object.prototype,l=o.hasOwnProperty,h=o.toString,p=n?n.toStringTag:void 0;function _(x){var k=l.call(x,p),O=x[p];try{x[p]=void 0;var I=!0}catch{}var tt=h.call(x);return I&&(k?x[p]=O:delete x[p]),tt}i.exports=_}),Ke=X((e,i)=>{var n=Object.prototype,o=n.toString;function l(h){return o.call(h)}i.exports=l}),Fe=X((e,i)=>{var n=ta(),o=le(),l=Ke(),h="[object Null]",p="[object Undefined]",_=n?n.toStringTag:void 0;function x(k){return k==null?k===void 0?p:h:_&&_ in Object(k)?o(k):l(k)}i.exports=x}),ea=X((e,i)=>{function n(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}i.exports=n}),Ht=X((e,i)=>{var n=Fe(),o=ea(),l="[object AsyncFunction]",h="[object Function]",p="[object GeneratorFunction]",_="[object Proxy]";function x(k){if(!o(k))return!1;var O=n(k);return O==h||O==p||O==l||O==_}i.exports=x}),Da=X((e,i)=>{var n=m(),o=n["__core-js_shared__"];i.exports=o}),Je=X((e,i)=>{var n=Da(),o=function(){var h=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}();function l(h){return!!o&&o in h}i.exports=l}),Oa=X((e,i)=>{var n=Function.prototype,o=n.toString;function l(h){if(h!=null){try{return o.call(h)}catch{}try{return h+""}catch{}}return""}i.exports=l}),Tt=X((e,i)=>{var n=Ht(),o=Je(),l=ea(),h=Oa(),p=/[\\^$.*+?()[\]{}|]/g,_=/^\[object .+?Constructor\]$/,x=Function.prototype,k=Object.prototype,O=x.toString,I=k.hasOwnProperty,tt=RegExp("^"+O.call(I).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V(ut){if(!l(ut)||o(ut))return!1;var gt=n(ut)?tt:_;return gt.test(h(ut))}i.exports=V}),Ya=X((e,i)=>{function n(o,l){return o?.[l]}i.exports=n}),Pt=X((e,i)=>{var n=Tt(),o=Ya();function l(h,p){var _=o(h,p);return n(_)?_:void 0}i.exports=l}),de=X((e,i)=>{var n=Pt(),o=m(),l=n(o,"Map");i.exports=l}),Ee=X((e,i)=>{var n=Pt(),o=n(Object,"create");i.exports=o}),qe=X((e,i)=>{var n=Ee();function o(){this.__data__=n?n(null):{},this.size=0}i.exports=o}),ye=X((e,i)=>{function n(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}i.exports=n}),ne=X((e,i)=>{var n=Ee(),o="__lodash_hash_undefined__",l=Object.prototype,h=l.hasOwnProperty;function p(_){var x=this.__data__;if(n){var k=x[_];return k===o?void 0:k}return h.call(x,_)?x[_]:void 0}i.exports=p}),Xt=X((e,i)=>{var n=Ee(),o=Object.prototype,l=o.hasOwnProperty;function h(p){var _=this.__data__;return n?_[p]!==void 0:l.call(_,p)}i.exports=h}),Di=X((e,i)=>{var n=Ee(),o="__lodash_hash_undefined__";function l(h,p){var _=this.__data__;return this.size+=this.has(h)?0:1,_[h]=n&&p===void 0?o:p,this}i.exports=l}),ji=X((e,i)=>{var n=qe(),o=ye(),l=ne(),h=Xt(),p=Di();function _(x){var k=-1,O=x==null?0:x.length;for(this.clear();++k<O;){var I=x[k];this.set(I[0],I[1])}}_.prototype.clear=n,_.prototype.delete=o,_.prototype.get=l,_.prototype.has=h,_.prototype.set=p,i.exports=_}),Kn=X((e,i)=>{var n=ji(),o=Ot(),l=de();function h(){this.size=0,this.__data__={hash:new n,map:new(l||o),string:new n}}i.exports=h}),Xa=X((e,i)=>{function n(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}i.exports=n}),Ge=X((e,i)=>{var n=Xa();function o(l,h){var p=l.__data__;return n(h)?p[typeof h=="string"?"string":"hash"]:p.map}i.exports=o}),Ra=X((e,i)=>{var n=Ge();function o(l){var h=n(this,l).delete(l);return this.size-=h?1:0,h}i.exports=o}),qi=X((e,i)=>{var n=Ge();function o(l){return n(this,l).get(l)}i.exports=o}),Ja=X((e,i)=>{var n=Ge();function o(l){return n(this,l).has(l)}i.exports=o}),wn=X((e,i)=>{var n=Ge();function o(l,h){var p=n(this,l),_=p.size;return p.set(l,h),this.size+=p.size==_?0:1,this}i.exports=o}),Ln=X((e,i)=>{var n=Kn(),o=Ra(),l=qi(),h=Ja(),p=wn();function _(x){var k=-1,O=x==null?0:x.length;for(this.clear();++k<O;){var I=x[k];this.set(I[0],I[1])}}_.prototype.clear=n,_.prototype.delete=o,_.prototype.get=l,_.prototype.has=h,_.prototype.set=p,i.exports=_}),Fa=X((e,i)=>{var n=Ot(),o=de(),l=Ln(),h=200;function p(_,x){var k=this.__data__;if(k instanceof n){var O=k.__data__;if(!o||O.length<h-1)return O.push([_,x]),this.size=++k.size,this;k=this.__data__=new l(O)}return k.set(_,x),this.size=k.size,this}i.exports=p}),ia=X((e,i)=>{var n=Ot(),o=mi(),l=Ka(),h=Si(),p=$a(),_=Fa();function x(k){var O=this.__data__=new n(k);this.size=O.size}x.prototype.clear=o,x.prototype.delete=l,x.prototype.get=h,x.prototype.has=p,x.prototype.set=_,i.exports=x}),Li=X((e,i)=>{var n=Pt(),o=function(){try{var l=n(Object,"defineProperty");return l({},"",{}),l}catch{}}();i.exports=o}),Qa=X((e,i)=>{var n=Li();function o(l,h,p){h=="__proto__"&&n?n(l,h,{configurable:!0,enumerable:!0,value:p,writable:!0}):l[h]=p}i.exports=o}),tn=X((e,i)=>{var n=Qa(),o=Se();function l(h,p,_){(_!==void 0&&!o(h[p],_)||_===void 0&&!(p in h))&&n(h,p,_)}i.exports=l}),$n=X((e,i)=>{function n(o){return function(l,h,p){for(var _=-1,x=Object(l),k=p(l),O=k.length;O--;){var I=k[o?O:++_];if(h(x[I],I,x)===!1)break}return l}}i.exports=n}),gi=X((e,i)=>{var n=$n(),o=n();i.exports=o}),Ia=X((e,i)=>{var n=m(),o=typeof e=="object"&&e&&!e.nodeType&&e,l=o&&typeof i=="object"&&i&&!i.nodeType&&i,h=l&&l.exports===o,p=h?n.Buffer:void 0,_=p?p.allocUnsafe:void 0;function x(k,O){if(O)return k.slice();var I=k.length,tt=_?_(I):new k.constructor(I);return k.copy(tt),tt}i.exports=x}),za=X((e,i)=>{var n=m(),o=n.Uint8Array;i.exports=o}),Ct=X((e,i)=>{var n=za();function o(l){var h=new l.constructor(l.byteLength);return new n(h).set(new n(l)),h}i.exports=o}),Ze=X((e,i)=>{var n=Ct();function o(l,h){var p=h?n(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.length)}i.exports=o}),Yn=X((e,i)=>{function n(o,l){var h=-1,p=o.length;for(l||(l=Array(p));++h<p;)l[h]=o[h];return l}i.exports=n}),Br=X((e,i)=>{var n=ea(),o=Object.create,l=function(){function h(){}return function(p){if(!n(p))return{};if(o)return o(p);h.prototype=p;var _=new h;return h.prototype=void 0,_}}();i.exports=l}),Xn=X((e,i)=>{function n(o,l){return function(h){return o(l(h))}}i.exports=n}),en=X((e,i)=>{var n=Xn(),o=n(Object.getPrototypeOf,Object);i.exports=o}),kn=X((e,i)=>{var n=Object.prototype;function o(l){var h=l&&l.constructor,p=typeof h=="function"&&h.prototype||n;return l===p}i.exports=o}),ya=X((e,i)=>{var n=Br(),o=en(),l=kn();function h(p){return typeof p.constructor=="function"&&!l(p)?n(o(p)):{}}i.exports=h}),Ie=X((e,i)=>{function n(o){return o!=null&&typeof o=="object"}i.exports=n}),Gi=X((e,i)=>{var n=Fe(),o=Ie(),l="[object Arguments]";function h(p){return o(p)&&n(p)==l}i.exports=h}),aa=X((e,i)=>{var n=Gi(),o=Ie(),l=Object.prototype,h=l.hasOwnProperty,p=l.propertyIsEnumerable,_=n(function(){return arguments}())?n:function(x){return o(x)&&h.call(x,"callee")&&!p.call(x,"callee")};i.exports=_}),Oi=X((e,i)=>{var n=Array.isArray;i.exports=n}),Na=X((e,i)=>{var n=9007199254740991;function o(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=n}i.exports=o}),an=X((e,i)=>{var n=Ht(),o=Na();function l(h){return h!=null&&o(h.length)&&!n(h)}i.exports=l}),Cn=X((e,i)=>{var n=an(),o=Ie();function l(h){return o(h)&&n(h)}i.exports=l}),Jn=X((e,i)=>{function n(){return!1}i.exports=n}),Zi=X((e,i)=>{var n=m(),o=Jn(),l=typeof e=="object"&&e&&!e.nodeType&&e,h=l&&typeof i=="object"&&i&&!i.nodeType&&i,p=h&&h.exports===l,_=p?n.Buffer:void 0,x=_?_.isBuffer:void 0,k=x||o;i.exports=k}),ja=X((e,i)=>{var n=Fe(),o=en(),l=Ie(),h="[object Object]",p=Function.prototype,_=Object.prototype,x=p.toString,k=_.hasOwnProperty,O=x.call(Object);function I(tt){if(!l(tt)||n(tt)!=h)return!1;var V=o(tt);if(V===null)return!0;var ut=k.call(V,"constructor")&&V.constructor;return typeof ut=="function"&&ut instanceof ut&&x.call(ut)==O}i.exports=I}),Qn=X((e,i)=>{var n=Fe(),o=Na(),l=Ie(),h="[object Arguments]",p="[object Array]",_="[object Boolean]",x="[object Date]",k="[object Error]",O="[object Function]",I="[object Map]",tt="[object Number]",V="[object Object]",ut="[object RegExp]",gt="[object Set]",kt="[object String]",ee="[object WeakMap]",D="[object ArrayBuffer]",z="[object DataView]",H="[object Float32Array]",nt="[object Float64Array]",W="[object Int8Array]",et="[object Int16Array]",b="[object Int32Array]",M="[object Uint8Array]",B="[object Uint8ClampedArray]",E="[object Uint16Array]",P="[object Uint32Array]",A={};A[H]=A[nt]=A[W]=A[et]=A[b]=A[M]=A[B]=A[E]=A[P]=!0,A[h]=A[p]=A[D]=A[_]=A[z]=A[x]=A[k]=A[O]=A[I]=A[tt]=A[V]=A[ut]=A[gt]=A[kt]=A[ee]=!1;function q(N){return l(N)&&o(N.length)&&!!A[n(N)]}i.exports=q}),tr=X((e,i)=>{function n(o){return function(l){return o(l)}}i.exports=n}),ri=X((e,i)=>{var n=xn(),o=typeof e=="object"&&e&&!e.nodeType&&e,l=o&&typeof i=="object"&&i&&!i.nodeType&&i,h=l&&l.exports===o,p=h&&n.process,_=function(){try{var x=l&&l.require&&l.require("util").types;return x||p&&p.binding&&p.binding("util")}catch{}}();i.exports=_}),Ue=X((e,i)=>{var n=Qn(),o=tr(),l=ri(),h=l&&l.isTypedArray,p=h?o(h):n;i.exports=p}),nn=X((e,i)=>{function n(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}i.exports=n}),Mn=X((e,i)=>{var n=Qa(),o=Se(),l=Object.prototype,h=l.hasOwnProperty;function p(_,x,k){var O=_[x];(!(h.call(_,x)&&o(O,k))||k===void 0&&!(x in _))&&n(_,x,k)}i.exports=p}),er=X((e,i)=>{var n=Mn(),o=Qa();function l(h,p,_,x){var k=!_;_||(_={});for(var O=-1,I=p.length;++O<I;){var tt=p[O],V=x?x(_[tt],h[tt],tt,_,h):void 0;V===void 0&&(V=h[tt]),k?o(_,tt,V):n(_,tt,V)}return _}i.exports=l}),ir=X((e,i)=>{function n(o,l){for(var h=-1,p=Array(o);++h<o;)p[h]=l(h);return p}i.exports=n}),na=X((e,i)=>{var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function l(h,p){var _=typeof h;return p=p??n,!!p&&(_=="number"||_!="symbol"&&o.test(h))&&h>-1&&h%1==0&&h<p}i.exports=l}),va=X((e,i)=>{var n=ir(),o=aa(),l=Oi(),h=Zi(),p=na(),_=Ue(),x=Object.prototype,k=x.hasOwnProperty;function O(I,tt){var V=l(I),ut=!V&&o(I),gt=!V&&!ut&&h(I),kt=!V&&!ut&&!gt&&_(I),ee=V||ut||gt||kt,D=ee?n(I.length,String):[],z=D.length;for(var H in I)(tt||k.call(I,H))&&!(ee&&(H=="length"||gt&&(H=="offset"||H=="parent")||kt&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||p(H,z)))&&D.push(H);return D}i.exports=O}),oi=X((e,i)=>{function n(o){var l=[];if(o!=null)for(var h in Object(o))l.push(h);return l}i.exports=n}),Mt=X((e,i)=>{var n=ea(),o=kn(),l=oi(),h=Object.prototype,p=h.hasOwnProperty;function _(x){if(!n(x))return l(x);var k=o(x),O=[];for(var I in x)I=="constructor"&&(k||!p.call(x,I))||O.push(I);return O}i.exports=_}),En=X((e,i)=>{var n=va(),o=Mt(),l=an();function h(p){return l(p)?n(p,!0):o(p)}i.exports=h}),ar=X((e,i)=>{var n=er(),o=En();function l(h){return n(h,o(h))}i.exports=l}),nr=X((e,i)=>{var n=tn(),o=Ia(),l=Ze(),h=Yn(),p=ya(),_=aa(),x=Oi(),k=Cn(),O=Zi(),I=Ht(),tt=ea(),V=ja(),ut=Ue(),gt=nn(),kt=ar();function ee(D,z,H,nt,W,et,b){var M=gt(D,H),B=gt(z,H),E=b.get(B);if(E){n(D,H,E);return}var P=et?et(M,B,H+"",D,z,b):void 0,A=P===void 0;if(A){var q=x(B),N=!q&&O(B),Z=!q&&!N&&ut(B);P=B,q||N||Z?x(M)?P=M:k(M)?P=h(M):N?(A=!1,P=o(B,!0)):Z?(A=!1,P=l(B,!0)):P=[]:V(B)||_(B)?(P=M,_(M)?P=kt(M):(!tt(M)||I(M))&&(P=p(B))):A=!1}A&&(b.set(B,P),W(P,B,nt,et,b),b.delete(B)),n(D,H,P)}i.exports=ee}),Bn=X((e,i)=>{var n=ia(),o=tn(),l=gi(),h=nr(),p=ea(),_=En(),x=nn();function k(O,I,tt,V,ut){O!==I&&l(I,function(gt,kt){if(ut||(ut=new n),p(gt))h(O,I,kt,tt,k,V,ut);else{var ee=V?V(x(O,kt),gt,kt+"",O,I,ut):void 0;ee===void 0&&(ee=gt),o(O,kt,ee)}},_)}i.exports=k}),rn=X((e,i)=>{function n(o){return o}i.exports=n}),rr=X((e,i)=>{function n(o,l,h){switch(h.length){case 0:return o.call(l);case 1:return o.call(l,h[0]);case 2:return o.call(l,h[0],h[1]);case 3:return o.call(l,h[0],h[1],h[2])}return o.apply(l,h)}i.exports=n}),ra=X((e,i)=>{var n=rr(),o=Math.max;function l(h,p,_){return p=o(p===void 0?h.length-1:p,0),function(){for(var x=arguments,k=-1,O=o(x.length-p,0),I=Array(O);++k<O;)I[k]=x[p+k];k=-1;for(var tt=Array(p+1);++k<p;)tt[k]=x[k];return tt[p]=_(I),n(h,this,tt)}}i.exports=l}),or=X((e,i)=>{function n(o){return function(){return o}}i.exports=n}),ba=X((e,i)=>{var n=or(),o=Li(),l=rn(),h=o?function(p,_){return o(p,"toString",{configurable:!0,enumerable:!1,value:n(_),writable:!0})}:l;i.exports=h}),sr=X((e,i)=>{var n=800,o=16,l=Date.now;function h(p){var _=0,x=0;return function(){var k=l(),O=o-(k-x);if(x=k,O>0){if(++_>=n)return arguments[0]}else _=0;return p.apply(void 0,arguments)}}i.exports=h}),Pn=X((e,i)=>{var n=ba(),o=sr(),l=o(n);i.exports=l}),An=X((e,i)=>{var n=rn(),o=ra(),l=Pn();function h(p,_){return l(o(p,_,n),p+"")}i.exports=h}),qa=X((e,i)=>{var n=Se(),o=an(),l=na(),h=ea();function p(_,x,k){if(!h(k))return!1;var O=typeof x;return(O=="number"?o(k)&&l(x,k.length):O=="string"&&x in k)?n(k[x],_):!1}i.exports=p}),lr=X((e,i)=>{var n=An(),o=qa();function l(h){return n(function(p,_){var x=-1,k=_.length,O=k>1?_[k-1]:void 0,I=k>2?_[2]:void 0;for(O=h.length>3&&typeof O=="function"?(k--,O):void 0,I&&o(_[0],_[1],I)&&(O=k<3?void 0:O,k=1),p=Object(p);++x<k;){var tt=_[x];tt&&h(p,tt,x,O)}return p})}i.exports=l}),xa=X((e,i)=>{var n=Bn(),o=lr(),l=o(function(h,p,_){n(h,p,_)});i.exports=l}),oa=X((e,i)=>{var n=Fe(),o=Ie(),l="[object Symbol]";function h(p){return typeof p=="symbol"||o(p)&&n(p)==l}i.exports=h}),fr=X((e,i)=>{var n=Oi(),o=oa(),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;function p(_,x){if(n(_))return!1;var k=typeof _;return k=="number"||k=="symbol"||k=="boolean"||_==null||o(_)?!0:h.test(_)||!l.test(_)||x!=null&&_ in Object(x)}i.exports=p}),ur=X((e,i)=>{var n=Ln(),o="Expected a function";function l(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new TypeError(o);var _=function(){var x=arguments,k=p?p.apply(this,x):x[0],O=_.cache;if(O.has(k))return O.get(k);var I=h.apply(this,x);return _.cache=O.set(k,I)||O,I};return _.cache=new(l.Cache||n),_}l.Cache=n,i.exports=l}),hr=X((e,i)=>{var n=ur(),o=500;function l(h){var p=n(h,function(x){return _.size===o&&_.clear(),x}),_=p.cache;return p}i.exports=l}),cr=X((e,i)=>{var n=hr(),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,h=n(function(p){var _=[];return p.charCodeAt(0)===46&&_.push(""),p.replace(o,function(x,k,O,I){_.push(O?I.replace(l,"$1"):k||x)}),_});i.exports=h}),Tn=X((e,i)=>{function n(o,l){for(var h=-1,p=o==null?0:o.length,_=Array(p);++h<p;)_[h]=l(o[h],h,o);return _}i.exports=n}),sa=X((e,i)=>{var n=ta(),o=Tn(),l=Oi(),h=oa(),p=1/0,_=n?n.prototype:void 0,x=_?_.toString:void 0;function k(O){if(typeof O=="string")return O;if(l(O))return o(O,k)+"";if(h(O))return x?x.call(O):"";var I=O+"";return I=="0"&&1/O==-p?"-0":I}i.exports=k}),dr=X((e,i)=>{var n=sa();function o(l){return l==null?"":n(l)}i.exports=o}),pr=X((e,i)=>{var n=Oi(),o=fr(),l=cr(),h=dr();function p(_,x){return n(_)?_:o(_,x)?[_]:l(h(_))}i.exports=p}),wa=X((e,i)=>{var n=oa(),o=1/0;function l(h){if(typeof h=="string"||n(h))return h;var p=h+"";return p=="0"&&1/h==-o?"-0":p}i.exports=l}),te=X((e,i)=>{var n=pr(),o=wa();function l(h,p){p=n(p,h);for(var _=0,x=p.length;h!=null&&_<x;)h=h[o(p[_++])];return _&&_==x?h:void 0}i.exports=l}),se=X((e,i)=>{var n=te();function o(l,h,p){var _=l==null?void 0:n(l,h);return _===void 0?p:_}i.exports=o}),Ga=X((e,i)=>{(function(n,o){typeof e=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(n=n||self).RBush=o()})(e,function(){"use strict";function n(D,z,H,nt,W){(function et(b,M,B,E,P){for(;E>B;){if(E-B>600){var A=E-B+1,q=M-B+1,N=Math.log(A),Z=.5*Math.exp(2*N/3),$=.5*Math.sqrt(N*Z*(A-Z)/A)*(q-A/2<0?-1:1),K=Math.max(B,Math.floor(M-q*Z/A+$)),ht=Math.min(E,Math.floor(M+(A-q)*Z/A+$));et(b,M,K,ht,P)}var wt=b[M],Et=B,At=E;for(o(b,B,M),P(b[E],wt)>0&&o(b,B,E);Et<At;){for(o(b,Et,At),Et++,At--;P(b[Et],wt)<0;)Et++;for(;P(b[At],wt)>0;)At--}P(b[B],wt)===0?o(b,B,At):o(b,++At,E),At<=M&&(B=At+1),M<=At&&(E=At-1)}})(D,z,H||0,nt||D.length-1,W||l)}function o(D,z,H){var nt=D[z];D[z]=D[H],D[H]=nt}function l(D,z){return D<z?-1:D>z?1:0}var h=function(D){D===void 0&&(D=9),this._maxEntries=Math.max(4,D),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function p(D,z,H){if(!H)return z.indexOf(D);for(var nt=0;nt<z.length;nt++)if(H(D,z[nt]))return nt;return-1}function _(D,z){x(D,0,D.children.length,z,D)}function x(D,z,H,nt,W){W||(W=kt(null)),W.minX=1/0,W.minY=1/0,W.maxX=-1/0,W.maxY=-1/0;for(var et=z;et<H;et++){var b=D.children[et];k(W,D.leaf?nt(b):b)}return W}function k(D,z){return D.minX=Math.min(D.minX,z.minX),D.minY=Math.min(D.minY,z.minY),D.maxX=Math.max(D.maxX,z.maxX),D.maxY=Math.max(D.maxY,z.maxY),D}function O(D,z){return D.minX-z.minX}function I(D,z){return D.minY-z.minY}function tt(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function V(D){return D.maxX-D.minX+(D.maxY-D.minY)}function ut(D,z){return D.minX<=z.minX&&D.minY<=z.minY&&z.maxX<=D.maxX&&z.maxY<=D.maxY}function gt(D,z){return z.minX<=D.maxX&&z.minY<=D.maxY&&z.maxX>=D.minX&&z.maxY>=D.minY}function kt(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ee(D,z,H,nt,W){for(var et=[z,H];et.length;)if(!((H=et.pop())-(z=et.pop())<=nt)){var b=z+Math.ceil((H-z)/nt/2)*nt;n(D,b,z,H,W),et.push(z,b,b,H)}}return h.prototype.all=function(){return this._all(this.data,[])},h.prototype.search=function(D){var z=this.data,H=[];if(!gt(D,z))return H;for(var nt=this.toBBox,W=[];z;){for(var et=0;et<z.children.length;et++){var b=z.children[et],M=z.leaf?nt(b):b;gt(D,M)&&(z.leaf?H.push(b):ut(D,M)?this._all(b,H):W.push(b))}z=W.pop()}return H},h.prototype.collides=function(D){var z=this.data;if(!gt(D,z))return!1;for(var H=[];z;){for(var nt=0;nt<z.children.length;nt++){var W=z.children[nt],et=z.leaf?this.toBBox(W):W;if(gt(D,et)){if(z.leaf||ut(D,et))return!0;H.push(W)}}z=H.pop()}return!1},h.prototype.load=function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var z=0;z<D.length;z++)this.insert(D[z]);return this}var H=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===H.height)this._splitRoot(this.data,H);else{if(this.data.height<H.height){var nt=this.data;this.data=H,H=nt}this._insert(H,this.data.height-H.height-1,!0)}else this.data=H;return this},h.prototype.insert=function(D){return D&&this._insert(D,this.data.height-1),this},h.prototype.clear=function(){return this.data=kt([]),this},h.prototype.remove=function(D,z){if(!D)return this;for(var H,nt,W,et=this.data,b=this.toBBox(D),M=[],B=[];et||M.length;){if(et||(et=M.pop(),nt=M[M.length-1],H=B.pop(),W=!0),et.leaf){var E=p(D,et.children,z);if(E!==-1)return et.children.splice(E,1),M.push(et),this._condense(M),this}W||et.leaf||!ut(et,b)?nt?(H++,et=nt.children[H],W=!1):et=null:(M.push(et),B.push(H),H=0,nt=et,et=et.children[0])}return this},h.prototype.toBBox=function(D){return D},h.prototype.compareMinX=function(D,z){return D.minX-z.minX},h.prototype.compareMinY=function(D,z){return D.minY-z.minY},h.prototype.toJSON=function(){return this.data},h.prototype.fromJSON=function(D){return this.data=D,this},h.prototype._all=function(D,z){for(var H=[];D;)D.leaf?z.push.apply(z,D.children):H.push.apply(H,D.children),D=H.pop();return z},h.prototype._build=function(D,z,H,nt){var W,et=H-z+1,b=this._maxEntries;if(et<=b)return _(W=kt(D.slice(z,H+1)),this.toBBox),W;nt||(nt=Math.ceil(Math.log(et)/Math.log(b)),b=Math.ceil(et/Math.pow(b,nt-1))),(W=kt([])).leaf=!1,W.height=nt;var M=Math.ceil(et/b),B=M*Math.ceil(Math.sqrt(b));ee(D,z,H,B,this.compareMinX);for(var E=z;E<=H;E+=B){var P=Math.min(E+B-1,H);ee(D,E,P,M,this.compareMinY);for(var A=E;A<=P;A+=M){var q=Math.min(A+M-1,P);W.children.push(this._build(D,A,q,nt-1))}}return _(W,this.toBBox),W},h.prototype._chooseSubtree=function(D,z,H,nt){for(;nt.push(z),!z.leaf&&nt.length-1!==H;){for(var W=1/0,et=1/0,b=void 0,M=0;M<z.children.length;M++){var B=z.children[M],E=tt(B),P=(A=D,q=B,(Math.max(q.maxX,A.maxX)-Math.min(q.minX,A.minX))*(Math.max(q.maxY,A.maxY)-Math.min(q.minY,A.minY))-E);P<et?(et=P,W=E<W?E:W,b=B):P===et&&E<W&&(W=E,b=B)}z=b||z.children[0]}var A,q;return z},h.prototype._insert=function(D,z,H){var nt=H?D:this.toBBox(D),W=[],et=this._chooseSubtree(nt,this.data,z,W);for(et.children.push(D),k(et,nt);z>=0&&W[z].children.length>this._maxEntries;)this._split(W,z),z--;this._adjustParentBBoxes(nt,W,z)},h.prototype._split=function(D,z){var H=D[z],nt=H.children.length,W=this._minEntries;this._chooseSplitAxis(H,W,nt);var et=this._chooseSplitIndex(H,W,nt),b=kt(H.children.splice(et,H.children.length-et));b.height=H.height,b.leaf=H.leaf,_(H,this.toBBox),_(b,this.toBBox),z?D[z-1].children.push(b):this._splitRoot(H,b)},h.prototype._splitRoot=function(D,z){this.data=kt([D,z]),this.data.height=D.height+1,this.data.leaf=!1,_(this.data,this.toBBox)},h.prototype._chooseSplitIndex=function(D,z,H){for(var nt,W,et,b,M,B,E,P=1/0,A=1/0,q=z;q<=H-z;q++){var N=x(D,0,q,this.toBBox),Z=x(D,q,H,this.toBBox),$=(W=N,et=Z,b=void 0,M=void 0,B=void 0,E=void 0,b=Math.max(W.minX,et.minX),M=Math.max(W.minY,et.minY),B=Math.min(W.maxX,et.maxX),E=Math.min(W.maxY,et.maxY),Math.max(0,B-b)*Math.max(0,E-M)),K=tt(N)+tt(Z);$<P?(P=$,nt=q,A=K<A?K:A):$===P&&K<A&&(A=K,nt=q)}return nt||H-z},h.prototype._chooseSplitAxis=function(D,z,H){var nt=D.leaf?this.compareMinX:O,W=D.leaf?this.compareMinY:I;this._allDistMargin(D,z,H,nt)<this._allDistMargin(D,z,H,W)&&D.children.sort(nt)},h.prototype._allDistMargin=function(D,z,H,nt){D.children.sort(nt);for(var W=this.toBBox,et=x(D,0,z,W),b=x(D,H-z,H,W),M=V(et)+V(b),B=z;B<H-z;B++){var E=D.children[B];k(et,D.leaf?W(E):E),M+=V(et)}for(var P=H-z-1;P>=z;P--){var A=D.children[P];k(b,D.leaf?W(A):A),M+=V(b)}return M},h.prototype._adjustParentBBoxes=function(D,z,H){for(var nt=H;nt>=0;nt--)k(z[nt],D)},h.prototype._condense=function(D){for(var z=D.length-1,H=void 0;z>=0;z--)D[z].children.length===0?z>0?(H=D[z-1].children).splice(H.indexOf(D[z]),1):this.clear():_(D[z],this.toBBox)},h})}),Le=X(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=63710088e-1,e.factors={centimeters:e.earthRadius*100,centimetres:e.earthRadius*100,degrees:e.earthRadius/111325,feet:e.earthRadius*3.28084,inches:e.earthRadius*39.37,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:e.earthRadius*1e3,millimetres:e.earthRadius*1e3,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius*1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function i(E,P,A){A===void 0&&(A={});var q={type:"Feature"};return(A.id===0||A.id)&&(q.id=A.id),A.bbox&&(q.bbox=A.bbox),q.properties=P||{},q.geometry=E,q}e.feature=i;function n(E,P,A){switch(A===void 0&&(A={}),E){case"Point":return o(P).geometry;case"LineString":return _(P).geometry;case"Polygon":return h(P).geometry;case"MultiPoint":return I(P).geometry;case"MultiLineString":return O(P).geometry;case"MultiPolygon":return tt(P).geometry;default:throw new Error(E+" is invalid")}}e.geometry=n;function o(E,P,A){if(A===void 0&&(A={}),!E)throw new Error("coordinates is required");if(!Array.isArray(E))throw new Error("coordinates must be an Array");if(E.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!et(E[0])||!et(E[1]))throw new Error("coordinates must contain numbers");var q={type:"Point",coordinates:E};return i(q,P,A)}e.point=o;function l(E,P,A){return A===void 0&&(A={}),k(E.map(function(q){return o(q,P)}),A)}e.points=l;function h(E,P,A){A===void 0&&(A={});for(var q=0,N=E;q<N.length;q++){var Z=N[q];if(Z.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<Z[Z.length-1].length;$++)if(Z[Z.length-1][$]!==Z[0][$])throw new Error("First and last Position are not equivalent.")}var K={type:"Polygon",coordinates:E};return i(K,P,A)}e.polygon=h;function p(E,P,A){return A===void 0&&(A={}),k(E.map(function(q){return h(q,P)}),A)}e.polygons=p;function _(E,P,A){if(A===void 0&&(A={}),E.length<2)throw new Error("coordinates must be an array of two or more positions");var q={type:"LineString",coordinates:E};return i(q,P,A)}e.lineString=_;function x(E,P,A){return A===void 0&&(A={}),k(E.map(function(q){return _(q,P)}),A)}e.lineStrings=x;function k(E,P){P===void 0&&(P={});var A={type:"FeatureCollection"};return P.id&&(A.id=P.id),P.bbox&&(A.bbox=P.bbox),A.features=E,A}e.featureCollection=k;function O(E,P,A){A===void 0&&(A={});var q={type:"MultiLineString",coordinates:E};return i(q,P,A)}e.multiLineString=O;function I(E,P,A){A===void 0&&(A={});var q={type:"MultiPoint",coordinates:E};return i(q,P,A)}e.multiPoint=I;function tt(E,P,A){A===void 0&&(A={});var q={type:"MultiPolygon",coordinates:E};return i(q,P,A)}e.multiPolygon=tt;function V(E,P,A){A===void 0&&(A={});var q={type:"GeometryCollection",geometries:E};return i(q,P,A)}e.geometryCollection=V;function ut(E,P){if(P===void 0&&(P=0),P&&!(P>=0))throw new Error("precision must be a positive number");var A=Math.pow(10,P||0);return Math.round(E*A)/A}e.round=ut;function gt(E,P){P===void 0&&(P="kilometers");var A=e.factors[P];if(!A)throw new Error(P+" units is invalid");return E*A}e.radiansToLength=gt;function kt(E,P){P===void 0&&(P="kilometers");var A=e.factors[P];if(!A)throw new Error(P+" units is invalid");return E/A}e.lengthToRadians=kt;function ee(E,P){return z(kt(E,P))}e.lengthToDegrees=ee;function D(E){var P=E%360;return P<0&&(P+=360),P}e.bearingToAzimuth=D;function z(E){var P=E%(2*Math.PI);return P*180/Math.PI}e.radiansToDegrees=z;function H(E){var P=E%360;return P*Math.PI/180}e.degreesToRadians=H;function nt(E,P,A){if(P===void 0&&(P="kilometers"),A===void 0&&(A="kilometers"),!(E>=0))throw new Error("length must be a positive number");return gt(kt(E,P),A)}e.convertLength=nt;function W(E,P,A){if(P===void 0&&(P="meters"),A===void 0&&(A="kilometers"),!(E>=0))throw new Error("area must be a positive number");var q=e.areaFactors[P];if(!q)throw new Error("invalid original units");var N=e.areaFactors[A];if(!N)throw new Error("invalid final units");return E/q*N}e.convertArea=W;function et(E){return!isNaN(E)&&E!==null&&!Array.isArray(E)}e.isNumber=et;function b(E){return!!E&&E.constructor===Object}e.isObject=b;function M(E){if(!E)throw new Error("bbox is required");if(!Array.isArray(E))throw new Error("bbox must be an Array");if(E.length!==4&&E.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");E.forEach(function(P){if(!et(P))throw new Error("bbox must only contain numbers")})}e.validateBBox=M;function B(E){if(!E)throw new Error("id is required");if(["string","number"].indexOf(typeof E)===-1)throw new Error("id must be a number or a string")}e.validateId=B}),si=X(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Le();function n(z,H,nt){if(z!==null)for(var W,et,b,M,B,E,P,A=0,q=0,N,Z=z.type,$=Z==="FeatureCollection",K=Z==="Feature",ht=$?z.features.length:1,wt=0;wt<ht;wt++){P=$?z.features[wt].geometry:K?z.geometry:z,N=P?P.type==="GeometryCollection":!1,B=N?P.geometries.length:1;for(var Et=0;Et<B;Et++){var At=0,he=0;if(M=N?P.geometries[Et]:P,M!==null){E=M.coordinates;var me=M.type;switch(A=nt&&(me==="Polygon"||me==="MultiPolygon")?1:0,me){case null:break;case"Point":if(H(E,q,wt,At,he)===!1)return!1;q++,At++;break;case"LineString":case"MultiPoint":for(W=0;W<E.length;W++){if(H(E[W],q,wt,At,he)===!1)return!1;q++,me==="MultiPoint"&&At++}me==="LineString"&&At++;break;case"Polygon":case"MultiLineString":for(W=0;W<E.length;W++){for(et=0;et<E[W].length-A;et++){if(H(E[W][et],q,wt,At,he)===!1)return!1;q++}me==="MultiLineString"&&At++,me==="Polygon"&&he++}me==="Polygon"&&At++;break;case"MultiPolygon":for(W=0;W<E.length;W++){for(he=0,et=0;et<E[W].length;et++){for(b=0;b<E[W][et].length-A;b++){if(H(E[W][et][b],q,wt,At,he)===!1)return!1;q++}he++}At++}break;case"GeometryCollection":for(W=0;W<M.geometries.length;W++)if(n(M.geometries[W],H,nt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(z,H,nt,W){var et=nt;return n(z,function(b,M,B,E,P){M===0&&nt===void 0?et=b:et=H(et,b,M,B,E,P)},W),et}function l(z,H){var nt;switch(z.type){case"FeatureCollection":for(nt=0;nt<z.features.length&&H(z.features[nt].properties,nt)!==!1;nt++);break;case"Feature":H(z.properties,0);break}}function h(z,H,nt){var W=nt;return l(z,function(et,b){b===0&&nt===void 0?W=et:W=H(W,et,b)}),W}function p(z,H){if(z.type==="Feature")H(z,0);else if(z.type==="FeatureCollection")for(var nt=0;nt<z.features.length&&H(z.features[nt],nt)!==!1;nt++);}function _(z,H,nt){var W=nt;return p(z,function(et,b){b===0&&nt===void 0?W=et:W=H(W,et,b)}),W}function x(z){var H=[];return n(z,function(nt){H.push(nt)}),H}function k(z,H){var nt,W,et,b,M,B,E,P,A,q,N=0,Z=z.type==="FeatureCollection",$=z.type==="Feature",K=Z?z.features.length:1;for(nt=0;nt<K;nt++){for(B=Z?z.features[nt].geometry:$?z.geometry:z,P=Z?z.features[nt].properties:$?z.properties:{},A=Z?z.features[nt].bbox:$?z.bbox:void 0,q=Z?z.features[nt].id:$?z.id:void 0,E=B?B.type==="GeometryCollection":!1,M=E?B.geometries.length:1,et=0;et<M;et++){if(b=E?B.geometries[et]:B,b===null){if(H(null,N,P,A,q)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(H(b,N,P,A,q)===!1)return!1;break}case"GeometryCollection":{for(W=0;W<b.geometries.length;W++)if(H(b.geometries[W],N,P,A,q)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}N++}}function O(z,H,nt){var W=nt;return k(z,function(et,b,M,B,E){b===0&&nt===void 0?W=et:W=H(W,et,b,M,B,E)}),W}function I(z,H){k(z,function(nt,W,et,b,M){var B=nt===null?null:nt.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return H(i.feature(nt,et,{bbox:b,id:M}),W,0)===!1?!1:void 0}var E;switch(B){case"MultiPoint":E="Point";break;case"MultiLineString":E="LineString";break;case"MultiPolygon":E="Polygon";break}for(var P=0;P<nt.coordinates.length;P++){var A=nt.coordinates[P],q={type:E,coordinates:A};if(H(i.feature(q,et),W,P)===!1)return!1}})}function tt(z,H,nt){var W=nt;return I(z,function(et,b,M){b===0&&M===0&&nt===void 0?W=et:W=H(W,et,b,M)}),W}function V(z,H){I(z,function(nt,W,et){var b=0;if(nt.geometry){var M=nt.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var B,E=0,P=0,A=0;if(n(nt,function(q,N,Z,$,K){if(B===void 0||W>E||$>P||K>A){B=q,E=W,P=$,A=K,b=0;return}var ht=i.lineString([B,q],nt.properties);if(H(ht,W,et,K,b)===!1)return!1;b++,B=q})===!1)return!1}}})}function ut(z,H,nt){var W=nt,et=!1;return V(z,function(b,M,B,E,P){et===!1&&nt===void 0?W=b:W=H(W,b,M,B,E,P),et=!0}),W}function gt(z,H){if(!z)throw new Error("geojson is required");I(z,function(nt,W,et){if(nt.geometry!==null){var b=nt.geometry.type,M=nt.geometry.coordinates;switch(b){case"LineString":if(H(nt,W,et,0,0)===!1)return!1;break;case"Polygon":for(var B=0;B<M.length;B++)if(H(i.lineString(M[B],nt.properties),W,et,B)===!1)return!1;break}}})}function kt(z,H,nt){var W=nt;return gt(z,function(et,b,M,B){b===0&&nt===void 0?W=et:W=H(W,et,b,M,B)}),W}function ee(z,H){if(H=H||{},!i.isObject(H))throw new Error("options is invalid");var nt=H.featureIndex||0,W=H.multiFeatureIndex||0,et=H.geometryIndex||0,b=H.segmentIndex||0,M=H.properties,B;switch(z.type){case"FeatureCollection":nt<0&&(nt=z.features.length+nt),M=M||z.features[nt].properties,B=z.features[nt].geometry;break;case"Feature":M=M||z.properties,B=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":B=z;break;default:throw new Error("geojson is invalid")}if(B===null)return null;var E=B.coordinates;switch(B.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=E.length+b-1),i.lineString([E[b],E[b+1]],M,H);case"Polygon":return et<0&&(et=E.length+et),b<0&&(b=E[et].length+b-1),i.lineString([E[et][b],E[et][b+1]],M,H);case"MultiLineString":return W<0&&(W=E.length+W),b<0&&(b=E[W].length+b-1),i.lineString([E[W][b],E[W][b+1]],M,H);case"MultiPolygon":return W<0&&(W=E.length+W),et<0&&(et=E[W].length+et),b<0&&(b=E[W][et].length-b-1),i.lineString([E[W][et][b],E[W][et][b+1]],M,H)}throw new Error("geojson is invalid")}function D(z,H){if(H=H||{},!i.isObject(H))throw new Error("options is invalid");var nt=H.featureIndex||0,W=H.multiFeatureIndex||0,et=H.geometryIndex||0,b=H.coordIndex||0,M=H.properties,B;switch(z.type){case"FeatureCollection":nt<0&&(nt=z.features.length+nt),M=M||z.features[nt].properties,B=z.features[nt].geometry;break;case"Feature":M=M||z.properties,B=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":B=z;break;default:throw new Error("geojson is invalid")}if(B===null)return null;var E=B.coordinates;switch(B.type){case"Point":return i.point(E,M,H);case"MultiPoint":return W<0&&(W=E.length+W),i.point(E[W],M,H);case"LineString":return b<0&&(b=E.length+b),i.point(E[b],M,H);case"Polygon":return et<0&&(et=E.length+et),b<0&&(b=E[et].length+b),i.point(E[et][b],M,H);case"MultiLineString":return W<0&&(W=E.length+W),b<0&&(b=E[W].length+b),i.point(E[W][b],M,H);case"MultiPolygon":return W<0&&(W=E.length+W),et<0&&(et=E[W].length+et),b<0&&(b=E[W][et].length-b),i.point(E[W][et][b],M,H)}throw new Error("geojson is invalid")}e.coordAll=x,e.coordEach=n,e.coordReduce=o,e.featureEach=p,e.featureReduce=_,e.findPoint=D,e.findSegment=ee,e.flattenEach=I,e.flattenReduce=tt,e.geomEach=k,e.geomReduce=O,e.lineEach=gt,e.lineReduce=kt,e.propEach=l,e.propReduce=h,e.segmentEach=V,e.segmentReduce=ut}),La=X(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=si();function n(o){var l=[1/0,1/0,-1/0,-1/0];return i.coordEach(o,function(h){l[0]>h[0]&&(l[0]=h[0]),l[1]>h[1]&&(l[1]=h[1]),l[2]<h[0]&&(l[2]=h[0]),l[3]<h[1]&&(l[3]=h[1])}),l}n.default=n,e.default=n}),qt=X((e,i)=>{var n=Ga(),o=Le(),l=si(),h=La().default,p=l.featureEach,_=l.coordEach,x=o.polygon,k=o.featureCollection;function O(I){var tt=new n(I);return tt.insert=function(V){if(V.type!=="Feature")throw new Error("invalid feature");return V.bbox=V.bbox?V.bbox:h(V),n.prototype.insert.call(this,V)},tt.load=function(V){var ut=[];return Array.isArray(V)?V.forEach(function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:h(gt),ut.push(gt)}):p(V,function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:h(gt),ut.push(gt)}),n.prototype.load.call(this,ut)},tt.remove=function(V,ut){if(V.type!=="Feature")throw new Error("invalid feature");return V.bbox=V.bbox?V.bbox:h(V),n.prototype.remove.call(this,V,ut)},tt.clear=function(){return n.prototype.clear.call(this)},tt.search=function(V){var ut=n.prototype.search.call(this,this.toBBox(V));return k(ut)},tt.collides=function(V){return n.prototype.collides.call(this,this.toBBox(V))},tt.all=function(){var V=n.prototype.all.call(this);return k(V)},tt.toJSON=function(){return n.prototype.toJSON.call(this)},tt.fromJSON=function(V){return n.prototype.fromJSON.call(this,V)},tt.toBBox=function(V){var ut;if(V.bbox)ut=V.bbox;else if(Array.isArray(V)&&V.length===4)ut=V;else if(Array.isArray(V)&&V.length===6)ut=[V[0],V[1],V[3],V[4]];else if(V.type==="Feature")ut=h(V);else if(V.type==="FeatureCollection")ut=h(V);else throw new Error("invalid geojson");return{minX:ut[0],minY:ut[1],maxX:ut[2],maxY:ut[3]}},tt}i.exports=O,i.exports.default=O});Array.prototype.findIndex=Array.prototype.findIndex||function(e){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof e!="function")throw new TypeError("callback must be a function");for(var i=Object(this),n=i.length>>>0,o=arguments[1],l=0;l<n;l++)if(e.call(o,i[l],l,i))return l;return-1},Array.prototype.find=Array.prototype.find||function(e){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof e!="function")throw new TypeError("callback must be a function");for(var i=Object(this),n=i.length>>>0,o=arguments[1],l=0;l<n;l++){var h=i[l];if(e.call(o,h,l,i))return h}},typeof Object.assign!="function"&&(Object.assign=function(e){"use strict";if(e==null)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),function(e){e.forEach(function(i){i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,i){if(this==null)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(o===0)return!1;var l=i|0,h=Math.max(l>=0?l:o-Math.abs(l),0);function p(_,x){return _===x||typeof _=="number"&&typeof x=="number"&&isNaN(_)&&isNaN(x)}for(;h<o;){if(p(n[h],e))return!0;h++}return!1}});var xe={name:"@geoman-io/leaflet-geoman-free",version:"2.18.3",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.9.12","cross-env":"^7.0.3",cypress:"^13.11.0",esbuild:"^0.20.2",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.11",leaflet:"1.9.3","lint-staged":"^15.2.5",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run --browser chrome",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,demo}/**/*.{js,css}"'}},ka=Te(xa()),Za={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},He={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex l\xF6schen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer l\xF6schen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verkn\xFCpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"L\xE4nge",segmentLength:"Segment L\xE4nge",area:"Fl\xE4che",radius:"Radius",perimeter:"Umfang",height:"H\xF6he",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},mr={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},on={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},la={tooltips:{placeMarker:"Adaug\u0103 un punct",firstVertex:"Apas\u0103 aici pentru a ad\u0103uga primul Vertex",continueLine:"Apas\u0103 aici pentru a continua desenul",finishLine:"Apas\u0103 pe orice obiect pentru a finisa desenul",finishPoly:"Apas\u0103 pe primul obiect pentru a finisa",finishRect:"Apas\u0103 pentru a finisa",startCircle:"Apas\u0103 pentru a desena un cerc",finishCircle:"Apas\u0103 pentru a finisa un cerc",placeCircleMarker:"Adaug\u0103 un punct"},actions:{finish:"Termin\u0103",cancel:"Anuleaz\u0103",removeLastVertex:"\u0218terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug\u0103 o bulin\u0103",drawPolyButton:"Deseneaz\u0103 un poligon",drawLineButton:"Deseneaz\u0103 o linie",drawCircleButton:"Deseneaz\u0103 un cerc",drawRectButton:"Deseneaz\u0103 un dreptunghi",editButton:"Editeaz\u0103 straturile",dragButton:"Mut\u0103 straturile",cutButton:"Taie straturile",deleteButton:"\u0218terge straturile",drawCircleMarkerButton:"Deseneaz\u0103 marcatorul cercului",snappingButton:"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri",pinningButton:"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103",rotateButton:"Roti\u021Bi stratul"}},ie={tooltips:{placeMarker:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",firstVertex:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442",continueLine:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435",finishLine:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F",finishPoly:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C",finishRect:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C",startCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430",finishCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441",placeCircleMarker:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},actions:{finish:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",removeLastVertex:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},buttonTitles:{drawMarkerButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440",drawPolyButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D",drawLineButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E",drawCircleButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433",drawRectButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",editButton:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439",dragButton:"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439",cutButton:"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439",deleteButton:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439",drawCircleMarkerButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440",snappingButton:"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C",pinningButton:"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435",rotateButton:"\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u043B\u043E\u044F"}},Ui={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer v\xE9rtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del c\xEDrculo",finishCircle:"Presiona para finalizar el c\xEDrculo",placeCircleMarker:"Presiona para colocar un marcador de c\xEDrculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar \xFAltimo v\xE9rtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Pol\xEDgono",drawLineButton:"Dibujar L\xEDnea",drawCircleButton:"Dibujar C\xEDrculo",drawRectButton:"Dibujar Rect\xE1ngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de C\xEDrculo",snappingButton:"El marcador de Snap arrastrado a otras capas y v\xE9rtices",pinningButton:"Fijar juntos los v\xE9rtices compartidos",rotateButton:"Rotar capa"}},Ri={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te be\xEBindigen",finishPoly:"Klik op het eerst punt om te be\xEBindigen",finishRect:"Klik om te be\xEBindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te be\xEBindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Ua={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer \xE0 dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"\xC9diter des calques",dragButton:"D\xE9placer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"\xC9pingler ensemble les sommets partag\xE9s",rotateButton:"Tourner des calques"}},Sn={tooltips:{placeMarker:"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0",firstVertex:"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9",continueLine:"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236",finishLine:"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210",finishPoly:"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210",finishRect:"\u5355\u51FB\u5B8C\u6210",startCircle:"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3",finishCircle:"\u5355\u51FB\u5B8C\u6210\u5706\u5F62",placeCircleMarker:"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},actions:{finish:"\u5B8C\u6210",cancel:"\u53D6\u6D88",removeLastVertex:"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},buttonTitles:{drawMarkerButton:"\u7ED8\u5236\u6807\u8BB0",drawPolyButton:"\u7ED8\u5236\u591A\u8FB9\u5F62",drawLineButton:"\u7ED8\u5236\u7EBF\u6BB5",drawCircleButton:"\u7ED8\u5236\u5706\u5F62",drawRectButton:"\u7ED8\u5236\u957F\u65B9\u5F62",editButton:"\u7F16\u8F91\u56FE\u5C42",dragButton:"\u62D6\u62FD\u56FE\u5C42",cutButton:"\u526A\u5207\u56FE\u5C42",deleteButton:"\u5220\u9664\u56FE\u5C42",drawCircleMarkerButton:"\u753B\u5706\u5708\u6807\u8BB0",snappingButton:"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9",pinningButton:"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77",rotateButton:"\u65CB\u8F6C\u56FE\u5C42"}},_i={tooltips:{placeMarker:"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18",firstVertex:"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE",continueLine:"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD",finishLine:"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210",finishPoly:"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210",finishRect:"\u55AE\u64CA\u5B8C\u6210",startCircle:"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3",finishCircle:"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62",placeCircleMarker:"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},actions:{finish:"\u5B8C\u6210",cancel:"\u53D6\u6D88",removeLastVertex:"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},buttonTitles:{drawMarkerButton:"\u653E\u7F6E\u6A19\u8A18",drawPolyButton:"\u7E6A\u88FD\u591A\u908A\u5F62",drawLineButton:"\u7E6A\u88FD\u7DDA\u6BB5",drawCircleButton:"\u7E6A\u88FD\u5713\u5F62",drawRectButton:"\u7E6A\u88FD\u65B9\u5F62",editButton:"\u7DE8\u8F2F\u5716\u5F62",dragButton:"\u79FB\u52D5\u5716\u5F62",cutButton:"\u88C1\u5207\u5716\u5F62",deleteButton:"\u522A\u9664\u5716\u5F62",drawCircleMarkerButton:"\u756B\u5713\u5708\u6A19\u8A18",snappingButton:"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE",pinningButton:"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77",rotateButton:"\u65CB\u8F49\u5716\u5F62"}},Fi={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro v\xE9rtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do c\xEDrculo",finishCircle:"Clique para finalizar o c\xEDrculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover \xFAltimo v\xE9rtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Pol\xEDgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar C\xEDrculo",drawRectButton:"Desenhar Ret\xE2ngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de C\xEDrculo",snappingButton:"Ajustar marcador arrastado a outras camadas e v\xE9rtices",pinningButton:"Unir v\xE9rtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Tra\xE7ado Autom\xE1tico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"\xC1rea",radius:"Raio",perimeter:"Per\xEDmetro",height:"Altura",width:"Largura",coordinates:"Posi\xE7\xE3o",coordinatesMarker:"Marcador de Posi\xE7\xE3o"}},Ca={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro v\xE9rtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do c\xEDrculo",finishCircle:"Clique para terminar o c\xEDrculo",placeCircleMarker:"Clique para colocar marcador de c\xEDrculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover \xDAltimo V\xE9rtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Pol\xEDgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar C\xEDrculo",drawRectButton:"Desenhar Ret\xE2ngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de C\xEDrculo",snappingButton:"Ajustar marcador arrastado a outras camadas e v\xE9rtices",pinningButton:"Unir v\xE9rtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Tra\xE7ado Autom\xE1tico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"\xC1rea",radius:"Raio",perimeter:"Per\xEDmetro",height:"Altura",width:"Largura",coordinates:"Posi\xE7\xE3o",coordinatesMarker:"Marcador de Posi\xE7\xE3o"}},sn={tooltips:{placeMarker:"Kliknij, aby umie\u015Bci\u0107 znacznik",firstVertex:"Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek",continueLine:"Kliknij, aby kontynuowa\u0107 rysowanie",finishLine:"Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107",finishPoly:"Kliknij pierwszy znacznik, aby zako\u0144czy\u0107",finishRect:"Kliknij, aby zako\u0144czy\u0107",startCircle:"Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu",finishCircle:"Kliknij, aby zako\u0144czy\u0107 okr\u0105g",placeCircleMarker:"Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu",placeText:"Kliknij, aby umie\u015Bci\u0107 tekst"},actions:{finish:"Zako\u0144cz",cancel:"Anuluj",removeLastVertex:"Usu\u0144 ostatni wierzcho\u0142ek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielok\u0105t",drawLineButton:"Rysuj lini\u0119",drawCircleButton:"Rysuj okr\u0105g",drawRectButton:"Rysuj prostok\u0105t",editButton:"Edytuj warstwy",dragButton:"Przeci\u0105gnij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu\u0144 warstwy",drawCircleMarkerButton:"Rysuj znacznik okr\u0105g\u0142y",snappingButton:"Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w",pinningButton:"Przypnij wsp\xF3lne wierzcho\u0142ki razem",rotateButton:"Obr\xF3\u0107 warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne \u015Bledzenie linii"},measurements:{totalLength:"D\u0142ugo\u015B\u0107",segmentLength:"D\u0142ugo\u015B\u0107 odcinka",area:"Obszar",radius:"Promie\u0144",perimeter:"Obw\xF3d",height:"Wysoko\u015B\u0107",width:"Szeroko\u015B\u0107",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},fa={tooltips:{placeMarker:"Klicka f\xF6r att placera mark\xF6r",firstVertex:"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet",continueLine:"Klicka f\xF6r att forts\xE4tta rita",finishLine:"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra",finishPoly:"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra",finishRect:"Klicka f\xF6r att slutf\xF6ra",startCircle:"Klicka f\xF6r att placera cirkelns centrum",finishCircle:"Klicka f\xF6r att slutf\xF6ra cirkeln",placeCircleMarker:"Klicka f\xF6r att placera cirkelmark\xF6r"},actions:{finish:"Slutf\xF6r",cancel:"Avbryt",removeLastVertex:"Ta bort sista h\xF6rnet"},buttonTitles:{drawMarkerButton:"Rita Mark\xF6r",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmark\xF6r",snappingButton:"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn",pinningButton:"F\xE4st delade h\xF6rn tillsammans",rotateButton:"Rotera lagret"}},ln={tooltips:{placeMarker:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",firstVertex:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF",continueLine:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5",finishLine:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF",finishPoly:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5",finishRect:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5",startCircle:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5",finishCircle:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF",placeCircleMarker:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},actions:{finish:"\u03A4\u03AD\u03BB\u03BF\u03C2",cancel:"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7",removeLastVertex:"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},buttonTitles:{drawMarkerButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",drawPolyButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5",drawLineButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2",drawCircleButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5",drawRectButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5",editButton:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",dragButton:"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",cutButton:"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",deleteButton:"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",drawCircleMarkerButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",snappingButton:"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2",pinningButton:"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF",rotateButton:"\u03A0\u03B5\u03C1\u03B9\u03C3\u03C4\u03C1\u03AD\u03C8\u03C4\u03B5 \u03C4\u03BF \u03C3\u03C4\u03C1\u03CE\u03BC\u03B1"}},Ma={tooltips:{placeMarker:"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez",firstVertex:"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez",continueLine:"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez",finishLine:"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra",finishPoly:"A befejez\xE9shez kattintson az els\u0151 pontra",finishRect:"Kattintson a befejez\xE9shez",startCircle:"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez",finishCircle:"Kattintson a k\xF6r befejez\xE9s\xE9hez",placeCircleMarker:"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},actions:{finish:"Befejez\xE9s",cancel:"M\xE9gse",removeLastVertex:"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},buttonTitles:{drawMarkerButton:"Jel\xF6l\u0151 rajzol\xE1sa",drawPolyButton:"Poligon rajzol\xE1sa",drawLineButton:"Vonal rajzol\xE1sa",drawCircleButton:"K\xF6r rajzol\xE1sa",drawRectButton:"N\xE9gyzet rajzol\xE1sa",editButton:"Elemek szerkeszt\xE9se",dragButton:"Elemek mozgat\xE1sa",cutButton:"Elemek v\xE1g\xE1sa",deleteButton:"Elemek t\xF6rl\xE9se",drawCircleMarkerButton:"K\xF6r jel\xF6l\u0151 rajzol\xE1sa",snappingButton:"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz",pinningButton:"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se",rotateButton:"F\xF3lia elforgat\xE1sa"}},Dn={tooltips:{placeMarker:"Tryk for at placere en mark\xF8r",firstVertex:"Tryk for at placere det f\xF8rste punkt",continueLine:"Tryk for at forts\xE6tte linjen",finishLine:"Tryk p\xE5 et eksisterende punkt for at afslutte",finishPoly:"Tryk p\xE5 det f\xF8rste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmark\xF8r"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer mark\xF8r",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Tr\xE6k",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmark\xF8r",snappingButton:"Fastg\xF8r trukket mark\xF8r til andre elementer",pinningButton:"Sammenl\xE6g delte elementer",rotateButton:"Roter laget"}},fn={tooltips:{placeMarker:"Klikk for \xE5 plassere punkt",firstVertex:"Klikk for \xE5 plassere f\xF8rste punkt",continueLine:"Klikk for \xE5 tegne videre",finishLine:"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re",finishPoly:"Klikk f\xF8rste punkt for \xE5 fullf\xF8re",finishRect:"Klikk for \xE5 fullf\xF8re",startCircle:"Klikk for \xE5 sette sirkel midtpunkt",finishCircle:"Klikk for \xE5 fullf\xF8re sirkel",placeCircleMarker:"Klikk for \xE5 plassere sirkel",placeText:"Klikk for \xE5 plassere tekst"},actions:{finish:"Fullf\xF8r",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rot\xE9r objekter",drawTextButton:"Tegn tekst",scaleButton:"Skal\xE9r objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omr\xE5de",radius:"Radius",perimeter:"Omriss",height:"H\xF8yde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmark\xF8r"}},Pr={tooltips:{placeMarker:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646",firstVertex:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633",continueLine:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645",finishLine:"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",finishPoly:"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",finishRect:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",startCircle:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647",finishCircle:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647",placeCircleMarker:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647",placeText:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646"},actions:{finish:"\u067E\u0627\u06CC\u0627\u0646",cancel:"\u0644\u0641\u0648",removeLastVertex:"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},buttonTitles:{drawMarkerButton:"\u062F\u0631\u062C \u0646\u0634\u0627\u0646",drawPolyButton:"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC",drawLineButton:"\u0631\u0633\u0645 \u062E\u0637",drawCircleButton:"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647",drawRectButton:"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC",editButton:"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",dragButton:"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",cutButton:"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",deleteButton:"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",drawCircleMarkerButton:"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647",snappingButton:"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F",pinningButton:"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F",rotateButton:"\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647",drawTextButton:"\u0631\u0633\u0645 \u0645\u062A\u0646",scaleButton:"\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC",autoTracingButton:"\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631"},measurements:{totalLength:"\u0637\u0648\u0644",segmentLength:"\u0637\u0648\u0644 \u0628\u062E\u0634",area:"\u0646\u0627\u062D\u06CC\u0647",radius:"\u0634\u0639\u0627\u0639",perimeter:"\u0645\u062D\u06CC\u0637",height:"\u0627\u0631\u062A\u0641\u0627\u0639",width:"\u0639\u0631\u0636",coordinates:"\u0645\u0648\u0642\u0639\u06CC\u062A",coordinatesMarker:"\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646"}},zt={tooltips:{placeMarker:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",firstVertex:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443",continueLine:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",finishLine:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F",finishPoly:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",finishRect:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",startCircle:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430",finishCircle:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E",placeCircleMarker:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},actions:{finish:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",removeLastVertex:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443"},buttonTitles:{drawMarkerButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",drawPolyButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D",drawLineButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443",drawCircleButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E",drawRectButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",editButton:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438",dragButton:"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438",cutButton:"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438",deleteButton:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438",drawCircleMarkerButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440",snappingButton:"\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D",pinningButton:"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C",rotateButton:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0448\u0430\u0440"}},ki={tooltips:{placeMarker:"\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",firstVertex:"\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",continueLine:"\xC7izime devam etmek i\xE7in t\u0131klay\u0131n",finishLine:"Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n",finishPoly:"Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n",finishRect:"Bitirmek i\xE7in t\u0131klay\u0131n",startCircle:"Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",finishCircle:"Daireyi bitirmek i\xE7in t\u0131klay\u0131n",placeCircleMarker:"Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n"},actions:{finish:"Bitir",cancel:"\u0130ptal",removeLastVertex:"Son k\xF6\u015Feyi kald\u0131r"},buttonTitles:{drawMarkerButton:"\xC7izim \u0130\u015Faret\xE7isi",drawPolyButton:"\xC7okgenler \xE7iz",drawLineButton:"\xC7oklu \xE7izgi \xE7iz",drawCircleButton:"\xC7ember \xE7iz",drawRectButton:"Dikd\xF6rtgen \xE7iz",editButton:"Katmanlar\u0131 d\xFCzenle",dragButton:"Katmanlar\u0131 s\xFCr\xFCkle",cutButton:"Katmanlar\u0131 kes",deleteButton:"Katmanlar\u0131 kald\u0131r",drawCircleMarkerButton:"Daire i\u015Faret\xE7isi \xE7iz",snappingButton:"S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r",pinningButton:"Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle",rotateButton:"Katman\u0131 d\xF6nd\xFCr"}},fe={tooltips:{placeMarker:"Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku",firstVertex:"Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt",continueLine:"Kliknut\xEDm pokra\u010Dujte v kreslen\xED",finishLine:"Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED",finishPoly:"Vyberte prvn\xED bod pro dokon\u010Den\xED",finishRect:"Klikn\u011Bte pro dokon\u010Den\xED",startCircle:"Kliknut\xEDm p\u0159idejte st\u0159ed kruhu",finishCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441",placeCircleMarker:"Kliknut\xEDm nastavte polom\u011Br"},actions:{finish:"Dokon\u010Dit",cancel:"Zru\u0161it",removeLastVertex:"Zru\u0161it posledn\xED akci"},buttonTitles:{drawMarkerButton:"P\u0159idat zna\u010Dku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit k\u0159ivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obd\xE9ln\xEDk",editButton:"Upravit vrstvu",dragButton:"P\u0159eneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"P\u0159idat kruhovou zna\u010Dku",snappingButton:"Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm",pinningButton:"Spojit spole\u010Dn\xE9 body dohromady",rotateButton:"Oto\u010Dte vrstvu"}},un={tooltips:{placeMarker:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E",firstVertex:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E",continueLine:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B",finishLine:"\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",finishPoly:"\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",finishRect:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",startCircle:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E",finishCircle:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86",placeCircleMarker:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E",placeText:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E"},actions:{finish:"\u7D42\u4E86",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",removeLastVertex:"\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664"},buttonTitles:{drawMarkerButton:"\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B",drawPolyButton:"\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B",drawLineButton:"\u6298\u308C\u7DDA\u3092\u63CF\u753B",drawCircleButton:"\u5186\u3092\u63CF\u753B",drawRectButton:"\u77E9\u5F62\u3092\u63CF\u753B",editButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6",dragButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0",cutButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A",deleteButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664",drawCircleMarkerButton:"\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B",snappingButton:"\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B",pinningButton:"\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059",rotateButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2",drawTextButton:"\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B"}},On={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimm\xE4isen osuuden",continueLine:"Klikkaa jatkaaksesi piirt\xE4mist\xE4",finishLine:"Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi",finishPoly:"Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyr\xE4n keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyr\xE4n",placeCircleMarker:"Klikkaa asettaaksesi ympyr\xE4merkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr\xE4 merkkej\xE4",drawPolyButton:"Piirr\xE4 monikulmioita",drawLineButton:"Piirr\xE4 viivoja",drawCircleButton:"Piirr\xE4 ympyr\xE4",drawRectButton:"Piirr\xE4 neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr\xE4",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr\xE4 ympyr\xE4merkki",snappingButton:"Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin",pinningButton:"Kiinnit\xE4 jaetut muodot yhteen",rotateButton:"K\xE4\xE4nn\xE4",drawTextButton:"Piirr\xE4 teksti\xE4"}},Rn={tooltips:{placeMarker:"\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",firstVertex:"\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694",continueLine:"\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",finishLine:"\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishPoly:"\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishRect:"\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",startCircle:"\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishCircle:"\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",placeCircleMarker:"\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",placeText:"\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694"},actions:{finish:"\uB05D\uB0B4\uAE30",cancel:"\uCDE8\uC18C",removeLastVertex:"\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70"},buttonTitles:{drawMarkerButton:"\uB9C8\uCEE4 \uADF8\uB9AC\uAE30",drawPolyButton:"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30",drawLineButton:"\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30",drawCircleButton:"\uC6D0 \uADF8\uB9AC\uAE30",drawRectButton:"\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30",editButton:"\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30",dragButton:"\uB808\uC774\uC5B4 \uB04C\uAE30",cutButton:"\uB808\uC774\uC5B4 \uC790\uB974\uAE30",deleteButton:"\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30",drawCircleMarkerButton:"\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30",snappingButton:"\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30",pinningButton:"\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30",rotateButton:"\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30",drawTextButton:"\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30"}},Fn={tooltips:{placeMarker:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",firstVertex:"\u0411\u0438\u0440\u0438\u043D\u0447\u0438 \u0447\u043E\u043A\u0443\u043D\u0443 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",continueLine:"\u0421\u04AF\u0440\u04E9\u0442 \u0442\u0430\u0440\u0442\u0443\u0443\u043D\u0443 \u0443\u043B\u0430\u043D\u0442\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishLine:"\u0410\u044F\u043A\u0442\u043E\u043E \u04AF\u0447\u04AF\u043D \u0443\u0447\u0443\u0440\u0434\u0430\u0433\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishPoly:"\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0438\u0440\u0438\u043D\u0447\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishRect:"\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",startCircle:"\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B\u043D \u0431\u043E\u0440\u0431\u043E\u0440\u0443\u043D \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishCircle:"\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B \u0431\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",placeCircleMarker:"\u0422\u0435\u0433\u0435\u0440\u0435\u043A \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",placeText:"\u0422\u0435\u043A\u0441\u0442\u0442\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437"},actions:{finish:"\u0410\u044F\u0433\u044B",cancel:"\u0416\u043E\u043A \u043A\u044B\u043B\u0443\u0443",removeLastVertex:"\u0410\u043A\u044B\u0440\u043A\u044B \u0447\u043E\u043A\u0443\u043D\u0443 \u04E9\u0447\u04AF\u0440\u04AF\u04AF"},buttonTitles:{drawMarkerButton:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443",drawPolyButton:"\u041F\u043E\u043B\u0438\u0433\u043E\u043D \u0447\u0438\u0437\u0443\u0443",drawLineButton:"\u041F\u043E\u043B\u0438\u043B\u0438\u043D\u0438\u044F \u0447\u0438\u0437\u0443\u0443",drawCircleButton:"\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u0447\u0438\u0437\u0443\u0443",drawRectButton:"\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A \u0447\u0438\u0437\u0443\u0443",editButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u0442\u04AF\u0437\u04E9\u0442\u04AF\u04AF",dragButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u043A\u0430\u0440\u0430\u043F \u0441\u04AF\u0439\u043B\u04E9\u04AF",cutButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u0431\u0430\u0448\u044B\u043D \u043A\u0435\u0441\u04AF\u04AF",deleteButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0447\u04AF\u0440\u04AF\u04AF",drawCircleMarkerButton:"\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443",snappingButton:"\u0411\u0430\u0448\u043A\u0430 \u0441\u043B\u043E\u043E\u043F\u0442\u043E\u0440\u0434\u0443\u043D \u0436\u0430\u043D\u0430 \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438\u043D \u0430\u0440\u0430\u0441\u044B\u043D\u0430 \u0447\u0435\u043A\u0438\u043B\u0434\u04E9\u04E9",pinningButton:"\u0411\u04E9\u043B\u04AF\u0448\u043A\u04E9\u043D \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438 \u0431\u0438\u0440\u0433\u0435 \u0442\u0443\u0442\u0443\u0448\u0442\u0443\u0440\u0443\u0443",rotateButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF",drawTextButton:"\u0422\u0435\u043A\u0441\u0442 \u0447\u0438\u0437\u0443\u0443",scaleButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u043B\u0447\u04E9\u043C\u04AF\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF",autoTracingButton:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0442\u044B\u043A \u0442\u0438\u0437\u043C\u0435\u0433\u0438 \u0447\u0438\u0437\u0443\u0443"},measurements:{totalLength:"\u0423\u0437\u0443\u043D\u0434\u0443\u043A",segmentLength:"\u0421\u0435\u0433\u043C\u0435\u043D\u0442 \u0443\u0437\u0443\u043D\u0434\u0443\u0433\u0443",area:"\u0410\u0439\u043C\u0430\u043A",radius:"\u0420\u0430\u0434\u0438\u0443\u0441",perimeter:"\u041F\u0435\u0440\u0438\u043C\u0435\u0442\u0440",height:"\u0414\u0438\u0430\u043C\u0435\u0442\u0440",width:"\u041A\u0435\u043D\u0447\u0438\u043B\u0438\u043A",coordinates:"\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440",coordinatesMarker:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438\u043D \u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440\u044B"}},ua=Ca,Hi={en:Za,de:He,it:mr,id:on,ro:la,ru:ie,es:Ui,nl:Ri,fr:Ua,pt:ua,pt_br:Fi,pt_pt:Ca,zh:Sn,zh_tw:_i,pl:sn,sv:fa,el:ln,hu:Ma,da:Dn,no:fn,fa:Pr,ua:zt,tr:ki,cz:fe,ja:un,fi:On,ko:Rn,ky:Fn},Ha={_globalEditModeEnabled:!1,enableGlobalEditMode(e){let i={...e};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(n=>{this._isRelevantForEdit(n)&&n.pm.enable(i)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(e=>{e.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(e=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(e)},handleLayerAdditionInGlobalEditMode(){let e=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let i in e){let n=e[i];this._isRelevantForEdit(n)&&n.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:e}){this._addedLayersEdit[L.stamp(e)]=e},_isRelevantForEdit(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowEditing}},De=Ha,Vi={_globalDragModeEnabled:!1,enableGlobalDragMode(){let e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},e.forEach(i=>{this._isRelevantForDrag(i)&&i.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,e.forEach(i=>{i.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let e=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let i in e){let n=e[i];this._isRelevantForDrag(n)&&n.pm.enableLayerDrag()}},_layerAddedDrag({layer:e}){this._addedLayersDrag[L.stamp(e)]=e},_isRelevantForDrag(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.draggable}},hn=Vi,In={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(e=>{this._isRelevantForRemoval(e)&&(e.pm.enabled()&&e.pm.disable(),e.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(e=>{e.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(e){let i=e.target;this._isRelevantForRemoval(i)&&!i.pm.dragging()&&(i.removeFrom(this.map.pm._getContainingLayer()),i.remove(),i instanceof L.LayerGroup?(this._fireRemoveLayerGroup(i),this._fireRemoveLayerGroup(this.map,i)):(i.pm._fireRemove(i),i.pm._fireRemove(this.map,i)))},_isRelevantForRemoval(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let e=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let i in e){let n=e[i];this._isRelevantForRemoval(n)&&(n.pm.enabled()&&n.pm.disable(),n.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:e}){this._addedLayersRemoval[L.stamp(e)]=e}},zn=In,Nn={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(e=>e instanceof L.Polyline).forEach(e=>{this._isRelevantForRotate(e)&&e.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(e=>e instanceof L.Polyline).forEach(e=>{e.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(e){return e.pm&&e instanceof L.Polyline&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let e=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let i in e){let n=e[i];this._isRelevantForRemoval(n)&&n.pm.enableRotate()}},_layerAddedRotate({layer:e}){this._addedLayersRotate[L.stamp(e)]=e}},cn=Nn,jn=Te(xa()),gr={_fireDrawStart(e="Draw",i={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},e,i)},_fireDrawEnd(e="Draw",i={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},e,i)},_fireCreate(e,i="Draw",n={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:e,layer:e},i,n)},_fireCenterPlaced(e="Draw",i={}){let n=e==="Draw"?this._layer:void 0,o=e!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:n,layer:o,latlng:this._layer.getLatLng()},e,i)},_fireCut(e,i,n,o="Draw",l={}){this.__fire(e,"pm:cut",{shape:this._shape,layer:i,originalLayer:n},o,l)},_fireEdit(e=this._layer,i="Edit",n={}){this.__fire(e,"pm:edit",{layer:this._layer,shape:this.getShape()},i,n)},_fireEnable(e="Edit",i={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},e,i)},_fireDisable(e="Edit",i={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},e,i)},_fireUpdate(e="Edit",i={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},e,i)},_fireMarkerDragStart(e,i=void 0,n="Edit",o={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:i},n,o)},_fireMarkerDrag(e,i=void 0,n="Edit",o={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:i},n,o)},_fireMarkerDragEnd(e,i=void 0,n=void 0,o="Edit",l={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:i,intersectionReset:n},o,l)},_fireDragStart(e="Edit",i={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},e,i)},_fireDrag(e,i="Edit",n={}){this.__fire(this._layer,"pm:drag",{...e,shape:this.getShape()},i,n)},_fireDragEnd(e="Edit",i={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},e,i)},_fireDragEnable(e="Edit",i={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},e,i)},_fireDragDisable(e="Edit",i={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},e,i)},_fireRemove(e,i=e,n="Edit",o={}){this.__fire(e,"pm:remove",{layer:i,shape:this.getShape()},n,o)},_fireVertexAdded(e,i,n,o="Edit",l={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:e,indexPath:i,latlng:n,shape:this.getShape()},o,l)},_fireVertexRemoved(e,i,n="Edit",o={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:e,indexPath:i,shape:this.getShape()},n,o)},_fireVertexClick(e,i,n="Edit",o={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:e,indexPath:i,shape:this.getShape()},n,o)},_fireIntersect(e,i=this._layer,n="Edit",o={}){this.__fire(i,"pm:intersect",{layer:this._layer,intersection:e,shape:this.getShape()},n,o)},_fireLayerReset(e,i,n="Edit",o={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:e,indexPath:i,shape:this.getShape()},n,o)},_fireChange(e,i="Edit",n={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:e,shape:this.getShape()},i,n)},_fireTextChange(e,i="Edit",n={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:e,shape:this.getShape()},i,n)},_fireTextFocus(e="Edit",i={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},e,i)},_fireTextBlur(e="Edit",i={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},e,i)},_fireSnapDrag(e,i,n="Snapping",o={}){this.__fire(e,"pm:snapdrag",i,n,o)},_fireSnap(e,i,n="Snapping",o={}){this.__fire(e,"pm:snap",i,n,o)},_fireUnsnap(e,i,n="Snapping",o={}){this.__fire(e,"pm:unsnap",i,n,o)},_fireRotationEnable(e,i,n="Rotation",o={}){this.__fire(e,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},n,o)},_fireRotationDisable(e,i="Rotation",n={}){this.__fire(e,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},i,n)},_fireRotationStart(e,i,n="Rotation",o={}){this.__fire(e,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:i},n,o)},_fireRotation(e,i,n,o=this._rotationLayer,l="Rotation",h={}){this.__fire(e,"pm:rotate",{layer:o,helpLayer:this._layer,startAngle:this._startAngle,angle:o.pm.getAngle(),angleDiff:i,oldLatLngs:n,newLatLngs:o.getLatLngs()},l,h)},_fireRotationEnd(e,i,n,o="Rotation",l={}){this.__fire(e,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:i,angle:this._rotationLayer.pm.getAngle(),originLatLngs:n,newLatLngs:this._rotationLayer.getLatLngs()},o,l)},_fireActionClick(e,i,n,o="Toolbar",l={}){this.__fire(this._map,"pm:actionclick",{text:e.text,action:e,btnName:i,button:n},o,l)},_fireButtonClick(e,i,n="Toolbar",o={}){this.__fire(this._map,"pm:buttonclick",{btnName:e,button:i},n,o)},_fireLangChange(e,i,n,o,l="Global",h={}){this.__fire(this.map,"pm:langchange",{oldLang:e,activeLang:i,fallback:n,translations:o},l,h)},_fireGlobalDragModeToggled(e,i="Global",n={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:e,map:this.map},i,n)},_fireGlobalEditModeToggled(e,i="Global",n={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:e,map:this.map},i,n)},_fireGlobalRemovalModeToggled(e,i="Global",n={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:e,map:this.map},i,n)},_fireGlobalCutModeToggled(e="Global",i={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},e,i)},_fireGlobalDrawModeToggled(e="Global",i={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},e,i)},_fireGlobalRotateModeToggled(e="Global",i={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},e,i)},_fireRemoveLayerGroup(e,i=e,n="Edit",o={}){this.__fire(e,"pm:remove",{layer:i,shape:void 0},n,o)},_fireKeyeventEvent(e,i,n,o="Global",l={}){this.__fire(this.map,"pm:keyevent",{event:e,eventType:i,focusOn:n},o,l)},__fire(e,i,n,o,l={}){n=(0,jn.default)(n,l,{source:o}),L.PM.Utils._fireEvent(e,i,n)}},Kt=gr,Ar=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(e){this.map=e,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),e.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(e){let i="document";this.map.getContainer().contains(e.target)&&(i="map");let n={event:e,eventType:e.type,focusOn:i};this._lastEvents[e.type]=n,this._lastEvents.current=n,this.map.pm._fireKeyeventEvent(e,e.type,i)},_onBlur(e){e.altKey=!1;let i={event:e,eventType:e.type,focusOn:"document"};this._lastEvents[e.type]=i,this._lastEvents.current=i},getLastKeyEvent(e="current"){return this._lastEvents[e]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),Ve=Ar,ha=Te(se());function $t(e){let i=L.PM.activeLang;return(0,ha.default)(Hi[i],e)||(0,ha.default)(Hi.en,e)||e}function qn(e){for(let i=0;i<e.length;i+=1){let n=e[i];if(Array.isArray(n)){if(qn(n))return!0}else if(n!=null&&n!=="")return!0}return!1}function Ea(e){return e.reduce((i,n)=>{if(n.length!==0){let o=Array.isArray(n)?Ea(n):n;Array.isArray(o)?o.length!==0&&i.push(o):i.push(o)}return i},[])}function Tr(e,i,n){let o={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:l,b:h,f:p}=o,_=e.lng,x=e.lat,k=n,O=Math.PI,I=i*O/180,tt=Math.sin(I),V=Math.cos(I),ut=(1-p)*Math.tan(x*O/180),gt=1/Math.sqrt(1+ut*ut),kt=ut*gt,ee=Math.atan2(ut,V),D=gt*tt,z=1-D*D,H=z*(l*l-h*h)/(h*h),nt=1+H/16384*(4096+H*(-768+H*(320-175*H))),W=H/1024*(256+H*(-128+H*(74-47*H))),et=k/(h*nt),b=2*Math.PI,M,B,E;for(;Math.abs(et-b)>1e-12;){M=Math.cos(2*ee+et),B=Math.sin(et),E=Math.cos(et);let ht=W*B*(M+W/4*(E*(-1+2*M*M)-W/6*M*(-3+4*B*B)*(-3+4*M*M)));b=et,et=k/(h*nt)+ht}let P=kt*B-gt*E*V,A=Math.atan2(kt*E+gt*B*V,(1-p)*Math.sqrt(D*D+P*P)),q=Math.atan2(B*tt,gt*E-kt*B*V),N=p/16*z*(4+p*(4-3*z)),Z=q-(1-N)*p*D*(et+N*B*(M+N*E*(-1+2*M*M))),$=_+Z*180/O,K=A*180/O;return L.latLng($,K)}function r(e,i,n,o,l=!0){let h,p,_,x=[];for(let k=0;k<n;k+=1){if(l)h=k*360/n+o,p=Tr(e,h,i),_=L.latLng(p.lng,p.lat);else{let O=e.lat+Math.cos(2*k*Math.PI/n)*i,I=e.lng+Math.sin(2*k*Math.PI/n)*i;_=L.latLng(O,I)}x.push(_)}return x}function f(e,i,n){i=(i+360)%360;let o=Math.PI/180,l=180/Math.PI,{R:h}=L.CRS.Earth,p=e.lng*o,_=e.lat*o,x=i*o,k=Math.sin(_),O=Math.cos(_),I=Math.cos(n/h),tt=Math.sin(n/h),V=Math.asin(k*I+O*tt*Math.cos(x)),ut=p+Math.atan2(Math.sin(x)*tt*O,I-k*Math.sin(V));ut*=l;let gt=ut-360,kt=ut<-180?ut+360:ut;return ut=ut>180?gt:kt,L.latLng([V*l,ut])}function c(e,i,n){let o=e.latLngToContainerPoint(i),l=e.latLngToContainerPoint(n),h=Math.atan2(l.y-o.y,l.x-o.x)*180/Math.PI+90;return h+=h<0?360:0,h}function d(e,i,n,o){let l=c(e,i,n);return f(i,l,o)}function v(e,i,n="asc"){if(!i||Object.keys(i).length===0)return(x,k)=>x-k;let o=Object.keys(i),l,h=o.length-1,p={};for(;h>=0;)l=o[h],p[l.toLowerCase()]=i[l],h-=1;function _(x){if(x instanceof L.Marker)return"Marker";if(x instanceof L.Circle)return"Circle";if(x instanceof L.CircleMarker)return"CircleMarker";if(x instanceof L.Rectangle)return"Rectangle";if(x instanceof L.Polygon)return"Polygon";if(x instanceof L.Polyline)return"Line"}return(x,k)=>{let O,I;if(e==="instanceofShape"){if(O=_(x.layer).toLowerCase(),I=_(k.layer).toLowerCase(),!O||!I)return 0}else{if(!x.hasOwnProperty(e)||!k.hasOwnProperty(e))return 0;O=x[e].toLowerCase(),I=k[e].toLowerCase()}let tt=O in p?p[O]:Number.MAX_SAFE_INTEGER,V=I in p?p[I]:Number.MAX_SAFE_INTEGER,ut=0;return tt<V?ut=-1:tt>V&&(ut=1),n==="desc"?ut*-1:ut}}function y(e,i=e.getLatLngs()){return e instanceof L.Polygon?L.polygon(i).getLatLngs():L.polyline(i).getLatLngs()}function w(e,i){if(i.options.crs?.projection?.MAX_LATITUDE){let n=i.options.crs?.projection?.MAX_LATITUDE;e.lat=Math.max(Math.min(n,e.lat),-n)}return e}function R(e){return e.options.renderer||e._map&&(e._map._getPaneRenderer(e.options.pane)||e._map.options.renderer||e._map._renderer)||e._renderer}var S=L.Class.extend({includes:[De,hn,zn,cn,Kt],initialize(e){this.map=e,this.Draw=new L.PM.Draw(e),this.Toolbar=new L.PM.Toolbar(e),this.Keyboard=Ve(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(e)},setLang(e="en",i,n="en"){if(e=e.trim().toLowerCase(),!/^[a-z]{2}$/.test(e)){let l=e.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(l){let h=[`${l[1]}_${l[2]}`,`${l[1]}`];for(let p of h)if(Hi[p]){e=p;break}}}let o=L.PM.activeLang;i&&(Hi[e]=(0,ka.default)(Hi[n],i)),L.PM.activeLang=e,this.map.pm.Toolbar.reinit(),this._fireLangChange(o,e,n,Hi[e])},addControls(e){this.Toolbar.addControls(e)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(e="Polygon",i){e==="Poly"&&(e="Polygon"),this.Draw.enable(e,i)},disableDraw(e="Polygon"){e==="Poly"&&(e="Polygon"),this.Draw.disable(e)},setPathOptions(e,i={}){let n=i.ignoreShapes||[],o=i.merge||!1;this.map.pm.Draw.shapes.forEach(l=>{n.indexOf(l)===-1&&this.map.pm.Draw[l].setPathOptions(e,o)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(e){let i=(0,ka.default)(this.globalOptions,e);i.editable&&(i.resizeableCircleMarker=i.editable,delete i.editable);let n=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!i.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),n=!0);let o=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!i.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),o=!0),this.map.pm.Draw.shapes.forEach(l=>{this.map.pm.Draw[l].setOptions(i)}),n&&this.map.pm.Draw.CircleMarker.enable(),o&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(l=>{l.pm.setOptions(i)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=i,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(e=>{e.pm.enabled()&&e.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(e){return this.Draw.Cut.enable(e)},toggleGlobalCutMode(e){return this.Draw.Cut.toggle(e)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(e=!1){let i=L.PM.Utils.findLayers(this.map);if(!e)return i;let n=L.featureGroup();return n._pmTempLayer=!0,i.forEach(o=>{n.addLayer(o)}),n},getGeomanDrawLayers(e=!1){let i=L.PM.Utils.findLayers(this.map).filter(o=>o._drawnByGeoman===!0);if(!e)return i;let n=L.featureGroup();return n._pmTempLayer=!0,i.forEach(o=>{n.addLayer(o)}),n},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(e){this._touchEventCounter===0&&(L.DomEvent.on(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(e){this._touchEventCounter===1&&(L.DomEvent.off(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(e){R(this.map)._onMouseMove(this._createMouseEvent("mousemove",e))},_canvasTouchClick(e){let i="";e.type==="touchstart"||e.type==="pointerdown"?i="mousedown":(e.type==="touchend"||e.type==="pointerup"||e.type==="touchcancel"||e.type==="pointercancel")&&(i="mouseup"),i&&R(this.map)._onClick(this._createMouseEvent(i,e))},_createMouseEvent(e,i){let n,o=i.touches[0]||i.changedTouches[0];try{n=new MouseEvent(e,{bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:o.detail,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,button:i.button,relatedTarget:i.relatedTarget})}catch{n=document.createEvent("MouseEvents"),n.initMouseEvent(e,i.bubbles,i.cancelable,i.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}return n}}),U=S,ot=L.Control.extend({includes:[Kt],options:{position:"topleft",disableByOtherButtons:!0},initialize(e){this._button=L.Util.extend({},this.options,e)},onAdd(e){return this._map=e,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let e=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),e?e.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(e){return typeof e=="boolean"?this._button.toggleStatus=e:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(e){e&&e.preventDefault(),!this._button.disabled&&(this._button.onClick(e,{button:this,event:e}),this._clicked(e),this._button.afterClick(e,{button:this,event:e}))},_makeButton(e){let i=this.options.position.indexOf("right")>-1?"pos-right":"",n=L.DomUtil.create("div",`button-container  ${i}`,this._container);e.title&&n.setAttribute("title",e.title);let o=L.DomUtil.create("a","leaflet-buttons-control-button",n);o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.href="#";let l=L.DomUtil.create("div",`leaflet-pm-actions-container ${i}`,n),h=e.actions,p={cancel:{text:$t("actions.cancel"),title:$t("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:$t("actions.finish"),title:$t("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:$t("actions.removeLastVertex"),title:$t("actions.removeLastVertex"),onClick(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:$t("actions.finish"),title:$t("actions.finish"),onClick(x){this._map.pm.Draw[e.jsClass]._finishShape(x)}}};e._preparedActions=h.map(x=>{let k=typeof x=="string"?x:x.name,O;if(p[k])O=p[k];else if(x.text)O=x;else return O;let I=L.DomUtil.create("a",`leaflet-pm-action ${i} action-${k}`,l);if(I.setAttribute("role","button"),I.setAttribute("tabindex","0"),I.href="#",O.title&&(I.title=O.title),I.innerHTML=O.text,L.DomEvent.disableClickPropagation(I),L.DomEvent.on(I,"click",L.DomEvent.stop),O._node=I,!e.disabled&&O.onClick){let tt=V=>{V.preventDefault();let ut="",{buttons:gt}=this._map.pm.Toolbar;for(let kt in gt)if(gt[kt]._button===e){ut=kt;break}this._fireActionClick(O,ut,e)};L.DomEvent.addListener(I,"click",tt,this),L.DomEvent.addListener(I,"click",O.onClick,this),L.DomEvent.addListener(I,"click",()=>this._updateActiveAction(e))}return O}),this._updateActiveAction(e),e.toggleStatus&&L.DomUtil.addClass(n,"active");let _=L.DomUtil.create("div","control-icon",o);return e.iconUrl&&_.setAttribute("src",e.iconUrl),e.className&&L.DomUtil.addClass(_,e.className),L.DomEvent.disableClickPropagation(o),L.DomEvent.on(o,"click",L.DomEvent.stop),e.disabled||(L.DomEvent.addListener(o,"click",this._onBtnClick,this),L.DomEvent.addListener(o,"click",this._triggerClick,this)),e.disabled&&(L.DomUtil.addClass(o,"pm-disabled"),o.setAttribute("aria-disabled","true")),n},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let e="",{buttons:i}=this._map.pm.Toolbar;for(let n in i)if(i[n]._button===this._button){e=n;break}this._fireButtonClick(e,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let e="pm-disabled",i=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(i,e),i.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(i,e),i.setAttribute("aria-disabled","false"))},_updateActiveAction(e){e._preparedActions?.forEach(i=>{i?._node&&(i.isActive&&i.isActive.call(this)?L.DomUtil.addClass(i._node,"active-action"):L.DomUtil.removeClass(i._node,"active-action"))})}}),lt=ot;L.Control.PMButton=lt;var it=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(e){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(e)},reinit(){let e=this.isVisible;this.removeControls(),this._defineButtons(),e&&this.addControls()},init(e){this.map=e,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(e){let i=`${e}Container`;return this[i]||(this[i]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${e} leaflet-bar leaflet-control`)),this[i]},getButtons(){return this.buttons},addControls(e=this.options){typeof e.editPolygon<"u"&&(e.editMode=e.editPolygon),typeof e.deleteLayer<"u"&&(e.removalMode=e.deleteLayer),L.Util.setOptions(this,e),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let e=this.getButtons(),i={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let n in e){let o=e[n];L.Util.setOptions(o,{className:i.geomanIcons[n]})}},removeControls(){let e=this.getButtons();for(let i in e)e[i].remove();this.isVisible=!1},toggleControls(e=this.options){this.isVisible?this.removeControls():this.addControls(e)},_addButton(e,i){return this.buttons[e]=i,this.options[e]=!!this.options[e]||!1,this.buttons[e]},triggerClickOnToggledButtons(e){for(let i in this.buttons){let n=this.buttons[i];n._button.disableByOtherButtons&&n!==e&&n.toggled()&&n._triggerClick()}},toggleButton(e,i,n=!0){e==="editPolygon"&&(e="editMode"),e==="deleteLayer"&&(e="removalMode");let o=e;return n&&this.triggerClickOnToggledButtons(this.buttons[o]),this.buttons[o]?this.buttons[o].toggle(i):!1},_defineButtons(){let e={className:"control-icon leaflet-pm-icon-marker",title:$t("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:$t("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},n={className:"control-icon leaflet-pm-icon-polyline",title:$t("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},o={title:$t("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},l={title:$t("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},h={title:$t("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:$t("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},_={title:$t("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},x={title:$t("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},k={title:$t("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},O={title:$t("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},I={className:"control-icon leaflet-pm-icon-text",title:$t("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(tt,V)=>{this.map.pm.Draw[V.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(e)),this._addButton("drawPolyline",new L.Control.PMButton(n)),this._addButton("drawRectangle",new L.Control.PMButton(h)),this._addButton("drawPolygon",new L.Control.PMButton(i)),this._addButton("drawCircle",new L.Control.PMButton(o)),this._addButton("drawCircleMarker",new L.Control.PMButton(l)),this._addButton("drawText",new L.Control.PMButton(I)),this._addButton("editMode",new L.Control.PMButton(p)),this._addButton("dragMode",new L.Control.PMButton(_)),this._addButton("cutPolygon",new L.Control.PMButton(x)),this._addButton("removalMode",new L.Control.PMButton(k)),this._addButton("rotateMode",new L.Control.PMButton(O))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let e=this.getButtons(),i=[];this.options.drawControls===!1&&(i=i.concat(Object.keys(e).filter(n=>!e[n]._button.tool))),this.options.editControls===!1&&(i=i.concat(Object.keys(e).filter(n=>e[n]._button.tool==="edit"))),this.options.optionsControls===!1&&(i=i.concat(Object.keys(e).filter(n=>e[n]._button.tool==="options"))),this.options.customControls===!1&&(i=i.concat(Object.keys(e).filter(n=>e[n]._button.tool==="custom")));for(let n in e)if(this.options[n]&&i.indexOf(n)===-1){let o=e[n]._button.tool;o||(o="draw"),e[n].setPosition(this._getBtnPosition(o)),e[n].addTo(this.map)}},_getBtnPosition(e){return this.options.positions&&this.options.positions[e]?this.options.positions[e]:this.options.position},setBlockPosition(e,i){this.options.positions[e]=i,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(e,i){if(i)typeof i!="object"&&(i={name:i});else throw new TypeError("Button has no name");let n=this._btnNameMapping(e);if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");let o=this.map.pm.Draw.createNewDrawInstance(i.name,n);i={...this.buttons[n]._button,...i};let l=this.createCustomControl(i);return{drawInstance:o,control:l}},createCustomControl(e){if(!e.name)throw new TypeError("Button has no name");if(this.buttons[e.name])throw new TypeError("Button with this name already exists");e.onClick||(e.onClick=()=>{}),e.afterClick||(e.afterClick=()=>{}),e.toggle!==!1&&(e.toggle=!0),e.block&&(e.block=e.block.toLowerCase()),(!e.block||e.block==="draw")&&(e.block=""),e.className?e.className.indexOf("control-icon")===-1&&(e.className=`control-icon ${e.className}`):e.className="control-icon";let i={tool:e.block,className:e.className,title:e.title||"",jsClass:e.name,onClick:e.onClick,afterClick:e.afterClick,doToggle:e.toggle,toggleStatus:!1,disableOtherButtons:e.disableOtherButtons??!0,disableByOtherButtons:e.disableByOtherButtons??!0,cssToggle:e.toggle,position:this.options.position,actions:e.actions||[],disabled:!!e.disabled};this.options[e.name]!==!1&&(this.options[e.name]=!0);let n=this._addButton(e.name,new L.Control.PMButton(i));return this.changeControlOrder(),n},controlExists(e){return!!this.getButton(e)},getButton(e){return this.getButtons()[e]},getButtonsInBlock(e){let i={};if(e)for(let n in this.getButtons()){let o=this.getButtons()[n];(o._button.tool===e||e==="draw"&&!o._button.tool)&&(i[n]=o)}return i},changeControlOrder(e=[]){let i=this._shapeMapping(),n=[];e.forEach(h=>{i[h]?n.push(i[h]):n.push(h)});let o=this.getButtons(),l={};n.forEach(h=>{o[h]&&(l[h]=o[h])}),Object.keys(o).filter(h=>!o[h]._button.tool||o[h]._button.tool==="draw").forEach(h=>{n.indexOf(h)===-1&&(l[h]=o[h])}),Object.keys(o).filter(h=>o[h]._button.tool==="edit").forEach(h=>{n.indexOf(h)===-1&&(l[h]=o[h])}),Object.keys(o).filter(h=>o[h]._button.tool==="options").forEach(h=>{n.indexOf(h)===-1&&(l[h]=o[h])}),Object.keys(o).filter(h=>o[h]._button.tool==="custom").forEach(h=>{n.indexOf(h)===-1&&(l[h]=o[h])}),Object.keys(o).forEach(h=>{n.indexOf(h)===-1&&(l[h]=o[h])}),this.map.pm.Toolbar.buttons=l,this._showHideButtons()},getControlOrder(){let e=this.getButtons(),i=[];for(let n in e)i.push(n);return i},changeActionsOfControl(e,i){let n=this._btnNameMapping(e);if(!n)throw new TypeError("No name passed");if(!i)throw new TypeError("No actions passed");if(!this.buttons[n])throw new TypeError("Button with this name not exists");this.buttons[n]._button.actions=i,this.changeControlOrder()},setButtonDisabled(e,i){let n=this._btnNameMapping(e);i?this.buttons[n].disable():this.buttons[n].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(e){let i=this._shapeMapping();return i[e]?i[e]:e}}),pt=it,Rt=Te(xa()),Jt={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(e){e.forEach(i=>{if(Array.isArray(i)){this._assignEvents(i);return}i.off("drag",this._handleSnapping,this),i.on("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(e){if(e){let i=e.target;i._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(i=>{i.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(e){let i=e.target;if(i._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),e?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let n=this._calcClosestLayer(i.getLatLng(),this._snapList);if(Object.keys(n).length===0)return!1;let o=n.layer instanceof L.Marker||n.layer instanceof L.CircleMarker||!this.options.snapSegment,l;o?l=n.latlng:l=this._checkPrioritiySnapping(n);let h=this.options.snapDistance,p={marker:i,shape:this._shape,snapLatLng:l,segment:n.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:n.layer,distance:n.distance};if(this._fireSnapDrag(p.marker,p),this._fireSnapDrag(this._layer,p),n.distance<h){i._orgLatLng=i.getLatLng(),i.setLatLng(l),i._snapped=!0,i._snapInfo=p;let _=()=>{this._snapLatLng=l,this._fireSnap(i,p),this._fireSnap(this._layer,p)},x=this._snapLatLng||{},k=l||{};(x.lat!==k.lat||x.lng!==k.lng)&&_()}else this._snapLatLng&&(this._unsnap(p),i._snapped=!1,i._snapInfo=void 0,this._fireUnsnap(p.marker,p),this._fireUnsnap(this._layer,p));return!0},_createSnapList(){let e=[],i=[],n=this._map;n.off("layerremove",this._handleSnapLayerRemoval,this),n.on("layerremove",this._handleSnapLayerRemoval,this),n.eachLayer(o=>{if((o instanceof L.Polyline||o instanceof L.Marker||o instanceof L.CircleMarker||o instanceof L.ImageOverlay)&&o.options.snapIgnore!==!0){if(o.options.snapIgnore===void 0&&(!L.PM.optIn&&o.options.pmIgnore===!0||L.PM.optIn&&o.options.pmIgnore!==!1))return;(o instanceof L.Circle||o instanceof L.CircleMarker)&&o.pm&&o.pm._hiddenPolyCircle?e.push(o.pm._hiddenPolyCircle):o instanceof L.ImageOverlay&&(o=L.rectangle(o.getBounds())),e.push(o);let l=L.polyline([],{color:"red",pmIgnore:!0});l._pmTempLayer=!0,i.push(l),(o instanceof L.Circle||o instanceof L.CircleMarker)&&i.push(l)}}),e=e.filter(o=>this._layer!==o),e=e.filter(o=>o._latlng||o._latlngs&&qn(o._latlngs)),e=e.filter(o=>!o._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let o=L.polyline([],{color:"red",pmIgnore:!0});o._pmTempLayer=!0,i.push(o)}),this._snapList=e.concat(this._otherSnapLayers)):this._snapList=e,this.debugIndicatorLines=i},_handleSnapLayerRemoval({layer:e}){if(!e._leaflet_id)return;let i=this._snapList.findIndex(n=>n._leaflet_id===e._leaflet_id);i>-1&&this._snapList.splice(i,1)},_calcClosestLayer(e,i){return this._calcClosestLayers(e,i,1)[0]},_calcClosestLayers(e,i,n=1){let o=[],l={};i.forEach((p,_)=>{if(p._parentCopy&&p._parentCopy===this._layer||p.getLatLngs?.().flat(5).length<2)return;let x=this._calcLayerDistances(e,p);if(x.distance=Math.floor(x.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[_]){let k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,this.debugIndicatorLines[_]=k}this.debugIndicatorLines[_].setLatLngs([e,x.latlng])}n===1&&(l.distance===void 0||x.distance-5<=l.distance)?(x.distance+5<l.distance&&(o=[]),l=x,l.layer=p,o.push(l)):n!==1&&(l={},l=x,l.layer=p,o.push(l))}),n!==1&&(o=o.sort((p,_)=>p.distance-_.distance)),n===-1&&(n=o.length);let h=this._getClosestLayerByPriority(o,n);return L.Util.isArray(h)?h:[h]},_calcLayerDistances(e,i){let n=this._map,o=i instanceof L.Marker||i instanceof L.CircleMarker,l=i instanceof L.Polygon,h=e;if(o){let p=i.getLatLng();return{latlng:{...p},distance:this._getDistance(n,p,h)}}return this._calcLatLngDistances(h,i.getLatLngs(),n,l)},_calcLatLngDistances(e,i,n,o=!1){let l,h,p,_=x=>{x.forEach((k,O)=>{if(Array.isArray(k)){_(k);return}if(this.options.snapSegment){let I=k,tt;o?tt=O+1===x.length?0:O+1:tt=O+1===x.length?void 0:O+1;let V=x[tt];if(V){let ut=this._getDistanceToSegment(n,e,I,V);(h===void 0||ut<h)&&(h=ut,p=[I,V])}}else{let I=this._getDistance(n,e,k);(h===void 0||I<h)&&(h=I,l=k)}})};return _(i),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(n,e,p[0],p[1])},segment:p,distance:h}:{latlng:l,distance:h}},_getClosestLayerByPriority(e,i=1){e=e.sort((p,_)=>p._leaflet_id-_._leaflet_id);let n=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],o=this._map.pm.globalOptions.snappingOrder||[],l=0,h={};return o.concat(n).forEach(p=>{h[p]||(l+=1,h[p]=l)}),e.sort(v("instanceofShape",h)),i===1?e[0]||{}:e.slice(0,i)},_checkPrioritiySnapping(e){let i=this._map,n=e.segment[0],o=e.segment[1],l=e.latlng,h=l;if(this.options.snapVertex){let p=this._getDistance(i,n,l),_=this._getDistance(i,o,l),x=p<_?n:o,k=p<_?p:_;if(this.options.snapMiddle){let I=L.PM.Utils.calcMiddleLatLng(i,n,o),tt=this._getDistance(i,I,l);tt<p&&tt<_&&(x=I,k=tt)}let O=this.options.snapDistance;k<O&&(h=x)}return{...h}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(e,i,n,o){let l=e.getMaxZoom();l===1/0&&(l=e.getZoom());let h=e.project(i,l),p=e.project(n,l),_=e.project(o,l),x=L.LineUtil.closestPointOnSegment(h,p,_);return e.unproject(x,l)},_getDistanceToSegment(e,i,n,o){let l=e.latLngToContainerPoint(i),h=e.latLngToContainerPoint(n),p=e.latLngToContainerPoint(o);return L.LineUtil.pointToSegmentDistance(l,h,p)},_getDistance(e,i,n){return e.latLngToContainerPoint(i).distanceTo(e.latLngToContainerPoint(n))}},Gt=Jt,Me=L.Class.extend({includes:[Gt,Kt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(e){L.Util.setOptions(this,e),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(e){let i=new L.Icon.Default;i.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=i,this._map=e,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(n=>{this[n]=new L.PM.Draw[n](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(e,i=!1){i?this.options.pathOptions=(0,Rt.default)(this.options.pathOptions,e):this.options.pathOptions=e},getShapes(){return this.shapes},getShape(){return this._shape},enable(e,i){if(!e)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[e].enable(i)},disable(){this.shapes.forEach(e=>{this[e].disable()})},addControls(){this.shapes.forEach(e=>{this[e].addButton()})},getActiveShape(){let e;return this.shapes.forEach(i=>{this[i]._enabled&&(e=i)}),e},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let e=[];this._map.eachLayer(i=>{(i instanceof L.Polyline||i instanceof L.Marker||i instanceof L.Circle||i instanceof L.CircleMarker||i instanceof L.ImageOverlay)&&(i._pmTempLayer||e.push(i))}),this._enabled?e.forEach(i=>{L.PM.Utils.disablePopup(i)}):e.forEach(i=>{L.PM.Utils.enablePopup(i)})},createNewDrawInstance(e,i){let n=this._getShapeFromBtnName(i);if(this[e])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[n])throw new TypeError(`There is no class L.PM.Draw.${n}`);return this[e]=new L.PM.Draw[n](this._map),this[e].toolbarButtonName=e,this[e]._shape=e,this.shapes.push(e),this[i]&&this[e].setOptions(this[i].options),this[e].setOptions(this[e].options),this[e]},_getShapeFromBtnName(e){let i={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return i[e]?i[e]:this[e]?this[e]._shape:e},_finishLayer(e){e.pm&&(e.pm.setOptions(this.options),e.pm._shape=this._shape,e.pm._map=this._map),this._addDrawnLayerProp(e)},_addDrawnLayerProp(e){e._drawnByGeoman=!0},_setPane(e,i){i==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Yt=Me;Yt.Marker=Yt.extend({initialize(e){this._map=e,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip($t("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},isRelevantMarker(e){return e instanceof L.Marker&&e.pm&&!e._pmTempLayer&&!e.pm._initTextMarker},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(e){if(!e.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),n=new L.Marker(i,this.options.markerStyle);this._setPane(n,"markerPane"),this._finishLayer(n),n.pm||(n.options.draggable=!1),n.addTo(this._map.pm._getContainingLayer()),n.pm&&this.options.markerEditable?n.pm.enable():n.dragging&&n.dragging.disable(),this._fireCreate(n),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var pe=63710088e-1,li={centimeters:pe*100,centimetres:pe*100,degrees:pe/111325,feet:pe*3.28084,inches:pe*39.37,kilometers:pe/1e3,kilometres:pe/1e3,meters:pe,metres:pe,miles:pe/1609.344,millimeters:pe*1e3,millimetres:pe*1e3,nauticalmiles:pe/1852,radians:1,yards:pe*1.0936},Vt={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/pe,yards:1.0936133};function Be(e,i,n){n===void 0&&(n={});var o={type:"Feature"};return(n.id===0||n.id)&&(o.id=n.id),n.bbox&&(o.bbox=n.bbox),o.properties=i||{},o.geometry=e,o}function Wt(e,i,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!vi(e[0])||!vi(e[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:e};return Be(o,i,n)}function ae(e,i,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var o={type:"LineString",coordinates:e};return Be(o,i,n)}function _e(e,i){i===void 0&&(i={});var n={type:"FeatureCollection"};return i.id&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.features=e,n}function dn(e,i){i===void 0&&(i="kilometers");var n=li[i];if(!n)throw new Error(i+" units is invalid");return e*n}function yi(e,i){i===void 0&&(i="kilometers");var n=li[i];if(!n)throw new Error(i+" units is invalid");return e/n}function ca(e){var i=e%(2*Math.PI);return i*180/Math.PI}function ve(e){var i=e%360;return i*Math.PI/180}function vi(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function bi(e){var i,n,o={type:"FeatureCollection",features:[]};if(e.type==="Feature"?n=e.geometry:n=e,n.type==="LineString")i=[n.coordinates];else if(n.type==="MultiLineString")i=n.coordinates;else if(n.type==="MultiPolygon")i=[].concat.apply([],n.coordinates);else if(n.type==="Polygon")i=n.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(function(l){i.forEach(function(h){for(var p=0;p<l.length-1;p++)for(var _=p;_<h.length-1;_++)if(!(l===h&&(Math.abs(p-_)===1||p===0&&_===l.length-2&&l[p][0]===l[l.length-1][0]&&l[p][1]===l[l.length-1][1]))){var x=fi(l[p][0],l[p][1],l[p+1][0],l[p+1][1],h[_][0],h[_][1],h[_+1][0],h[_+1][1]);x&&o.features.push(Wt([x[0],x[1]]))}})}),o}function fi(e,i,n,o,l,h,p,_){var x,k,O,I,tt,V={x:null,y:null,onLine1:!1,onLine2:!1};return x=(_-h)*(n-e)-(p-l)*(o-i),x===0?V.x!==null&&V.y!==null?V:!1:(k=i-h,O=e-l,I=(p-l)*k-(_-h)*O,tt=(n-e)*k-(o-i)*O,k=I/x,O=tt/x,V.x=e+k*(n-e),V.y=i+k*(o-i),k>=0&&k<=1&&(V.onLine1=!0),O>=0&&O<=1&&(V.onLine2=!0),V.onLine1&&V.onLine2?[V.x,V.y]:!1)}Yt.Line=Yt.extend({initialize(e){this._map=e,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip($t("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine(){let e=this._layer.getLatLngs();if(e.length>0){let i=e[e.length-1];this._hintline.setLatLngs([i,this._hintMarker.getLatLng()])}},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let n=e;n.target=this._hintMarker,this._handleSnapping(n)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let i=this._layer._defaultShape().slice();i.push(this._hintMarker.getLatLng()),this._change(i)},hasSelfIntersection(){return bi(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(e,i){let n=L.polyline(this._layer.getLatLngs());e&&(i||(i=this._hintMarker.getLatLng()),n.addLatLng(i));let o=bi(n.toGeoJSON(15));this._doesSelfIntersect=o.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(o,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(e){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,e.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),n=this._layer.getLatLngs(),o=n[n.length-1];if(i.equals(n[0])||n.length>0&&i.equals(o)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:i,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(i);let l=this._createMarker(i);this._setTooltipText(),this._setHintLineAfterNewVertex(i),this._fireVertexAdded(l,void 0,i,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(e)},_setHintLineAfterNewVertex(e){this._hintline.setLatLngs([e,e])},_removeLastVertex(){let e=this._markers;if(e.length<=1){this.disable();return}let i=this._layer.getLatLngs(),n=e[e.length-1],{indexPath:o}=L.PM.Utils.findDeepMarkerIndex(e,n);e.pop(),this._layerGroup.removeLayer(n);let l=e[e.length-1],h=i.indexOf(l.getLatLng());i=i.slice(0,h+1),this._layer.setLatLngs(i),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(n,o,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=1)return;let i=L.polyline(e,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this.options.snappable&&this._cleanupSnapping();let n=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(n))},_createMarker(e){let i=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),i.on("click",this._finishShape,this),i},_setTooltipText(){let{length:e}=this._layer.getLatLngs().flat(),i="";e<=1?i=$t("tooltips.continueLine"):i=$t("tooltips.finishLine"),this._hintMarker.setTooltipContent(i)},_change(e){this._fireChange(e,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Yt.Polygon=Yt.Line.extend({initialize(e){this._map=e,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(e){L.PM.Draw.Line.prototype.enable.call(this,e),this._layer.pm._shape="Polygon"},_createMarker(e){let i=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),this._layer.getLatLngs().flat().length===1?(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()):i.on("click",()=>1),i},_setTooltipText(){let{length:e}=this._layer.getLatLngs().flat(),i="";e<=2?i=$t("tooltips.continueLine"):i=$t("tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=2)return;let i=L.polygon(e,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let n=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(n))}}),Yt.Rectangle=Yt.extend({initialize(e){this._map=e,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(e){if(L.Util.setOptions(this,e),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip($t("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let i=0;i<2;i+=1){let n=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._styleMarkers.push(n)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_placeStartingMarkers(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(i),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(n=>{L.DomUtil.addClass(n._icon,"visible"),n.setLatLng(i)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent($t("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let e=this._startMarker.getLatLng();e&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([e,e]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let n=e;n.target=this._hintMarker,this._handleSnapping(n)}let i=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(i,"Draw")},_syncRectangleSize(){let e=w(this._startMarker.getLatLng(),this._map),i=w(this._hintMarker.getLatLng(),this._map),n=L.PM.Utils._getRotatedRectangle(e,i,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(n),this.options.cursorMarker&&this._styleMarkers){let o=[];n.forEach(l=>{!l.equals(e,1e-8)&&!l.equals(i,1e-8)&&o.push(l)}),o.forEach((l,h)=>{try{this._styleMarkers[h].setLatLng(l)}catch{}})}},_findCorners(){let e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.options.rectangleAngle||0,this._map)},_finishShape(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),n=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||n.equals(i))return;let o=L.rectangle([n,i],this.options.pathOptions);if(this.options.rectangleAngle){let h=L.PM.Utils._getRotatedRectangle(n,i,this.options.rectangleAngle||0,this._map);o.setLatLngs(h),o.pm&&o.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),this._fireCreate(o);let l=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(l))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Yt.CircleMarker=Yt.extend({initialize(e){this._map=e,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(e){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let i={};L.extend(i,this.options.templineStyle),i.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),i),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip($t("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip($t("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.disable()})},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_placeCenterMarker(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let i=this._hintMarker.getLatLng();this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent($t("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let e=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,i])},_syncCircleRadius(){let e=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),n=this._distanceCalculation(e,i);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(n)},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let n=e;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping();let i=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(i,"Draw")},isRelevantMarker(e){return e instanceof L.CircleMarker&&!(e instanceof L.Circle)&&e.pm&&!e._pmTempLayer},_createMarker(e){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!e.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),n=new this._BaseCircleClass(i,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(n,"layerPane"),this._finishLayer(n),n.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(n),this._fireCreate(n),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(e){e.pm&&this.options.markerEditable&&e.pm.enable()},_finishShape(e){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._centerMarker.getLatLng(),n=this._defaultRadius;if(this.options[this._editableOption]){let p=this._hintMarker.getLatLng();n=this._distanceCalculation(i,p),this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?n=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&(n=this.options[this._maxRadiusOption])}let o={...this.options.pathOptions,radius:n},l=new this._BaseCircleClass(i,o);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),l.pm&&l.pm._updateHiddenPolyCircle(),this._fireCreate(l);let h=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(h))},_getNewDestinationOfHintMarker(){let e=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return e;let i=this._centerMarker.getLatLng(),n=this._distanceCalculation(i,e);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?e=d(this._map,i,e,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&(e=d(this._map,i,e,this._getMaxDistanceInMeter()))}return e},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let e=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),n=this._distanceCalculation(e,i);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let e={};L.extend(e,this.options.templineStyle),this.options[this._editableOption]&&(e.radius=0),this._layer?.setStyle(e),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(e,i){return this._map.project(e).distanceTo(this._map.project(i))}}),Yt.Circle=Yt.CircleMarker.extend({initialize(e){this._map=e,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(e,i){return this._map.distance(e,i)}});function Qe(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Pe(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function be(e){return e.type==="Feature"?e.geometry:e}function da(e,i){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function Gn(e,i,n){if(e!==null)for(var o,l,h,p,_,x,k,O=0,I=0,tt,V=e.type,ut=V==="FeatureCollection",gt=V==="Feature",kt=ut?e.features.length:1,ee=0;ee<kt;ee++){k=ut?e.features[ee].geometry:gt?e.geometry:e,tt=k?k.type==="GeometryCollection":!1,_=tt?k.geometries.length:1;for(var D=0;D<_;D++){var z=0,H=0;if(p=tt?k.geometries[D]:k,p!==null){x=p.coordinates;var nt=p.type;switch(O=n&&(nt==="Polygon"||nt==="MultiPolygon")?1:0,nt){case null:break;case"Point":if(i(x,I,ee,z,H)===!1)return!1;I++,z++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(i(x[o],I,ee,z,H)===!1)return!1;I++,nt==="MultiPoint"&&z++}nt==="LineString"&&z++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(l=0;l<x[o].length-O;l++){if(i(x[o][l],I,ee,z,H)===!1)return!1;I++}nt==="MultiLineString"&&z++,nt==="Polygon"&&H++}nt==="Polygon"&&z++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(H=0,l=0;l<x[o].length;l++){for(h=0;h<x[o][l].length-O;h++){if(i(x[o][l][h],I,ee,z,H)===!1)return!1;I++}H++}z++}break;case"GeometryCollection":for(o=0;o<p.geometries.length;o++)if(Gn(p.geometries[o],i,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ti(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&i(e.features[n],n)!==!1;n++);}function re(e,i,n){var o=n;return ti(e,function(l,h){h===0&&n===void 0?o=l:o=i(o,l,h)}),o}function Ii(e,i){var n,o,l,h,p,_,x,k,O,I,tt=0,V=e.type==="FeatureCollection",ut=e.type==="Feature",gt=V?e.features.length:1;for(n=0;n<gt;n++){for(_=V?e.features[n].geometry:ut?e.geometry:e,k=V?e.features[n].properties:ut?e.properties:{},O=V?e.features[n].bbox:ut?e.bbox:void 0,I=V?e.features[n].id:ut?e.id:void 0,x=_?_.type==="GeometryCollection":!1,p=x?_.geometries.length:1,l=0;l<p;l++){if(h=x?_.geometries[l]:_,h===null){if(i(null,tt,k,O,I)===!1)return!1;continue}switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(i(h,tt,k,O,I)===!1)return!1;break}case"GeometryCollection":{for(o=0;o<h.geometries.length;o++)if(i(h.geometries[o],tt,k,O,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}tt++}}function ei(e,i){Ii(e,function(n,o,l,h,p){var _=n===null?null:n.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return i(Be(n,l,{bbox:h,id:p}),o,0)===!1?!1:void 0}var x;switch(_){case"MultiPoint":x="Point";break;case"MultiLineString":x="LineString";break;case"MultiPolygon":x="Polygon";break}for(var k=0;k<n.coordinates.length;k++){var O=n.coordinates[k],I={type:x,coordinates:O};if(i(Be(I,l),o,k)===!1)return!1}})}function Ci(e){if(!e)throw new Error("geojson is required");var i=[];return ei(e,function(n){_r(n,i)}),_e(i)}function _r(e,i){var n=[],o=e.geometry;if(o!==null){switch(o.type){case"Polygon":n=Pe(o);break;case"LineString":n=[Pe(o)]}n.forEach(function(l){var h=pn(l,e.properties);h.forEach(function(p){p.id=i.length,i.push(p)})})}}function pn(e,i){var n=[];return e.reduce(function(o,l){var h=ae([o,l],i);return h.bbox=yr(o,l),n.push(h),l}),n}function yr(e,i){var n=e[0],o=e[1],l=i[0],h=i[1],p=n<l?n:l,_=o<h?o:h,x=n>l?n:l,k=o>h?o:h;return[p,_,x,k]}var ze=Ci,Ba=Te(qt(),1);function Wi(e,i){var n={},o=[];if(e.type==="LineString"&&(e=Be(e)),i.type==="LineString"&&(i=Be(i)),e.type==="Feature"&&i.type==="Feature"&&e.geometry!==null&&i.geometry!==null&&e.geometry.type==="LineString"&&i.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var l=Va(e,i);return l&&o.push(l),_e(o)}var h=(0,Ba.default)();return h.load(ze(i)),ti(ze(e),function(p){ti(h.search(p),function(_){var x=Va(p,_);if(x){var k=Pe(x).join(",");n[k]||(n[k]=!0,o.push(x))}})}),_e(o)}function Va(e,i){var n=Pe(e),o=Pe(i);if(n.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(o.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var l=n[0][0],h=n[0][1],p=n[1][0],_=n[1][1],x=o[0][0],k=o[0][1],O=o[1][0],I=o[1][1],tt=(I-k)*(p-l)-(O-x)*(_-h),V=(O-x)*(h-k)-(I-k)*(l-x),ut=(p-l)*(h-k)-(_-h)*(l-x);if(tt===0)return null;var gt=V/tt,kt=ut/tt;if(gt>=0&&gt<=1&&kt>=0&&kt<=1){var ee=l+gt*(p-l),D=h+gt*(_-h);return Wt([ee,D])}return null}var xi=Wi,ii=Te(qt(),1);function mn(e,i,n){n===void 0&&(n={});var o=Qe(e),l=Qe(i),h=ve(l[1]-o[1]),p=ve(l[0]-o[0]),_=ve(o[1]),x=ve(l[1]),k=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(p/2),2)*Math.cos(_)*Math.cos(x);return dn(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)),n.units)}var $e=mn;function Sr(e){var i=e[0],n=e[1],o=e[2],l=e[3],h=$e(e.slice(0,2),[o,n]),p=$e(e.slice(0,2),[i,l]);if(h>=p){var _=(n+l)/2;return[i,_-(o-i)/2,o,_+(o-i)/2]}else{var x=(i+o)/2;return[x-(l-n)/2,n,x+(l-n)/2,l]}}var ui=Sr;function Ki(e){var i=[1/0,1/0,-1/0,-1/0];return Gn(e,function(n){i[0]>n[0]&&(i[0]=n[0]),i[1]>n[1]&&(i[1]=n[1]),i[2]<n[0]&&(i[2]=n[0]),i[3]<n[1]&&(i[3]=n[1])}),i}Ki.default=Ki;var $i=Ki;function Zn(e,i){i===void 0&&(i={});var n=i.precision,o=i.coordinates,l=i.mutate;if(n=n==null||isNaN(n)?6:n,o=o==null||isNaN(o)?3:o,!e)throw new Error("<geojson> is required");if(typeof n!="number")throw new Error("<precision> must be a number");if(typeof o!="number")throw new Error("<coordinates> must be a number");(l===!1||l===void 0)&&(e=JSON.parse(JSON.stringify(e)));var h=Math.pow(10,n);return Gn(e,function(p){Pa(p,h,o)}),e}function Pa(e,i,n){e.length>n&&e.splice(n,e.length);for(var o=0;o<e.length;o++)e[o]=Math.round(e[o]*i)/i;return e}var gn=Zn;function T(e,i,n){if(n===void 0&&(n={}),n.final===!0)return G(e,i);var o=Qe(e),l=Qe(i),h=ve(o[0]),p=ve(l[0]),_=ve(o[1]),x=ve(l[1]),k=Math.sin(p-h)*Math.cos(x),O=Math.cos(_)*Math.sin(x)-Math.sin(_)*Math.cos(x)*Math.cos(p-h);return ca(Math.atan2(k,O))}function G(e,i){var n=T(i,e);return n=(n+180)%360,n}function Q(e,i,n,o){o===void 0&&(o={});var l=Qe(e),h=ve(l[0]),p=ve(l[1]),_=ve(n),x=yi(i,o.units),k=Math.asin(Math.sin(p)*Math.cos(x)+Math.cos(p)*Math.sin(x)*Math.cos(_)),O=h+Math.atan2(Math.sin(_)*Math.sin(x)*Math.cos(p),Math.cos(x)-Math.sin(p)*Math.sin(k)),I=ca(O),tt=ca(k);return Wt([I,tt],o.properties)}function rt(e,i,n){n===void 0&&(n={});var o=Wt([1/0,1/0],{dist:1/0}),l=0;return ei(e,function(h){for(var p=Pe(h),_=0;_<p.length-1;_++){var x=Wt(p[_]);x.properties.dist=$e(i,x,n);var k=Wt(p[_+1]);k.properties.dist=$e(i,k,n);var O=$e(x,k,n),I=Math.max(x.properties.dist,k.properties.dist),tt=T(x,k),V=Q(i,I,tt+90,n),ut=Q(i,I,tt-90,n),gt=xi(ae([V.geometry.coordinates,ut.geometry.coordinates]),ae([x.geometry.coordinates,k.geometry.coordinates])),kt=null;gt.features.length>0&&(kt=gt.features[0],kt.properties.dist=$e(i,kt,n),kt.properties.location=l+$e(x,kt,n)),x.properties.dist<o.properties.dist&&(o=x,o.properties.index=_,o.properties.location=l),k.properties.dist<o.properties.dist&&(o=k,o.properties.index=_+1,o.properties.location=l+O),kt&&kt.properties.dist<o.properties.dist&&(o=kt,o.properties.index=_),l+=O}}),o}var ft=rt;function _t(e,i){if(!e)throw new Error("line is required");if(!i)throw new Error("splitter is required");var n=da(e),o=da(i);if(n!=="LineString")throw new Error("line must be LineString");if(o==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(o==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var l=gn(i,{precision:7});switch(o){case"Point":return Lt(e,l);case"MultiPoint":return yt(e,l);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return yt(e,xi(e,l))}}function yt(e,i){var n=[],o=(0,ii.default)();return ei(i,function(l){if(n.forEach(function(_,x){_.id=x}),!n.length)n=Lt(e,l).features,n.forEach(function(_){_.bbox||(_.bbox=ui($i(_)))}),o.load(_e(n));else{var h=o.search(l);if(h.features.length){var p=vt(l,h);n=n.filter(function(_){return _.id!==p.id}),o.remove(p),ti(Lt(p,l),function(_){n.push(_),o.insert(_)})}}}),_e(n)}function Lt(e,i){var n=[],o=Pe(e)[0],l=Pe(e)[e.geometry.coordinates.length-1];if(Zt(o,Qe(i))||Zt(l,Qe(i)))return _e([e]);var h=(0,ii.default)(),p=ze(e);h.load(p);var _=h.search(i);if(!_.features.length)return _e([e]);var x=vt(i,_),k=[o],O=re(p,function(I,tt,V){var ut=Pe(tt)[1],gt=Qe(i);return V===x.id?(I.push(gt),n.push(ae(I)),Zt(gt,ut)?[gt]:[gt,ut]):(I.push(ut),I)},k);return O.length>1&&n.push(ae(O)),_e(n)}function vt(e,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var n,o=1/0;return ti(i,function(l){var h=ft(l,e),p=h.properties.dist;p<o&&(n=l,o=p)}),n}function Zt(e,i){return e[0]===i[0]&&e[1]===i[1]}var St=_t;function Dt(e,i,n){if(n===void 0&&(n={}),!e)throw new Error("point is required");if(!i)throw new Error("polygon is required");var o=Qe(e),l=be(i),h=l.type,p=i.bbox,_=l.coordinates;if(p&&Bt(o,p)===!1)return!1;h==="Polygon"&&(_=[_]);for(var x=!1,k=0;k<_.length&&!x;k++)if(Ft(o,_[k][0],n.ignoreBoundary)){for(var O=!1,I=1;I<_[k].length&&!O;)Ft(o,_[k][I],!n.ignoreBoundary)&&(O=!0),I++;O||(x=!0)}return x}function Ft(e,i,n){var o=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var l=0,h=i.length-1;l<i.length;h=l++){var p=i[l][0],_=i[l][1],x=i[h][0],k=i[h][1],O=e[1]*(p-x)+_*(x-e[0])+k*(e[0]-p)===0&&(p-e[0])*(x-e[0])<=0&&(_-e[1])*(k-e[1])<=0;if(O)return!n;var I=_>e[1]!=k>e[1]&&e[0]<(x-p)*(e[1]-_)/(k-_)+p;I&&(o=!o)}return o}function Bt(e,i){return i[0]<=e[0]&&i[1]<=e[1]&&i[2]>=e[0]&&i[3]>=e[1]}function ue(e,i,n){n===void 0&&(n={});for(var o=Qe(e),l=Pe(i),h=0;h<l.length-1;h++){var p=!1;if(n.ignoreEndVertices&&(h===0&&(p="start"),h===l.length-2&&(p="end"),h===0&&h+1===l.length-1&&(p="both")),Oe(l[h],l[h+1],o,p,typeof n.epsilon>"u"?null:n.epsilon))return!0}return!1}function Oe(e,i,n,o,l){var h=n[0],p=n[1],_=e[0],x=e[1],k=i[0],O=i[1],I=n[0]-_,tt=n[1]-x,V=k-_,ut=O-x,gt=I*ut-tt*V;if(l!==null){if(Math.abs(gt)>l)return!1}else if(gt!==0)return!1;if(o){if(o==="start")return Math.abs(V)>=Math.abs(ut)?V>0?_<h&&h<=k:k<=h&&h<_:ut>0?x<p&&p<=O:O<=p&&p<x;if(o==="end")return Math.abs(V)>=Math.abs(ut)?V>0?_<=h&&h<k:k<h&&h<=_:ut>0?x<=p&&p<O:O<p&&p<=x;if(o==="both")return Math.abs(V)>=Math.abs(ut)?V>0?_<h&&h<k:k<h&&h<_:ut>0?x<p&&p<O:O<p&&p<x}else return Math.abs(V)>=Math.abs(ut)?V>0?_<=h&&h<=k:k<=h&&h<=_:ut>0?x<=p&&p<=O:O<=p&&p<=x;return!1}var ke=ue;function ai(e,i){var n=be(e),o=be(i),l=n.type,h=o.type,p=n.coordinates,_=o.coordinates;switch(l){case"Point":switch(h){case"Point":return vr(p,_);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return Mi(n,o);case"MultiPoint":return Ei(n,o);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return ke(o,n,{ignoreEndVertices:!0});case"LineString":return Ur(n,o);case"MultiPoint":return We(n,o);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return Dt(o,n,{ignoreBoundary:!0});case"LineString":return Hr(n,o);case"Polygon":return ho(n,o);case"MultiPoint":return _n(n,o);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+l+" geometry not supported")}}function Mi(e,i){var n,o=!1;for(n=0;n<e.coordinates.length;n++)if(vr(e.coordinates[n],i.coordinates)){o=!0;break}return o}function Ei(e,i){for(var n=0,o=i.coordinates;n<o.length;n++){for(var l=o[n],h=!1,p=0,_=e.coordinates;p<_.length;p++){var x=_[p];if(vr(l,x)){h=!0;break}}if(!h)return!1}return!0}function We(e,i){for(var n=!1,o=0,l=i.coordinates;o<l.length;o++){var h=l[o];if(ke(h,e,{ignoreEndVertices:!0})&&(n=!0),!ke(h,e))return!1}return!!n}function _n(e,i){for(var n=0,o=i.coordinates;n<o.length;n++){var l=o[n];if(!Dt(l,e,{ignoreBoundary:!0}))return!1}return!0}function Ur(e,i){for(var n=!1,o=0,l=i.coordinates;o<l.length;o++){var h=l[o];if(ke({type:"Point",coordinates:h},e,{ignoreEndVertices:!0})&&(n=!0),!ke({type:"Point",coordinates:h},e,{ignoreEndVertices:!1}))return!1}return n}function Hr(e,i){var n=!1,o=0,l=$i(e),h=$i(i);if(!Yi(l,h))return!1;for(o;o<i.coordinates.length-1;o++){var p=Vr(i.coordinates[o],i.coordinates[o+1]);if(Dt({type:"Point",coordinates:p},e,{ignoreBoundary:!0})){n=!0;break}}return n}function ho(e,i){if(e.type==="Feature"&&e.geometry===null||i.type==="Feature"&&i.geometry===null)return!1;var n=$i(e),o=$i(i);if(!Yi(n,o))return!1;for(var l=be(i).coordinates,h=0,p=l;h<p.length;h++)for(var _=p[h],x=0,k=_;x<k.length;x++){var O=k[x];if(!Dt(O,e))return!1}return!0}function Yi(e,i){return!(e[0]>i[0]||e[2]<i[2]||e[1]>i[1]||e[3]<i[3])}function vr(e,i){return e[0]===i[0]&&e[1]===i[1]}function Vr(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}var Un=Te(se()),Wr=e=>()=>e,yn=e=>{let i=e?(n,o)=>o.minus(n).abs().isLessThanOrEqualTo(e):Wr(!1);return(n,o)=>i(n,o)?0:n.comparedTo(o)};function Hn(e){let i=e?(n,o,l,h,p)=>n.exponentiatedBy(2).isLessThanOrEqualTo(h.minus(o).exponentiatedBy(2).plus(p.minus(l).exponentiatedBy(2)).times(e)):Wr(!1);return(n,o,l)=>{let h=n.x,p=n.y,_=l.x,x=l.y,k=p.minus(x).times(o.x.minus(_)).minus(h.minus(_).times(o.y.minus(x)));return i(k,h,p,_,x)?0:k.comparedTo(0)}}var Kr=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,br=Math.ceil,Bi=Math.floor,ni="[BigNumber Error] ",Dr=ni+"Number primitive has more than 15 significant digits: ",Pi=1e14,jt=14,xr=9007199254740991,Or=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],pa=1e7,Re=1e9;function $r(e){var i,n,o,l=D.prototype={constructor:D,toString:null,valueOf:null},h=new D(1),p=20,_=4,x=-7,k=21,O=-1e7,I=1e7,tt=!1,V=1,ut=0,gt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},kt="0123456789abcdefghijklmnopqrstuvwxyz",ee=!0;function D(b,M){var B,E,P,A,q,N,Z,$,K=this;if(!(K instanceof D))return new D(b,M);if(M==null){if(b&&b._isBigNumber===!0){K.s=b.s,!b.c||b.e>I?K.c=K.e=null:b.e<O?K.c=[K.e=0]:(K.e=b.e,K.c=b.c.slice());return}if((N=typeof b=="number")&&b*0==0){if(K.s=1/b<0?(b=-b,-1):1,b===~~b){for(A=0,q=b;q>=10;q/=10,A++);A>I?K.c=K.e=null:(K.e=A,K.c=[b]);return}$=String(b)}else{if(!Kr.test($=String(b)))return o(K,$,N);K.s=$.charCodeAt(0)==45?($=$.slice(1),-1):1}(A=$.indexOf("."))>-1&&($=$.replace(".","")),(q=$.search(/e/i))>0?(A<0&&(A=q),A+=+$.slice(q+1),$=$.substring(0,q)):A<0&&(A=$.length)}else{if(u(M,2,kt.length,"Base"),M==10&&ee)return K=new D(b),W(K,p+K.e+1,_);if($=String(b),N=typeof b=="number"){if(b*0!=0)return o(K,$,N,M);if(K.s=1/b<0?($=$.slice(1),-1):1,D.DEBUG&&$.replace(/^0\.0*|\./,"").length>15)throw Error(Dr+b)}else K.s=$.charCodeAt(0)===45?($=$.slice(1),-1):1;for(B=kt.slice(0,M),A=q=0,Z=$.length;q<Z;q++)if(B.indexOf(E=$.charAt(q))<0){if(E=="."){if(q>A){A=Z;continue}}else if(!P&&($==$.toUpperCase()&&($=$.toLowerCase())||$==$.toLowerCase()&&($=$.toUpperCase()))){P=!0,q=-1,A=0;continue}return o(K,String(b),N,M)}N=!1,$=n($,M,10,K.s),(A=$.indexOf("."))>-1?$=$.replace(".",""):A=$.length}for(q=0;$.charCodeAt(q)===48;q++);for(Z=$.length;$.charCodeAt(--Z)===48;);if($=$.slice(q,++Z)){if(Z-=q,N&&D.DEBUG&&Z>15&&(b>xr||b!==Bi(b)))throw Error(Dr+K.s*b);if((A=A-q-1)>I)K.c=K.e=null;else if(A<O)K.c=[K.e=0];else{if(K.e=A,K.c=[],q=(A+1)%jt,A<0&&(q+=jt),q<Z){for(q&&K.c.push(+$.slice(0,q)),Z-=jt;q<Z;)K.c.push(+$.slice(q,q+=jt));q=jt-($=$.slice(q)).length}else q-=Z;for(;q--;$+="0");K.c.push(+$)}}else K.c=[K.e=0]}D.clone=$r,D.ROUND_UP=0,D.ROUND_DOWN=1,D.ROUND_CEIL=2,D.ROUND_FLOOR=3,D.ROUND_HALF_UP=4,D.ROUND_HALF_DOWN=5,D.ROUND_HALF_EVEN=6,D.ROUND_HALF_CEIL=7,D.ROUND_HALF_FLOOR=8,D.EUCLID=9,D.config=D.set=function(b){var M,B;if(b!=null)if(typeof b=="object"){if(b.hasOwnProperty(M="DECIMAL_PLACES")&&(B=b[M],u(B,0,Re,M),p=B),b.hasOwnProperty(M="ROUNDING_MODE")&&(B=b[M],u(B,0,8,M),_=B),b.hasOwnProperty(M="EXPONENTIAL_AT")&&(B=b[M],B&&B.pop?(u(B[0],-Re,0,M),u(B[1],0,Re,M),x=B[0],k=B[1]):(u(B,-Re,Re,M),x=-(k=B<0?-B:B))),b.hasOwnProperty(M="RANGE"))if(B=b[M],B&&B.pop)u(B[0],-Re,-1,M),u(B[1],1,Re,M),O=B[0],I=B[1];else if(u(B,-Re,Re,M),B)O=-(I=B<0?-B:B);else throw Error(ni+M+" cannot be zero: "+B);if(b.hasOwnProperty(M="CRYPTO"))if(B=b[M],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))tt=B;else throw tt=!B,Error(ni+"crypto unavailable");else tt=B;else throw Error(ni+M+" not true or false: "+B);if(b.hasOwnProperty(M="MODULO_MODE")&&(B=b[M],u(B,0,9,M),V=B),b.hasOwnProperty(M="POW_PRECISION")&&(B=b[M],u(B,0,Re,M),ut=B),b.hasOwnProperty(M="FORMAT"))if(B=b[M],typeof B=="object")gt=B;else throw Error(ni+M+" not an object: "+B);if(b.hasOwnProperty(M="ALPHABET"))if(B=b[M],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))ee=B.slice(0,10)=="0123456789",kt=B;else throw Error(ni+M+" invalid: "+B)}else throw Error(ni+"Object expected: "+b);return{DECIMAL_PLACES:p,ROUNDING_MODE:_,EXPONENTIAL_AT:[x,k],RANGE:[O,I],CRYPTO:tt,MODULO_MODE:V,POW_PRECISION:ut,FORMAT:gt,ALPHABET:kt}},D.isBigNumber=function(b){if(!b||b._isBigNumber!==!0)return!1;if(!D.DEBUG)return!0;var M,B,E=b.c,P=b.e,A=b.s;t:if({}.toString.call(E)=="[object Array]"){if((A===1||A===-1)&&P>=-Re&&P<=Re&&P===Bi(P)){if(E[0]===0){if(P===0&&E.length===1)return!0;break t}if(M=(P+1)%jt,M<1&&(M+=jt),String(E[0]).length==M){for(M=0;M<E.length;M++)if(B=E[M],B<0||B>=Pi||B!==Bi(B))break t;if(B!==0)return!0}}}else if(E===null&&P===null&&(A===null||A===1||A===-1))return!0;throw Error(ni+"Invalid BigNumber: "+b)},D.maximum=D.max=function(){return H(arguments,-1)},D.minimum=D.min=function(){return H(arguments,1)},D.random=function(){var b=9007199254740992,M=Math.random()*b&2097151?function(){return Bi(Math.random()*b)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var E,P,A,q,N,Z=0,$=[],K=new D(h);if(B==null?B=p:u(B,0,Re),q=br(B/jt),tt)if(crypto.getRandomValues){for(E=crypto.getRandomValues(new Uint32Array(q*=2));Z<q;)N=E[Z]*131072+(E[Z+1]>>>11),N>=9e15?(P=crypto.getRandomValues(new Uint32Array(2)),E[Z]=P[0],E[Z+1]=P[1]):($.push(N%1e14),Z+=2);Z=q/2}else if(crypto.randomBytes){for(E=crypto.randomBytes(q*=7);Z<q;)N=(E[Z]&31)*281474976710656+E[Z+1]*1099511627776+E[Z+2]*4294967296+E[Z+3]*16777216+(E[Z+4]<<16)+(E[Z+5]<<8)+E[Z+6],N>=9e15?crypto.randomBytes(7).copy(E,Z):($.push(N%1e14),Z+=7);Z=q/7}else throw tt=!1,Error(ni+"crypto unavailable");if(!tt)for(;Z<q;)N=M(),N<9e15&&($[Z++]=N%1e14);for(q=$[--Z],B%=jt,q&&B&&(N=Or[jt-B],$[Z]=Bi(q/N)*N);$[Z]===0;$.pop(),Z--);if(Z<0)$=[A=0];else{for(A=-1;$[0]===0;$.splice(0,1),A-=jt);for(Z=1,N=$[0];N>=10;N/=10,Z++);Z<jt&&(A-=jt-Z)}return K.e=A,K.c=$,K}}(),D.sum=function(){for(var b=1,M=arguments,B=new D(M[0]);b<M.length;)B=B.plus(M[b++]);return B},n=function(){var b="0123456789";function M(B,E,P,A){for(var q,N=[0],Z,$=0,K=B.length;$<K;){for(Z=N.length;Z--;N[Z]*=E);for(N[0]+=A.indexOf(B.charAt($++)),q=0;q<N.length;q++)N[q]>P-1&&(N[q+1]==null&&(N[q+1]=0),N[q+1]+=N[q]/P|0,N[q]%=P)}return N.reverse()}return function(B,E,P,A,q){var N,Z,$,K,ht,wt,Et,At,he=B.indexOf("."),me=p,oe=_;for(he>=0&&(K=ut,ut=0,B=B.replace(".",""),At=new D(E),wt=At.pow(B.length-he),ut=K,At.c=M(F(a(wt.c),wt.e,"0"),10,P,b),At.e=At.c.length),Et=M(B,E,P,q?(N=kt,b):(N=b,kt)),$=K=Et.length;Et[--K]==0;Et.pop());if(!Et[0])return N.charAt(0);if(he<0?--$:(wt.c=Et,wt.e=$,wt.s=A,wt=i(wt,At,me,oe,P),Et=wt.c,ht=wt.r,$=wt.e),Z=$+me+1,he=Et[Z],K=P/2,ht=ht||Z<0||Et[Z+1]!=null,ht=oe<4?(he!=null||ht)&&(oe==0||oe==(wt.s<0?3:2)):he>K||he==K&&(oe==4||ht||oe==6&&Et[Z-1]&1||oe==(wt.s<0?8:7)),Z<1||!Et[0])B=ht?F(N.charAt(1),-me,N.charAt(0)):N.charAt(0);else{if(Et.length=Z,ht)for(--P;++Et[--Z]>P;)Et[Z]=0,Z||(++$,Et=[1].concat(Et));for(K=Et.length;!Et[--K];);for(he=0,B="";he<=K;B+=N.charAt(Et[he++]));B=F(B,$,N.charAt(0))}return B}}(),i=function(){function b(E,P,A){var q,N,Z,$,K=0,ht=E.length,wt=P%pa,Et=P/pa|0;for(E=E.slice();ht--;)Z=E[ht]%pa,$=E[ht]/pa|0,q=Et*Z+$*wt,N=wt*Z+q%pa*pa+K,K=(N/A|0)+(q/pa|0)+Et*$,E[ht]=N%A;return K&&(E=[K].concat(E)),E}function M(E,P,A,q){var N,Z;if(A!=q)Z=A>q?1:-1;else for(N=Z=0;N<A;N++)if(E[N]!=P[N]){Z=E[N]>P[N]?1:-1;break}return Z}function B(E,P,A,q){for(var N=0;A--;)E[A]-=N,N=E[A]<P[A]?1:0,E[A]=N*q+E[A]-P[A];for(;!E[0]&&E.length>1;E.splice(0,1));}return function(E,P,A,q,N){var Z,$,K,ht,wt,Et,At,he,me,oe,ge,ci,ao,go,_o,Aa,Nr,Xi=E.s==P.s?1:-1,wi=E.c,Ae=P.c;if(!wi||!wi[0]||!Ae||!Ae[0])return new D(!E.s||!P.s||(wi?Ae&&wi[0]==Ae[0]:!Ae)?NaN:wi&&wi[0]==0||!Ae?Xi*0:Xi/0);for(he=new D(Xi),me=he.c=[],$=E.e-P.e,Xi=A+$+1,N||(N=Pi,$=t(E.e/jt)-t(P.e/jt),Xi=Xi/jt|0),K=0;Ae[K]==(wi[K]||0);K++);if(Ae[K]>(wi[K]||0)&&$--,Xi<0)me.push(1),ht=!0;else{for(go=wi.length,Aa=Ae.length,K=0,Xi+=2,wt=Bi(N/(Ae[0]+1)),wt>1&&(Ae=b(Ae,wt,N),wi=b(wi,wt,N),Aa=Ae.length,go=wi.length),ao=Aa,oe=wi.slice(0,Aa),ge=oe.length;ge<Aa;oe[ge++]=0);Nr=Ae.slice(),Nr=[0].concat(Nr),_o=Ae[0],Ae[1]>=N/2&&_o++;do{if(wt=0,Z=M(Ae,oe,Aa,ge),Z<0){if(ci=oe[0],Aa!=ge&&(ci=ci*N+(oe[1]||0)),wt=Bi(ci/_o),wt>1)for(wt>=N&&(wt=N-1),Et=b(Ae,wt,N),At=Et.length,ge=oe.length;M(Et,oe,At,ge)==1;)wt--,B(Et,Aa<At?Nr:Ae,At,N),At=Et.length,Z=1;else wt==0&&(Z=wt=1),Et=Ae.slice(),At=Et.length;if(At<ge&&(Et=[0].concat(Et)),B(oe,Et,ge,N),ge=oe.length,Z==-1)for(;M(Ae,oe,Aa,ge)<1;)wt++,B(oe,Aa<ge?Nr:Ae,ge,N),ge=oe.length}else Z===0&&(wt++,oe=[0]);me[K++]=wt,oe[0]?oe[ge++]=wi[ao]||0:(oe=[wi[ao]],ge=1)}while((ao++<go||oe[0]!=null)&&Xi--);ht=oe[0]!=null,me[0]||me.splice(0,1)}if(N==Pi){for(K=1,Xi=me[0];Xi>=10;Xi/=10,K++);W(he,A+(he.e=K+$*jt-1)+1,q,ht)}else he.e=$,he.r=+ht;return he}}();function z(b,M,B,E){var P,A,q,N,Z;if(B==null?B=_:u(B,0,8),!b.c)return b.toString();if(P=b.c[0],q=b.e,M==null)Z=a(b.c),Z=E==1||E==2&&(q<=x||q>=k)?C(Z,q):F(Z,q,"0");else if(b=W(new D(b),M,B),A=b.e,Z=a(b.c),N=Z.length,E==1||E==2&&(M<=A||A<=x)){for(;N<M;Z+="0",N++);Z=C(Z,A)}else if(M-=q,Z=F(Z,A,"0"),A+1>N){if(--M>0)for(Z+=".";M--;Z+="0");}else if(M+=A-N,M>0)for(A+1==N&&(Z+=".");M--;Z+="0");return b.s<0&&P?"-"+Z:Z}function H(b,M){for(var B,E,P=1,A=new D(b[0]);P<b.length;P++)E=new D(b[P]),(!E.s||(B=s(A,E))===M||B===0&&A.s===M)&&(A=E);return A}function nt(b,M,B){for(var E=1,P=M.length;!M[--P];M.pop());for(P=M[0];P>=10;P/=10,E++);return(B=E+B*jt-1)>I?b.c=b.e=null:B<O?b.c=[b.e=0]:(b.e=B,b.c=M),b}o=function(){var b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,B=/^\.([^.]+)$/,E=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(A,q,N,Z){var $,K=N?q:q.replace(P,"");if(E.test(K))A.s=isNaN(K)?null:K<0?-1:1;else{if(!N&&(K=K.replace(b,function(ht,wt,Et){return $=(Et=Et.toLowerCase())=="x"?16:Et=="b"?2:8,!Z||Z==$?wt:ht}),Z&&($=Z,K=K.replace(M,"$1").replace(B,"0.$1")),q!=K))return new D(K,$);if(D.DEBUG)throw Error(ni+"Not a"+(Z?" base "+Z:"")+" number: "+q);A.s=null}A.c=A.e=null}}();function W(b,M,B,E){var P,A,q,N,Z,$,K,ht=b.c,wt=Or;if(ht){t:{for(P=1,N=ht[0];N>=10;N/=10,P++);if(A=M-P,A<0)A+=jt,q=M,Z=ht[$=0],K=Bi(Z/wt[P-q-1]%10);else if($=br((A+1)/jt),$>=ht.length)if(E){for(;ht.length<=$;ht.push(0));Z=K=0,P=1,A%=jt,q=A-jt+1}else break t;else{for(Z=N=ht[$],P=1;N>=10;N/=10,P++);A%=jt,q=A-jt+P,K=q<0?0:Bi(Z/wt[P-q-1]%10)}if(E=E||M<0||ht[$+1]!=null||(q<0?Z:Z%wt[P-q-1]),E=B<4?(K||E)&&(B==0||B==(b.s<0?3:2)):K>5||K==5&&(B==4||E||B==6&&(A>0?q>0?Z/wt[P-q]:0:ht[$-1])%10&1||B==(b.s<0?8:7)),M<1||!ht[0])return ht.length=0,E?(M-=b.e+1,ht[0]=wt[(jt-M%jt)%jt],b.e=-M||0):ht[0]=b.e=0,b;if(A==0?(ht.length=$,N=1,$--):(ht.length=$+1,N=wt[jt-A],ht[$]=q>0?Bi(Z/wt[P-q]%wt[q])*N:0),E)for(;;)if($==0){for(A=1,q=ht[0];q>=10;q/=10,A++);for(q=ht[0]+=N,N=1;q>=10;q/=10,N++);A!=N&&(b.e++,ht[0]==Pi&&(ht[0]=1));break}else{if(ht[$]+=N,ht[$]!=Pi)break;ht[$--]=0,N=1}for(A=ht.length;ht[--A]===0;ht.pop());}b.e>I?b.c=b.e=null:b.e<O&&(b.c=[b.e=0])}return b}function et(b){var M,B=b.e;return B===null?b.toString():(M=a(b.c),M=B<=x||B>=k?C(M,B):F(M,B,"0"),b.s<0?"-"+M:M)}return l.absoluteValue=l.abs=function(){var b=new D(this);return b.s<0&&(b.s=1),b},l.comparedTo=function(b,M){return s(this,new D(b,M))},l.decimalPlaces=l.dp=function(b,M){var B,E,P,A=this;if(b!=null)return u(b,0,Re),M==null?M=_:u(M,0,8),W(new D(A),b+A.e+1,M);if(!(B=A.c))return null;if(E=((P=B.length-1)-t(this.e/jt))*jt,P=B[P])for(;P%10==0;P/=10,E--);return E<0&&(E=0),E},l.dividedBy=l.div=function(b,M){return i(this,new D(b,M),p,_)},l.dividedToIntegerBy=l.idiv=function(b,M){return i(this,new D(b,M),0,1)},l.exponentiatedBy=l.pow=function(b,M){var B,E,P,A,q,N,Z,$,K,ht=this;if(b=new D(b),b.c&&!b.isInteger())throw Error(ni+"Exponent not an integer: "+et(b));if(M!=null&&(M=new D(M)),N=b.e>14,!ht.c||!ht.c[0]||ht.c[0]==1&&!ht.e&&ht.c.length==1||!b.c||!b.c[0])return K=new D(Math.pow(+et(ht),N?b.s*(2-g(b)):+et(b))),M?K.mod(M):K;if(Z=b.s<0,M){if(M.c?!M.c[0]:!M.s)return new D(NaN);E=!Z&&ht.isInteger()&&M.isInteger(),E&&(ht=ht.mod(M))}else{if(b.e>9&&(ht.e>0||ht.e<-1||(ht.e==0?ht.c[0]>1||N&&ht.c[1]>=24e7:ht.c[0]<8e13||N&&ht.c[0]<=9999975e7)))return A=ht.s<0&&g(b)?-0:0,ht.e>-1&&(A=1/A),new D(Z?1/A:A);ut&&(A=br(ut/jt+2))}for(N?(B=new D(.5),Z&&(b.s=1),$=g(b)):(P=Math.abs(+et(b)),$=P%2),K=new D(h);;){if($){if(K=K.times(ht),!K.c)break;A?K.c.length>A&&(K.c.length=A):E&&(K=K.mod(M))}if(P){if(P=Bi(P/2),P===0)break;$=P%2}else if(b=b.times(B),W(b,b.e+1,1),b.e>14)$=g(b);else{if(P=+et(b),P===0)break;$=P%2}ht=ht.times(ht),A?ht.c&&ht.c.length>A&&(ht.c.length=A):E&&(ht=ht.mod(M))}return E?K:(Z&&(K=h.div(K)),M?K.mod(M):A?W(K,ut,_,q):K)},l.integerValue=function(b){var M=new D(this);return b==null?b=_:u(b,0,8),W(M,M.e+1,b)},l.isEqualTo=l.eq=function(b,M){return s(this,new D(b,M))===0},l.isFinite=function(){return!!this.c},l.isGreaterThan=l.gt=function(b,M){return s(this,new D(b,M))>0},l.isGreaterThanOrEqualTo=l.gte=function(b,M){return(M=s(this,new D(b,M)))===1||M===0},l.isInteger=function(){return!!this.c&&t(this.e/jt)>this.c.length-2},l.isLessThan=l.lt=function(b,M){return s(this,new D(b,M))<0},l.isLessThanOrEqualTo=l.lte=function(b,M){return(M=s(this,new D(b,M)))===-1||M===0},l.isNaN=function(){return!this.s},l.isNegative=function(){return this.s<0},l.isPositive=function(){return this.s>0},l.isZero=function(){return!!this.c&&this.c[0]==0},l.minus=function(b,M){var B,E,P,A,q=this,N=q.s;if(b=new D(b,M),M=b.s,!N||!M)return new D(NaN);if(N!=M)return b.s=-M,q.plus(b);var Z=q.e/jt,$=b.e/jt,K=q.c,ht=b.c;if(!Z||!$){if(!K||!ht)return K?(b.s=-M,b):new D(ht?q:NaN);if(!K[0]||!ht[0])return ht[0]?(b.s=-M,b):new D(K[0]?q:_==3?-0:0)}if(Z=t(Z),$=t($),K=K.slice(),N=Z-$){for((A=N<0)?(N=-N,P=K):($=Z,P=ht),P.reverse(),M=N;M--;P.push(0));P.reverse()}else for(E=(A=(N=K.length)<(M=ht.length))?N:M,N=M=0;M<E;M++)if(K[M]!=ht[M]){A=K[M]<ht[M];break}if(A&&(P=K,K=ht,ht=P,b.s=-b.s),M=(E=ht.length)-(B=K.length),M>0)for(;M--;K[B++]=0);for(M=Pi-1;E>N;){if(K[--E]<ht[E]){for(B=E;B&&!K[--B];K[B]=M);--K[B],K[E]+=Pi}K[E]-=ht[E]}for(;K[0]==0;K.splice(0,1),--$);return K[0]?nt(b,K,$):(b.s=_==3?-1:1,b.c=[b.e=0],b)},l.modulo=l.mod=function(b,M){var B,E,P=this;return b=new D(b,M),!P.c||!b.s||b.c&&!b.c[0]?new D(NaN):!b.c||P.c&&!P.c[0]?new D(P):(V==9?(E=b.s,b.s=1,B=i(P,b,0,3),b.s=E,B.s*=E):B=i(P,b,0,V),b=P.minus(B.times(b)),!b.c[0]&&V==1&&(b.s=P.s),b)},l.multipliedBy=l.times=function(b,M){var B,E,P,A,q,N,Z,$,K,ht,wt,Et,At,he,me,oe=this,ge=oe.c,ci=(b=new D(b,M)).c;if(!ge||!ci||!ge[0]||!ci[0])return!oe.s||!b.s||ge&&!ge[0]&&!ci||ci&&!ci[0]&&!ge?b.c=b.e=b.s=null:(b.s*=oe.s,!ge||!ci?b.c=b.e=null:(b.c=[0],b.e=0)),b;for(E=t(oe.e/jt)+t(b.e/jt),b.s*=oe.s,Z=ge.length,ht=ci.length,Z<ht&&(At=ge,ge=ci,ci=At,P=Z,Z=ht,ht=P),P=Z+ht,At=[];P--;At.push(0));for(he=Pi,me=pa,P=ht;--P>=0;){for(B=0,wt=ci[P]%me,Et=ci[P]/me|0,q=Z,A=P+q;A>P;)$=ge[--q]%me,K=ge[q]/me|0,N=Et*$+K*wt,$=wt*$+N%me*me+At[A]+B,B=($/he|0)+(N/me|0)+Et*K,At[A--]=$%he;At[A]=B}return B?++E:At.splice(0,1),nt(b,At,E)},l.negated=function(){var b=new D(this);return b.s=-b.s||null,b},l.plus=function(b,M){var B,E=this,P=E.s;if(b=new D(b,M),M=b.s,!P||!M)return new D(NaN);if(P!=M)return b.s=-M,E.minus(b);var A=E.e/jt,q=b.e/jt,N=E.c,Z=b.c;if(!A||!q){if(!N||!Z)return new D(P/0);if(!N[0]||!Z[0])return Z[0]?b:new D(N[0]?E:P*0)}if(A=t(A),q=t(q),N=N.slice(),P=A-q){for(P>0?(q=A,B=Z):(P=-P,B=N),B.reverse();P--;B.push(0));B.reverse()}for(P=N.length,M=Z.length,P-M<0&&(B=Z,Z=N,N=B,M=P),P=0;M;)P=(N[--M]=N[M]+Z[M]+P)/Pi|0,N[M]=Pi===N[M]?0:N[M]%Pi;return P&&(N=[P].concat(N),++q),nt(b,N,q)},l.precision=l.sd=function(b,M){var B,E,P,A=this;if(b!=null&&b!==!!b)return u(b,1,Re),M==null?M=_:u(M,0,8),W(new D(A),b,M);if(!(B=A.c))return null;if(P=B.length-1,E=P*jt+1,P=B[P]){for(;P%10==0;P/=10,E--);for(P=B[0];P>=10;P/=10,E++);}return b&&A.e+1>E&&(E=A.e+1),E},l.shiftedBy=function(b){return u(b,-xr,xr),this.times("1e"+b)},l.squareRoot=l.sqrt=function(){var b,M,B,E,P,A=this,q=A.c,N=A.s,Z=A.e,$=p+4,K=new D("0.5");if(N!==1||!q||!q[0])return new D(!N||N<0&&(!q||q[0])?NaN:q?A:1/0);if(N=Math.sqrt(+et(A)),N==0||N==1/0?(M=a(q),(M.length+Z)%2==0&&(M+="0"),N=Math.sqrt(+M),Z=t((Z+1)/2)-(Z<0||Z%2),N==1/0?M="5e"+Z:(M=N.toExponential(),M=M.slice(0,M.indexOf("e")+1)+Z),B=new D(M)):B=new D(N+""),B.c[0]){for(Z=B.e,N=Z+$,N<3&&(N=0);;)if(P=B,B=K.times(P.plus(i(A,P,$,1))),a(P.c).slice(0,N)===(M=a(B.c)).slice(0,N))if(B.e<Z&&--N,M=M.slice(N-3,N+1),M=="9999"||!E&&M=="4999"){if(!E&&(W(P,P.e+p+2,0),P.times(P).eq(A))){B=P;break}$+=4,N+=4,E=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(W(B,B.e+p+2,1),b=!B.times(B).eq(A));break}}return W(B,B.e+p+1,_,b)},l.toExponential=function(b,M){return b!=null&&(u(b,0,Re),b++),z(this,b,M,1)},l.toFixed=function(b,M){return b!=null&&(u(b,0,Re),b=b+this.e+1),z(this,b,M)},l.toFormat=function(b,M,B){var E,P=this;if(B==null)b!=null&&M&&typeof M=="object"?(B=M,M=null):b&&typeof b=="object"?(B=b,b=M=null):B=gt;else if(typeof B!="object")throw Error(ni+"Argument not an object: "+B);if(E=P.toFixed(b,M),P.c){var A,q=E.split("."),N=+B.groupSize,Z=+B.secondaryGroupSize,$=B.groupSeparator||"",K=q[0],ht=q[1],wt=P.s<0,Et=wt?K.slice(1):K,At=Et.length;if(Z&&(A=N,N=Z,Z=A,At-=A),N>0&&At>0){for(A=At%N||N,K=Et.substr(0,A);A<At;A+=N)K+=$+Et.substr(A,N);Z>0&&(K+=$+Et.slice(A)),wt&&(K="-"+K)}E=ht?K+(B.decimalSeparator||"")+((Z=+B.fractionGroupSize)?ht.replace(new RegExp("\\d{"+Z+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):ht):K}return(B.prefix||"")+E+(B.suffix||"")},l.toFraction=function(b){var M,B,E,P,A,q,N,Z,$,K,ht,wt,Et=this,At=Et.c;if(b!=null&&(N=new D(b),!N.isInteger()&&(N.c||N.s!==1)||N.lt(h)))throw Error(ni+"Argument "+(N.isInteger()?"out of range: ":"not an integer: ")+et(N));if(!At)return new D(Et);for(M=new D(h),$=B=new D(h),E=Z=new D(h),wt=a(At),A=M.e=wt.length-Et.e-1,M.c[0]=Or[(q=A%jt)<0?jt+q:q],b=!b||N.comparedTo(M)>0?A>0?M:$:N,q=I,I=1/0,N=new D(wt),Z.c[0]=0;K=i(N,M,0,1),P=B.plus(K.times(E)),P.comparedTo(b)!=1;)B=E,E=P,$=Z.plus(K.times(P=$)),Z=P,M=N.minus(K.times(P=M)),N=P;return P=i(b.minus(B),E,0,1),Z=Z.plus(P.times($)),B=B.plus(P.times(E)),Z.s=$.s=Et.s,A=A*2,ht=i($,E,A,_).minus(Et).abs().comparedTo(i(Z,B,A,_).minus(Et).abs())<1?[$,E]:[Z,B],I=q,ht},l.toNumber=function(){return+et(this)},l.toPrecision=function(b,M){return b!=null&&u(b,1,Re),z(this,b,M,2)},l.toString=function(b){var M,B=this,E=B.s,P=B.e;return P===null?E?(M="Infinity",E<0&&(M="-"+M)):M="NaN":(b==null?M=P<=x||P>=k?C(a(B.c),P):F(a(B.c),P,"0"):b===10&&ee?(B=W(new D(B),p+P+1,_),M=F(a(B.c),B.e,"0")):(u(b,2,kt.length,"Base"),M=n(F(a(B.c),P,"0"),10,b,E,!0)),E<0&&B.c[0]&&(M="-"+M)),M},l.valueOf=l.toJSON=function(){return et(this)},l._isBigNumber=!0,l[Symbol.toStringTag]="BigNumber",l[Symbol.for("nodejs.util.inspect.custom")]=l.valueOf,e!=null&&D.set(e),D}function t(e){var i=e|0;return e>0||e===i?i:i-1}function a(e){for(var i,n,o=1,l=e.length,h=e[0]+"";o<l;){for(i=e[o++]+"",n=jt-i.length;n--;i="0"+i);h+=i}for(l=h.length;h.charCodeAt(--l)===48;);return h.slice(0,l+1||1)}function s(e,i){var n,o,l=e.c,h=i.c,p=e.s,_=i.s,x=e.e,k=i.e;if(!p||!_)return null;if(n=l&&!l[0],o=h&&!h[0],n||o)return n?o?0:-_:p;if(p!=_)return p;if(n=p<0,o=x==k,!l||!h)return o?0:!l^n?1:-1;if(!o)return x>k^n?1:-1;for(_=(x=l.length)<(k=h.length)?x:k,p=0;p<_;p++)if(l[p]!=h[p])return l[p]>h[p]^n?1:-1;return x==k?0:x>k^n?1:-1}function u(e,i,n,o){if(e<i||e>n||e!==Bi(e))throw Error(ni+(o||"Argument")+(typeof e=="number"?e<i||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var i=e.c.length-1;return t(e.e/jt)==i&&e.c[i]%2!=0}function C(e,i){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(i<0?"e":"e+")+i}function F(e,i,n){var o,l;if(i<0){for(l=n+".";++i;l+=n);e=l+e}else if(o=e.length,++i>o){for(l=n,i-=o;--i;l+=n);e+=l}else i<o&&(e=e.slice(0,i)+"."+e.slice(i));return e}var J=$r(),at=J,ct=class{key;left=null;right=null;constructor(e){this.key=e}},bt=class extends ct{constructor(e){super(e)}},It=class{size=0;modificationCount=0;splayCount=0;splay(e){let i=this.root;if(i==null)return this.compare(e,e),-1;let n=null,o=null,l=null,h=null,p=i,_=this.compare,x;for(;;)if(x=_(p.key,e),x>0){let k=p.left;if(k==null||(x=_(k.key,e),x>0&&(p.left=k.right,k.right=p,p=k,k=p.left,k==null)))break;n==null?o=p:n.left=p,n=p,p=k}else if(x<0){let k=p.right;if(k==null||(x=_(k.key,e),x<0&&(p.right=k.left,k.left=p,p=k,k=p.right,k==null)))break;l==null?h=p:l.right=p,l=p,p=k}else break;return l!=null&&(l.right=p.left,p.left=h),n!=null&&(n.left=p.right,p.right=o),this.root!==p&&(this.root=p,this.splayCount++),x}splayMin(e){let i=e,n=i.left;for(;n!=null;){let o=n;i.left=o.right,o.right=i,i=o,n=i.left}return i}splayMax(e){let i=e,n=i.right;for(;n!=null;){let o=n;i.right=o.left,o.left=i,i=o,n=i.right}return i}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let i=this.root,n=i,o=i.left;if(this.size--,o==null)this.root=i.right;else{let l=i.right;i=this.splayMax(o),i.right=l,this.root=i}return this.modificationCount++,n}addNewRoot(e,i){this.size++,this.modificationCount++;let n=this.root;if(n==null){this.root=e;return}i<0?(e.left=n,e.right=n.right,n.right=null):(e.right=n,e.left=n.left,n.left=null),this.root=e}_first(){let e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){let e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,i)=>e<i?-1:e>i?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},Ut=class Gr extends It{root=null;compare;validKey;constructor(i,n){super(),this.compare=i??this.defaultCompare(),this.validKey=n??(o=>o!=null&&o!=null)}delete(i){return this.validKey(i)?this._delete(i)!=null:!1}deleteAll(i){for(let n of i)this.delete(n)}forEach(i){let n=this[Symbol.iterator](),o;for(;o=n.next(),!o.done;)i(o.value,o.value,this)}add(i){let n=this.splay(i);return n!=0&&this.addNewRoot(new bt(i),n),this}addAndReturn(i){let n=this.splay(i);return n!=0&&this.addNewRoot(new bt(i),n),this.root.key}addAll(i){for(let n of i)this.add(n)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)<0)return this.root.key;let n=this.root.left;if(n==null)return null;let o=n.right;for(;o!=null;)n=o,o=n.right;return n.key}firstAfter(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)>0)return this.root.key;let n=this.root.right;if(n==null)return null;let o=n.left;for(;o!=null;)n=o,o=n.left;return n.key}retainAll(i){let n=new Gr(this.compare,this.validKey),o=this.modificationCount;for(let l of i){if(o!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(l)&&this.splay(l)==0&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(i){return!this.validKey(i)||this.splay(i)!=0?null:this.root.key}intersection(i){let n=new Gr(this.compare,this.validKey);for(let o of this)i.has(o)&&n.add(o);return n}difference(i){let n=new Gr(this.compare,this.validKey);for(let o of this)i.has(o)||n.add(o);return n}union(i){let n=this.clone();return n.addAll(i),n}clone(){let i=new Gr(this.compare,this.validKey);return i.size=this.size,i.root=this.copyNode(this.root),i}copyNode(i){if(i==null)return null;function n(l,h){let p,_;do{if(p=l.left,_=l.right,p!=null){let x=new bt(p.key);h.left=x,n(p,x)}if(_!=null){let x=new bt(_.key);h.right=x,l=_,h=x}}while(_!=null)}let o=new bt(i.key);return n(i,o),o}toSet(){return this.clone()}entries(){return new Ai(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Ne(this.wrap())}[Symbol.toStringTag]="[object Set]"},Ye=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let n=this.tree.getRoot();for(;n!=null;)this.path.push(n),n=n.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],i=e.right;if(i!=null){for(;i!=null;)this.path.push(i),i=i.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},Ne=class extends Ye{getValue(e){return e.key}},Ai=class extends Ye{getValue(e){return[e.key,e.key]}},hi=e=>e,vn=e=>{if(e){let i=new Ut(yn(e)),n=new Ut(yn(e)),o=(h,p)=>p.addAndReturn(h),l=h=>({x:o(h.x,i),y:o(h.y,n)});return l({x:new at(0),y:new at(0)}),l}return hi},Rr=e=>({set:i=>{ma=Rr(i)},reset:()=>Rr(e),compare:yn(e),snap:vn(e),orient:Hn(e)}),ma=Rr(),Vn=(e,i)=>e.ll.x.isLessThanOrEqualTo(i.x)&&i.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(i.y)&&i.y.isLessThanOrEqualTo(e.ur.y),wr=(e,i)=>{if(i.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(i.ll.x)||i.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(i.ll.y))return null;let n=e.ll.x.isLessThan(i.ll.x)?i.ll.x:e.ll.x,o=e.ur.x.isLessThan(i.ur.x)?e.ur.x:i.ur.x,l=e.ll.y.isLessThan(i.ll.y)?i.ll.y:e.ll.y,h=e.ur.y.isLessThan(i.ur.y)?e.ur.y:i.ur.y;return{ll:{x:n,y:l},ur:{x:o,y:h}}},Lr=(e,i)=>e.x.times(i.y).minus(e.y.times(i.x)),Fr=(e,i)=>e.x.times(i.x).plus(e.y.times(i.y)),we=e=>Fr(e,e).sqrt(),kr=(e,i,n)=>{let o={x:i.x.minus(e.x),y:i.y.minus(e.y)},l={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Lr(l,o).div(we(l)).div(we(o))},co=(e,i,n)=>{let o={x:i.x.minus(e.x),y:i.y.minus(e.y)},l={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Fr(l,o).div(we(l)).div(we(o))},Yr=(e,i,n)=>i.y.isZero()?null:{x:e.x.plus(i.x.div(i.y).times(n.minus(e.y))),y:n},Xr=(e,i,n)=>i.x.isZero()?null:{x:n,y:e.y.plus(i.y.div(i.x).times(n.minus(e.x)))},Ir=(e,i,n,o)=>{if(i.x.isZero())return Xr(n,o,e.x);if(o.x.isZero())return Xr(e,i,n.x);if(i.y.isZero())return Yr(n,o,e.y);if(o.y.isZero())return Yr(e,i,n.y);let l=Lr(i,o);if(l.isZero())return null;let h={x:n.x.minus(e.x),y:n.y.minus(e.y)},p=Lr(h,i).div(l),_=Lr(h,o).div(l),x=e.x.plus(_.times(i.x)),k=n.x.plus(p.times(o.x)),O=e.y.plus(_.times(i.y)),I=n.y.plus(p.times(o.y)),tt=x.plus(k).div(2),V=O.plus(I).div(2);return{x:tt,y:V}},zi=class No{point;isLeft;segment;otherSE;consumedBy;static compare(i,n){let o=No.comparePoints(i.point,n.point);return o!==0?o:(i.point!==n.point&&i.link(n),i.isLeft!==n.isLeft?i.isLeft?1:-1:Jr.compare(i.segment,n.segment))}static comparePoints(i,n){return i.x.isLessThan(n.x)?-1:i.x.isGreaterThan(n.x)?1:i.y.isLessThan(n.y)?-1:i.y.isGreaterThan(n.y)?1:0}constructor(i,n){i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=n}link(i){if(i.point===this.point)throw new Error("Tried to link already linked events");let n=i.point.events;for(let o=0,l=n.length;o<l;o++){let h=n[o];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}checkForConsuming(){let i=this.point.events.length;for(let n=0;n<i;n++){let o=this.point.events[n];if(o.segment.consumedBy===void 0)for(let l=n+1;l<i;l++){let h=this.point.events[l];h.consumedBy===void 0&&o.otherSE.point.events===h.otherSE.point.events&&o.segment.consume(h.segment)}}}getAvailableLinkedEvents(){let i=[];for(let n=0,o=this.point.events.length;n<o;n++){let l=this.point.events[n];l!==this&&!l.segment.ringOut&&l.segment.isInResult()&&i.push(l)}return i}getLeftmostComparator(i){let n=new Map,o=l=>{let h=l.otherSE;n.set(l,{sine:kr(this.point,i.point,h.point),cosine:co(this.point,i.point,h.point)})};return(l,h)=>{n.has(l)||o(l),n.has(h)||o(h);let{sine:p,cosine:_}=n.get(l),{sine:x,cosine:k}=n.get(h);return p.isGreaterThanOrEqualTo(0)&&x.isGreaterThanOrEqualTo(0)?_.isLessThan(k)?1:_.isGreaterThan(k)?-1:0:p.isLessThan(0)&&x.isLessThan(0)?_.isLessThan(k)?-1:_.isGreaterThan(k)?1:0:x.isLessThan(p)?-1:x.isGreaterThan(p)?1:0}}},po=0,Jr=class ro{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(i,n){let o=i.leftSE.point.x,l=n.leftSE.point.x,h=i.rightSE.point.x,p=n.rightSE.point.x;if(p.isLessThan(o))return 1;if(h.isLessThan(l))return-1;let _=i.leftSE.point.y,x=n.leftSE.point.y,k=i.rightSE.point.y,O=n.rightSE.point.y;if(o.isLessThan(l)){if(x.isLessThan(_)&&x.isLessThan(k))return 1;if(x.isGreaterThan(_)&&x.isGreaterThan(k))return-1;let I=i.comparePoint(n.leftSE.point);if(I<0)return 1;if(I>0)return-1;let tt=n.comparePoint(i.rightSE.point);return tt!==0?tt:-1}if(o.isGreaterThan(l)){if(_.isLessThan(x)&&_.isLessThan(O))return-1;if(_.isGreaterThan(x)&&_.isGreaterThan(O))return 1;let I=n.comparePoint(i.leftSE.point);if(I!==0)return I;let tt=i.comparePoint(n.rightSE.point);return tt<0?1:tt>0?-1:1}if(_.isLessThan(x))return-1;if(_.isGreaterThan(x))return 1;if(h.isLessThan(p)){let I=n.comparePoint(i.rightSE.point);if(I!==0)return I}if(h.isGreaterThan(p)){let I=i.comparePoint(n.rightSE.point);if(I<0)return 1;if(I>0)return-1}if(!h.eq(p)){let I=k.minus(_),tt=h.minus(o),V=O.minus(x),ut=p.minus(l);if(I.isGreaterThan(tt)&&V.isLessThan(ut))return 1;if(I.isLessThan(tt)&&V.isGreaterThan(ut))return-1}return h.isGreaterThan(p)?1:h.isLessThan(p)||k.isLessThan(O)?-1:k.isGreaterThan(O)?1:i.id<n.id?-1:i.id>n.id?1:0}constructor(i,n,o,l){this.id=++po,this.leftSE=i,i.segment=this,i.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=i,this.rings=o,this.windings=l}static fromRing(i,n,o){let l,h,p,_=zi.comparePoints(i,n);if(_<0)l=i,h=n,p=1;else if(_>0)l=n,h=i,p=-1;else throw new Error(`Tried to create degenerate segment at [${i.x}, ${i.y}]`);let x=new zi(l,!0),k=new zi(h,!1);return new ro(x,k,[o],[p])}replaceRightSE(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let i=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i.isLessThan(n)?i:n},ur:{x:this.rightSE.point.x,y:i.isGreaterThan(n)?i:n}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(i){return i.x.eq(this.leftSE.point.x)&&i.y.eq(this.leftSE.point.y)||i.x.eq(this.rightSE.point.x)&&i.y.eq(this.rightSE.point.y)}comparePoint(i){return ma.orient(this.leftSE.point,i,this.rightSE.point)}getIntersection(i){let n=this.bbox(),o=i.bbox(),l=wr(n,o);if(l===null)return null;let h=this.leftSE.point,p=this.rightSE.point,_=i.leftSE.point,x=i.rightSE.point,k=Vn(n,_)&&this.comparePoint(_)===0,O=Vn(o,h)&&i.comparePoint(h)===0,I=Vn(n,x)&&this.comparePoint(x)===0,tt=Vn(o,p)&&i.comparePoint(p)===0;if(O&&k)return tt&&!I?p:!tt&&I?x:null;if(O)return I&&h.x.eq(x.x)&&h.y.eq(x.y)?null:h;if(k)return tt&&p.x.eq(_.x)&&p.y.eq(_.y)?null:_;if(tt&&I)return null;if(tt)return p;if(I)return x;let V=Ir(h,this.vector(),_,i.vector());return V===null||!Vn(l,V)?null:ma.snap(V)}split(i){let n=[],o=i.events!==void 0,l=new zi(i,!0),h=new zi(i,!1),p=this.rightSE;this.replaceRightSE(h),n.push(h),n.push(l);let _=new ro(l,p,this.rings.slice(),this.windings.slice());return zi.comparePoints(_.leftSE.point,_.rightSE.point)>0&&_.swapEvents(),zi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),o&&(l.checkForConsuming(),h.checkForConsuming()),n}swapEvents(){let i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let n=0,o=this.windings.length;n<o;n++)this.windings[n]*=-1}consume(i){let n=this,o=i;for(;n.consumedBy;)n=n.consumedBy;for(;o.consumedBy;)o=o.consumedBy;let l=ro.compare(n,o);if(l!==0){if(l>0){let h=n;n=o,o=h}if(n.prev===o){let h=n;n=o,o=h}for(let h=0,p=o.rings.length;h<p;h++){let _=o.rings[h],x=o.windings[h],k=n.rings.indexOf(_);k===-1?(n.rings.push(_),n.windings.push(x)):n.windings[k]+=x}o.rings=null,o.windings=null,o.consumedBy=n,o.leftSE.consumedBy=n.leftSE,o.rightSE.consumedBy=n.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};let n=this._afterState.rings,o=this._afterState.windings,l=this._afterState.multiPolys;for(let _=0,x=this.rings.length;_<x;_++){let k=this.rings[_],O=this.windings[_],I=n.indexOf(k);I===-1?(n.push(k),o.push(O)):o[I]+=O}let h=[],p=[];for(let _=0,x=n.length;_<x;_++){if(o[_]===0)continue;let k=n[_],O=k.poly;if(p.indexOf(O)===-1)if(k.isExterior)h.push(O);else{p.indexOf(O)===-1&&p.push(O);let I=h.indexOf(k.poly);I!==-1&&h.splice(I,1)}}for(let _=0,x=h.length;_<x;_++){let k=h[_].multiPoly;l.indexOf(k)===-1&&l.push(k)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let i=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(Qr.type){case"union":{let o=i.length===0,l=n.length===0;this._isInResult=o!==l;break}case"intersection":{let o,l;i.length<n.length?(o=i.length,l=n.length):(o=n.length,l=i.length),this._isInResult=l===Qr.numMultiPolys&&o<l;break}case"xor":{let o=Math.abs(i.length-n.length);this._isInResult=o%2===1;break}case"difference":{let o=l=>l.length===1&&l[0].isSubject;this._isInResult=o(i)!==o(n);break}}return this._isInResult}},Bo=class{poly;isExterior;segments;bbox;constructor(e,i,n){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=n,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let o=ma.snap({x:new at(e[0][0]),y:new at(e[0][1])});this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};let l=o;for(let h=1,p=e.length;h<p;h++){if(typeof e[h][0]!="number"||typeof e[h][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let _=ma.snap({x:new at(e[h][0]),y:new at(e[h][1])});_.x.eq(l.x)&&_.y.eq(l.y)||(this.segments.push(Jr.fromRing(l,_,this)),_.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=_.x),_.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=_.y),_.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=_.x),_.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=_.y),l=_)}(!o.x.eq(l.x)||!o.y.eq(l.y))&&this.segments.push(Jr.fromRing(l,o,this))}getSweepEvents(){let e=[];for(let i=0,n=this.segments.length;i<n;i++){let o=this.segments[i];e.push(o.leftSE),e.push(o.rightSE)}return e}},ns=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,i){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Bo(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,o=e.length;n<o;n++){let l=new Bo(e[n],this,!1);l.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=l.bbox.ll.x),l.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=l.bbox.ll.y),l.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=l.bbox.ur.x),l.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=l.bbox.ur.y),this.interiorRings.push(l)}this.multiPoly=i}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let i=0,n=this.interiorRings.length;i<n;i++){let o=this.interiorRings[i].getSweepEvents();for(let l=0,h=o.length;l<h;l++)e.push(o[l])}return e}},Po=class{isSubject;polys;bbox;constructor(e,i){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new at(Number.POSITIVE_INFINITY),y:new at(Number.POSITIVE_INFINITY)},ur:{x:new at(Number.NEGATIVE_INFINITY),y:new at(Number.NEGATIVE_INFINITY)}};for(let n=0,o=e.length;n<o;n++){let l=new ns(e[n],this);l.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=l.bbox.ll.x),l.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=l.bbox.ll.y),l.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=l.bbox.ur.x),l.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=l.bbox.ur.y),this.polys.push(l)}this.isSubject=i}getSweepEvents(){let e=[];for(let i=0,n=this.polys.length;i<n;i++){let o=this.polys[i].getSweepEvents();for(let l=0,h=o.length;l<h;l++)e.push(o[l])}return e}},rs=class vo{events;poly;_isExteriorRing;_enclosingRing;static factory(i){let n=[];for(let o=0,l=i.length;o<l;o++){let h=i[o];if(!h.isInResult()||h.ringOut)continue;let p=null,_=h.leftSE,x=h.rightSE,k=[_],O=_.point,I=[];for(;p=_,_=x,k.push(_),_.point!==O;)for(;;){let tt=_.getAvailableLinkedEvents();if(tt.length===0){let gt=k[0].point,kt=k[k.length-1].point;throw new Error(`Unable to complete output ring starting at [${gt.x}, ${gt.y}]. Last matching segment found ends at [${kt.x}, ${kt.y}].`)}if(tt.length===1){x=tt[0].otherSE;break}let V=null;for(let gt=0,kt=I.length;gt<kt;gt++)if(I[gt].point===_.point){V=gt;break}if(V!==null){let gt=I.splice(V)[0],kt=k.splice(gt.index);kt.unshift(kt[0].otherSE),n.push(new vo(kt.reverse()));continue}I.push({index:k.length,point:_.point});let ut=_.getLeftmostComparator(p);x=tt.sort(ut)[0].otherSE;break}n.push(new vo(k))}return n}constructor(i){this.events=i;for(let n=0,o=i.length;n<o;n++)i[n].segment.ringOut=this;this.poly=null}getGeom(){let i=this.events[0].point,n=[i];for(let k=1,O=this.events.length-1;k<O;k++){let I=this.events[k].point,tt=this.events[k+1].point;ma.orient(I,i,tt)!==0&&(n.push(I),i=I)}if(n.length===1)return null;let o=n[0],l=n[1];ma.orient(o,i,l)===0&&n.shift(),n.push(n[0]);let h=this.isExteriorRing()?1:-1,p=this.isExteriorRing()?0:n.length-1,_=this.isExteriorRing()?n.length:-1,x=[];for(let k=p;k!=_;k+=h)x.push([n[k].x.toNumber(),n[k].y.toNumber()]);return x}isExteriorRing(){if(this._isExteriorRing===void 0){let i=this.enclosingRing();this._isExteriorRing=i?!i.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let i=this.events[0];for(let l=1,h=this.events.length;l<h;l++){let p=this.events[l];zi.compare(i,p)>0&&(i=p)}let n=i.segment.prevInResult(),o=n?n.prevInResult():null;for(;;){if(!n)return null;if(!o)return n.ringOut;if(o.ringOut!==n.ringOut)return o.ringOut?.enclosingRing()!==n.ringOut?n.ringOut:n.ringOut?.enclosingRing();n=o.prevInResult(),o=n?n.prevInResult():null}}},Ao=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){let e=this.exteriorRing.getGeom();if(e===null)return null;let i=[e];for(let n=0,o=this.interiorRings.length;n<o;n++){let l=this.interiorRings[n].getGeom();l!==null&&i.push(l)}return i}},os=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){let e=[];for(let i=0,n=this.polys.length;i<n;i++){let o=this.polys[i].getGeom();o!==null&&e.push(o)}return e}_composePolys(e){let i=[];for(let n=0,o=e.length;n<o;n++){let l=e[n];if(!l.poly)if(l.isExteriorRing())i.push(new Ao(l));else{let h=l.enclosingRing();h?.poly||i.push(new Ao(h)),h?.poly?.addInterior(l)}}return i}},ss=class{queue;tree;segments;constructor(e,i=Jr.compare){this.queue=e,this.tree=new Ut(i),this.segments=[]}process(e){let i=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(i),n;e.isLeft&&this.tree.add(i);let o=i,l=i;do o=this.tree.lastBefore(o);while(o!=null&&o.consumedBy!=null);do l=this.tree.firstAfter(l);while(l!=null&&l.consumedBy!=null);if(e.isLeft){let h=null;if(o){let _=o.getIntersection(i);if(_!==null&&(i.isAnEndpoint(_)||(h=_),!o.isAnEndpoint(_))){let x=this._splitSafely(o,_);for(let k=0,O=x.length;k<O;k++)n.push(x[k])}}let p=null;if(l){let _=l.getIntersection(i);if(_!==null&&(i.isAnEndpoint(_)||(p=_),!l.isAnEndpoint(_))){let x=this._splitSafely(l,_);for(let k=0,O=x.length;k<O;k++)n.push(x[k])}}if(h!==null||p!==null){let _=null;h===null?_=p:p===null?_=h:_=zi.comparePoints(h,p)<=0?h:p,this.queue.delete(i.rightSE),n.push(i.rightSE);let x=i.split(_);for(let k=0,O=x.length;k<O;k++)n.push(x[k])}n.length>0?(this.tree.delete(i),n.push(e)):(this.segments.push(i),i.prev=o)}else{if(o&&l){let h=o.getIntersection(l);if(h!==null){if(!o.isAnEndpoint(h)){let p=this._splitSafely(o,h);for(let _=0,x=p.length;_<x;_++)n.push(p[_])}if(!l.isAnEndpoint(h)){let p=this._splitSafely(l,h);for(let _=0,x=p.length;_<x;_++)n.push(p[_])}}}this.tree.delete(i)}return n}_splitSafely(e,i){this.tree.delete(e);let n=e.rightSE;this.queue.delete(n);let o=e.split(i);return o.push(n),e.consumedBy===void 0&&this.tree.add(e),o}},ls=class{type;numMultiPolys;run(e,i,n){zr.type=e;let o=[new Po(i,!0)];for(let x=0,k=n.length;x<k;x++)o.push(new Po(n[x],!1));if(zr.numMultiPolys=o.length,zr.type==="difference"){let x=o[0],k=1;for(;k<o.length;)wr(o[k].bbox,x.bbox)!==null?k++:o.splice(k,1)}if(zr.type==="intersection")for(let x=0,k=o.length;x<k;x++){let O=o[x];for(let I=x+1,tt=o.length;I<tt;I++)if(wr(O.bbox,o[I].bbox)===null)return[]}let l=new Ut(zi.compare);for(let x=0,k=o.length;x<k;x++){let O=o[x].getSweepEvents();for(let I=0,tt=O.length;I<tt;I++)l.add(O[I])}let h=new ss(l),p=null;for(l.size!=0&&(p=l.first(),l.delete(p));p;){let x=h.process(p);for(let k=0,O=x.length;k<O;k++){let I=x[k];I.consumedBy===void 0&&l.add(I)}l.size!=0?(p=l.first(),l.delete(p)):p=null}ma.reset();let _=rs.factory(h.segments);return new os(_).getGeom()}},zr=new ls,Qr=zr,fs=(e,...i)=>Qr.run("intersection",e,i),us=(e,...i)=>Qr.run("difference",e,i),Zs=ma.set;function to(e){let i={type:"Feature"};return i.geometry=e,i}function eo(e){return e.type==="Feature"?e.geometry:e}function To(e){return e&&e.geometry&&e.geometry.coordinates?e.geometry.coordinates:e}function hs(e){return to({type:"LineString",coordinates:e})}function cs(e){return to({type:"MultiLineString",coordinates:e})}function So(e){return to({type:"Polygon",coordinates:e})}function Do(e){return to({type:"MultiPolygon",coordinates:e})}function ds(e,i){let n=eo(e),o=eo(i),l=fs(n.coordinates,o.coordinates);return l.length===0?null:l.length===1?So(l[0]):Do(l)}function ps(e,i){let n=eo(e),o=eo(i),l=us(n.coordinates,o.coordinates);return l.length===0?null:l.length===1?So(l[0]):Do(l)}function Oo(e){return Array.isArray(e)?1+Oo(e[0]):-1}function ms(e){e instanceof L.Polyline&&(e=e.toGeoJSON(15));let i=To(e),n=Oo(i),o=[];return n>1?i.forEach(l=>{o.push(hs(l))}):o.push(e),o}function gs(e){let i=[];return e.eachLayer(n=>{i.push(To(n.toGeoJSON(15)))}),cs(i)}Yt.Cut=Yt.Polygon.extend({initialize(e){this._map=e,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=2)return;let i=L.polygon(e,this.options.pathOptions);i._latlngInfos=this._layer._latlngInfo,this.cut(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:o,originalLayer:l})=>{this._fireCut(l,o,l),this._fireCut(this._map,o,l),l.pm._fireEdit()}),this._editedLayers=[];let n=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(n))},cut(e){let i=this._map._layers,n=e._latlngInfos||[];Object.keys(i).map(o=>i[o]).filter(o=>o.pm).filter(o=>!o._pmTempLayer).filter(o=>!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1).filter(o=>o instanceof L.Polyline).filter(o=>o!==e).filter(o=>o.pm.options.allowCutting).filter(o=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(o)>-1:!0).filter(o=>!this._layerGroup.hasLayer(o)).filter(o=>{try{let l=!!xi(e.toGeoJSON(15),o.toGeoJSON(15)).features.length>0;return l||o instanceof L.Polyline&&!(o instanceof L.Polygon)?l:!!ds(e.toGeoJSON(15),o.toGeoJSON(15))}catch{return o instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(o=>{let l;if(o instanceof L.Polygon){l=L.polygon(o.getLatLngs());let x=l.getLatLngs();n.forEach(k=>{if(k&&k.snapInfo){let{latlng:O}=k,I=this._calcClosestLayer(O,[l]);if(I&&I.segment&&I.distance<this.options.snapDistance){let{segment:tt}=I;if(tt&&tt.length===2){let{indexPath:V,parentPath:ut,newIndex:gt}=L.PM.Utils._getIndexFromSegment(x,tt);(V.length>1?(0,Un.default)(x,ut):x).splice(gt,0,O)}}}})}else l=o;let h=this._cutLayer(e,l),p=L.geoJSON(h,o.options);p.getLayers().length===1&&([p]=p.getLayers()),this._setPane(p,"layerPane");let _=p.addTo(this._map.pm._getContainingLayer());if(_.pm.enable(o.pm.options),_.pm.disable(),o._pmTempLayer=!0,e._pmTempLayer=!0,o.remove(),o.removeFrom(this._map.pm._getContainingLayer()),e.remove(),e.removeFrom(this._map.pm._getContainingLayer()),_.getLayers&&_.getLayers().length===0&&this._map.pm.removeLayer({target:_}),_ instanceof L.LayerGroup?(_.eachLayer(x=>{this._addDrawnLayerProp(x)}),this._addDrawnLayerProp(_)):this._addDrawnLayerProp(_),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let x=this.options.layersToCut.indexOf(o);x>-1&&this.options.layersToCut.splice(x,1)}this._editedLayers.push({layer:_,originalLayer:o})})},_cutLayer(e,i){let n=L.geoJSON(),o;if(i instanceof L.Polygon)o=ps(i.toGeoJSON(15),e.toGeoJSON(15));else{let l=ms(i);l.forEach(h=>{let p=St(h,e.toGeoJSON(15)),_;p&&p.features.length>0?_=L.geoJSON(p):_=L.geoJSON(h),_.getLayers().forEach(x=>{ai(e.toGeoJSON(15),x.toGeoJSON(15))||x.addTo(n)})}),l.length>1?o=gs(n):o=n.toGeoJSON(15)}return o},_change:L.Util.falseFn}),Yt.Text=Yt.extend({initialize(e){this._map=e,this._shape="Text",this.toolbarButtonName="drawText"},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip($t("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}},_createMarker(e){if(!e.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let l=this.options.textOptions.className.split(" ");this.textArea.classList.add(...l)}let n=this._createTextIcon(this.textArea),o=new L.Marker(i,{textMarker:!0,_textMarkerOverPM:!0,icon:n});if(this._setPane(o,"markerPane"),this._finishLayer(o),o.pm||(o.options.draggable=!1),o.addTo(this._map.pm._getContainingLayer()),o.pm){o.pm.textArea=this.textArea,L.setOptions(o.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let l=this.options.textOptions?.focusAfterDraw??!0;o.pm._createTextMarker(l),this.options.textOptions?.text&&o.pm.setText(this.options.textOptions.text)}this._fireCreate(o),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(e){this.enable(),this._hintMarker.setLatLng(e.latlng)},_createTextArea(){let e=document.createElement("textarea");return e.readOnly=!0,e.classList.add("pm-textarea","pm-disabled"),e},_createTextIcon(e){return L.divIcon({className:"pm-text-marker",html:e})}});var _s={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,R(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let e=this._getDOMElem();e&&(R(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(e)):L.DomEvent.on(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,R(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let e=this._getDOMElem();e&&(R(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(e)):L.DomEvent.off(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(e){let i=e.touches?e.touches[0]:e,n={originalEvent:i,target:this._layer};return n.containerPoint=this._map.mouseEventToContainerPoint(i),n.latlng=this._map.containerPointToLatLng(n.containerPoint),this._dragMixinOnMouseDown(n),!1},_simulateMouseMoveEvent(e){let i=e.touches?e.touches[0]:e,n={originalEvent:i,target:this._layer};return n.containerPoint=this._map.mouseEventToContainerPoint(i),n.latlng=this._map.containerPointToLatLng(n.containerPoint),this._dragMixinOnMouseMove(n),!1},_simulateMouseUpEvent(e){let i={originalEvent:e.touches?e.touches[0]:e,target:this._layer};return e.type.indexOf("touch")===-1&&(i.containerPoint=this._map.mouseEventToContainerPoint(e),i.latlng=this._map.containerPointToLatLng(i.containerPoint)),this._dragMixinOnMouseUp(i),!1},_dragMixinOnMouseDown(e){if(e.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(e);let i=e._fromLayerSync,n=this._syncLayers("_dragMixinOnMouseDown",e);if(this._layer instanceof L.Marker&&(this.options.snappable&&!i&&!n?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let o="resizeableCircleMarker";this._layer instanceof L.Circle&&(o="resizeableCircle"),this.options.snappable&&!i&&!n?this._layer.pm.options[o]||this._initSnappableMarkersDrag():this._layer.pm.options[o]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=e.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(e){this._overwriteEventIfItComesFromMarker(e);let i=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",e),this._dragging||(this._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=e.latlng),this._onLayerDrag(e),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(e){let i=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",e),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,i&&L.DomUtil.removeClass(i,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(e){let{latlng:i}=e,n={lat:i.lat-this._tempDragCoord.lat,lng:i.lng-this._tempDragCoord.lng},o=l=>l.map(h=>{if(Array.isArray(h))return o(h);let p={lat:h.lat+n.lat,lng:h.lng+n.lng};return(h.alt||h.alt===0)&&(p.alt=h.alt),p});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let l=o([this._layer.getLatLng()]);this._layer.setLatLng(l[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let l=this._layer.getLatLng();this._layer._snapped&&(l=this._layer._orgLatLng);let h=o([l]);this._layer.setLatLng(h[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let l=o([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(l),this._fireChange(this._layer.getBounds(),"Edit")}else{let l=o(this._layer.getLatLngs());this._layer.setLatLngs(l),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=i,e.layer=this._layer,this._fireDrag(e)},addDraggingClass(){let e=this._getDOMElem();e&&L.DomUtil.addClass(e,"leaflet-pm-draggable")},removeDraggingClass(){let e=this._getDOMElem();e&&L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_getDOMElem(){let e=null;return this._layer._path?e=this._layer._path:this._layer._renderer&&this._layer._renderer._container?e=this._layer._renderer._container:this._layer._image?e=this._layer._image:this._layer._icon&&(e=this._layer._icon),e},_overwriteEventIfItComesFromMarker(e){e.target.getLatLng&&(!e.target._radius||e.target._radius<=10)&&(e.containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),e.latlng=this._map.containerPointToLatLng(e.containerPoint))},_syncLayers(e,i){if(this.enabled())return!1;if(!i._fromLayerSync&&this._layer===i.target&&this.options.syncLayersOnDrag){i._fromLayerSync=!0;let n=[];if(L.Util.isArray(this.options.syncLayersOnDrag))n=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(o=>{o instanceof L.LayerGroup&&(n=n.concat(o.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let o in this._parentLayerGroup){let l=this._parentLayerGroup[o];l.pm&&(n=l.pm.getLayers(!0))}return L.Util.isArray(n)&&n.length>0&&(n=n.filter(o=>!!o.pm).filter(o=>!!o.pm.options.draggable),n.forEach(o=>{o!==this._layer&&o.pm[e]&&(o._snapped=!1,o.pm[e](i))})),n.length>0}return!1},_stopDOMImageDrag(e){return e.preventDefault(),!1}},ys=_s,vs=Te(se());function bs(e,i,n,o){return n.unproject(i.transform(n.project(e,o)),o)}function Ro(e,i,n){let o=n.getMaxZoom();if(o===1/0&&(o=n.getZoom()),L.Util.isArray(e)){let l=[];return e.forEach(h=>{l.push(Ro(h,i,n))}),l}return e instanceof L.LatLng?bs(e,i,n,o):null}function Cr(e,i){i instanceof L.Layer&&(i=i.getLatLng());let n=e.getMaxZoom();return n===1/0&&(n=e.getZoom()),e.project(i,n)}function io(e,i){let n=e.getMaxZoom();return n===1/0&&(n=e.getZoom()),e.unproject(i,n)}var xs={_onRotateStart(e){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Cr(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Cr(this._map,e.target.getLatLng()),this._initialRotateLatLng=y(this._layer),this._startAngle=this.getAngle();let i=y(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,i),this._fireRotationStart(this._map,i)},_onRotate(e){let i=Cr(this._map,e.target.getLatLng()),n=this._rotationStartPoint,o=this._rotationOriginPoint,l=Math.atan2(i.y-o.y,i.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x);this._layer.setLatLngs(this._rotateLayer(l,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let h=this;function p(O,I=[],tt=-1){if(tt>-1&&I.push(tt),L.Util.isArray(O[0]))O.forEach((V,ut)=>p(V,I.slice(),ut));else{let V=I.length>0?(0,vs.default)(h._markers,I):h._markers[0];O.forEach((ut,gt)=>{V[gt].setLatLng(ut)})}}p(this._layer.getLatLngs());let _=y(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(l,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let x=l*180/Math.PI;x=x<0?x+360:x;let k=x+this._startAngle;this._setAngle(k),this._rotationLayer.pm._setAngle(k),this._fireRotation(this._rotationLayer,x,_),this._fireRotation(this._map,x,_),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let e=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let i=y(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=y(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,e,i),this._fireRotationEnd(this._map,e,i),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(e,i,n,o,l){let h=Cr(l,n);return this._matrix=o.clone().rotate(e,h).flip(),Ro(i,this._matrix,l)},_setAngle(e){e=e<0?e+360:e,this._angle=e%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let e=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),i=e.getCenter();return e.removeFrom(this._layer._map),i},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(c(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let e={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),e),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=y(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(e){let i=this.getAngle(),n=this._layer.getLatLngs(),o=e*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(o,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+e),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(o,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let l=this.getAngle()-i;l=l<0?l+360:l,this._startAngle=i,this._fireRotation(this._layer,l,n,this._layer),this._fireRotation(this._map||this._layer._map,l,n,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(e){let i=e-this.getAngle();this.rotateLayer(i)},getAngle(){return this._angle||0},setInitAngle(e){this._setAngle(e)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(e){this._rotationCenter=e,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(e)}},ws=xs,Ls=L.Class.extend({includes:[ys,Gt,ws,Kt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(e){L.Util.setOptions(this,e)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(e,i){i==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(e,i){let n=i.target,o={layer:this._layer,marker:n,event:i},l="";return e==="move"?l="moveVertexValidation":e==="add"?l="addVertexValidation":e==="remove"&&(l="removeVertexValidation"),this.options[l]&&typeof this.options[l]=="function"&&!this.options[l](o)?(e==="move"&&(n._cancelDragEventChain=n.getLatLng()),!1):(n._cancelDragEventChain=null,!0)},_vertexValidationDrag(e){return e._cancelDragEventChain?(e._latlng=e._cancelDragEventChain,e.update(),!1):!0},_vertexValidationDragEnd(e){return e._cancelDragEventChain?(e._cancelDragEventChain=null,!1):!0}}),Xe=Ls;Xe.LayerGroup=L.Class.extend({initialize(e){this._layerGroup=e,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(o=>this._initLayer(o));let i=o=>{if(o.layer._pmTempLayer)return;this._layers=this.getLayers();let l=this._layers.filter(h=>!h.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in h.pm._parentLayerGroup));l.forEach(h=>{this._initLayer(h)}),l.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(i,100,this),this),this._layerGroup.on("layerremove",o=>{this._removeLayerFromGroup(o.target)},this);let n=o=>{o.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(n,100,this),this)},enable(e,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(n=>{n instanceof L.LayerGroup?i.indexOf(n._leaflet_id)===-1&&(i.push(n._leaflet_id),n.pm.enable(e,i)):n.pm.enable(e)})},disable(e=[]){e.length===0&&(this._layers=this.getLayers()),this._layers.forEach(i=>{i instanceof L.LayerGroup?e.indexOf(i._leaflet_id)===-1&&(e.push(i._leaflet_id),i.pm.disable(e)):i.pm.disable()})},enabled(e=[]){return e.length===0&&(this._layers=this.getLayers()),!!this._layers.find(i=>i instanceof L.LayerGroup?e.indexOf(i._leaflet_id)===-1?(e.push(i._leaflet_id),i.pm.enabled(e)):!1:i.pm.enabled())},toggleEdit(e,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(n=>{n instanceof L.LayerGroup?i.indexOf(n._leaflet_id)===-1&&(i.push(n._leaflet_id),n.pm.toggleEdit(e,i)):n.pm.toggleEdit(e)})},_initLayer(e){let i=L.Util.stamp(this._layerGroup);e.pm._parentLayerGroup||(e.pm._parentLayerGroup={}),e.pm._parentLayerGroup[i]=this._layerGroup},_removeLayerFromGroup(e){if(e.pm&&e.pm._layerGroup){let i=L.Util.stamp(this._layerGroup);delete e.pm._layerGroup[i]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(e=>e.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(e=>!!e._map)?._map||null},getLayers(e=!1,i=!0,n=!0,o=[]){let l=[];return e?this._layerGroup.getLayers().forEach(h=>{l.push(h),h instanceof L.LayerGroup&&o.indexOf(h._leaflet_id)===-1&&(o.push(h._leaflet_id),l=l.concat(h.pm.getLayers(!0,!0,!0,o)))}):l=this._layerGroup.getLayers(),n&&(l=l.filter(h=>!(h instanceof L.LayerGroup))),i&&(l=l.filter(h=>!!h.pm),l=l.filter(h=>!h._pmTempLayer),l=l.filter(h=>!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)),l},setOptions(e,i=[]){i.length===0&&(this._layers=this.getLayers()),this.options=e,this._layers.forEach(n=>{n.pm&&(n instanceof L.LayerGroup?i.indexOf(n._leaflet_id)===-1&&(i.push(n._leaflet_id),n.pm.setOptions(e,i)):n.pm.setOptions(e))})}}),Xe.Marker=Xe.extend({_shape:"Marker",initialize(e){this._layer=e,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(e={draggable:!0}){if(L.Util.setOptions(this,e),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(e){let i=e.target;i.remove(),this._fireRemove(i),this._fireRemove(this._map,i)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)}});var bn=Te(se()),ks={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let e=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=e.filter((i,n,o)=>o.indexOf(i)===n)},_removeFromCache(e){let i=this.markerCache.indexOf(e);i>-1&&this.markerCache.splice(i,1)},renderLimits(e){this.markerCache.forEach(i=>{e.includes(i)?this._markerGroup.addLayer(i):this._markerGroup.removeLayer(i)})},applyLimitFilters({latlng:e={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let i=[...this._filterClosestMarkers(e)];this.renderLimits(i)},_filterClosestMarkers(e){let i=[...this.markerCache],n=this.options.limitMarkersToCount;return n===-1?i:(i.sort((o,l)=>{let h=o._latlng.distanceTo(e),p=l._latlng.distanceTo(e);return h-p}),i.filter((o,l)=>n>-1?l<n:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(e){this._preventRenderMarkers=!!e}},Cs=ks;Xe.Line=Xe.extend({includes:[Cs],_shape:"Line",initialize(e){this._layer=e,this._enabled=!1},enable(e){if(L.Util.setOptions(this,e),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(e){return this.enabled()?this.disable():this.enable(e),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let e=this._map,i=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(e),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let n=o=>{if(Array.isArray(o[0]))return o.map(n,this);let l=o.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&o.map((h,p)=>{let _=this.isPolygon()?(p+1)%o.length:p+1;return this._createMiddleMarker(l[p],l[_])}),l};this._markers=n(i),this.filterMarkerGroup(),e.addLayer(this._markerGroup)},_createMarker(e){let i=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this.options.rotate?(i.on("dragstart",this._onRotateStart,this),i.on("drag",this._onRotate,this),i.on("dragend",this._onRotateEnd,this)):(i.on("click",this._onVertexClick,this),i.on("dragstart",this._onMarkerDragStart,this),i.on("move",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(i),i},_createMiddleMarker(e,i){if(!e||!i)return!1;let n=L.PM.Utils.calcMiddleLatLng(this._map,e.getLatLng(),i.getLatLng()),o=this._createMarker(n),l=L.divIcon({className:"marker-icon marker-icon-middle"});return o.setIcon(l),o.leftM=e,o.rightM=i,e._middleMarkerNext=o,i._middleMarkerPrev=o,o.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),o.on("movestart",this._onMiddleMarkerMoveStart,this),o},_onMiddleMarkerClick(e){let i=e.target;if(!this._vertexValidation("add",e))return;let n=L.divIcon({className:"marker-icon"});i.setIcon(n),this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMoveStart(e){let i=e.target;if(i.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",e)){i.on("move",this._onMiddleMarkerMovePrevent,this);return}i._dragging=!0,this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMovePrevent(e){let i=e.target;this._vertexValidationDrag(i)},_onMiddleMarkerMoveEnd(e){let i=e.target;if(i.off("move",this._onMiddleMarkerMovePrevent,this),i.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(i))return;let n=L.divIcon({className:"marker-icon"});i.setIcon(n),setTimeout(()=>{delete i._dragging},100)},_addMarker(e,i,n){e.off("movestart",this._onMiddleMarkerMoveStart,this),e.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let o=e.getLatLng(),l=this._layer._latlngs;delete e.leftM,delete e.rightM;let{indexPath:h,index:p,parentPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),x=h.length>1?(0,bn.default)(l,_):l,k=h.length>1?(0,bn.default)(this._markers,_):this._markers;x.splice(p+1,0,o),k.splice(p+1,0,e),this._layer.setLatLngs(l),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(i,e),this._createMiddleMarker(e,n)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(e,L.PM.Utils.findDeepMarkerIndex(this._markers,e).indexPath,o),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return bi(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(e){let i=this._layer,n,o;if(this.options.allowSelfIntersection?n=!1:(o=bi(this._layer.toGeoJSON(15)),n=o.features.length>0),n){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return n;e?this._flashLayer():(i.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(o)}else i.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return n},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(e,i){e.forEach(n=>{Array.isArray(n)?this._updateDisabledMarkerStyle(n,i):n._icon&&(i&&!this._checkMarkerAllowedToDrag(n)?L.DomUtil.addClass(n._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(n._icon,"vertexmarker-disabled"))})},_removeMarker(e){let i=e.target;if(!this._vertexValidation("remove",e))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=y(this._layer,this._layer.getLatLngs()));let n=this._layer.getLatLngs(),{indexPath:o,index:l,parentPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!o)return;let p=o.length>1?(0,bn.default)(n,h):n,_=o.length>1?(0,bn.default)(this._markers,h):this._markers,x=h[h.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!x&&(p.length<=2||this.isPolygon()&&p.length<=3)){this._flashLayer();return}p.splice(l,1),this._layer.setLatLngs(n),this.isPolygon()&&p.length<=2&&p.splice(0,p.length);let k=!1;if(p.length<=1&&(p.splice(0,p.length),h.length>1&&o.length>1&&(n=Ea(n)),this._layer.setLatLngs(n),this._initMarkers(),k=!0),qn(n)||this._layer.remove(),n=Ea(n),this._layer.setLatLngs(n),this._markers=Ea(this._markers),!k&&(_=o.length>1?(0,bn.default)(this._markers,h):this._markers,i._middleMarkerPrev&&(this._markerGroup.removeLayer(i._middleMarkerPrev),this._removeFromCache(i._middleMarkerPrev)),i._middleMarkerNext&&(this._markerGroup.removeLayer(i._middleMarkerNext),this._removeFromCache(i._middleMarkerNext)),this._markerGroup.removeLayer(i),this._removeFromCache(i),_)){let O,I;if(this.isPolygon()?(O=(l+1)%_.length,I=(l+(_.length-1))%_.length):(I=l-1<0?void 0:l-1,O=l+1>=_.length?void 0:l+1),O!==I){let tt=_[I],V=_[O];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(tt,V)}_.splice(l,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(i,o),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(e){let i=this._layer.getLatLngs(),n=e.getLatLng(),{indexPath:o,index:l,parentPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,e);(o.length>1?(0,bn.default)(i,h):i).splice(l,1,n),this._layer.setLatLngs(i)},_getNeighborMarkers(e){let{indexPath:i,index:n,parentPath:o}=L.PM.Utils.findDeepMarkerIndex(this._markers,e),l=i.length>1?(0,bn.default)(this._markers,o):this._markers,h=(n+1)%l.length,p=(n+(l.length-1))%l.length,_=l[p],x=l[h];return{prevMarker:_,nextMarker:x}},_checkMarkerAllowedToDrag(e){let{prevMarker:i,nextMarker:n}=this._getNeighborMarkers(e),o=L.polyline([i.getLatLng(),e.getLatLng()]),l=L.polyline([e.getLatLng(),n.getLatLng()]),h=xi(this._layer.toGeoJSON(15),o.toGeoJSON(15)).features.length,p=xi(this._layer.toGeoJSON(15),l.toGeoJSON(15)).features.length;return e.getLatLng()===this._markers[0][0].getLatLng()?p+=1:e.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(h+=1),!(h<=2&&p<=2)},_onMarkerDragStart(e){let i=e.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",e))return;let{indexPath:n}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(e,n),this.options.allowSelfIntersection||(this._coordsBeforeEdit=y(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(i):this._markerAllowedToDrag=null},_onMarkerDrag(e){let i=e.target;if(!this._vertexValidationDrag(i))return;let{indexPath:n,index:o,parentPath:l}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!n)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(i);let h=n.length>1?(0,bn.default)(this._markers,l):this._markers,p=(o+1)%h.length,_=(o+(h.length-1))%h.length,x=i.getLatLng(),k=h[_].getLatLng(),O=h[p].getLatLng();if(i._middleMarkerNext){let I=L.PM.Utils.calcMiddleLatLng(this._map,x,O);i._middleMarkerNext.setLatLng(I)}if(i._middleMarkerPrev){let I=L.PM.Utils.calcMiddleLatLng(this._map,x,k);i._middleMarkerPrev.setLatLng(I)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(e,n),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(e){let i=e.target;if(!this._vertexValidationDragEnd(i))return;let{indexPath:n}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),o=!this.options.allowSelfIntersection&&this.hasSelfIntersection();o&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(o=!1);let l=!this.options.allowSelfIntersection&&o;if(this._fireMarkerDragEnd(e,n,l),l){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(e,n);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(e){let i=e.target;if(i._dragging)return;let{indexPath:n}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireVertexClick(e,n)}}),Xe.Polygon=Xe.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(e){let{prevMarker:i,nextMarker:n}=this._getNeighborMarkers(e),o=L.polyline([i.getLatLng(),e.getLatLng()]),l=L.polyline([e.getLatLng(),n.getLatLng()]),h=xi(this._layer.toGeoJSON(15),o.toGeoJSON(15)).features.length,p=xi(this._layer.toGeoJSON(15),l.toGeoJSON(15)).features.length;return!(h<=2&&p<=2)}}),Xe.Rectangle=Xe.Polygon.extend({_shape:"Rectangle",_initMarkers(){let e=this._map,i=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,e.addLayer(this._markerGroup),this._markers=[],this._markers[0]=i.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((n,o)=>{let l=this._cornerMarkers.find(h=>h._index===o);l&&l.setLatLng(n)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(e,i){let n=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=e,n._index=i,n._pmTempLayer=!0,n.on("click",this._onVertexClick,this),this._markerGroup.addLayer(n),n},_addMarkerEvents(){this._markers[0].forEach(e=>{e.on("dragstart",this._onMarkerDragStart,this),e.on("drag",this._onMarkerDrag,this),e.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||e.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(e){if(!this._vertexValidation("move",e))return;let i=e.target,n=this._cornerMarkers;i._oppositeCornerLatLng=n.find(l=>l._index===(i._index+2)%4).getLatLng(),i._snapped=!1;let{indexPath:o}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(e,o)},_onMarkerDrag(e){let i=e.target;if(!this._vertexValidationDrag(i)||i._index===void 0)return;this._adjustRectangleForMarkerMove(i);let{indexPath:n}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDrag(e,n),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(e){let i=e.target;if(!this._vertexValidationDragEnd(i))return;this._cornerMarkers.forEach(o=>{delete o._oppositeCornerLatLng});let{indexPath:n}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragEnd(e,n),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(e){L.extend(e._origLatLng,e._latlng);let i=L.PM.Utils._getRotatedRectangle(e.getLatLng(),e._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(i),this._adjustAllMarkers(e),this._layer.redraw()},_adjustAllMarkers(e){let i=this._layer.getLatLngs()[0];if(i&&i.length!==4&&i.length>0)i.forEach((n,o)=>{this._cornerMarkers[o].setLatLng(n)}),this._cornerMarkers.slice(i.length).forEach(n=>{n.setLatLng(i[0])});else if(!i||!i.length)console.error("The layer has no LatLngs");else{let n=i.findIndex(o=>e.getLatLng().equals(o));n>-1?(this._cornerMarkers[(e._index+1)%4].setLatLng(i[(n+1)%4]),this._cornerMarkers[(e._index+2)%4].setLatLng(i[(n+2)%4]),this._cornerMarkers[(e._index+3)%4].setLatLng(i[(n+3)%4])):this._cornerMarkers.forEach(o=>{o.setLatLng(i[o._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(c(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.getAngle(),this._map||this)}}),Xe.CircleMarker=Xe.extend({_shape:"CircleMarker",initialize(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(e={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let e=this._map;this._helperLayers&&(this._helperLayers.removeFrom(e),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);let i=this._layer.getLatLng(),n=this._layer._radius,o=this._getLatLngOnCircle(i,n);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(o),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(e,i){let n=this._map.project(e),o=L.point(n.x+i,n.y);return this._map.unproject(o)},_createHintLine(e,i){let n=e.getLatLng(),o=i.getLatLng();this._hintline=L.polyline([n,o],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(e){let i=this._createMarker(e);return this.options.draggable?(L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"),i.on("move",this._moveCircle,this)):i.dragging.disable(),i},_createOuterMarker(e){let i=this._createMarker(e);return i.on("drag",this._resizeCircle,this),i},_createMarker(e){let i=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=e,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("click",this._onVertexClick,this),this._helperLayers.addLayer(i),i},_moveCircle(e){if(e.target._cancelDragEventChain)return;let i=this._centerMarker.getLatLng();this._layer.setLatLng(i);let n=this._layer._radius,o=this._getLatLngOnCircle(i,n);this._outerMarker._latlng=o,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let e=this._layer.getLatLng(),i=this._layer._radius,n=this._getLatLngOnCircle(e,i);this._outerMarker.setLatLng(n),this._centerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),n=this._distanceCalculation(e,i);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(n),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,i])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag(e){let i=e.target;i instanceof L.Marker&&!this._vertexValidationDrag(i)||this._fireMarkerDrag(e)},_onMarkerDragEnd(e){this._extedingMarkerDragEnd();let i=e.target;this._vertexValidationDragEnd(i)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(e))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let e=this._layer._map||this._map;if(e){let i=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),e,this._layer.getLatLng()),n=L.circle(this._layer.getLatLng(),this._layer.options);n.setRadius(i);let o=e&&e.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(n,200,!o).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(n,200,!o),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),n=this._distanceCalculation(e,i);return this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?i=d(this._map,e,i,this._getMinDistanceInMeter(e)):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&(i=d(this._map,e,i,this._getMaxDistanceInMeter(e))),i},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),n=this._distanceCalculation(e,i);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(e,i){return this._map.project(e).distanceTo(this._map.project(i))},_getMinDistanceInMeter(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,e)},_getMaxDistanceInMeter(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,e)},_onVertexClick(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),Xe.Circle=Xe.CircleMarker.extend({_shape:"Circle",initialize(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(e){L.PM.Edit.CircleMarker.prototype.enable.call(this,e||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let e=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!e).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!e),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(e,i){return this._map.distance(e,i)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),Xe.ImageOverlay=Xe.extend({_shape:"ImageOverlay",initialize(e){this._layer=e,this._enabled=!1},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},enabled(){return this._enabled},enable(e={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,e),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let e=this._layer.getBounds(),i=e.getNorthWest(),n=e.getNorthEast(),o=e.getSouthEast(),l=e.getSouthWest();return[i,n,o,l]}}),Xe.Text=Xe.extend({_shape:"Text",initialize(e){this._layer=e,this._enabled=!1},enable(e){if(L.Util.setOptions(this,e),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let e=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),e.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let e=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,i=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${e}px`,this.textArea.style.width=`${i}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(e){e.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(e={}){let i=this._hasFocus;this._hasFocus=e.type==="focus",!i!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(e){e&&(this.textArea.value=e),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let i=this.options.className.split(" ");this.textArea.classList.add(...i)}let e=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(e),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(e=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),e===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(e){e.preventDefault()}});var mo=function(e,i,n,o,l,h){this._matrix=[e,i,n,o,l,h]};mo.init=()=>new L.PM.Matrix(1,0,0,1,0,0),mo.prototype={transform(e){return this._transform(e.clone())},_transform(e){let i=this._matrix,{x:n,y:o}=e;return e.x=i[0]*n+i[1]*o+i[4],e.y=i[2]*n+i[3]*o+i[5],e},untransform(e){let i=this._matrix;return new L.Point((e.x/i[0]-i[4])/i[0],(e.y/i[2]-i[5])/i[2])},clone(){let e=this._matrix;return new L.PM.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate(e){if(e===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let i,n;return typeof e=="number"?(i=e,n=e):(i=e.x,n=e.y),this._add(1,0,0,1,i,n)},scale(e,i){if(e===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let n,o;return i=i||L.point(0,0),typeof e=="number"?(n=e,o=e):(n=e.x,o=e.y),this._add(n,0,0,o,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},rotate(e,i){let n=Math.cos(e),o=Math.sin(e);return i=i||new L.Point(0,0),this._add(n,o,-o,n,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(e,i,n,o,l,h){let p=[[],[],[]],_=this._matrix,x=[[_[0],_[2],_[4]],[_[1],_[3],_[5]],[0,0,1]],k=[[e,n,l],[i,o,h],[0,0,1]],O;e&&e instanceof L.PM.Matrix&&(_=e._matrix,k=[[_[0],_[2],_[4]],[_[1],_[3],_[5]],[0,0,1]]);for(let I=0;I<3;I+=1)for(let tt=0;tt<3;tt+=1){O=0;for(let V=0;V<3;V+=1)O+=x[I][V]*k[V][tt];p[I][tt]=O}return this._matrix=[p[0][0],p[1][0],p[0][1],p[1][1],p[0][2],p[1][2]],this}};var Ms=mo,Es={calcMiddleLatLng(e,i,n){let o=e.project(i),l=e.project(n);return e.unproject(o._add(l)._divideBy(2))},findLayers(e){let i=[];return e.eachLayer(n=>{(n instanceof L.Polyline||n instanceof L.Marker||n instanceof L.Circle||n instanceof L.CircleMarker||n instanceof L.ImageOverlay)&&i.push(n)}),i=i.filter(n=>!!n.pm),i=i.filter(n=>!n._pmTempLayer),i=i.filter(n=>!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1),i},circleToPolygon(e,i=60,n=!0){let o=e.getLatLng(),l=e.getRadius(),h=r(o,l,i,0,n),p=[];for(let _=0;_<h.length;_+=1){let x=[h[_].lat,h[_].lng];p.push(x)}return L.polygon(p,e.options)},disablePopup(e){e.getPopup()&&(e._tempPopupCopy=e.getPopup(),e.unbindPopup())},enablePopup(e){e._tempPopupCopy&&(e.bindPopup(e._tempPopupCopy),delete e._tempPopupCopy)},_fireEvent(e,i,n,o=!1){e.fire(i,n,o);let{groups:l}=this.getAllParentGroups(e);l.forEach(h=>{h.fire(i,n,o)})},getAllParentGroups(e){let i=[],n=[],o=l=>{for(let h in l._eventParents)if(i.indexOf(h)===-1){i.push(h);let p=l._eventParents[h];n.push(p),o(p)}};return!e._pmLastGroupFetch||!e._pmLastGroupFetch.time||new Date().getTime()-e._pmLastGroupFetch.time>1e3?(o(e),e._pmLastGroupFetch={time:new Date().getTime(),groups:n,groupIds:i},{groupIds:i,groups:n}):{groups:e._pmLastGroupFetch.groups,groupIds:e._pmLastGroupFetch.groupIds}},createGeodesicPolygon:r,getTranslation:$t,findDeepCoordIndex(e,i,n=!0){let o,l=p=>(_,x)=>{let k=p.concat(x);if(n){if(_.lat&&_.lat===i.lat&&_.lng===i.lng)return o=k,!0}else if(_.lat&&L.latLng(_).equals(i))return o=k,!0;return Array.isArray(_)&&_.some(l(k))};e.some(l([]));let h={};return o&&(h={indexPath:o,index:o[o.length-1],parentPath:o.slice(0,o.length-1)}),h},findDeepMarkerIndex(e,i){let n,o=h=>(p,_)=>{let x=h.concat(_);return p._leaflet_id===i._leaflet_id?(n=x,!0):Array.isArray(p)&&p.some(o(x))};e.some(o([]));let l={};return n&&(l={indexPath:n,index:n[n.length-1],parentPath:n.slice(0,n.length-1)}),l},_getIndexFromSegment(e,i){if(i&&i.length===2){let n=this.findDeepCoordIndex(e,i[0]),o=this.findDeepCoordIndex(e,i[1]),l=Math.max(n.index,o.index);return(n.index===0||o.index===0)&&l!==1&&(l+=1),{indexA:n,indexB:o,newIndex:l,indexPath:n.indexPath,parentPath:n.parentPath}}return null},_getRotatedRectangle(e,i,n,o){let l=Cr(o,e),h=Cr(o,i),p=n*Math.PI/180,_=Math.cos(p),x=Math.sin(p),k=(h.x-l.x)*_+(h.y-l.y)*x,O=(h.y-l.y)*_-(h.x-l.x)*x,I=k*_+l.x,tt=k*x+l.y,V=-O*x+l.x,ut=O*_+l.y,gt=io(o,l),kt=io(o,{x:I,y:tt}),ee=io(o,h),D=io(o,{x:V,y:ut});return[gt,kt,ee,D]},pxRadiusToMeterRadius(e,i,n){let o=i.project(n),l=L.point(o.x+e,o.y);return i.distance(i.unproject(l),n)}},Bs=Es;L.PM=L.PM||{version:xe.version,Map:U,Toolbar:pt,Draw:Yt,Edit:Xe,Utils:Bs,Matrix:Ms,activeLang:"en",optIn:!1,initialize(e){this.addInitHooks(e)},setOptIn(e){this.optIn=!!e},addInitHooks(){function e(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(e);function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(i);function n(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(n);function o(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(o);function l(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(l);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(h);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(p);function _(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(_);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(x)},reInitLayer(e){e instanceof L.LayerGroup&&e.eachLayer(i=>{this.reInitLayer(i)}),e.pm||L.PM.optIn&&e.options.pmIgnore!==!1||e.options.pmIgnore||(e instanceof L.Map?e.pm=new L.PM.Map(e):e instanceof L.Marker?e.options.textMarker?(e.pm=new L.PM.Edit.Text(e),e.pm._initTextMarker(),e.pm._createTextMarker(!1)):e.pm=new L.PM.Edit.Marker(e):e instanceof L.Circle?e.pm=new L.PM.Edit.Circle(e):e instanceof L.CircleMarker?e.pm=new L.PM.Edit.CircleMarker(e):e instanceof L.Rectangle?e.pm=new L.PM.Edit.Rectangle(e):e instanceof L.Polygon?e.pm=new L.PM.Edit.Polygon(e):e instanceof L.Polyline?e.pm=new L.PM.Edit.Line(e):e instanceof L.LayerGroup?e.pm=new L.PM.Edit.LayerGroup(e):e instanceof L.ImageOverlay&&(e.pm=new L.PM.Edit.ImageOverlay(e)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(e){let i=this._map.mouseEventToLayerPoint(e),n,o;for(let l=this._drawFirst;l;l=l.next)n=l.layer,n.options.interactive&&n._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(n))&&(o=n);o&&(L.DomEvent.fakeStop(e),this._fireEvent([o],e))}}),L.PM.initialize()})();var Ni=ga(Wa(),1);(function(){L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(Y,mt){mt&&L.Util.setOptions(this,mt),this._buildContainer(),this._buttons=[];for(var dt=0;dt<Y.length;dt++)Y[dt]._bar=this,Y[dt]._container=Y[dt].button,this._buttons.push(Y[dt]),this.container.appendChild(Y[dt].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(Y){this._map=Y;for(var mt=0;mt<this._buttons.length;mt++)this._buttons[mt]._map=Y;var dt=this._container=this.onAdd(Y),Qt=this.getPosition(),X=Y._controlCorners[Qt];return L.DomUtil.addClass(dt,"leaflet-control"),Qt.indexOf("bottom")!==-1?X.insertBefore(dt,X.firstChild):X.appendChild(dt),this}}),L.easyBar=function(){for(var Y=[L.Control.EasyBar],mt=0;mt<arguments.length;mt++)Y.push(arguments[mt]);return new(Function.prototype.bind.apply(L.Control.EasyBar,Y))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(Y,mt,dt,Qt){this.options.states=[],Qt!=null&&(this.options.id=Qt),this.storage={},typeof arguments[arguments.length-1]=="object"&&L.Util.setOptions(this,arguments[arguments.length-1]),this.options.states.length===0&&typeof Y=="string"&&typeof mt=="function"&&this.options.states.push({icon:Y,onClick:mt,title:typeof dt=="string"?dt:""}),this._states=[];for(var X=0;X<this.options.states.length;X++)this._states.push(new j(this.options.states[X],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),this.options.tagName==="button"&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(mt){L.DomEvent.stop(mt),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),this.options.type=="replace")this.button.appendChild(this._currentState.icon);else for(var Y=0;Y<this._states.length;Y++)this.button.appendChild(this._states[Y].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(Y){return arguments.length===0?this._currentState.stateName:(typeof Y=="string"?this._activateStateNamed(Y):typeof Y=="number"&&this._activateState(this._states[Y]),this)},_activateStateNamed:function(Y){for(var mt=0;mt<this._states.length;mt++)this._states[mt].stateName==Y&&this._activateState(this._states[mt])},_activateState:function(Y){if(Y!==this._currentState){this.options.type=="replace"&&(this.button.appendChild(Y.icon),this.button.removeChild(this._currentState.icon)),Y.title?this.button.title=Y.title:this.button.removeAttribute("title");for(var mt=0;mt<this._states.length;mt++)L.DomUtil.removeClass(this._states[mt].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[mt].icon,Y.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,Y.stateName+"-active"),this._currentState=Y}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(Y){var mt=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=mt,this._container=mt.container,this._anonymousBar.container},removeFrom:function(Y){return this._map===Y&&this.remove(),this}}),L.easyButton=function(){var Y=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,Y))};function j(Y,mt){this.title=Y.title,this.stateName=Y.stateName?Y.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=st(Y.icon),this.onClick=L.Util.bind(Y.onClick?Y.onClick:function(){},mt)}function st(Y){var mt;return Y.match(/[&;=<>"']/)?mt=Y:(Y=Y.replace(/(^\s*|\s*$)/g,""),mt=L.DomUtil.create("span",""),Y.indexOf("fa-")===0?L.DomUtil.addClass(mt,"fa "+Y):Y.indexOf("glyphicon-")===0?L.DomUtil.addClass(mt,"glyphicon "+Y):L.DomUtil.addClass(mt,Y),mt=mt.outerHTML),mt}})();var Go=ga(so(),1),bo=ga(Wa(),1);function Ta([j,st]){let Y=st/-64-.5,mt=j/64;return[Y,mt]}function qo([j,st]){let Y=st*64,mt=(j+.5)*-64;return[Y,mt]}async function Zo(){let st=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1JSmJtYkYrEx6Am5drhSet17qwJzOKDI7tE7FxPx4YNI&sheetName=New%20World")).json();Fs(st),Mr(),Zr().city.enable(),Zr().airportCalc.enable(),(0,Go.default)("#search__input").removeAttr("disabled")}function Mr(){let{cityLayers:j,CC:st,searchLayer:Y}=di(),mt=Ce().map;if(Ce().displayTowns)mt.removeLayer(Y),console.log(j.entries()),mt.addLayer(j.get("Community")),mt.addLayer(j.get("Premier")),mt.addLayer(j.get("Governor")),mt.addLayer(j.get("Senator")),mt.addLayer(j.get("Mayor")),mt.addLayer(j.get("Councillor")),mt.addLayer(j.get("Unranked")),mt.addLayer(st);else{mt.removeLayer(j.get("Community")),mt.removeLayer(j.get("Premier")),mt.removeLayer(j.get("Governor")),mt.removeLayer(j.get("Senator")),mt.removeLayer(j.get("Mayor")),mt.removeLayer(j.get("Councillor")),mt.removeLayer(j.get("Unranked")),mt.removeLayer(st);return}}function Fs(j){let st={Premier:"#fffc04",Governor:"#08fc04",Senator:"#08ac04",Mayor:"#0804fc",Councillor:"#5084ec",Community:"#781c44",Unranked:"#ffffff"};di().towns=j;let{cityMarkers:Y,cityLayers:mt}=di();for(let dt of j){dt.Name=dt["Town Name"];let Qt=[dt.X,dt.Y,dt.Z];if(isNaN(Qt[0])||isNaN(Qt[2]))console.warn(`Not displaying town ${dt.Name}: invalid or missing coordinates`);else{let X=Ta([Qt[0],Qt[2]]);Y.has(dt["Town Rank"])||Y.set(dt["Town Rank"],[]),Y.get(dt["Town Rank"]).push(bo.default.circleMarker(X,{color:st[dt["Town Rank"]],radius:7}).bindPopup(`Name: ${dt.Name}<br>Mayor: ${dt.Mayor}<br>Deputy Mayor: ${dt["Deputy Mayor"]}<br>Rank: ${dt["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(dt.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}}Er.cityTypes.forEach(dt=>{let Qt=bo.default.featureGroup();Y.get(dt).forEach(X=>{Qt.addLayer(X)}),mt.set(dt,Qt)}),Ce().map.on("zoomend",Mr)}var Wn=ga(Wa(),1);var lo=class{constructor(){this.featureGroup=Wn.featureGroup(),this.centre=Wn.circleMarker([0,0],{color:"white"}).addTo(this.featureGroup).bindTooltip("",{permanent:!0}),this.three=Wn.rectangle([[0,0],[0,0]],{color:"red"}).addTo(this.featureGroup),this.five=Wn.rectangle([[0,0],[0,0]],{color:"yellow"}).addTo(this.featureGroup),this.listener=st=>{this.updatePos(st.latlng)}}toggle(){Ce().map.hasLayer(this.featureGroup)?(Ce().map.removeLayer(this.featureGroup),Ce().map.off("mousemove",this.listener)):(Ce().map.addLayer(this.featureGroup),Ce().map.on("mousemove",this.listener))}updatePos(st){let[Y,mt]=qo([st.lat,st.lng]);this.centre.setLatLng(st),this.centre.setTooltipContent(`${parseInt(Y)} ${parseInt(mt)}`),this.three.setLatLngs([[st.lat-300/64,st.lng-300/64],[st.lat+300/64,st.lng-300/64],[st.lat+300/64,st.lng+300/64],[st.lat-300/64,st.lng+300/64]]),this.five.setLatLngs([[st.lat-500/64,st.lng-500/64],[st.lat+500/64,st.lng-500/64],[st.lat+500/64,st.lng+500/64],[st.lat-500/64,st.lng+500/64]])}};var fo=class{constructor(st){this.displayTowns=!0,this.cityMap=new Er,this.streetMapVisible=!1,this.map=st,this.buttons=new wo(this.map),this.logo=new xo(this.map)}},Er=class{constructor(){this.searchLayer=Ni.default.featureGroup(),this.CC=Ni.default.featureGroup(),this.cityLayers=new Map,this.cityMarkers=new Map,this.towns=[],this.warpLayer=Ni.default.featureGroup(),this.radius=new lo}};Er.cityTypes=["Premier","Governor","Senator","Community","Mayor","Councillor","Unranked"];var xo=class extends Ni.default.Control{onAdd(){let st=Ni.default.DomUtil.create("div");return st.innerHTML="<img src='media/map-light.png' style='height: 50px;'>",st}onRemove(){}constructor(st,Y){super(Y),this.setPosition("bottomright").addTo(st)}},wo=class{constructor(st){this.guide=Ni.default.easyButton("fa-question",()=>{window.open("https://github.com/mrt-map/map/wiki/City-Map","_blank")},"Guide").setPosition("topright").addTo(st);let Y=Ni.default.tileLayer("https://raw.githubusercontent.com/MRT-Map/map-data/main/tiles/{z}/{x}/{y}.webp",{maxZoom:9});this.streetMap=Ni.default.easyButton("fa-map",()=>{Ce().streetMapVisible?Y.removeFrom(st):Y.addTo(st),Ce().streetMapVisible=!Ce().streetMapVisible},"Show Streetmap").setPosition("topright").addTo(st),this.city=Ni.default.easyButton("fa-city",()=>{Ce().displayTowns=!Ce().displayTowns,Mr()},"Show/Hide Towns").setPosition("topright").addTo(st),this.city.disable(),this.warps=Ni.default.easyButton("fa-bolt",()=>{Ce().map.hasLayer(di().warpLayer)?Ce().map.removeLayer(di().warpLayer):Ce().map.addLayer(di().warpLayer)},"Show/Hide Warps").setPosition("topright").addTo(st),this.warps.disable(),this.radius=Ni.default.easyButton("fa-bullseye",()=>{di().radius.toggle()},"300/500 Radius").setPosition("topright").addTo(st),this.airportCalc=Ni.default.easyButton("fa-plane",()=>{window.open("./airportcalc.html","_self")},"Open Airportcalc 2").setPosition("topright").addTo(st)}};function Ce(){return window.mapGlobals}function di(){return window.mapGlobals.cityMap}function Zr(){return window.mapGlobals.buttons}var Sa=ga(so(),1),ko=ga(Wa(),1);var Ho=ga(so(),1),pi=(0,Ho.default)(".results__container"),Lo,Ti=0,Uo=0;pi.on("touchstart",j=>{Lo=j.touches[0].clientY});pi.on("touchmove",j=>{if(window.innerWidth>1e3){pi.css("transform","none");return}let st=j.touches[0].clientY,Y=Lo-st;Lo=st;let mt=pi.height()*2*.3;pi.scrollTop()==0&&(Ti+=Y,j.preventDefault()),Ti>mt&&(pi.scrollTop(pi.scrollTop()+Y),Ti=mt),Ti<0&&(Ti=0)});pi.on("wheel",()=>{if(window.innerWidth>1e3){pi.css("transform","none");return}let j=pi.scrollTop()-Uo;Uo=pi.scrollTop();let st=pi.height()*2*.3;Ti<st&&j>0&&(Ti+=j),Ti>0&&j<0&&pi.scrollTop()<500&&(Ti+=j),Ti>st&&(pi.scrollTop(pi.scrollTop()+j),Ti=st),Ti<0&&(Ti=0)});function Vo(){if(window.innerWidth>1e3){pi.css("transform","none");return}Ti=0}var Co;async function Ko(){Co=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1Hhj_Cghfhfs8Xh5v5gt65kGc4mDW0sC5GWULKidOBW8&sheetName=Members")).json();for(let st of Co){if(st.names=[st.Username],st["Former Usernames"]!=""){let Y=st["Former Usernames"].split(",");for(let mt of Y)st.names.push(mt.trim())}if(st["Temporary Usernames"]!=""){let Y=st["Temporary Usernames"].split(",");for(let mt of Y)st.names.push(mt.trim())}}}function Is(j){let st=Ce().map;st.removeLayer(di().CC),st.removeLayer(di().searchLayer),di().searchLayer=ko.default.featureGroup(),window.mapGlobals.displayTowns=!1;let Y=[];for(let dt of Co)for(let Qt of dt.names)typeof Qt!="string"&&(Qt=Qt.toString()),Qt=Qt.toLowerCase(),Qt.toLowerCase().includes(j.toLowerCase())&&Y.push(Qt);let mt=window.mapGlobals.cityMap.towns.filter(dt=>dt.Name?.toString().toLowerCase().includes(j.toLowerCase())??Y.includes(dt.Mayor.toString().toLowerCase()));for(let dt of window.mapGlobals.cityMap.cityLayers.values())st.removeLayer(dt);for(let dt of mt){let Qt=[dt.X,dt.Y,dt.Z];isNaN(Qt[0])||isNaN(Qt[2])?console.log(`Not displaying town ${dt.Name} in search results popup: invalid or missing coordinates`):di().searchLayer.addLayer(ko.default.marker(Ta([Qt[0],Qt[2]])).addTo(st).bindPopup(`Name: ${dt.Name}<br>Mayor: ${dt.Mayor}<br>Deputy Mayor: ${dt["Deputy Mayor"]}<br>Rank: ${dt["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(dt.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}return st.addLayer(di().searchLayer),mt}function Mo(){try{Vo()}catch{console.log("couldn't reset results")}let j=(0,Sa.default)("#search__input").val();if(j==null||j=="")(0,Sa.default)(".results__container").css("display","none"),window.mapGlobals.displayTowns=!0,Mr(),document.getElementById("search__results").innerHTML="";else{(0,Sa.default)(".results__container").css("display","block");let st=Is(j);document.getElementById("search__results").innerHTML="",st.length==0&&(document.getElementById("search__results").innerHTML="<div>No Results</div>");for(let Y of st){let mt=document.getElementById("search__results");mt.innerHTML+=`<div class="result"><div class="result__name">${Y.Name}</div><div class="result__details"><div class="result__rank">Rank: ${Y["Town Rank"]}</div><div class="result__mayor">Mayor: ${Y.Mayor}</div></div></div>`,mt.querySelector("div").onclick=()=>Ns(Y.X,Y.Z)}}}function $o(){document.activeElement?.blur(),(0,Sa.default)("input").blur()}function zs(){let j=!1;return function(st){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(st)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(st.substr(0,4)))&&(j=!0)}(navigator.userAgent||navigator.vendor||window.opera),j}var Wo;(0,Sa.default)("#search__input").on("input",function(){(0,Sa.default)(".results__container").css("display","none");let j=(0,Sa.default)("#search__input").val();(!zs()||j==null||j=="")&&(clearTimeout(Wo),Wo=setTimeout(function(){Mo()},500))});(0,Sa.default)("#search__input").keypress(function(j){j.which==13&&($o(),Mo())});(0,Sa.default)(".search__bar button").click(function(){$o(),Mo()});function Ns(j,st){if(isNaN(j)||isNaN(st))return alert("This town cannot be displayed because it contains invalid coordinates. Please contact a staff member to fix.");console.log(j,st),Ce().map.flyTo(Ta([j,st]),5)}var uo=ga(Wa(),1);var Yo=new URL(document.location.toString()).searchParams;async function Xo(){if(Yo.get("waypoints")){let st=(await(await fetch("https://docs.google.com/spreadsheets/d/11E60uIBKs5cOSIRHLz0O0nLCefpj7HgndS1gIXY_1hw/export?format=csv&gid=707730663")).text()).split(`
`).map(Y=>Y.split(","));st.shift();for(let Y of st)console.log(Y),uo.circleMarker(Ta(Y[1].split(" ").map(mt=>parseInt(mt))),{radius:5}).bindPopup(Y[0]).addTo(Ce().map)}}async function Jo(){if(Yo.get("airways")){let st=await(await fetch("https://raw.githubusercontent.com/MRT-Map/mrt-flightradar/main/data/airway_coords.json")).json();for(let Y of st)console.log(Y),uo.polyline(Y.map(([mt,dt])=>[mt,-dt]).map(Ta),{color:"red"}).addTo(Ce().map)}}var Qo=ga(Wa(),1);async function ts(){let st=await(await fetch("./warps.json")).json();console.log(st.warps.length+" warps loaded");for(let Y of st.warps)di().warpLayer.addLayer(Qo.default.circleMarker(Ta([Y.x,Y.z]),{color:"#ff0000",radius:3}).bindPopup(`Warp: ${Y.name}<br>Visited <strong>${Y.visits}</strong> times<br><button onclick="navigator.clipboard.writeText('/warp point ${Y.name}')">Copy Compass Point Command</button>`));Zr().warps.enable()}delete Eo.default.Icon.Default.prototype._getIconUrl;Eo.default.Icon.Default.mergeOptions({iconRetinaUrl:es(),iconUrl:is(),shadowUrl:as()});window.mapGlobals=new fo(zo());Zo();Ko();Xo();Jo();ts();})();
/*! Bundled license information:

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)
*/
//# sourceMappingURL=https://mrt-map.github.io/map/out-map.js.map
