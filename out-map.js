"use strict";(()=>{var No=Object.create;var to=Object.defineProperty;var Ao=Object.getOwnPropertyDescriptor;var jo=Object.getOwnPropertyNames;var zo=Object.getPrototypeOf,Oo=Object.prototype.hasOwnProperty;var pr=(F,xe)=>()=>(xe||F((xe={exports:{}}).exports,xe),xe.exports);var Bo=(F,xe,$,M)=>{if(xe&&typeof xe=="object"||typeof xe=="function")for(let y of jo(xe))!Oo.call(F,y)&&y!==$&&to(F,y,{get:()=>xe[y],enumerable:!(M=Ao(xe,y))||M.enumerable});return F};var wi=(F,xe,$)=>($=F!=null?No(zo(F)):{},Bo(xe||!F||!F.__esModule?to($,"default",{value:F,enumerable:!0}):$,F));var Ki=pr((Mr,no)=>{(function(F,xe){typeof Mr=="object"&&typeof no<"u"?xe(Mr):typeof define=="function"&&define.amd?define(["exports"],xe):(F=typeof globalThis<"u"?globalThis:F||self,xe(F.leaflet={}))})(Mr,function(F){"use strict";var xe="1.9.4";function $(e){var n,o,f,d;for(o=1,f=arguments.length;o<f;o++){d=arguments[o];for(n in d)e[n]=d[n]}return e}var M=Object.create||function(){function e(){}return function(n){return e.prototype=n,new e}}();function y(e,n){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var f=o.call(arguments,2);return function(){return e.apply(n,f.length?f.concat(o.call(arguments)):arguments)}}var _=0;function k(e){return"_leaflet_id"in e||(e._leaflet_id=++_),e._leaflet_id}function D(e,n,o){var f,d,x,Z;return Z=function(){f=!1,d&&(x.apply(o,d),d=!1)},x=function(){f?d=arguments:(e.apply(o,arguments),setTimeout(Z,n),f=!0)},x}function G(e,n,o){var f=n[1],d=n[0],x=f-d;return e===f&&o?e:((e-d)%x+x)%x+d}function E(){return!1}function q(e,n){if(n===!1)return e;var o=Math.pow(10,n===void 0?6:n);return Math.round(e*o)/o}function le(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ge(e){return le(e).split(/\s+/)}function re(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?M(e.options):{});for(var o in n)e.options[o]=n[o];return e.options}function Q(e,n,o){var f=[];for(var d in e)f.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!n||n.indexOf("?")===-1?"?":"&")+f.join("&")}var J=/\{ *([\w_ -]+) *\}/g;function K(e,n){return e.replace(J,function(o,f){var d=n[f];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(n)),d})}var W=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function X(e,n){for(var o=0;o<e.length;o++)if(e[o]===n)return o;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Y=0;function l(e){var n=+new Date,o=Math.max(0,16-(n-Y));return Y=n+o,window.setTimeout(e,o)}var be=window.requestAnimationFrame||A("RequestAnimationFrame")||l,_e=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ke(e,n,o){if(o&&be===l)e.call(n);else return be.call(window,y(e,n))}function Ce(e){e&&_e.call(window,e)}var Be={__proto__:null,extend:$,create:M,bind:y,get lastId(){return _},stamp:k,throttle:D,wrapNum:G,falseFn:E,formatNum:q,trim:le,splitWords:ge,setOptions:re,getParamString:Q,template:K,isArray:W,indexOf:X,emptyImageUrl:te,requestFn:be,cancelFn:_e,requestAnimFrame:ke,cancelAnimFrame:Ce};function Me(){}Me.extend=function(e){var n=function(){re(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,f=M(o);f.constructor=n,n.prototype=f;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(n[d]=this[d]);return e.statics&&$(n,e.statics),e.includes&&(Ae(e.includes),$.apply(null,[f].concat(e.includes))),$(f,e),delete f.statics,delete f.includes,f.options&&(f.options=o.options?M(o.options):{},$(f.options,e.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,Z=f._initHooks.length;x<Z;x++)f._initHooks[x].call(this)}},n},Me.include=function(e){var n=this.prototype.options;return $(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},Me.mergeOptions=function(e){return $(this.prototype.options,e),this},Me.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Ae(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=W(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var We={on:function(e,n,o){if(typeof e=="object")for(var f in e)this._on(f,e[f],n);else{e=ge(e);for(var d=0,x=e.length;d<x;d++)this._on(e[d],n,o)}return this},off:function(e,n,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],n);else{e=ge(e);for(var d=arguments.length===1,x=0,Z=e.length;x<Z;x++)d?this._off(e[x]):this._off(e[x],n,o)}return this},_on:function(e,n,o,f){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,o)===!1){o===this&&(o=void 0);var d={fn:n,ctx:o};f&&(d.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(d)}},_off:function(e,n,o){var f,d,x;if(this._events&&(f=this._events[e],!!f)){if(arguments.length===1){if(this._firingCount)for(d=0,x=f.length;d<x;d++)f[d].fn=E;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var Z=this._listens(e,n,o);if(Z!==!1){var ne=f[Z];this._firingCount&&(ne.fn=E,this._events[e]=f=f.slice()),f.splice(Z,1)}}},fire:function(e,n,o){if(!this.listens(e,o))return this;var f=$({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var d=this._events[e];if(d){this._firingCount=this._firingCount+1||1;for(var x=0,Z=d.length;x<Z;x++){var ne=d[x],fe=ne.fn;ne.once&&this.off(e,fe,ne.ctx),fe.call(ne.ctx||this,f)}this._firingCount--}}return o&&this._propagateEvent(f),this},listens:function(e,n,o,f){typeof e!="string"&&console.warn('"string" type argument expected');var d=n;typeof n!="function"&&(f=!!n,d=void 0,o=void 0);var x=this._events&&this._events[e];if(x&&x.length&&this._listens(e,d,o)!==!1)return!0;if(f){for(var Z in this._eventParents)if(this._eventParents[Z].listens(e,n,o,f))return!0}return!1},_listens:function(e,n,o){if(!this._events)return!1;var f=this._events[e]||[];if(!n)return!!f.length;o===this&&(o=void 0);for(var d=0,x=f.length;d<x;d++)if(f[d].fn===n&&f[d].ctx===o)return d;return!1},once:function(e,n,o){if(typeof e=="object")for(var f in e)this._on(f,e[f],n,!0);else{e=ge(e);for(var d=0,x=e.length;d<x;d++)this._on(e[d],n,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[k(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[k(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,$({layer:e.target,propagatedFrom:e.target},e),!0)}};We.addEventListener=We.on,We.removeEventListener=We.clearAllEventListeners=We.off,We.addOneTimeEventListener=We.once,We.fireEvent=We.fire,We.hasEventListeners=We.listens;var Ne=Me.extend(We);function Te(e,n,o){this.x=o?Math.round(e):e,this.y=o?Math.round(n):n}var _t=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};Te.prototype={clone:function(){return new Te(this.x,this.y)},add:function(e){return this.clone()._add(Le(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Le(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new Te(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new Te(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_t(this.x),this.y=_t(this.y),this},distanceTo:function(e){e=Le(e);var n=e.x-this.x,o=e.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(e){return e=Le(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Le(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}};function Le(e,n,o){return e instanceof Te?e:W(e)?new Te(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new Te(e.x,e.y):new Te(e,n,o)}function Ge(e,n){if(e)for(var o=n?[e,n]:e,f=0,d=o.length;f<d;f++)this.extend(o[f])}Ge.prototype={extend:function(e){var n,o;if(!e)return this;if(e instanceof Te||typeof e[0]=="number"||"x"in e)n=o=Le(e);else if(e=ht(e),n=e.min,o=e.max,!n||!o)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=o.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return Le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Le(this.min.x,this.max.y)},getTopRight:function(){return Le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,o;return typeof e[0]=="number"||e instanceof Te?e=Le(e):e=ht(e),e instanceof Ge?(n=e.min,o=e.max):n=o=e,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=ht(e);var n=this.min,o=this.max,f=e.min,d=e.max,x=d.x>=n.x&&f.x<=o.x,Z=d.y>=n.y&&f.y<=o.y;return x&&Z},overlaps:function(e){e=ht(e);var n=this.min,o=this.max,f=e.min,d=e.max,x=d.x>n.x&&f.x<o.x,Z=d.y>n.y&&f.y<o.y;return x&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,o=this.max,f=Math.abs(n.x-o.x)*e,d=Math.abs(n.y-o.y)*e;return ht(Le(n.x-f,n.y-d),Le(o.x+f,o.y+d))},equals:function(e){return e?(e=ht(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ht(e,n){return!e||e instanceof Ge?e:new Ge(e,n)}function kt(e,n){if(e)for(var o=n?[e,n]:e,f=0,d=o.length;f<d;f++)this.extend(o[f])}kt.prototype={extend:function(e){var n=this._southWest,o=this._northEast,f,d;if(e instanceof ct)f=e,d=e;else if(e instanceof kt){if(f=e._southWest,d=e._northEast,!f||!d)return this}else return e?this.extend(Xe(e)||Ye(e)):this;return!n&&!o?(this._southWest=new ct(f.lat,f.lng),this._northEast=new ct(d.lat,d.lng)):(n.lat=Math.min(f.lat,n.lat),n.lng=Math.min(f.lng,n.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(e){var n=this._southWest,o=this._northEast,f=Math.abs(n.lat-o.lat)*e,d=Math.abs(n.lng-o.lng)*e;return new kt(new ct(n.lat-f,n.lng-d),new ct(o.lat+f,o.lng+d))},getCenter:function(){return new ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ct||"lat"in e?e=Xe(e):e=Ye(e);var n=this._southWest,o=this._northEast,f,d;return e instanceof kt?(f=e.getSouthWest(),d=e.getNorthEast()):f=d=e,f.lat>=n.lat&&d.lat<=o.lat&&f.lng>=n.lng&&d.lng<=o.lng},intersects:function(e){e=Ye(e);var n=this._southWest,o=this._northEast,f=e.getSouthWest(),d=e.getNorthEast(),x=d.lat>=n.lat&&f.lat<=o.lat,Z=d.lng>=n.lng&&f.lng<=o.lng;return x&&Z},overlaps:function(e){e=Ye(e);var n=this._southWest,o=this._northEast,f=e.getSouthWest(),d=e.getNorthEast(),x=d.lat>n.lat&&f.lat<o.lat,Z=d.lng>n.lng&&f.lng<o.lng;return x&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=Ye(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ye(e,n){return e instanceof kt?e:new kt(e,n)}function ct(e,n,o){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,o!==void 0&&(this.alt=+o)}ct.prototype={equals:function(e,n){if(!e)return!1;e=Xe(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+q(this.lat,e)+", "+q(this.lng,e)+")"},distanceTo:function(e){return Ot.distance(this,Xe(e))},wrap:function(){return Ot.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,o=n/Math.cos(Math.PI/180*this.lat);return Ye([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new ct(this.lat,this.lng,this.alt)}};function Xe(e,n,o){return e instanceof ct?e:W(e)&&typeof e[0]!="object"?e.length===3?new ct(e[0],e[1],e[2]):e.length===2?new ct(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ct(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new ct(e,n,o)}var nn={latLngToPoint:function(e,n){var o=this.projection.project(e),f=this.scale(n);return this.transformation._transform(o,f)},pointToLatLng:function(e,n){var o=this.scale(n),f=this.transformation.untransform(e,o);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(e),f=this.transformation.transform(n.min,o),d=this.transformation.transform(n.max,o);return new Ge(f,d)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?G(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?G(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new ct(o,n,f)},wrapLatLngBounds:function(e){var n=e.getCenter(),o=this.wrapLatLng(n),f=n.lat-o.lat,d=n.lng-o.lng;if(f===0&&d===0)return e;var x=e.getSouthWest(),Z=e.getNorthEast(),ne=new ct(x.lat-f,x.lng-d),fe=new ct(Z.lat-f,Z.lng-d);return new kt(ne,fe)}},Ot=$({},nn,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var o=Math.PI/180,f=e.lat*o,d=n.lat*o,x=Math.sin((n.lat-e.lat)*o/2),Z=Math.sin((n.lng-e.lng)*o/2),ne=x*x+Math.cos(f)*Math.cos(d)*Z*Z,fe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*fe}}),ii=6378137,fn={R:ii,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,o=this.MAX_LATITUDE,f=Math.max(Math.min(o,e.lat),-o),d=Math.sin(f*n);return new Te(this.R*e.lng*n,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(e){var n=180/Math.PI;return new ct((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:function(){var e=ii*Math.PI;return new Ge([-e,-e],[e,e])}()};function Yt(e,n,o,f){if(W(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=o,this._d=f}Yt.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new Te((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function Un(e,n,o,f){return new Yt(e,n,o,f)}var ln=$({},Ot,{code:"EPSG:3857",projection:fn,transformation:function(){var e=.5/(Math.PI*fn.R);return Un(e,.5,-e,.5)}()}),Pn=$({},ln,{code:"EPSG:900913"});function mi(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ut(e,n){var o="",f,d,x,Z,ne,fe;for(f=0,x=e.length;f<x;f++){for(ne=e[f],d=0,Z=ne.length;d<Z;d++)fe=ne[d],o+=(d?"L":"M")+fe.x+" "+fe.y;o+=n?ze.svg?"z":"x":""}return o||"M0 0"}var Fn=document.documentElement.style,mn="ActiveXObject"in window,$t=mn&&!document.addEventListener,xi="msLaunchUri"in navigator&&!("documentMode"in document),B=zt("webkit"),b=zt("android"),v=zt("android 2")||zt("android 3"),T=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),U=b&&zt("Google")&&T<537&&!("AudioNode"in window),P=!!window.opera,ce=!xi&&zt("chrome"),me=zt("gecko")&&!B&&!P&&!mn,Ie=!ce&&zt("safari"),qe=zt("phantom"),ot="OTransition"in Fn,it=navigator.platform.indexOf("Win")===0,Ze=mn&&"transition"in Fn,st="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!v,tt="MozPerspective"in Fn,mt=!window.L_DISABLE_3D&&(Ze||st||tt)&&!ot&&!qe,It=typeof orientation<"u"||zt("mobile"),Et=It&&B,qt=It&&st,Bt=!window.PointerEvent&&window.MSPointerEvent,At=!!(window.PointerEvent||Bt),Vt="ontouchstart"in window||!!window.TouchEvent,St=!window.L_NO_TOUCH&&(Vt||At),Ct=It&&P,Qt=It&&me,Nt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",E,n),window.removeEventListener("testPassiveEventSupport",E,n)}catch{}return e}(),rn=function(){return!!document.createElement("canvas").getContext}(),bn=!!(document.createElementNS&&mi("svg").createSVGRect),Sn=!!bn&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ki=!bn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Nn=navigator.platform.indexOf("Mac")===0,Hn=navigator.platform.indexOf("Linux")===0;function zt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var ze={ie:mn,ielt9:$t,edge:xi,webkit:B,android:b,android23:v,androidStock:U,opera:P,chrome:ce,gecko:me,safari:Ie,phantom:qe,opera12:ot,win:it,ie3d:Ze,webkit3d:st,gecko3d:tt,any3d:mt,mobile:It,mobileWebkit:Et,mobileWebkit3d:qt,msPointer:Bt,pointer:At,touch:St,touchNative:Vt,mobileOpera:Ct,mobileGecko:Qt,retina:Nt,passiveEvents:Tt,canvas:rn,svg:bn,vml:ki,inlineSvg:Sn,mac:Nn,linux:Hn},Ji=ze.msPointer?"MSPointerDown":"pointerdown",Ci=ze.msPointer?"MSPointerMove":"pointermove",ri=ze.msPointer?"MSPointerUp":"pointerup",Oi=ze.msPointer?"MSPointerCancel":"pointercancel",Ii={touchstart:Ji,touchmove:Ci,touchend:ri,touchcancel:Oi},Bi={touchstart:kn,touchmove:Ti,touchend:Ti,touchcancel:Ti},Yn={},Ri=!1;function An(e,n,o){return n==="touchstart"&&Ui(),Bi[n]?(o=Bi[n].bind(this,o),e.addEventListener(Ii[n],o,!1),o):(console.warn("wrong event specified:",n),E)}function Zi(e,n,o){if(!Ii[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(Ii[n],o,!1)}function bi(e){Yn[e.pointerId]=e}function Gi(e){Yn[e.pointerId]&&(Yn[e.pointerId]=e)}function jn(e){delete Yn[e.pointerId]}function Ui(){Ri||(document.addEventListener(Ji,bi,!0),document.addEventListener(Ci,Gi,!0),document.addEventListener(ri,jn,!0),document.addEventListener(Oi,jn,!0),Ri=!0)}function Ti(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in Yn)n.touches.push(Yn[o]);n.changedTouches=[n],e(n)}}function kn(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&ae(n),Ti(e,n)}function Xi(e){var n={},o,f;for(f in e)o=e[f],n[f]=o&&o.bind?o.bind(e):o;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Fi=200;function Di(e,n){e.addEventListener("dblclick",n);var o=0,f;function d(x){if(x.detail!==1){f=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var Z=Ee(x);if(!(Z.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!Z.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var ne=Date.now();ne-o<=Fi?(f++,f===2&&n(Xi(x))):f=1,o=ne}}}return e.addEventListener("click",d),{dblclick:n,simDblclick:d}}function $i(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var Hi=Qn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zn=Qn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_i=zn==="webkitTransition"||zn==="OTransition"?zn+"End":"transitionend";function yi(e){return typeof e=="string"?document.getElementById(e):e}function qn(e,n){var o=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);o=f?f[n]:null}return o==="auto"?null:o}function ft(e,n,o){var f=document.createElement(e);return f.className=n||"",o&&o.appendChild(f),f}function vt(e){var n=e.parentNode;n&&n.removeChild(e)}function oi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function jt(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function cn(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function ai(e,n){if(e.classList!==void 0)return e.classList.contains(n);var o=vi(e);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function et(e,n){if(e.classList!==void 0)for(var o=ge(n),f=0,d=o.length;f<d;f++)e.classList.add(o[f]);else if(!ai(e,n)){var x=vi(e);Wn(e,(x?x+" ":"")+n)}}function Pt(e,n){e.classList!==void 0?e.classList.remove(n):Wn(e,le((" "+vi(e)+" ").replace(" "+n+" "," ")))}function Wn(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function vi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Ft(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&Vn(e,n)}function Vn(e,n){var o=!1,f="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(f)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):e.style.filter+=" progid:"+f+"(opacity="+n+")"}function Qn(e){for(var n=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in n)return e[o];return!1}function Kn(e,n,o){var f=n||new Te(0,0);e.style[Hi]=(ze.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(o?" scale("+o+")":"")}function gt(e,n){e._leaflet_pos=n,ze.any3d?Kn(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function Mt(e){return e._leaflet_pos||new Te(0,0)}var on,Jn,Yi;if("onselectstart"in document)on=function(){a(window,"selectstart",ae)},Jn=function(){p(window,"selectstart",ae)};else{var un=Qn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);on=function(){if(un){var e=document.documentElement.style;Yi=e[un],e[un]="none"}},Jn=function(){un&&(document.documentElement.style[un]=Yi,Yi=void 0)}}function _n(){a(window,"dragstart",ae)}function Mi(){p(window,"dragstart",ae)}var si,Cn;function Ei(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(fi(),si=e,Cn=e.style.outlineStyle,e.style.outlineStyle="none",a(window,"keydown",fi))}function fi(){si&&(si.style.outlineStyle=Cn,si=void 0,Cn=void 0,p(window,"keydown",fi))}function qi(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function t(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var i={__proto__:null,TRANSFORM:Hi,TRANSITION:zn,TRANSITION_END:_i,get:yi,getStyle:qn,create:ft,remove:vt,empty:oi,toFront:jt,toBack:cn,hasClass:ai,addClass:et,removeClass:Pt,setClass:Wn,getClass:vi,setOpacity:Ft,testProp:Qn,setTransform:Kn,setPosition:gt,getPosition:Mt,get disableTextSelection(){return on},get enableTextSelection(){return Jn},disableImageDrag:_n,enableImageDrag:Mi,preventOutline:Ei,restoreOutline:fi,getSizedParentNode:qi,getScale:t};function a(e,n,o,f){if(n&&typeof n=="object")for(var d in n)O(e,d,n[d],o);else{n=ge(n);for(var x=0,Z=n.length;x<Z;x++)O(e,n[x],o,f)}return this}var u="_leaflet_events";function p(e,n,o,f){if(arguments.length===1)C(e),delete e[u];else if(n&&typeof n=="object")for(var d in n)j(e,d,n[d],o);else if(n=ge(n),arguments.length===2)C(e,function(ne){return X(n,ne)!==-1});else for(var x=0,Z=n.length;x<Z;x++)j(e,n[x],o,f);return this}function C(e,n){for(var o in e[u]){var f=o.split(/\d/)[0];(!n||n(f))&&j(e,f,null,null,o)}}var S={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function O(e,n,o,f){var d=n+k(o)+(f?"_"+k(f):"");if(e[u]&&e[u][d])return this;var x=function(ne){return o.call(f||e,ne||window.event)},Z=x;!ze.touchNative&&ze.pointer&&n.indexOf("touch")===0?x=An(e,n,x):ze.touch&&n==="dblclick"?x=Di(e,x):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(S[n]||n,x,ze.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(x=function(ne){ne=ne||window.event,dt(e,ne)&&Z(ne)},e.addEventListener(S[n],x,!1)):e.addEventListener(n,Z,!1):e.attachEvent("on"+n,x),e[u]=e[u]||{},e[u][d]=x}function j(e,n,o,f,d){d=d||n+k(o)+(f?"_"+k(f):"");var x=e[u]&&e[u][d];if(!x)return this;!ze.touchNative&&ze.pointer&&n.indexOf("touch")===0?Zi(e,n,x):ze.touch&&n==="dblclick"?$i(e,x):"removeEventListener"in e?e.removeEventListener(S[n]||n,x,!1):e.detachEvent("on"+n,x),e[u][d]=null}function R(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ee(e){return O(e,"wheel",R),this}function he(e){return a(e,"mousedown touchstart dblclick contextmenu",R),e._leaflet_disable_click=!0,this}function ae(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ye(e){return ae(e),R(e),this}function Ee(e){if(e.composedPath)return e.composedPath();for(var n=[],o=e.target;o;)n.push(o),o=o.parentNode;return n}function Ue(e,n){if(!n)return new Te(e.clientX,e.clientY);var o=t(n),f=o.boundingClientRect;return new Te((e.clientX-f.left)/o.x-n.clientLeft,(e.clientY-f.top)/o.y-n.clientTop)}var $e=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bt(e){return ze.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/$e:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function dt(e,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var Lt={__proto__:null,on:a,off:p,stopPropagation:R,disableScrollPropagation:ee,disableClickPropagation:he,preventDefault:ae,stop:ye,getPropagationPath:Ee,getMousePosition:Ue,getWheelDelta:bt,isExternalTarget:dt,addListener:a,removeListener:p},en=Ne.extend({run:function(e,n,o,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Mt(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var o=this._startPos.add(this._offset.multiplyBy(e));n&&o._round(),gt(this._el,o),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Fe=Ne.extend({options:{crs:ln,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=re(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(Xe(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zn&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),a(this._proxy,_i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(Xe(e),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=$({animate:o.animate},o.zoom),o.pan=$({animate:o.animate,duration:o.duration},o.pan));var f=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,o.zoom):this._tryAnimatedPan(e,o.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,o){var f=this.getZoomScale(n),d=this.getSize().divideBy(2),x=e instanceof Te?e:this.latLngToContainerPoint(e),Z=x.subtract(d).multiplyBy(1-1/f),ne=this.containerPointToLatLng(d.add(Z));return this.setView(ne,n,{zoom:o})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():Ye(e);var o=Le(n.paddingTopLeft||n.padding||[0,0]),f=Le(n.paddingBottomRight||n.padding||[0,0]),d=this.getBoundsZoom(e,!1,o.add(f));if(d=typeof n.maxZoom=="number"?Math.min(n.maxZoom,d):d,d===1/0)return{center:e.getCenter(),zoom:d};var x=f.subtract(o).divideBy(2),Z=this.project(e.getSouthWest(),d),ne=this.project(e.getNorthEast(),d),fe=this.unproject(Z.add(ne).divideBy(2).add(x),d);return{center:fe,zoom:d}},fitBounds:function(e,n){if(e=Ye(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=Le(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){et(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,o){if(o=o||{},o.animate===!1||!ze.any3d)return this.setView(e,n,o);this._stop();var f=this.project(this.getCenter()),d=this.project(e),x=this.getSize(),Z=this._zoom;e=Xe(e),n=n===void 0?Z:n;var ne=Math.max(x.x,x.y),fe=ne*this.getZoomScale(Z,n),ve=d.distanceTo(f)||1,je=1.42,Qe=je*je;function lt(Ht){var vr=Ht?-1:1,Do=Ht?fe:ne,Eo=fe*fe-ne*ne+vr*Qe*Qe*ve*ve,Po=2*Do*Qe*ve,Tr=Eo/Po,eo=Math.sqrt(Tr*Tr+1)-Tr,So=eo<1e-9?-18:Math.log(eo);return So}function pn(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Xt(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}function Gn(Ht){return pn(Ht)/Xt(Ht)}var wn=lt(0);function lr(Ht){return ne*(Xt(wn)/Xt(wn+je*Ht))}function ko(Ht){return ne*(Xt(wn)*Gn(wn+je*Ht)-pn(wn))/Qe}function Co(Ht){return 1-Math.pow(1-Ht,1.5)}var Io=Date.now(),Xr=(lt(1)-wn)/je,To=o.duration?1e3*o.duration:1e3*Xr*.8;function $r(){var Ht=(Date.now()-Io)/To,vr=Co(Ht)*Xr;Ht<=1?(this._flyToFrame=ke($r,this),this._move(this.unproject(f.add(d.subtract(f).multiplyBy(ko(vr)/ve)),Z),this.getScaleZoom(ne/lr(vr),Z),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),$r.call(this),this},flyToBounds:function(e,n){var o=this._getBoundsCenterZoom(e,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(e){return e=Ye(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var o=this.getCenter(),f=this._limitCenter(o,this._zoom,Ye(e));return o.equals(f)||this.panTo(f,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var o=Le(n.paddingTopLeft||n.padding||[0,0]),f=Le(n.paddingBottomRight||n.padding||[0,0]),d=this.project(this.getCenter()),x=this.project(e),Z=this.getPixelBounds(),ne=ht([Z.min.add(o),Z.max.subtract(f)]),fe=ne.getSize();if(!ne.contains(x)){this._enforcingBounds=!0;var ve=x.subtract(ne.getCenter()),je=ne.extend(x).getSize().subtract(fe);d.x+=ve.x<0?-je.x:je.x,d.y+=ve.y<0?-je.y:je.y,this.panTo(this.unproject(d),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=$({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),f=n.divideBy(2).round(),d=o.divideBy(2).round(),x=f.subtract(d);return!x.x&&!x.y?this:(e.animate&&e.pan?this.panBy(x):(e.pan&&this._rawPanBy(x),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=$({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=y(this._handleGeolocationResponse,this),o=y(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,e):navigator.geolocation.getCurrentPosition(n,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,o=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,o=e.coords.longitude,f=new ct(n,o),d=f.toBounds(e.coords.accuracy*2),x=this._locateOptions;if(x.setView){var Z=this.getBoundsZoom(d);this.setView(f,x.maxZoom?Math.min(Z,x.maxZoom):Z)}var ne={latlng:f,bounds:d,timestamp:e.timestamp};for(var fe in e.coords)typeof e.coords[fe]=="number"&&(ne[fe]=e.coords[fe]);this.fire("locationfound",ne)}},addHandler:function(e,n){if(!n)return this;var o=this[e]=new n(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)vt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=ft("div",o,n||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new kt(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,o){e=Ye(e),o=Le(o||[0,0]);var f=this.getZoom()||0,d=this.getMinZoom(),x=this.getMaxZoom(),Z=e.getNorthWest(),ne=e.getSouthEast(),fe=this.getSize().subtract(o),ve=ht(this.project(ne,f),this.project(Z,f)).getSize(),je=ze.any3d?this.options.zoomSnap:1,Qe=fe.x/ve.x,lt=fe.y/ve.y,pn=n?Math.max(Qe,lt):Math.min(Qe,lt);return f=this.getScaleZoom(pn,f),je&&(f=Math.round(f/(je/100))*(je/100),f=n?Math.ceil(f/je)*je:Math.floor(f/je)*je),Math.max(d,Math.min(x,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var o=this._getTopLeftPoint(e,n);return new Ge(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(e)/o.scale(n)},getScaleZoom:function(e,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var f=o.zoom(e*o.scale(n));return isNaN(f)?1/0:f},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(Xe(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(Le(e),n)},layerPointToLatLng:function(e){var n=Le(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(Xe(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Xe(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(Ye(e))},distance:function(e,n){return this.options.crs.distance(Xe(e),Xe(n))},containerPointToLayerPoint:function(e){return Le(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Le(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(Le(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Xe(e)))},mouseEventToContainerPoint:function(e){return Ue(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=yi(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");a(n,"scroll",this._onScroll,this),this._containerId=k(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,et(e,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=qn(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new Te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(et(e.markerPane,"leaflet-zoom-hide"),et(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,o){gt(this._mapPane,new Te(0,0));var f=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var d=this._zoom!==n;this._moveStart(d,o)._move(e,n)._moveEnd(d),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,o,f){n===void 0&&(n=this._zoom);var d=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),f?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){gt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[k(this._container)]=this;var n=e?p:a;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var o=[],f,d=n==="mouseout"||n==="mouseover",x=e.target||e.srcElement,Z=!1;x;){if(f=this._targets[k(x)],f&&(n==="click"||n==="preclick")&&this._draggableMoved(f)){Z=!0;break}if(f&&f.listens(n,!0)&&(d&&!dt(x,e)||(o.push(f),d))||x===this._container)break;x=x.parentNode}return!o.length&&!Z&&!d&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var o=e.type;o==="mousedown"&&Ei(n),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,o){if(e.type==="click"){var f=$({},e);f.type="preclick",this._fireDOMEvent(f,f.type,o)}var d=this._findEventTargets(e,n);if(o){for(var x=[],Z=0;Z<o.length;Z++)o[Z].listens(n,!0)&&x.push(o[Z]);d=x.concat(d)}if(d.length){n==="contextmenu"&&ae(e);var ne=d[0],fe={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var ve=ne.getLatLng&&(!ne._radius||ne._radius<=10);fe.containerPoint=ve?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(e),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=ve?ne.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(Z=0;Z<d.length;Z++)if(d[Z].fire(n,fe,!0),fe.originalEvent._stopped||d[Z].options.bubblingMouseEvents===!1&&X(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return Mt(this._mapPane)||new Te(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var o=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var o=this.getSize()._divideBy(2);return this.project(e,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,o){var f=this._getNewPixelOrigin(o,n);return this.project(e,n)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,n,o){var f=this._getNewPixelOrigin(o,n);return ht([this.project(e.getSouthWest(),n)._subtract(f),this.project(e.getNorthWest(),n)._subtract(f),this.project(e.getSouthEast(),n)._subtract(f),this.project(e.getNorthEast(),n)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,o){if(!o)return e;var f=this.project(e,n),d=this.getSize().divideBy(2),x=new Ge(f.subtract(d),f.add(d)),Z=this._getBoundsOffset(x,o,n);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?e:this.unproject(f.add(Z),n)},_limitOffset:function(e,n){if(!n)return e;var o=this.getPixelBounds(),f=new Ge(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(f,n))},_getBoundsOffset:function(e,n,o){var f=ht(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),d=f.min.subtract(e.min),x=f.max.subtract(e.max),Z=this._rebound(d.x,-x.x),ne=this._rebound(d.y,-x.y);return new Te(Z,ne)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),o=this.getMaxZoom(),f=ze.any3d?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(n,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var o=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var o=Hi,f=this._proxy.style[o];Kn(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),f===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Kn(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(n),d=this._getCenterOffset(e)._divideBy(1-1/f);return o.animate!==!0&&!this.getSize().contains(d)?!1:(ke(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,o,f){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wi(e,n){return new Fe(e,n)}var Dt=Me.extend({options:{position:"topright"},initialize:function(e){re(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),o=this.getPosition(),f=e._controlCorners[o];return et(n,"leaflet-control"),o.indexOf("bottom")!==-1?f.insertBefore(n,f.firstChild):f.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Xn=function(e){return new Dt(e)};Fe.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=ft("div",n+"control-container",this._container);function f(d,x){var Z=n+d+" "+n+x;e[d+x]=ft("div",Z,o)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)vt(this._controlCorners[e]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var li=Dt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,o,f){return o<f?-1:f<o?1:0}},initialize:function(e,n,o){re(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in n)this._addLayer(n[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Dt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(k(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=ft("div",e),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),he(n),ee(n);var f=this._section=ft("section",e+"-list");o&&(this._map.on("click",this.collapse,this),a(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=ft("a",e+"-toggle",n);d.href="#",d.title="Layers",d.setAttribute("role","button"),a(d,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){ae(x),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=ft("div",e+"-base",f),this._separator=ft("div",e+"-separator",f),this._overlaysList=ft("div",e+"-overlays",f),n.appendChild(f)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&k(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(y(function(f,d){return this.options.sortFunction(f.layer,d.layer,f.name,d.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oi(this._baseLayersList),oi(this._overlaysList),this._layerControlInputs=[];var e,n,o,f,d=0;for(o=0;o<this._layers.length;o++)f=this._layers[o],this._addItem(f),n=n||f.overlay,e=e||!f.overlay,d+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&d>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(k(e.target)),o=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(e,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=o,f.firstChild},_addItem:function(e){var n=document.createElement("label"),o=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=o):f=this._createRadioElement("leaflet-base-layers_"+k(this),o),this._layerControlInputs.push(f),f.layerId=k(e.layer),a(f,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+e.name;var x=document.createElement("span");n.appendChild(x),x.appendChild(f),x.appendChild(d);var Z=e.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,o,f=[],d=[];this._handlingClick=!0;for(var x=e.length-1;x>=0;x--)n=e[x],o=this._getLayer(n.layerId).layer,n.checked?f.push(o):n.checked||d.push(o);for(x=0;x<d.length;x++)this._map.hasLayer(d[x])&&this._map.removeLayer(d[x]);for(x=0;x<f.length;x++)this._map.hasLayer(f[x])||this._map.addLayer(f[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,o,f=this._map.getZoom(),d=e.length-1;d>=0;d--)n=e[d],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&f<o.options.minZoom||o.options.maxZoom!==void 0&&f>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,a(e,"click",ae),this.expand();var n=this;setTimeout(function(){p(e,"click",ae),n._preventClick=!1})}}),$n=function(e,n,o){return new li(e,n,o)},Pi=Dt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",o=ft("div",n+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,o,f,d){var x=ft("a",o,f);return x.innerHTML=e,x.href="#",x.title=n,x.setAttribute("role","button"),x.setAttribute("aria-label",n),he(x),a(x,"click",ye),a(x,"click",d,this),a(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";Pt(this._zoomInButton,n),Pt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(et(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(et(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pi,this.addControl(this.zoomControl))});var er=function(e){return new Pi(e)},r=Dt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",o=ft("div",n),f=this.options;return this._addScales(f,n+"-line",o),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,o){e.metric&&(this._mScale=ft("div",n,o)),e.imperial&&(this._iScale=ft("div",n,o))},_update:function(){var e=this._map,n=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/e)},_updateImperial:function(e){var n=e*3.2808399,o,f,d;n>5280?(o=n/5280,f=this._getRoundNum(o),this._updateScale(this._iScale,f+" mi",f/o)):(d=this._getRoundNum(n),this._updateScale(this._iScale,d+" ft",d/n))},_updateScale:function(e,n,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),o=e/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),s=function(e){return new r(e)},c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',h=Dt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?c+" ":"")+"Leaflet</a>"},initialize:function(e){re(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),he(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new h().addTo(this)});var m=function(e){return new h(e)};Dt.Layers=li,Dt.Zoom=Pi,Dt.Scale=r,Dt.Attribution=h,Xn.layers=$n,Xn.zoom=er,Xn.scale=s,Xn.attribution=m;var g=Me.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});g.addTo=function(e,n){return e.addHandler(n,this),this};var w={Events:We},z=ze.touch?"touchstart mousedown":"mousedown",N=Ne.extend({options:{clickTolerance:3},initialize:function(e,n,o,f){re(this,f),this._element=e,this._dragStartTarget=n||e,this._preventOutline=o},enable:function(){this._enabled||(a(this._dragStartTarget,z,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(N._dragging===this&&this.finishDrag(!0),p(this._dragStartTarget,z,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ai(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){N._dragging===this&&this.finishDrag();return}if(!(N._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(N._dragging=this,this._preventOutline&&Ei(this._element),_n(),on(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,o=qi(this._element);this._startPoint=new Te(n.clientX,n.clientY),this._startPos=Mt(this._element),this._parentScale=t(o);var f=e.type==="mousedown";a(document,f?"mousemove":"touchmove",this._onMove,this),a(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,o=new Te(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,ae(e),this._moved||(this.fire("dragstart"),this._moved=!0,et(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),gt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),p(document,"mousemove touchmove",this._onMove,this),p(document,"mouseup touchend touchcancel",this._onUp,this),Mi(),Jn();var n=this._moved&&this._moving;this._moving=!1,N._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function V(e,n,o){var f,d=[1,4,2,8],x,Z,ne,fe,ve,je,Qe,lt;for(x=0,je=e.length;x<je;x++)e[x]._code=hn(e[x],n);for(ne=0;ne<4;ne++){for(Qe=d[ne],f=[],x=0,je=e.length,Z=je-1;x<je;Z=x++)fe=e[x],ve=e[Z],fe._code&Qe?ve._code&Qe||(lt=rt(ve,fe,Qe,n,o),lt._code=hn(lt,n),f.push(lt)):(ve._code&Qe&&(lt=rt(ve,fe,Qe,n,o),lt._code=hn(lt,n),f.push(lt)),f.push(fe));e=f}return e}function ue(e,n){var o,f,d,x,Z,ne,fe,ve,je;if(!e||e.length===0)throw new Error("latlngs not passed");Kt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Qe=Xe([0,0]),lt=Ye(e),pn=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());pn<1700&&(Qe=de(e));var Xt=e.length,Gn=[];for(o=0;o<Xt;o++){var wn=Xe(e[o]);Gn.push(n.project(Xe([wn.lat-Qe.lat,wn.lng-Qe.lng])))}for(ne=fe=ve=0,o=0,f=Xt-1;o<Xt;f=o++)d=Gn[o],x=Gn[f],Z=d.y*x.x-x.y*d.x,fe+=(d.x+x.x)*Z,ve+=(d.y+x.y)*Z,ne+=Z*3;ne===0?je=Gn[0]:je=[fe/ne,ve/ne];var lr=n.unproject(Le(je));return Xe([lr.lat+Qe.lat,lr.lng+Qe.lng])}function de(e){for(var n=0,o=0,f=0,d=0;d<e.length;d++){var x=Xe(e[d]);n+=x.lat,o+=x.lng,f++}return Xe([n/f,o/f])}var oe={__proto__:null,clipPolygon:V,polygonCenter:ue,centroid:de};function we(e,n){if(!n||!e.length)return e.slice();var o=n*n;return e=Zt(e,o),e=nt(e,o),e}function Ve(e,n,o){return Math.sqrt(wt(e,n,o,!0))}function ut(e,n,o){return wt(e,n,o)}function nt(e,n){var o=e.length,f=typeof Uint8Array<"u"?Uint8Array:Array,d=new f(o);d[0]=d[o-1]=1,Rt(e,d,n,0,o-1);var x,Z=[];for(x=0;x<o;x++)d[x]&&Z.push(e[x]);return Z}function Rt(e,n,o,f,d){var x=0,Z,ne,fe;for(ne=f+1;ne<=d-1;ne++)fe=wt(e[ne],e[f],e[d],!0),fe>x&&(Z=ne,x=fe);x>o&&(n[Z]=1,Rt(e,n,o,f,Z),Rt(e,n,o,Z,d))}function Zt(e,n){for(var o=[e[0]],f=1,d=0,x=e.length;f<x;f++)pt(e[f],e[d])>n&&(o.push(e[f]),d=f);return d<x-1&&o.push(e[x-1]),o}var In;function Tn(e,n,o,f,d){var x=f?In:hn(e,o),Z=hn(n,o),ne,fe,ve;for(In=Z;;){if(!(x|Z))return[e,n];if(x&Z)return!1;ne=x||Z,fe=rt(e,n,ne,o,d),ve=hn(fe,o),ne===x?(e=fe,x=ve):(n=fe,Z=ve)}}function rt(e,n,o,f,d){var x=n.x-e.x,Z=n.y-e.y,ne=f.min,fe=f.max,ve,je;return o&8?(ve=e.x+x*(fe.y-e.y)/Z,je=fe.y):o&4?(ve=e.x+x*(ne.y-e.y)/Z,je=ne.y):o&2?(ve=fe.x,je=e.y+Z*(fe.x-e.x)/x):o&1&&(ve=ne.x,je=e.y+Z*(ne.x-e.x)/x),new Te(ve,je,d)}function hn(e,n){var o=0;return e.x<n.min.x?o|=1:e.x>n.max.x&&(o|=2),e.y<n.min.y?o|=4:e.y>n.max.y&&(o|=8),o}function pt(e,n){var o=n.x-e.x,f=n.y-e.y;return o*o+f*f}function wt(e,n,o,f){var d=n.x,x=n.y,Z=o.x-d,ne=o.y-x,fe=Z*Z+ne*ne,ve;return fe>0&&(ve=((e.x-d)*Z+(e.y-x)*ne)/fe,ve>1?(d=o.x,x=o.y):ve>0&&(d+=Z*ve,x+=ne*ve)),Z=e.x-d,ne=e.y-x,f?Z*Z+ne*ne:new Te(d,x)}function Kt(e){return!W(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function tr(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kt(e)}function Dn(e,n){var o,f,d,x,Z,ne,fe,ve;if(!e||e.length===0)throw new Error("latlngs not passed");Kt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var je=Xe([0,0]),Qe=Ye(e),lt=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());lt<1700&&(je=de(e));var pn=e.length,Xt=[];for(o=0;o<pn;o++){var Gn=Xe(e[o]);Xt.push(n.project(Xe([Gn.lat-je.lat,Gn.lng-je.lng])))}for(o=0,f=0;o<pn-1;o++)f+=Xt[o].distanceTo(Xt[o+1])/2;if(f===0)ve=Xt[0];else for(o=0,x=0;o<pn-1;o++)if(Z=Xt[o],ne=Xt[o+1],d=Z.distanceTo(ne),x+=d,x>f){fe=(x-f)/d,ve=[ne.x-fe*(ne.x-Z.x),ne.y-fe*(ne.y-Z.y)];break}var wn=n.unproject(Le(ve));return Xe([wn.lat+je.lat,wn.lng+je.lng])}var Vi={__proto__:null,simplify:we,pointToSegmentDistance:Ve,closestPointOnSegment:ut,clipSegment:Tn,_getEdgeIntersection:rt,_getBitCode:hn,_sqClosestPointOnSegment:wt,isFlat:Kt,_flat:tr,polylineCenter:Dn},yn={project:function(e){return new Te(e.lng,e.lat)},unproject:function(e){return new ct(e.y,e.x)},bounds:new Ge([-180,-90],[180,90])},On={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ge([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,o=this.R,f=e.lat*n,d=this.R_MINOR/o,x=Math.sqrt(1-d*d),Z=x*Math.sin(f),ne=Math.tan(Math.PI/4-f/2)/Math.pow((1-Z)/(1+Z),x/2);return f=-o*Math.log(Math.max(ne,1e-10)),new Te(e.lng*n*o,f)},unproject:function(e){for(var n=180/Math.PI,o=this.R,f=this.R_MINOR/o,d=Math.sqrt(1-f*f),x=Math.exp(-e.y/o),Z=Math.PI/2-2*Math.atan(x),ne=0,fe=.1,ve;ne<15&&Math.abs(fe)>1e-7;ne++)ve=d*Math.sin(Z),ve=Math.pow((1-ve)/(1+ve),d/2),fe=Math.PI/2-2*Math.atan(x*ve)-Z,Z+=fe;return new ct(Z*n,e.x*n/o)}},ci={__proto__:null,LonLat:yn,Mercator:On,SphericalMercator:fn},vn=$({},Ot,{code:"EPSG:3395",projection:On,transformation:function(){var e=.5/(Math.PI*On.R);return Un(e,.5,-e,.5)}()}),nr=$({},Ot,{code:"EPSG:4326",projection:yn,transformation:Un(1/180,1,-1/180,.5)}),ei=$({},nn,{projection:yn,transformation:Un(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var o=n.lng-e.lng,f=n.lat-e.lat;return Math.sqrt(o*o+f*f)},infinite:!0});nn.Earth=Ot,nn.EPSG3395=vn,nn.EPSG3857=ln,nn.EPSG900913=Pn,nn.EPSG4326=nr,nn.Simple=ei;var Gt=Ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[k(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[k(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=k(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=k(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return k(e)in this._layers},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},_addLayers:function(e){e=e?W(e)?e:[e]:[];for(var n=0,o=e.length;n<o;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[k(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=k(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,o=this._getZoomSpan();for(var f in this._zoomBoundLayers){var d=this._zoomBoundLayers[f].options;e=d.minZoom===void 0?e:Math.min(e,d.minZoom),n=d.maxZoom===void 0?n:Math.max(n,d.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Si=Gt.extend({initialize:function(e,n){re(this,n),this._layers={};var o,f;if(e)for(o=0,f=e.length;o<f;o++)this.addLayer(e[o])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),o,f;for(o in this._layers)f=this._layers[o],f[e]&&f[e].apply(f,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return k(e)}}),Cr=function(e,n){return new Si(e,n)},ti=Si.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Si.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Si.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new kt;for(var n in this._layers){var o=this._layers[n];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),yt=function(e,n){return new ti(e,n)},ni=Me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){re(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(f,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(e,n){var o=this.options,f=o[n+"Size"];typeof f=="number"&&(f=[f,f]);var d=Le(f),x=Le(n==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(o.className||""),x&&(e.style.marginLeft=-x.x+"px",e.style.marginTop=-x.y+"px"),d&&(e.style.width=d.x+"px",e.style.height=d.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return ze.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function En(e){return new ni(e)}var Bn=ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Bn.imagePath!="string"&&(Bn.imagePath=this._detectIconPath()),(this.options.imagePath||Bn.imagePath)+ni.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(o,f,d){var x=f.exec(o);return x&&x[d]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),n=qn(e,"background-image")||qn(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),br=g.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new N(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),et(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,o=n._map,f=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,x=Mt(n._icon),Z=o.getPixelBounds(),ne=o.getPixelOrigin(),fe=ht(Z.min._subtract(ne).add(d),Z.max._subtract(ne).subtract(d));if(!fe.contains(x)){var ve=Le((Math.max(fe.max.x,x.x)-fe.max.x)/(Z.max.x-fe.max.x)-(Math.min(fe.min.x,x.x)-fe.min.x)/(Z.min.x-fe.min.x),(Math.max(fe.max.y,x.y)-fe.max.y)/(Z.max.y-fe.max.y)-(Math.min(fe.min.y,x.y)-fe.min.y)/(Z.min.y-fe.min.y)).multiplyBy(f);o.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),gt(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ke(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,o=n._shadow,f=Mt(n._icon),d=n._map.layerPointToLatLng(f);o&&gt(o,f),n._latlng=d,e.latlng=d,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ir=Gt.extend({options:{icon:new Bn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){re(this,n),this._latlng=Xe(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=Xe(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),f=!1;o!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),et(o,n),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&a(o,"focus",this._panOnFocus,this);var d=e.icon.createShadow(this._shadow),x=!1;d!==this._shadow&&(this._removeShadow(),x=!0),d&&(et(d,n),d.alt=""),this._shadow=d,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&x&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&p(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&gt(this._icon,e),this._shadow&&gt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),br)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new br(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Ft(this._icon,e),this._shadow&&Ft(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,o=n.iconSize?Le(n.iconSize):Le(0,0),f=n.iconAnchor?Le(n.iconAnchor):Le(0,0);e.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:o.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _r(e,n){return new ir(e,n)}var an=Gt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return re(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ni=an.extend({options:{fill:!0,radius:10},initialize:function(e,n){re(this,n),this._latlng=Xe(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=Xe(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return an.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,o=this._clickTolerance(),f=[e+o,n+o];this._pxBounds=new Ge(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ui(e,n){return new Ni(e,n)}var rr=Ni.extend({initialize:function(e,n,o){if(typeof n=="number"&&(n=$({},o,{radius:n})),re(this,n),this._latlng=Xe(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new kt(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:an.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,o=this._map,f=o.options.crs;if(f.distance===Ot.distance){var d=Math.PI/180,x=this._mRadius/Ot.R/d,Z=o.project([n+x,e]),ne=o.project([n-x,e]),fe=Z.add(ne).divideBy(2),ve=o.unproject(fe).lat,je=Math.acos((Math.cos(x*d)-Math.sin(n*d)*Math.sin(ve*d))/(Math.cos(n*d)*Math.cos(ve*d)))/d;(isNaN(je)||je===0)&&(je=x/Math.cos(Math.PI/180*n)),this._point=fe.subtract(o.getPixelOrigin()),this._radius=isNaN(je)?0:fe.x-o.project([ve,e-je]).x,this._radiusY=fe.y-Z.y}else{var Qe=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(Qe).x}this._updateBounds()}});function Qi(e,n,o){return new rr(e,n,o)}var Mn=an.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){re(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,o=null,f=wt,d,x,Z=0,ne=this._parts.length;Z<ne;Z++)for(var fe=this._parts[Z],ve=1,je=fe.length;ve<je;ve++){d=fe[ve-1],x=fe[ve];var Qe=f(e,d,x,!0);Qe<n&&(n=Qe,o=f(e,d,x))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=Xe(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new kt,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],o=Kt(e),f=0,d=e.length;f<d;f++)o?(n[f]=Xe(e[f]),this._bounds.extend(n[f])):n[f]=this._convertLatLngs(e[f]);return n},_project:function(){var e=new Ge;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new Te(e,e);this._rawPxBounds&&(this._pxBounds=new Ge([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,o){var f=e[0]instanceof ct,d=e.length,x,Z;if(f){for(Z=[],x=0;x<d;x++)Z[x]=this._map.latLngToLayerPoint(e[x]),o.extend(Z[x]);n.push(Z)}else for(x=0;x<d;x++)this._projectLatlngs(e[x],n,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,f,d,x,Z,ne,fe;for(o=0,d=0,x=this._rings.length;o<x;o++)for(fe=this._rings[o],f=0,Z=fe.length;f<Z-1;f++)ne=Tn(fe[f],fe[f+1],e,f,!0),ne&&(n[d]=n[d]||[],n[d].push(ne[0]),(ne[1]!==fe[f+1]||f===Z-2)&&(n[d].push(ne[1]),d++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,o=0,f=e.length;o<f;o++)e[o]=we(e[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var o,f,d,x,Z,ne,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,x=this._parts.length;o<x;o++)for(ne=this._parts[o],f=0,Z=ne.length,d=Z-1;f<Z;d=f++)if(!(!n&&f===0)&&Ve(e,ne[d],ne[f])<=fe)return!0;return!1}});function or(e,n){return new Mn(e,n)}Mn._flat=tr;var hi=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ue(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=Mn.prototype._convertLatLngs.call(this,e),o=n.length;return o>=2&&n[0]instanceof ct&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(e){Mn.prototype._setLatLngs.call(this,e),Kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,o=new Te(n,n);if(e=new Ge(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,d=this._rings.length,x;f<d;f++)x=V(this._rings[f],e,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,o,f,d,x,Z,ne,fe,ve;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(x=0,fe=this._parts.length;x<fe;x++)for(o=this._parts[x],Z=0,ve=o.length,ne=ve-1;Z<ve;ne=Z++)f=o[Z],d=o[ne],f.y>e.y!=d.y>e.y&&e.x<(d.x-f.x)*(e.y-f.y)/(d.y-f.y)+f.x&&(n=!n);return n||Mn.prototype._containsPoint.call(this,e,!0)}});function Ir(e,n){return new hi(e,n)}var Ln=ti.extend({initialize:function(e,n){re(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=W(e)?e:e.features,o,f,d;if(n){for(o=0,f=n.length;o<f;o++)d=n[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var x=this.options;if(x.filter&&!x.filter(e))return this;var Z=Ai(e,x);return Z?(Z.feature=ie(e),Z.defaultOptions=Z.options,this.resetStyle(Z),x.onEachFeature&&x.onEachFeature(e,Z),this.addLayer(Z)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=$({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function Ai(e,n){var o=e.type==="Feature"?e.geometry:e,f=o?o.coordinates:null,d=[],x=n&&n.pointToLayer,Z=n&&n.coordsToLatLng||ur,ne,fe,ve,je;if(!f&&!o)return null;switch(o.type){case"Point":return ne=Z(f),ar(x,e,ne,n);case"MultiPoint":for(ve=0,je=f.length;ve<je;ve++)ne=Z(f[ve]),d.push(ar(x,e,ne,n));return new ti(d);case"LineString":case"MultiLineString":return fe=ji(f,o.type==="LineString"?0:1,Z),new Mn(fe,n);case"Polygon":case"MultiPolygon":return fe=ji(f,o.type==="Polygon"?1:2,Z),new hi(fe,n);case"GeometryCollection":for(ve=0,je=o.geometries.length;ve<je;ve++){var Qe=Ai({geometry:o.geometries[ve],type:"Feature",properties:e.properties},n);Qe&&d.push(Qe)}return new ti(d);case"FeatureCollection":for(ve=0,je=o.features.length;ve<je;ve++){var lt=Ai(o.features[ve],n);lt&&d.push(lt)}return new ti(d);default:throw new Error("Invalid GeoJSON object.")}}function ar(e,n,o,f){return e?e(n,o):new ir(o,f&&f.markersInheritOptions&&f)}function ur(e){return new ct(e[1],e[0],e[2])}function ji(e,n,o){for(var f=[],d=0,x=e.length,Z;d<x;d++)Z=n?ji(e[d],n-1,o):(o||ur)(e[d]),f.push(Z);return f}function sr(e,n){return e=Xe(e),e.alt!==void 0?[q(e.lng,n),q(e.lat,n),q(e.alt,n)]:[q(e.lng,n),q(e.lat,n)]}function I(e,n,o,f){for(var d=[],x=0,Z=e.length;x<Z;x++)d.push(n?I(e[x],Kt(e[x])?0:n-1,o,f):sr(e[x],f));return!n&&o&&d.length>0&&d.push(d[0].slice()),d}function H(e,n){return e.feature?$({},e.feature,{geometry:n}):ie(n)}function ie(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var se={toGeoJSON:function(e){return H(this,{type:"Point",coordinates:sr(this.getLatLng(),e)})}};ir.include(se),rr.include(se),Ni.include(se),Mn.include({toGeoJSON:function(e){var n=!Kt(this._latlngs),o=I(this._latlngs,n?1:0,!1,e);return H(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),hi.include({toGeoJSON:function(e){var n=!Kt(this._latlngs),o=n&&!Kt(this._latlngs[0]),f=I(this._latlngs,o?2:n?1:0,!0,e);return n||(f=[f]),H(this,{type:(o?"Multi":"")+"Polygon",coordinates:f})}}),Si.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(e).geometry.coordinates)}),H(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var o=n==="GeometryCollection",f=[];return this.eachLayer(function(d){if(d.toGeoJSON){var x=d.toGeoJSON(e);if(o)f.push(x.geometry);else{var Z=ie(x);Z.type==="FeatureCollection"?f.push.apply(f,Z.features):f.push(Z)}}}),o?H(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function pe(e,n){return new Ln(e,n)}var De=pe,Pe=Gt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,o){this._url=e,this._bounds=Ye(n),re(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&jt(this._image),this},bringToBack:function(){return this._map&&cn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=Ye(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:ft("img");if(et(n,"leaflet-image-layer"),this._zoomAnimated&&et(n,"leaflet-zoom-animated"),this.options.className&&et(n,this.options.className),n.onselectstart=E,n.onmousemove=E,n.onload=y(this.fire,this,"load"),n.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Kn(this._image,o,n)},_reset:function(){var e=this._image,n=new Ge(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();gt(e,n.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){Ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Oe=function(e,n,o){return new Pe(e,n,o)},Se=Pe.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:ft("video");if(et(n,"leaflet-image-layer"),this._zoomAnimated&&et(n,"leaflet-zoom-animated"),this.options.className&&et(n,this.options.className),n.onselectstart=E,n.onmousemove=E,n.onloadeddata=y(this.fire,this,"load"),e){for(var o=n.getElementsByTagName("source"),f=[],d=0;d<o.length;d++)f.push(o[d].src);this._url=o.length>0?f:[n.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var Z=ft("source");Z.src=this._url[x],n.appendChild(Z)}}});function at(e,n,o){return new Se(e,n,o)}var He=Pe.extend({_initImage:function(){var e=this._image=this._url;et(e,"leaflet-image-layer"),this._zoomAnimated&&et(e,"leaflet-zoom-animated"),this.options.className&&et(e,this.options.className),e.onselectstart=E,e.onmousemove=E}});function Je(e,n,o){return new He(e,n,o)}var Ke=Gt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof ct||W(e))?(this._latlng=Xe(e),re(this,n)):(re(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Ft(this._container,1),this.bringToFront(),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Ft(this._container,0),this._removeTimeout=setTimeout(y(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Xe(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&jt(this._container),this},bringToBack:function(){return this._map&&cn(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof ti){n=null;var o=this._source._layers;for(var f in o)if(o[f]._map){n=o[f];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=Le(this.options.offset),o=this._getAnchor();this._zoomAnimated?gt(this._container,e.add(o)):n=n.add(e).add(o);var f=this._containerBottom=-n.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=f+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(e,n,o,f){var d=n;return d instanceof e||(d=new e(f).setContent(n)),o&&d.setLatLng(o),d}}),Gt.include({_initOverlay:function(e,n,o,f){var d=o;return d instanceof e?(re(d,f),d._source=this):(d=n&&!f?n:new e(f,this),d.setContent(o)),d}});var Re=Ke.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ke.prototype.openOn.call(this,e)},onAdd:function(e){Ke.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof an||this._source.on("preclick",R))},onRemove:function(e){Ke.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof an||this._source.off("preclick",R))},getEvents:function(){var e=Ke.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ft("div",e+"-content-wrapper",n);if(this._contentNode=ft("div",e+"-content",o),he(n),ee(this._contentNode),a(n,"contextmenu",R),this._tipContainer=ft("div",e+"-tip-container",n),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ft("a",e+"-close-button",n);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',a(f,"click",function(d){ae(d),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var f=e.offsetHeight,d=this.options.maxHeight,x="leaflet-popup-scrolled";d&&f>d?(n.height=d+"px",et(e,x)):Pt(e,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();gt(this._container,n.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(qn(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+n,f=this._containerWidth,d=new Te(this._containerLeft,-o-this._containerBottom);d._add(Mt(this._container));var x=e.layerPointToContainerPoint(d),Z=Le(this.options.autoPanPadding),ne=Le(this.options.autoPanPaddingTopLeft||Z),fe=Le(this.options.autoPanPaddingBottomRight||Z),ve=e.getSize(),je=0,Qe=0;x.x+f+fe.x>ve.x&&(je=x.x+f-ve.x+fe.x),x.x-je-ne.x<0&&(je=x.x-ne.x),x.y+o+fe.y>ve.y&&(Qe=x.y+o-ve.y+fe.y),x.y-Qe-ne.y<0&&(Qe=x.y-ne.y),(je||Qe)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([je,Qe]))}},_getAnchor:function(){return Le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xt=function(e,n){return new Re(e,n)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(e,n,o){return this._initOverlay(Re,e,n,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Gt.include({bindPopup:function(e,n){return this._popup=this._initOverlay(Re,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ye(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof an)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Wt=Ke.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ke.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ke.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ke.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,o,f=this._map,d=this._container,x=f.latLngToContainerPoint(f.getCenter()),Z=f.layerPointToContainerPoint(e),ne=this.options.direction,fe=d.offsetWidth,ve=d.offsetHeight,je=Le(this.options.offset),Qe=this._getAnchor();ne==="top"?(n=fe/2,o=ve):ne==="bottom"?(n=fe/2,o=0):ne==="center"?(n=fe/2,o=ve/2):ne==="right"?(n=0,o=ve/2):ne==="left"?(n=fe,o=ve/2):Z.x<x.x?(ne="right",n=0,o=ve/2):(ne="left",n=fe+(je.x+Qe.x)*2,o=ve/2),e=e.subtract(Le(n,o,!0)).add(je).add(Qe),Pt(d,"leaflet-tooltip-right"),Pt(d,"leaflet-tooltip-left"),Pt(d,"leaflet-tooltip-top"),Pt(d,"leaflet-tooltip-bottom"),et(d,"leaflet-tooltip-"+ne),gt(d,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Ft(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return Le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Jt=function(e,n){return new Wt(e,n)};Fe.include({openTooltip:function(e,n,o){return this._initOverlay(Wt,e,n,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gt.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wt,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&(a(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),a(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,o,f;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(n)}});var dn=ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(oi(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var f=Le(o.bgPos);n.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Rn(e){return new dn(e)}ni.Default=Bn;var Zn=Gt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){re(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),vt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(jt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(cn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=D(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof Te?e:new Te(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,o=-e(-1/0,1/0),f=0,d=n.length,x;f<d;f++)x=n[f].style.zIndex,n[f]!==this._container&&x&&(o=e(o,+x));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Ft(this._container,this.options.opacity);var e=+new Date,n=!1,o=!1;for(var f in this._tiles){var d=this._tiles[f];if(!(!d.current||!d.loaded)){var x=Math.min(1,(e-d.loaded)/200);Ft(d.el,x),x<1?n=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(Ce(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=n-Math.abs(e-o),this._onUpdateLevel(o)):(vt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var f=this._levels[e],d=this._map;return f||(f=this._levels[e]={},f.el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=n,f.origin=d.project(d.unproject(d.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,d.getCenter(),d.getZoom()),E(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var e,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var f=n.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)vt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,o,f){var d=Math.floor(e/2),x=Math.floor(n/2),Z=o-1,ne=new Te(+d,+x);ne.z=+Z;var fe=this._tileCoordsToKey(ne),ve=this._tiles[fe];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),Z>f?this._retainParent(d,x,Z,f):!1)},_retainChildren:function(e,n,o,f){for(var d=2*e;d<2*e+2;d++)for(var x=2*n;x<2*n+2;x++){var Z=new Te(d,x);Z.z=o+1;var ne=this._tileCoordsToKey(Z),fe=this._tiles[ne];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);o+1<f&&this._retainChildren(d,x,o+1,f)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,o,f){var d=Math.round(n);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var x=this.options.updateWhenZooming&&d!==this._tileZoom;(!f||x)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,n)},_setZoomTransform:function(e,n,o){var f=this._map.getZoomScale(o,e.zoom),d=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(n,o)).round();ze.any3d?Kn(e.el,d,f):gt(e.el,d)},_resetGrid:function(){var e=this._map,n=e.options.crs,o=this._tileSize=this.getTileSize(),f=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],f).x/o.x),Math.ceil(e.project([0,n.wrapLng[1]],f).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],f).y/o.x),Math.ceil(e.project([n.wrapLat[1],0],f).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),f=n.getZoomScale(o,this._tileZoom),d=n.project(e,this._tileZoom).floor(),x=n.getSize().divideBy(f*2);return new Ge(d.subtract(x),d.add(x))},_update:function(e){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),d=this._pxBoundsToTileRange(f),x=d.getCenter(),Z=[],ne=this.options.keepBuffer,fe=new Ge(d.getBottomLeft().subtract([ne,-ne]),d.getTopRight().add([ne,-ne]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var je=this._tiles[ve].coords;(je.z!==this._tileZoom||!fe.contains(new Te(je.x,je.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var Qe=d.min.y;Qe<=d.max.y;Qe++)for(var lt=d.min.x;lt<=d.max.x;lt++){var pn=new Te(lt,Qe);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var Xt=this._tiles[this._tileCoordsToKey(pn)];Xt?Xt.current=!0:Z.push(pn)}}if(Z.sort(function(wn,lr){return wn.distanceTo(x)-lr.distanceTo(x)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(lt=0;lt<Z.length;lt++)this._addTile(Z[lt],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!n.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return Ye(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,o=this.getTileSize(),f=e.scaleBy(o),d=f.add(o),x=n.unproject(f,e.z),Z=n.unproject(d,e.z);return[x,Z]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),o=new kt(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),o=new Te(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(e){var n=this._tiles[e];n&&(vt(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){et(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=E,e.onmousemove=E,ze.ielt9&&this.options.opacity<1&&Ft(e,this.options.opacity)},_addTile:function(e,n){var o=this._getTilePos(e),f=this._tileCoordsToKey(e),d=this.createTile(this._wrapCoords(e),y(this._tileReady,this,e));this._initTile(d),this.createTile.length<2&&ke(y(this._tileReady,this,e,null,d)),gt(d,o),this._tiles[f]={el:d,coords:e,current:!0},n.appendChild(d),this.fire("tileloadstart",{tile:d,coords:e})},_tileReady:function(e,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:e});var f=this._tileCoordsToKey(e);o=this._tiles[f],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Ft(o.el,0),Ce(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(et(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new Te(this._wrapX?G(e.x,this._wrapX):e.x,this._wrapY?G(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new Ge(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function tn(e){return new Zn(e)}var fr=Zn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=re(this,n),n.detectRetina&&ze.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var o=document.createElement("img");return a(o,"load",y(this._tileOnLoad,this,n,o)),a(o,"error",y(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var n={r:ze.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=o),n["-y"]=o}return K(this._url,$(n,this.options))},_tileOnLoad:function(e,n){ze.ielt9?setTimeout(y(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,o){var f=this.options.errorTileUrl;f&&n.getAttribute("src")!==f&&(n.src=f),e(o,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,f=this.options.zoomOffset;return o&&(e=n-e),e+f},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=E,n.onerror=E,!n.complete)){n.src=te;var o=this._tiles[e].coords;vt(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",te),Zn.prototype._removeTile.call(this,e)},_tileReady:function(e,n,o){if(!(!this._map||o&&o.getAttribute("src")===te))return Zn.prototype._tileReady.call(this,e,n,o)}});function Rr(e,n){return new fr(e,n)}var Zr=fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var o=$({},this.defaultWmsParams);for(var f in n)f in this.options||(o[f]=n[f]);n=re(this,n);var d=n.detectRetina&&ze.retina?2:1,x=this.getTileSize();o.width=x.x*d,o.height=x.y*d,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,fr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),o=this._crs,f=ht(o.project(n[0]),o.project(n[1])),d=f.min,x=f.max,Z=(this._wmsVersion>=1.3&&this._crs===nr?[d.y,d.x,x.y,x.x]:[d.x,d.y,x.x,x.y]).join(","),ne=fr.prototype.getTileUrl.call(this,e);return ne+Q(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(e,n){return $(this.wmsParams,e),n||this.redraw(),this}});function vo(e,n){return new Zr(e,n)}fr.WMS=Zr,Rr.wms=vo;var Li=Gt.extend({options:{padding:.1},initialize:function(e){re(this,e),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var o=this._map.getZoomScale(n,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,n),x=f.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(e,n));ze.any3d?Kn(this._container,x,o):gt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new Ge(o,o.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gr=Li.extend({options:{tolerance:0},getEvents:function(){var e=Li.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");a(e,"mousemove",this._onMouseMove,this),a(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),a(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,vt(this._container),p(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Li.prototype._update.call(this);var e=this._bounds,n=this._container,o=e.getSize(),f=ze.retina?2:1;gt(n,e.min),n.width=f*o.x,n.height=f*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[k(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,o=n.next,f=n.prev;o?o.prev=f:this._drawLast=f,f?f.next=o:this._drawFirst=o,delete e._order,delete this._layers[k(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),o=[],f,d;for(d=0;d<n.length;d++){if(f=Number(n[d]),isNaN(f))return;o.push(f)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ge,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var o,f,d,x,Z=e._parts,ne=Z.length,fe=this._ctx;if(ne){for(fe.beginPath(),o=0;o<ne;o++){for(f=0,d=Z[o].length;f<d;f++)x=Z[o][f],fe[f?"lineTo":"moveTo"](x.x,x.y);n&&fe.closePath()}this._fillStroke(fe,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,o=this._ctx,f=Math.max(Math.round(e._radius),1),d=(Math.max(Math.round(e._radiusY),1)||f)/f;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(n.x,n.y/d,f,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,n){var o=n.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),o,f,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(f=o);this._fireEvent(f?[f]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var o,f,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(n)&&(f=o);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(et(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,o){this._map._fireDOMEvent(n,o||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var o=n.next,f=n.prev;if(o)o.prev=f;else return;f?f.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var o=n.next,f=n.prev;if(f)f.next=o;else return;o?o.prev=f:f&&(this._drawLast=f),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function Ur(e){return ze.canvas?new Gr(e):null}var hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mo={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Li.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=hr("shape");et(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=hr("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[k(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;vt(n),e.removeInteractiveTarget(n),delete this._layers[k(e)]},_updateStyle:function(e){var n=e._stroke,o=e._fill,f=e.options,d=e._container;d.stroked=!!f.stroke,d.filled=!!f.fill,f.stroke?(n||(n=e._stroke=hr("stroke")),d.appendChild(n),n.weight=f.weight+"px",n.color=f.color,n.opacity=f.opacity,f.dashArray?n.dashStyle=W(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=f.lineCap.replace("butt","flat"),n.joinstyle=f.lineJoin):n&&(d.removeChild(n),e._stroke=null),f.fill?(o||(o=e._fill=hr("fill")),d.appendChild(o),o.color=f.fillColor||f.color,o.opacity=f.fillOpacity):o&&(d.removeChild(o),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),o=Math.round(e._radius),f=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+f+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){jt(e._container)},_bringToBack:function(e){cn(e._container)}},yr=ze.vml?hr:mi,dr=Li.extend({_initContainer:function(){this._container=yr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),p(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Li.prototype._update.call(this);var e=this._bounds,n=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),gt(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=yr("path");e.options.className&&et(n,e.options.className),e.options.interactive&&et(n,"leaflet-interactive"),this._updateStyle(e),this._layers[k(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){vt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[k(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,o=e.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,Ut(e._parts,n))},_updateCircle:function(e){var n=e._point,o=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||o,d="a"+o+","+f+" 0 1,0 ",x=e._empty()?"M0 0":"M"+(n.x-o)+","+n.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(e,x)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){jt(e._path)},_bringToBack:function(e){cn(e._path)}});ze.vml&&dr.include(Mo);function Fr(e){return ze.svg||ze.vml?new dr(e):null}Fe.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&Ur(e)||Fr(e)}});var Hr=hi.extend({initialize:function(e,n){hi.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=Ye(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Lo(e,n){return new Hr(e,n)}dr.create=yr,dr.pointsToPath=Ut,Ln.geometryToLayer=Ai,Ln.coordsToLatLng=ur,Ln.coordsToLatLngs=ji,Ln.latLngToCoords=sr,Ln.latLngsToCoords=I,Ln.getFeature=H,Ln.asFeature=ie,Fe.mergeOptions({boxZoom:!0});var Yr=g.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){a(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){p(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),on(),_n(),this._startPoint=this._map.mouseEventToContainerPoint(e),a(document,{contextmenu:ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new Ge(this._point,this._startPoint),o=n.getSize();gt(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(vt(this._box),Pt(this._container,"leaflet-crosshair")),Jn(),Mi(),p(document,{contextmenu:ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var n=new kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",Yr),Fe.mergeOptions({doubleClickZoom:!0});var qr=g.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,o=n.getZoom(),f=n.options.zoomDelta,d=e.originalEvent.shiftKey?o-f:o+f;n.options.doubleClickZoom==="center"?n.setZoom(d):n.setZoomAround(e.containerPoint,d)}});Fe.addInitHook("addHandler","doubleClickZoom",qr),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wr=g.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new N(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=Ye(this._map.options.maxBounds);this._offsetLimit=ht(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),o=this._initialWorldOffset,f=this._draggable._newPos.x,d=(f-n+o)%e+n-o,x=(f+n+o)%e-n-o,Z=Math.abs(d+o)<Math.abs(x+o)?d:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(e){var n=this._map,o=n.options,f=!o.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),f)n.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,Z=o.easeLinearity,ne=d.multiplyBy(Z/x),fe=ne.distanceTo([0,0]),ve=Math.min(o.inertiaMaxSpeed,fe),je=ne.multiplyBy(ve/fe),Qe=ve/(o.inertiaDeceleration*Z),lt=je.multiplyBy(-Qe/2).round();!lt.x&&!lt.y?n.fire("moveend"):(lt=n._limitOffset(lt,n.options.maxBounds),ke(function(){n.panBy(lt,{duration:Qe,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",Wr),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vr=g.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),a(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),p(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,o=e.scrollTop||n.scrollTop,f=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(f,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},o=this.keyCodes,f,d;for(f=0,d=o.left.length;f<d;f++)n[o.left[f]]=[-1*e,0];for(f=0,d=o.right.length;f<d;f++)n[o.right[f]]=[e,0];for(f=0,d=o.down.length;f<d;f++)n[o.down[f]]=[0,e];for(f=0,d=o.up.length;f<d;f++)n[o.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},o=this.keyCodes,f,d;for(f=0,d=o.zoomIn.length;f<d;f++)n[o.zoomIn[f]]=e;for(f=0,d=o.zoomOut.length;f<d;f++)n[o.zoomOut[f]]=-e},_addHooks:function(){a(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){p(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,o=this._map,f;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(f=this._panKeys[n],e.shiftKey&&(f=Le(f).multiplyBy(3)),o.options.maxBounds&&(f=o._limitOffset(Le(f),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(f)));o.panTo(d)}else o.panBy(f)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;ye(e)}}});Fe.addInitHook("addHandler","keyboard",Vr),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qr=g.extend({addHooks:function(){a(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){p(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=bt(e),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),f),ye(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,x=o?Math.ceil(d/o)*o:d,Z=e._limitZoom(n+(this._delta>0?x:-x))-n;this._delta=0,this._startTime=null,Z&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+Z):e.setZoomAround(this._lastMousePos,n+Z))}});Fe.addInitHook("addHandler","scrollWheelZoom",Qr);var wo=600;Fe.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Kr=g.extend({addHooks:function(){a(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){p(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new Te(n.clientX,n.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(a(document,"touchend",ae),a(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),wo),a(document,"touchend touchcancel contextmenu",this._cancel,this),a(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){p(document,"touchend",ae),p(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),p(document,"touchend touchcancel contextmenu",this._cancel,this),p(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new Te(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});Fe.addInitHook("addHandler","tapHold",Kr),Fe.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var Jr=g.extend({addHooks:function(){et(this._map._container,"leaflet-touch-zoom"),a(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),p(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(f)._divideBy(2))),this._startDist=o.distanceTo(f),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),a(document,"touchmove",this._onTouchMove,this),a(document,"touchend touchcancel",this._onTouchEnd,this),ae(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]),d=o.distanceTo(f)/this._startDist;if(this._zoom=n.getScaleZoom(d,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&d<1||this._zoom>n.getMaxZoom()&&d>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var x=o._add(f)._divideBy(2)._subtract(this._centerPoint);if(d===1&&x.x===0&&x.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var Z=y(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(Z,this,!0),ae(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),p(document,"touchmove",this._onTouchMove,this),p(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",Jr),Fe.BoxZoom=Yr,Fe.DoubleClickZoom=qr,Fe.Drag=Wr,Fe.Keyboard=Vr,Fe.ScrollWheelZoom=Qr,Fe.TapHold=Kr,Fe.TouchZoom=Jr,F.Bounds=Ge,F.Browser=ze,F.CRS=nn,F.Canvas=Gr,F.Circle=rr,F.CircleMarker=Ni,F.Class=Me,F.Control=Dt,F.DivIcon=dn,F.DivOverlay=Ke,F.DomEvent=Lt,F.DomUtil=i,F.Draggable=N,F.Evented=Ne,F.FeatureGroup=ti,F.GeoJSON=Ln,F.GridLayer=Zn,F.Handler=g,F.Icon=ni,F.ImageOverlay=Pe,F.LatLng=ct,F.LatLngBounds=kt,F.Layer=Gt,F.LayerGroup=Si,F.LineUtil=Vi,F.Map=Fe,F.Marker=ir,F.Mixin=w,F.Path=an,F.Point=Te,F.PolyUtil=oe,F.Polygon=hi,F.Polyline=Mn,F.Popup=Re,F.PosAnimation=en,F.Projection=ci,F.Rectangle=Hr,F.Renderer=Li,F.SVG=dr,F.SVGOverlay=He,F.TileLayer=fr,F.Tooltip=Wt,F.Transformation=Yt,F.Util=Be,F.VideoOverlay=Se,F.bind=y,F.bounds=ht,F.canvas=Ur,F.circle=Qi,F.circleMarker=ui,F.control=Xn,F.divIcon=Rn,F.extend=$,F.featureGroup=yt,F.geoJSON=pe,F.geoJson=De,F.gridLayer=tn,F.icon=En,F.imageOverlay=Oe,F.latLng=Xe,F.latLngBounds=Ye,F.layerGroup=Cr,F.map=Wi,F.marker=_r,F.point=Le,F.polygon=Ir,F.polyline=or,F.popup=xt,F.rectangle=Lo,F.setOptions=re,F.stamp=k,F.svg=Fr,F.svgOverlay=Je,F.tileLayer=Rr,F.tooltip=Jt,F.transformation=Un,F.version=xe,F.videoOverlay=at;var xo=window.L;F.noConflict=function(){return window.L=xo,this},window.L=F})});var wr=pr((ro,Lr)=>{(function(F,xe){"use strict";typeof Lr=="object"&&typeof Lr.exports=="object"?Lr.exports=F.document?xe(F,!0):function($){if(!$.document)throw new Error("jQuery requires a window with a document");return xe($)}:xe(F)})(typeof window<"u"?window:ro,function(F,xe){"use strict";var $=[],M=Object.getPrototypeOf,y=$.slice,_=$.flat?function(r){return $.flat.call(r)}:function(r){return $.concat.apply([],r)},k=$.push,D=$.indexOf,G={},E=G.toString,q=G.hasOwnProperty,le=q.toString,ge=le.call(Object),re={},Q=function(s){return typeof s=="function"&&typeof s.nodeType!="number"&&typeof s.item!="function"},J=function(s){return s!=null&&s===s.window},K=F.document,W={type:!0,src:!0,nonce:!0,noModule:!0};function X(r,s,c){c=c||K;var h,m,g=c.createElement("script");if(g.text=r,s)for(h in W)m=s[h]||s.getAttribute&&s.getAttribute(h),m&&g.setAttribute(h,m);c.head.appendChild(g).parentNode.removeChild(g)}function te(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?G[E.call(r)]||"object":typeof r}var A="3.7.1",Y=/HTML$/i,l=function(r,s){return new l.fn.init(r,s)};l.fn=l.prototype={jquery:A,constructor:l,length:0,toArray:function(){return y.call(this)},get:function(r){return r==null?y.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var s=l.merge(this.constructor(),r);return s.prevObject=this,s},each:function(r){return l.each(this,r)},map:function(r){return this.pushStack(l.map(this,function(s,c){return r.call(s,c,s)}))},slice:function(){return this.pushStack(y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(r,s){return(s+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(r,s){return s%2}))},eq:function(r){var s=this.length,c=+r+(r<0?s:0);return this.pushStack(c>=0&&c<s?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:k,sort:$.sort,splice:$.splice},l.extend=l.fn.extend=function(){var r,s,c,h,m,g,w=arguments[0]||{},z=1,N=arguments.length,V=!1;for(typeof w=="boolean"&&(V=w,w=arguments[z]||{},z++),typeof w!="object"&&!Q(w)&&(w={}),z===N&&(w=this,z--);z<N;z++)if((r=arguments[z])!=null)for(s in r)h=r[s],!(s==="__proto__"||w===h)&&(V&&h&&(l.isPlainObject(h)||(m=Array.isArray(h)))?(c=w[s],m&&!Array.isArray(c)?g=[]:!m&&!l.isPlainObject(c)?g={}:g=c,m=!1,w[s]=l.extend(V,g,h)):h!==void 0&&(w[s]=h));return w},l.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var s,c;return!r||E.call(r)!=="[object Object]"?!1:(s=M(r),s?(c=q.call(s,"constructor")&&s.constructor,typeof c=="function"&&le.call(c)===ge):!0)},isEmptyObject:function(r){var s;for(s in r)return!1;return!0},globalEval:function(r,s,c){X(r,{nonce:s&&s.nonce},c)},each:function(r,s){var c,h=0;if(be(r))for(c=r.length;h<c&&s.call(r[h],h,r[h])!==!1;h++);else for(h in r)if(s.call(r[h],h,r[h])===!1)break;return r},text:function(r){var s,c="",h=0,m=r.nodeType;if(!m)for(;s=r[h++];)c+=l.text(s);return m===1||m===11?r.textContent:m===9?r.documentElement.textContent:m===3||m===4?r.nodeValue:c},makeArray:function(r,s){var c=s||[];return r!=null&&(be(Object(r))?l.merge(c,typeof r=="string"?[r]:r):k.call(c,r)),c},inArray:function(r,s,c){return s==null?-1:D.call(s,r,c)},isXMLDoc:function(r){var s=r&&r.namespaceURI,c=r&&(r.ownerDocument||r).documentElement;return!Y.test(s||c&&c.nodeName||"HTML")},merge:function(r,s){for(var c=+s.length,h=0,m=r.length;h<c;h++)r[m++]=s[h];return r.length=m,r},grep:function(r,s,c){for(var h,m=[],g=0,w=r.length,z=!c;g<w;g++)h=!s(r[g],g),h!==z&&m.push(r[g]);return m},map:function(r,s,c){var h,m,g=0,w=[];if(be(r))for(h=r.length;g<h;g++)m=s(r[g],g,c),m!=null&&w.push(m);else for(g in r)m=s(r[g],g,c),m!=null&&w.push(m);return _(w)},guid:1,support:re}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=$[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,s){G["[object "+s+"]"]=s.toLowerCase()});function be(r){var s=!!r&&"length"in r&&r.length,c=te(r);return Q(r)||J(r)?!1:c==="array"||s===0||typeof s=="number"&&s>0&&s-1 in r}function _e(r,s){return r.nodeName&&r.nodeName.toLowerCase()===s.toLowerCase()}var ke=$.pop,Ce=$.sort,Be=$.splice,Me="[\\x20\\t\\r\\n\\f]",Ae=new RegExp("^"+Me+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Me+"+$","g");l.contains=function(r,s){var c=s&&s.parentNode;return r===c||!!(c&&c.nodeType===1&&(r.contains?r.contains(c):r.compareDocumentPosition&&r.compareDocumentPosition(c)&16))};var We=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ne(r,s){return s?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}l.escapeSelector=function(r){return(r+"").replace(We,Ne)};var Te=K,_t=k;(function(){var r,s,c,h,m,g=_t,w,z,N,V,ue,de=l.expando,oe=0,we=0,Ve=ni(),ut=ni(),nt=ni(),Rt=ni(),Zt=function(I,H){return I===H&&(m=!0),0},In="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Tn="(?:\\\\[\\da-fA-F]{1,6}"+Me+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",rt="\\["+Me+"*("+Tn+")(?:"+Me+"*([*^$|!~]?=)"+Me+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Tn+"))|)"+Me+"*\\]",hn=":("+Tn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+rt+")*)|.*)\\)|)",pt=new RegExp(Me+"+","g"),wt=new RegExp("^"+Me+"*,"+Me+"*"),Kt=new RegExp("^"+Me+"*([>+~]|"+Me+")"+Me+"*"),tr=new RegExp(Me+"|>"),Dn=new RegExp(hn),Vi=new RegExp("^"+Tn+"$"),yn={ID:new RegExp("^#("+Tn+")"),CLASS:new RegExp("^\\.("+Tn+")"),TAG:new RegExp("^("+Tn+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+hn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Me+"*(even|odd|(([+-]|)(\\d*)n|)"+Me+"*(?:([+-]|)"+Me+"*(\\d+)|))"+Me+"*\\)|)","i"),bool:new RegExp("^(?:"+In+")$","i"),needsContext:new RegExp("^"+Me+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Me+"*((?:-\\d)?\\d*)"+Me+"*\\)|)(?=[^-]|$)","i")},On=/^(?:input|select|textarea|button)$/i,ci=/^h\d$/i,vn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nr=/[+~]/,ei=new RegExp("\\\\[\\da-fA-F]{1,6}"+Me+"?|\\\\([^\\r\\n\\f])","g"),Gt=function(I,H){var ie="0x"+I.slice(1)-65536;return H||(ie<0?String.fromCharCode(ie+65536):String.fromCharCode(ie>>10|55296,ie&1023|56320))},Si=function(){ui()},Cr=or(function(I){return I.disabled===!0&&_e(I,"fieldset")},{dir:"parentNode",next:"legend"});function ti(){try{return w.activeElement}catch{}}try{g.apply($=y.call(Te.childNodes),Te.childNodes),$[Te.childNodes.length].nodeType}catch{g={apply:function(H,ie){_t.apply(H,y.call(ie))},call:function(H){_t.apply(H,y.call(arguments,1))}}}function yt(I,H,ie,se){var pe,De,Pe,Oe,Se,at,He,Je=H&&H.ownerDocument,Ke=H?H.nodeType:9;if(ie=ie||[],typeof I!="string"||!I||Ke!==1&&Ke!==9&&Ke!==11)return ie;if(!se&&(ui(H),H=H||w,N)){if(Ke!==11&&(Se=vn.exec(I)))if(pe=Se[1]){if(Ke===9)if(Pe=H.getElementById(pe)){if(Pe.id===pe)return g.call(ie,Pe),ie}else return ie;else if(Je&&(Pe=Je.getElementById(pe))&&yt.contains(H,Pe)&&Pe.id===pe)return g.call(ie,Pe),ie}else{if(Se[2])return g.apply(ie,H.getElementsByTagName(I)),ie;if((pe=Se[3])&&H.getElementsByClassName)return g.apply(ie,H.getElementsByClassName(pe)),ie}if(!Rt[I+" "]&&(!V||!V.test(I))){if(He=I,Je=H,Ke===1&&(tr.test(I)||Kt.test(I))){for(Je=nr.test(I)&&Ni(H.parentNode)||H,(Je!=H||!re.scope)&&((Oe=H.getAttribute("id"))?Oe=l.escapeSelector(Oe):H.setAttribute("id",Oe=de)),at=Qi(I),De=at.length;De--;)at[De]=(Oe?"#"+Oe:":scope")+" "+Mn(at[De]);He=at.join(",")}try{return g.apply(ie,Je.querySelectorAll(He)),ie}catch{Rt(I,!0)}finally{Oe===de&&H.removeAttribute("id")}}}return sr(I.replace(Ae,"$1"),H,ie,se)}function ni(){var I=[];function H(ie,se){return I.push(ie+" ")>s.cacheLength&&delete H[I.shift()],H[ie+" "]=se}return H}function En(I){return I[de]=!0,I}function Bn(I){var H=w.createElement("fieldset");try{return!!I(H)}catch{return!1}finally{H.parentNode&&H.parentNode.removeChild(H),H=null}}function br(I){return function(H){return _e(H,"input")&&H.type===I}}function ir(I){return function(H){return(_e(H,"input")||_e(H,"button"))&&H.type===I}}function _r(I){return function(H){return"form"in H?H.parentNode&&H.disabled===!1?"label"in H?"label"in H.parentNode?H.parentNode.disabled===I:H.disabled===I:H.isDisabled===I||H.isDisabled!==!I&&Cr(H)===I:H.disabled===I:"label"in H?H.disabled===I:!1}}function an(I){return En(function(H){return H=+H,En(function(ie,se){for(var pe,De=I([],ie.length,H),Pe=De.length;Pe--;)ie[pe=De[Pe]]&&(ie[pe]=!(se[pe]=ie[pe]))})})}function Ni(I){return I&&typeof I.getElementsByTagName<"u"&&I}function ui(I){var H,ie=I?I.ownerDocument||I:Te;return ie==w||ie.nodeType!==9||!ie.documentElement||(w=ie,z=w.documentElement,N=!l.isXMLDoc(w),ue=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&Te!=w&&(H=w.defaultView)&&H.top!==H&&H.addEventListener("unload",Si),re.getById=Bn(function(se){return z.appendChild(se).id=l.expando,!w.getElementsByName||!w.getElementsByName(l.expando).length}),re.disconnectedMatch=Bn(function(se){return ue.call(se,"*")}),re.scope=Bn(function(){return w.querySelectorAll(":scope")}),re.cssHas=Bn(function(){try{return w.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),re.getById?(s.filter.ID=function(se){var pe=se.replace(ei,Gt);return function(De){return De.getAttribute("id")===pe}},s.find.ID=function(se,pe){if(typeof pe.getElementById<"u"&&N){var De=pe.getElementById(se);return De?[De]:[]}}):(s.filter.ID=function(se){var pe=se.replace(ei,Gt);return function(De){var Pe=typeof De.getAttributeNode<"u"&&De.getAttributeNode("id");return Pe&&Pe.value===pe}},s.find.ID=function(se,pe){if(typeof pe.getElementById<"u"&&N){var De,Pe,Oe,Se=pe.getElementById(se);if(Se){if(De=Se.getAttributeNode("id"),De&&De.value===se)return[Se];for(Oe=pe.getElementsByName(se),Pe=0;Se=Oe[Pe++];)if(De=Se.getAttributeNode("id"),De&&De.value===se)return[Se]}return[]}}),s.find.TAG=function(se,pe){return typeof pe.getElementsByTagName<"u"?pe.getElementsByTagName(se):pe.querySelectorAll(se)},s.find.CLASS=function(se,pe){if(typeof pe.getElementsByClassName<"u"&&N)return pe.getElementsByClassName(se)},V=[],Bn(function(se){var pe;z.appendChild(se).innerHTML="<a id='"+de+"' href='' disabled='disabled'></a><select id='"+de+"-\r\\' disabled='disabled'><option selected=''></option></select>",se.querySelectorAll("[selected]").length||V.push("\\["+Me+"*(?:value|"+In+")"),se.querySelectorAll("[id~="+de+"-]").length||V.push("~="),se.querySelectorAll("a#"+de+"+*").length||V.push(".#.+[+~]"),se.querySelectorAll(":checked").length||V.push(":checked"),pe=w.createElement("input"),pe.setAttribute("type","hidden"),se.appendChild(pe).setAttribute("name","D"),z.appendChild(se).disabled=!0,se.querySelectorAll(":disabled").length!==2&&V.push(":enabled",":disabled"),pe=w.createElement("input"),pe.setAttribute("name",""),se.appendChild(pe),se.querySelectorAll("[name='']").length||V.push("\\["+Me+"*name"+Me+"*="+Me+`*(?:''|"")`)}),re.cssHas||V.push(":has"),V=V.length&&new RegExp(V.join("|")),Zt=function(se,pe){if(se===pe)return m=!0,0;var De=!se.compareDocumentPosition-!pe.compareDocumentPosition;return De||(De=(se.ownerDocument||se)==(pe.ownerDocument||pe)?se.compareDocumentPosition(pe):1,De&1||!re.sortDetached&&pe.compareDocumentPosition(se)===De?se===w||se.ownerDocument==Te&&yt.contains(Te,se)?-1:pe===w||pe.ownerDocument==Te&&yt.contains(Te,pe)?1:h?D.call(h,se)-D.call(h,pe):0:De&4?-1:1)}),w}yt.matches=function(I,H){return yt(I,null,null,H)},yt.matchesSelector=function(I,H){if(ui(I),N&&!Rt[H+" "]&&(!V||!V.test(H)))try{var ie=ue.call(I,H);if(ie||re.disconnectedMatch||I.document&&I.document.nodeType!==11)return ie}catch{Rt(H,!0)}return yt(H,w,null,[I]).length>0},yt.contains=function(I,H){return(I.ownerDocument||I)!=w&&ui(I),l.contains(I,H)},yt.attr=function(I,H){(I.ownerDocument||I)!=w&&ui(I);var ie=s.attrHandle[H.toLowerCase()],se=ie&&q.call(s.attrHandle,H.toLowerCase())?ie(I,H,!N):void 0;return se!==void 0?se:I.getAttribute(H)},yt.error=function(I){throw new Error("Syntax error, unrecognized expression: "+I)},l.uniqueSort=function(I){var H,ie=[],se=0,pe=0;if(m=!re.sortStable,h=!re.sortStable&&y.call(I,0),Ce.call(I,Zt),m){for(;H=I[pe++];)H===I[pe]&&(se=ie.push(pe));for(;se--;)Be.call(I,ie[se],1)}return h=null,I},l.fn.uniqueSort=function(){return this.pushStack(l.uniqueSort(y.apply(this)))},s=l.expr={cacheLength:50,createPseudo:En,match:yn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(I){return I[1]=I[1].replace(ei,Gt),I[3]=(I[3]||I[4]||I[5]||"").replace(ei,Gt),I[2]==="~="&&(I[3]=" "+I[3]+" "),I.slice(0,4)},CHILD:function(I){return I[1]=I[1].toLowerCase(),I[1].slice(0,3)==="nth"?(I[3]||yt.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*(I[3]==="even"||I[3]==="odd")),I[5]=+(I[7]+I[8]||I[3]==="odd")):I[3]&&yt.error(I[0]),I},PSEUDO:function(I){var H,ie=!I[6]&&I[2];return yn.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||"":ie&&Dn.test(ie)&&(H=Qi(ie,!0))&&(H=ie.indexOf(")",ie.length-H)-ie.length)&&(I[0]=I[0].slice(0,H),I[2]=ie.slice(0,H)),I.slice(0,3))}},filter:{TAG:function(I){var H=I.replace(ei,Gt).toLowerCase();return I==="*"?function(){return!0}:function(ie){return _e(ie,H)}},CLASS:function(I){var H=Ve[I+" "];return H||(H=new RegExp("(^|"+Me+")"+I+"("+Me+"|$)"))&&Ve(I,function(ie){return H.test(typeof ie.className=="string"&&ie.className||typeof ie.getAttribute<"u"&&ie.getAttribute("class")||"")})},ATTR:function(I,H,ie){return function(se){var pe=yt.attr(se,I);return pe==null?H==="!=":H?(pe+="",H==="="?pe===ie:H==="!="?pe!==ie:H==="^="?ie&&pe.indexOf(ie)===0:H==="*="?ie&&pe.indexOf(ie)>-1:H==="$="?ie&&pe.slice(-ie.length)===ie:H==="~="?(" "+pe.replace(pt," ")+" ").indexOf(ie)>-1:H==="|="?pe===ie||pe.slice(0,ie.length+1)===ie+"-":!1):!0}},CHILD:function(I,H,ie,se,pe){var De=I.slice(0,3)!=="nth",Pe=I.slice(-4)!=="last",Oe=H==="of-type";return se===1&&pe===0?function(Se){return!!Se.parentNode}:function(Se,at,He){var Je,Ke,Re,xt,Wt,Jt=De!==Pe?"nextSibling":"previousSibling",dn=Se.parentNode,Rn=Oe&&Se.nodeName.toLowerCase(),Zn=!He&&!Oe,tn=!1;if(dn){if(De){for(;Jt;){for(Re=Se;Re=Re[Jt];)if(Oe?_e(Re,Rn):Re.nodeType===1)return!1;Wt=Jt=I==="only"&&!Wt&&"nextSibling"}return!0}if(Wt=[Pe?dn.firstChild:dn.lastChild],Pe&&Zn){for(Ke=dn[de]||(dn[de]={}),Je=Ke[I]||[],xt=Je[0]===oe&&Je[1],tn=xt&&Je[2],Re=xt&&dn.childNodes[xt];Re=++xt&&Re&&Re[Jt]||(tn=xt=0)||Wt.pop();)if(Re.nodeType===1&&++tn&&Re===Se){Ke[I]=[oe,xt,tn];break}}else if(Zn&&(Ke=Se[de]||(Se[de]={}),Je=Ke[I]||[],xt=Je[0]===oe&&Je[1],tn=xt),tn===!1)for(;(Re=++xt&&Re&&Re[Jt]||(tn=xt=0)||Wt.pop())&&!((Oe?_e(Re,Rn):Re.nodeType===1)&&++tn&&(Zn&&(Ke=Re[de]||(Re[de]={}),Ke[I]=[oe,tn]),Re===Se)););return tn-=pe,tn===se||tn%se===0&&tn/se>=0}}},PSEUDO:function(I,H){var ie,se=s.pseudos[I]||s.setFilters[I.toLowerCase()]||yt.error("unsupported pseudo: "+I);return se[de]?se(H):se.length>1?(ie=[I,I,"",H],s.setFilters.hasOwnProperty(I.toLowerCase())?En(function(pe,De){for(var Pe,Oe=se(pe,H),Se=Oe.length;Se--;)Pe=D.call(pe,Oe[Se]),pe[Pe]=!(De[Pe]=Oe[Se])}):function(pe){return se(pe,0,ie)}):se}},pseudos:{not:En(function(I){var H=[],ie=[],se=ji(I.replace(Ae,"$1"));return se[de]?En(function(pe,De,Pe,Oe){for(var Se,at=se(pe,null,Oe,[]),He=pe.length;He--;)(Se=at[He])&&(pe[He]=!(De[He]=Se))}):function(pe,De,Pe){return H[0]=pe,se(H,null,Pe,ie),H[0]=null,!ie.pop()}}),has:En(function(I){return function(H){return yt(I,H).length>0}}),contains:En(function(I){return I=I.replace(ei,Gt),function(H){return(H.textContent||l.text(H)).indexOf(I)>-1}}),lang:En(function(I){return Vi.test(I||"")||yt.error("unsupported lang: "+I),I=I.replace(ei,Gt).toLowerCase(),function(H){var ie;do if(ie=N?H.lang:H.getAttribute("xml:lang")||H.getAttribute("lang"))return ie=ie.toLowerCase(),ie===I||ie.indexOf(I+"-")===0;while((H=H.parentNode)&&H.nodeType===1);return!1}}),target:function(I){var H=F.location&&F.location.hash;return H&&H.slice(1)===I.id},root:function(I){return I===z},focus:function(I){return I===ti()&&w.hasFocus()&&!!(I.type||I.href||~I.tabIndex)},enabled:_r(!1),disabled:_r(!0),checked:function(I){return _e(I,"input")&&!!I.checked||_e(I,"option")&&!!I.selected},selected:function(I){return I.parentNode&&I.parentNode.selectedIndex,I.selected===!0},empty:function(I){for(I=I.firstChild;I;I=I.nextSibling)if(I.nodeType<6)return!1;return!0},parent:function(I){return!s.pseudos.empty(I)},header:function(I){return ci.test(I.nodeName)},input:function(I){return On.test(I.nodeName)},button:function(I){return _e(I,"input")&&I.type==="button"||_e(I,"button")},text:function(I){var H;return _e(I,"input")&&I.type==="text"&&((H=I.getAttribute("type"))==null||H.toLowerCase()==="text")},first:an(function(){return[0]}),last:an(function(I,H){return[H-1]}),eq:an(function(I,H,ie){return[ie<0?ie+H:ie]}),even:an(function(I,H){for(var ie=0;ie<H;ie+=2)I.push(ie);return I}),odd:an(function(I,H){for(var ie=1;ie<H;ie+=2)I.push(ie);return I}),lt:an(function(I,H,ie){var se;for(ie<0?se=ie+H:ie>H?se=H:se=ie;--se>=0;)I.push(se);return I}),gt:an(function(I,H,ie){for(var se=ie<0?ie+H:ie;++se<H;)I.push(se);return I})}},s.pseudos.nth=s.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[r]=br(r);for(r in{submit:!0,reset:!0})s.pseudos[r]=ir(r);function rr(){}rr.prototype=s.filters=s.pseudos,s.setFilters=new rr;function Qi(I,H){var ie,se,pe,De,Pe,Oe,Se,at=ut[I+" "];if(at)return H?0:at.slice(0);for(Pe=I,Oe=[],Se=s.preFilter;Pe;){(!ie||(se=wt.exec(Pe)))&&(se&&(Pe=Pe.slice(se[0].length)||Pe),Oe.push(pe=[])),ie=!1,(se=Kt.exec(Pe))&&(ie=se.shift(),pe.push({value:ie,type:se[0].replace(Ae," ")}),Pe=Pe.slice(ie.length));for(De in s.filter)(se=yn[De].exec(Pe))&&(!Se[De]||(se=Se[De](se)))&&(ie=se.shift(),pe.push({value:ie,type:De,matches:se}),Pe=Pe.slice(ie.length));if(!ie)break}return H?Pe.length:Pe?yt.error(I):ut(I,Oe).slice(0)}function Mn(I){for(var H=0,ie=I.length,se="";H<ie;H++)se+=I[H].value;return se}function or(I,H,ie){var se=H.dir,pe=H.next,De=pe||se,Pe=ie&&De==="parentNode",Oe=we++;return H.first?function(Se,at,He){for(;Se=Se[se];)if(Se.nodeType===1||Pe)return I(Se,at,He);return!1}:function(Se,at,He){var Je,Ke,Re=[oe,Oe];if(He){for(;Se=Se[se];)if((Se.nodeType===1||Pe)&&I(Se,at,He))return!0}else for(;Se=Se[se];)if(Se.nodeType===1||Pe)if(Ke=Se[de]||(Se[de]={}),pe&&_e(Se,pe))Se=Se[se]||Se;else{if((Je=Ke[De])&&Je[0]===oe&&Je[1]===Oe)return Re[2]=Je[2];if(Ke[De]=Re,Re[2]=I(Se,at,He))return!0}return!1}}function hi(I){return I.length>1?function(H,ie,se){for(var pe=I.length;pe--;)if(!I[pe](H,ie,se))return!1;return!0}:I[0]}function Ir(I,H,ie){for(var se=0,pe=H.length;se<pe;se++)yt(I,H[se],ie);return ie}function Ln(I,H,ie,se,pe){for(var De,Pe=[],Oe=0,Se=I.length,at=H!=null;Oe<Se;Oe++)(De=I[Oe])&&(!ie||ie(De,se,pe))&&(Pe.push(De),at&&H.push(Oe));return Pe}function Ai(I,H,ie,se,pe,De){return se&&!se[de]&&(se=Ai(se)),pe&&!pe[de]&&(pe=Ai(pe,De)),En(function(Pe,Oe,Se,at){var He,Je,Ke,Re,xt=[],Wt=[],Jt=Oe.length,dn=Pe||Ir(H||"*",Se.nodeType?[Se]:Se,[]),Rn=I&&(Pe||!H)?Ln(dn,xt,I,Se,at):dn;if(ie?(Re=pe||(Pe?I:Jt||se)?[]:Oe,ie(Rn,Re,Se,at)):Re=Rn,se)for(He=Ln(Re,Wt),se(He,[],Se,at),Je=He.length;Je--;)(Ke=He[Je])&&(Re[Wt[Je]]=!(Rn[Wt[Je]]=Ke));if(Pe){if(pe||I){if(pe){for(He=[],Je=Re.length;Je--;)(Ke=Re[Je])&&He.push(Rn[Je]=Ke);pe(null,Re=[],He,at)}for(Je=Re.length;Je--;)(Ke=Re[Je])&&(He=pe?D.call(Pe,Ke):xt[Je])>-1&&(Pe[He]=!(Oe[He]=Ke))}}else Re=Ln(Re===Oe?Re.splice(Jt,Re.length):Re),pe?pe(null,Oe,Re,at):g.apply(Oe,Re)})}function ar(I){for(var H,ie,se,pe=I.length,De=s.relative[I[0].type],Pe=De||s.relative[" "],Oe=De?1:0,Se=or(function(Je){return Je===H},Pe,!0),at=or(function(Je){return D.call(H,Je)>-1},Pe,!0),He=[function(Je,Ke,Re){var xt=!De&&(Re||Ke!=c)||((H=Ke).nodeType?Se(Je,Ke,Re):at(Je,Ke,Re));return H=null,xt}];Oe<pe;Oe++)if(ie=s.relative[I[Oe].type])He=[or(hi(He),ie)];else{if(ie=s.filter[I[Oe].type].apply(null,I[Oe].matches),ie[de]){for(se=++Oe;se<pe&&!s.relative[I[se].type];se++);return Ai(Oe>1&&hi(He),Oe>1&&Mn(I.slice(0,Oe-1).concat({value:I[Oe-2].type===" "?"*":""})).replace(Ae,"$1"),ie,Oe<se&&ar(I.slice(Oe,se)),se<pe&&ar(I=I.slice(se)),se<pe&&Mn(I))}He.push(ie)}return hi(He)}function ur(I,H){var ie=H.length>0,se=I.length>0,pe=function(De,Pe,Oe,Se,at){var He,Je,Ke,Re=0,xt="0",Wt=De&&[],Jt=[],dn=c,Rn=De||se&&s.find.TAG("*",at),Zn=oe+=dn==null?1:Math.random()||.1,tn=Rn.length;for(at&&(c=Pe==w||Pe||at);xt!==tn&&(He=Rn[xt])!=null;xt++){if(se&&He){for(Je=0,!Pe&&He.ownerDocument!=w&&(ui(He),Oe=!N);Ke=I[Je++];)if(Ke(He,Pe||w,Oe)){g.call(Se,He);break}at&&(oe=Zn)}ie&&((He=!Ke&&He)&&Re--,De&&Wt.push(He))}if(Re+=xt,ie&&xt!==Re){for(Je=0;Ke=H[Je++];)Ke(Wt,Jt,Pe,Oe);if(De){if(Re>0)for(;xt--;)Wt[xt]||Jt[xt]||(Jt[xt]=ke.call(Se));Jt=Ln(Jt)}g.apply(Se,Jt),at&&!De&&Jt.length>0&&Re+H.length>1&&l.uniqueSort(Se)}return at&&(oe=Zn,c=dn),Wt};return ie?En(pe):pe}function ji(I,H){var ie,se=[],pe=[],De=nt[I+" "];if(!De){for(H||(H=Qi(I)),ie=H.length;ie--;)De=ar(H[ie]),De[de]?se.push(De):pe.push(De);De=nt(I,ur(pe,se)),De.selector=I}return De}function sr(I,H,ie,se){var pe,De,Pe,Oe,Se,at=typeof I=="function"&&I,He=!se&&Qi(I=at.selector||I);if(ie=ie||[],He.length===1){if(De=He[0]=He[0].slice(0),De.length>2&&(Pe=De[0]).type==="ID"&&H.nodeType===9&&N&&s.relative[De[1].type]){if(H=(s.find.ID(Pe.matches[0].replace(ei,Gt),H)||[])[0],H)at&&(H=H.parentNode);else return ie;I=I.slice(De.shift().value.length)}for(pe=yn.needsContext.test(I)?0:De.length;pe--&&(Pe=De[pe],!s.relative[Oe=Pe.type]);)if((Se=s.find[Oe])&&(se=Se(Pe.matches[0].replace(ei,Gt),nr.test(De[0].type)&&Ni(H.parentNode)||H))){if(De.splice(pe,1),I=se.length&&Mn(De),!I)return g.apply(ie,se),ie;break}}return(at||ji(I,He))(se,H,!N,ie,!H||nr.test(I)&&Ni(H.parentNode)||H),ie}re.sortStable=de.split("").sort(Zt).join("")===de,ui(),re.sortDetached=Bn(function(I){return I.compareDocumentPosition(w.createElement("fieldset"))&1}),l.find=yt,l.expr[":"]=l.expr.pseudos,l.unique=l.uniqueSort,yt.compile=ji,yt.select=sr,yt.setDocument=ui,yt.tokenize=Qi,yt.escape=l.escapeSelector,yt.getText=l.text,yt.isXML=l.isXMLDoc,yt.selectors=l.expr,yt.support=l.support,yt.uniqueSort=l.uniqueSort})();var Le=function(r,s,c){for(var h=[],m=c!==void 0;(r=r[s])&&r.nodeType!==9;)if(r.nodeType===1){if(m&&l(r).is(c))break;h.push(r)}return h},Ge=function(r,s){for(var c=[];r;r=r.nextSibling)r.nodeType===1&&r!==s&&c.push(r);return c},ht=l.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ye(r,s,c){return Q(s)?l.grep(r,function(h,m){return!!s.call(h,m,h)!==c}):s.nodeType?l.grep(r,function(h){return h===s!==c}):typeof s!="string"?l.grep(r,function(h){return D.call(s,h)>-1!==c}):l.filter(s,r,c)}l.filter=function(r,s,c){var h=s[0];return c&&(r=":not("+r+")"),s.length===1&&h.nodeType===1?l.find.matchesSelector(h,r)?[h]:[]:l.find.matches(r,l.grep(s,function(m){return m.nodeType===1}))},l.fn.extend({find:function(r){var s,c,h=this.length,m=this;if(typeof r!="string")return this.pushStack(l(r).filter(function(){for(s=0;s<h;s++)if(l.contains(m[s],this))return!0}));for(c=this.pushStack([]),s=0;s<h;s++)l.find(r,m[s],c);return h>1?l.uniqueSort(c):c},filter:function(r){return this.pushStack(Ye(this,r||[],!1))},not:function(r){return this.pushStack(Ye(this,r||[],!0))},is:function(r){return!!Ye(this,typeof r=="string"&&ht.test(r)?l(r):r||[],!1).length}});var ct,Xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,nn=l.fn.init=function(r,s,c){var h,m;if(!r)return this;if(c=c||ct,typeof r=="string")if(r[0]==="<"&&r[r.length-1]===">"&&r.length>=3?h=[null,r,null]:h=Xe.exec(r),h&&(h[1]||!s))if(h[1]){if(s=s instanceof l?s[0]:s,l.merge(this,l.parseHTML(h[1],s&&s.nodeType?s.ownerDocument||s:K,!0)),kt.test(h[1])&&l.isPlainObject(s))for(h in s)Q(this[h])?this[h](s[h]):this.attr(h,s[h]);return this}else return m=K.getElementById(h[2]),m&&(this[0]=m,this.length=1),this;else return!s||s.jquery?(s||c).find(r):this.constructor(s).find(r);else{if(r.nodeType)return this[0]=r,this.length=1,this;if(Q(r))return c.ready!==void 0?c.ready(r):r(l)}return l.makeArray(r,this)};nn.prototype=l.fn,ct=l(K);var Ot=/^(?:parents|prev(?:Until|All))/,ii={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(r){var s=l(r,this),c=s.length;return this.filter(function(){for(var h=0;h<c;h++)if(l.contains(this,s[h]))return!0})},closest:function(r,s){var c,h=0,m=this.length,g=[],w=typeof r!="string"&&l(r);if(!ht.test(r)){for(;h<m;h++)for(c=this[h];c&&c!==s;c=c.parentNode)if(c.nodeType<11&&(w?w.index(c)>-1:c.nodeType===1&&l.find.matchesSelector(c,r))){g.push(c);break}}return this.pushStack(g.length>1?l.uniqueSort(g):g)},index:function(r){return r?typeof r=="string"?D.call(l(r),this[0]):D.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,s){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(r,s))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}});function fn(r,s){for(;(r=r[s])&&r.nodeType!==1;);return r}l.each({parent:function(r){var s=r.parentNode;return s&&s.nodeType!==11?s:null},parents:function(r){return Le(r,"parentNode")},parentsUntil:function(r,s,c){return Le(r,"parentNode",c)},next:function(r){return fn(r,"nextSibling")},prev:function(r){return fn(r,"previousSibling")},nextAll:function(r){return Le(r,"nextSibling")},prevAll:function(r){return Le(r,"previousSibling")},nextUntil:function(r,s,c){return Le(r,"nextSibling",c)},prevUntil:function(r,s,c){return Le(r,"previousSibling",c)},siblings:function(r){return Ge((r.parentNode||{}).firstChild,r)},children:function(r){return Ge(r.firstChild)},contents:function(r){return r.contentDocument!=null&&M(r.contentDocument)?r.contentDocument:(_e(r,"template")&&(r=r.content||r),l.merge([],r.childNodes))}},function(r,s){l.fn[r]=function(c,h){var m=l.map(this,s,c);return r.slice(-5)!=="Until"&&(h=c),h&&typeof h=="string"&&(m=l.filter(h,m)),this.length>1&&(ii[r]||l.uniqueSort(m),Ot.test(r)&&m.reverse()),this.pushStack(m)}});var Yt=/[^\x20\t\r\n\f]+/g;function Un(r){var s={};return l.each(r.match(Yt)||[],function(c,h){s[h]=!0}),s}l.Callbacks=function(r){r=typeof r=="string"?Un(r):l.extend({},r);var s,c,h,m,g=[],w=[],z=-1,N=function(){for(m=m||r.once,h=s=!0;w.length;z=-1)for(c=w.shift();++z<g.length;)g[z].apply(c[0],c[1])===!1&&r.stopOnFalse&&(z=g.length,c=!1);r.memory||(c=!1),s=!1,m&&(c?g=[]:g="")},V={add:function(){return g&&(c&&!s&&(z=g.length-1,w.push(c)),function ue(de){l.each(de,function(oe,we){Q(we)?(!r.unique||!V.has(we))&&g.push(we):we&&we.length&&te(we)!=="string"&&ue(we)})}(arguments),c&&!s&&N()),this},remove:function(){return l.each(arguments,function(ue,de){for(var oe;(oe=l.inArray(de,g,oe))>-1;)g.splice(oe,1),oe<=z&&z--}),this},has:function(ue){return ue?l.inArray(ue,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return m=w=[],g=c="",this},disabled:function(){return!g},lock:function(){return m=w=[],!c&&!s&&(g=c=""),this},locked:function(){return!!m},fireWith:function(ue,de){return m||(de=de||[],de=[ue,de.slice?de.slice():de],w.push(de),s||N()),this},fire:function(){return V.fireWith(this,arguments),this},fired:function(){return!!h}};return V};function ln(r){return r}function Pn(r){throw r}function mi(r,s,c,h){var m;try{r&&Q(m=r.promise)?m.call(r).done(s).fail(c):r&&Q(m=r.then)?m.call(r,s,c):s.apply(void 0,[r].slice(h))}catch(g){c.apply(void 0,[g])}}l.extend({Deferred:function(r){var s=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],c="pending",h={state:function(){return c},always:function(){return m.done(arguments).fail(arguments),this},catch:function(g){return h.then(null,g)},pipe:function(){var g=arguments;return l.Deferred(function(w){l.each(s,function(z,N){var V=Q(g[N[4]])&&g[N[4]];m[N[1]](function(){var ue=V&&V.apply(this,arguments);ue&&Q(ue.promise)?ue.promise().progress(w.notify).done(w.resolve).fail(w.reject):w[N[0]+"With"](this,V?[ue]:arguments)})}),g=null}).promise()},then:function(g,w,z){var N=0;function V(ue,de,oe,we){return function(){var Ve=this,ut=arguments,nt=function(){var Zt,In;if(!(ue<N)){if(Zt=oe.apply(Ve,ut),Zt===de.promise())throw new TypeError("Thenable self-resolution");In=Zt&&(typeof Zt=="object"||typeof Zt=="function")&&Zt.then,Q(In)?we?In.call(Zt,V(N,de,ln,we),V(N,de,Pn,we)):(N++,In.call(Zt,V(N,de,ln,we),V(N,de,Pn,we),V(N,de,ln,de.notifyWith))):(oe!==ln&&(Ve=void 0,ut=[Zt]),(we||de.resolveWith)(Ve,ut))}},Rt=we?nt:function(){try{nt()}catch(Zt){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(Zt,Rt.error),ue+1>=N&&(oe!==Pn&&(Ve=void 0,ut=[Zt]),de.rejectWith(Ve,ut))}};ue?Rt():(l.Deferred.getErrorHook?Rt.error=l.Deferred.getErrorHook():l.Deferred.getStackHook&&(Rt.error=l.Deferred.getStackHook()),F.setTimeout(Rt))}}return l.Deferred(function(ue){s[0][3].add(V(0,ue,Q(z)?z:ln,ue.notifyWith)),s[1][3].add(V(0,ue,Q(g)?g:ln)),s[2][3].add(V(0,ue,Q(w)?w:Pn))}).promise()},promise:function(g){return g!=null?l.extend(g,h):h}},m={};return l.each(s,function(g,w){var z=w[2],N=w[5];h[w[1]]=z.add,N&&z.add(function(){c=N},s[3-g][2].disable,s[3-g][3].disable,s[0][2].lock,s[0][3].lock),z.add(w[3].fire),m[w[0]]=function(){return m[w[0]+"With"](this===m?void 0:this,arguments),this},m[w[0]+"With"]=z.fireWith}),h.promise(m),r&&r.call(m,m),m},when:function(r){var s=arguments.length,c=s,h=Array(c),m=y.call(arguments),g=l.Deferred(),w=function(z){return function(N){h[z]=this,m[z]=arguments.length>1?y.call(arguments):N,--s||g.resolveWith(h,m)}};if(s<=1&&(mi(r,g.done(w(c)).resolve,g.reject,!s),g.state()==="pending"||Q(m[c]&&m[c].then)))return g.then();for(;c--;)mi(m[c],w(c),g.reject);return g.promise()}});var Ut=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(r,s){F.console&&F.console.warn&&r&&Ut.test(r.name)&&F.console.warn("jQuery.Deferred exception: "+r.message,r.stack,s)},l.readyException=function(r){F.setTimeout(function(){throw r})};var Fn=l.Deferred();l.fn.ready=function(r){return Fn.then(r).catch(function(s){l.readyException(s)}),this},l.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(r!==!0&&--l.readyWait>0)&&Fn.resolveWith(K,[l]))}}),l.ready.then=Fn.then;function mn(){K.removeEventListener("DOMContentLoaded",mn),F.removeEventListener("load",mn),l.ready()}K.readyState==="complete"||K.readyState!=="loading"&&!K.documentElement.doScroll?F.setTimeout(l.ready):(K.addEventListener("DOMContentLoaded",mn),F.addEventListener("load",mn));var $t=function(r,s,c,h,m,g,w){var z=0,N=r.length,V=c==null;if(te(c)==="object"){m=!0;for(z in c)$t(r,s,z,c[z],!0,g,w)}else if(h!==void 0&&(m=!0,Q(h)||(w=!0),V&&(w?(s.call(r,h),s=null):(V=s,s=function(ue,de,oe){return V.call(l(ue),oe)})),s))for(;z<N;z++)s(r[z],c,w?h:h.call(r[z],z,s(r[z],c)));return m?r:V?s.call(r):N?s(r[0],c):g},xi=/^-ms-/,B=/-([a-z])/g;function b(r,s){return s.toUpperCase()}function v(r){return r.replace(xi,"ms-").replace(B,b)}var T=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function U(){this.expando=l.expando+U.uid++}U.uid=1,U.prototype={cache:function(r){var s=r[this.expando];return s||(s={},T(r)&&(r.nodeType?r[this.expando]=s:Object.defineProperty(r,this.expando,{value:s,configurable:!0}))),s},set:function(r,s,c){var h,m=this.cache(r);if(typeof s=="string")m[v(s)]=c;else for(h in s)m[v(h)]=s[h];return m},get:function(r,s){return s===void 0?this.cache(r):r[this.expando]&&r[this.expando][v(s)]},access:function(r,s,c){return s===void 0||s&&typeof s=="string"&&c===void 0?this.get(r,s):(this.set(r,s,c),c!==void 0?c:s)},remove:function(r,s){var c,h=r[this.expando];if(h!==void 0){if(s!==void 0)for(Array.isArray(s)?s=s.map(v):(s=v(s),s=s in h?[s]:s.match(Yt)||[]),c=s.length;c--;)delete h[s[c]];(s===void 0||l.isEmptyObject(h))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var s=r[this.expando];return s!==void 0&&!l.isEmptyObject(s)}};var P=new U,ce=new U,me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;function qe(r){return r==="true"?!0:r==="false"?!1:r==="null"?null:r===+r+""?+r:me.test(r)?JSON.parse(r):r}function ot(r,s,c){var h;if(c===void 0&&r.nodeType===1)if(h="data-"+s.replace(Ie,"-$&").toLowerCase(),c=r.getAttribute(h),typeof c=="string"){try{c=qe(c)}catch{}ce.set(r,s,c)}else c=void 0;return c}l.extend({hasData:function(r){return ce.hasData(r)||P.hasData(r)},data:function(r,s,c){return ce.access(r,s,c)},removeData:function(r,s){ce.remove(r,s)},_data:function(r,s,c){return P.access(r,s,c)},_removeData:function(r,s){P.remove(r,s)}}),l.fn.extend({data:function(r,s){var c,h,m,g=this[0],w=g&&g.attributes;if(r===void 0){if(this.length&&(m=ce.get(g),g.nodeType===1&&!P.get(g,"hasDataAttrs"))){for(c=w.length;c--;)w[c]&&(h=w[c].name,h.indexOf("data-")===0&&(h=v(h.slice(5)),ot(g,h,m[h])));P.set(g,"hasDataAttrs",!0)}return m}return typeof r=="object"?this.each(function(){ce.set(this,r)}):$t(this,function(z){var N;if(g&&z===void 0)return N=ce.get(g,r),N!==void 0||(N=ot(g,r),N!==void 0)?N:void 0;this.each(function(){ce.set(this,r,z)})},null,s,arguments.length>1,null,!0)},removeData:function(r){return this.each(function(){ce.remove(this,r)})}}),l.extend({queue:function(r,s,c){var h;if(r)return s=(s||"fx")+"queue",h=P.get(r,s),c&&(!h||Array.isArray(c)?h=P.access(r,s,l.makeArray(c)):h.push(c)),h||[]},dequeue:function(r,s){s=s||"fx";var c=l.queue(r,s),h=c.length,m=c.shift(),g=l._queueHooks(r,s),w=function(){l.dequeue(r,s)};m==="inprogress"&&(m=c.shift(),h--),m&&(s==="fx"&&c.unshift("inprogress"),delete g.stop,m.call(r,w,g)),!h&&g&&g.empty.fire()},_queueHooks:function(r,s){var c=s+"queueHooks";return P.get(r,c)||P.access(r,c,{empty:l.Callbacks("once memory").add(function(){P.remove(r,[s+"queue",c])})})}}),l.fn.extend({queue:function(r,s){var c=2;return typeof r!="string"&&(s=r,r="fx",c--),arguments.length<c?l.queue(this[0],r):s===void 0?this:this.each(function(){var h=l.queue(this,r,s);l._queueHooks(this,r),r==="fx"&&h[0]!=="inprogress"&&l.dequeue(this,r)})},dequeue:function(r){return this.each(function(){l.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,s){var c,h=1,m=l.Deferred(),g=this,w=this.length,z=function(){--h||m.resolveWith(g,[g])};for(typeof r!="string"&&(s=r,r=void 0),r=r||"fx";w--;)c=P.get(g[w],r+"queueHooks"),c&&c.empty&&(h++,c.empty.add(z));return z(),m.promise(s)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ze=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],tt=K.documentElement,mt=function(r){return l.contains(r.ownerDocument,r)},It={composed:!0};tt.getRootNode&&(mt=function(r){return l.contains(r.ownerDocument,r)||r.getRootNode(It)===r.ownerDocument});var Et=function(r,s){return r=s||r,r.style.display==="none"||r.style.display===""&&mt(r)&&l.css(r,"display")==="none"};function qt(r,s,c,h){var m,g,w=20,z=h?function(){return h.cur()}:function(){return l.css(r,s,"")},N=z(),V=c&&c[3]||(l.cssNumber[s]?"":"px"),ue=r.nodeType&&(l.cssNumber[s]||V!=="px"&&+N)&&Ze.exec(l.css(r,s));if(ue&&ue[3]!==V){for(N=N/2,V=V||ue[3],ue=+N||1;w--;)l.style(r,s,ue+V),(1-g)*(1-(g=z()/N||.5))<=0&&(w=0),ue=ue/g;ue=ue*2,l.style(r,s,ue+V),c=c||[]}return c&&(ue=+ue||+N||0,m=c[1]?ue+(c[1]+1)*c[2]:+c[2],h&&(h.unit=V,h.start=ue,h.end=m)),m}var Bt={};function At(r){var s,c=r.ownerDocument,h=r.nodeName,m=Bt[h];return m||(s=c.body.appendChild(c.createElement(h)),m=l.css(s,"display"),s.parentNode.removeChild(s),m==="none"&&(m="block"),Bt[h]=m,m)}function Vt(r,s){for(var c,h,m=[],g=0,w=r.length;g<w;g++)h=r[g],h.style&&(c=h.style.display,s?(c==="none"&&(m[g]=P.get(h,"display")||null,m[g]||(h.style.display="")),h.style.display===""&&Et(h)&&(m[g]=At(h))):c!=="none"&&(m[g]="none",P.set(h,"display",c)));for(g=0;g<w;g++)m[g]!=null&&(r[g].style.display=m[g]);return r}l.fn.extend({show:function(){return Vt(this,!0)},hide:function(){return Vt(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){Et(this)?l(this).show():l(this).hide()})}});var St=/^(?:checkbox|radio)$/i,Ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var r=K.createDocumentFragment(),s=r.appendChild(K.createElement("div")),c=K.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),s.appendChild(c),re.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,s.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!s.cloneNode(!0).lastChild.defaultValue,s.innerHTML="<option></option>",re.option=!!s.lastChild})();var Nt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,re.option||(Nt.optgroup=Nt.option=[1,"<select multiple='multiple'>","</select>"]);function Tt(r,s){var c;return typeof r.getElementsByTagName<"u"?c=r.getElementsByTagName(s||"*"):typeof r.querySelectorAll<"u"?c=r.querySelectorAll(s||"*"):c=[],s===void 0||s&&_e(r,s)?l.merge([r],c):c}function rn(r,s){for(var c=0,h=r.length;c<h;c++)P.set(r[c],"globalEval",!s||P.get(s[c],"globalEval"))}var bn=/<|&#?\w+;/;function Sn(r,s,c,h,m){for(var g,w,z,N,V,ue,de=s.createDocumentFragment(),oe=[],we=0,Ve=r.length;we<Ve;we++)if(g=r[we],g||g===0)if(te(g)==="object")l.merge(oe,g.nodeType?[g]:g);else if(!bn.test(g))oe.push(s.createTextNode(g));else{for(w=w||de.appendChild(s.createElement("div")),z=(Ct.exec(g)||["",""])[1].toLowerCase(),N=Nt[z]||Nt._default,w.innerHTML=N[1]+l.htmlPrefilter(g)+N[2],ue=N[0];ue--;)w=w.lastChild;l.merge(oe,w.childNodes),w=de.firstChild,w.textContent=""}for(de.textContent="",we=0;g=oe[we++];){if(h&&l.inArray(g,h)>-1){m&&m.push(g);continue}if(V=mt(g),w=Tt(de.appendChild(g),"script"),V&&rn(w),c)for(ue=0;g=w[ue++];)Qt.test(g.type||"")&&c.push(g)}return de}var ki=/^([^.]*)(?:\.(.+)|)/;function Nn(){return!0}function Hn(){return!1}function zt(r,s,c,h,m,g){var w,z;if(typeof s=="object"){typeof c!="string"&&(h=h||c,c=void 0);for(z in s)zt(r,z,c,h,s[z],g);return r}if(h==null&&m==null?(m=c,h=c=void 0):m==null&&(typeof c=="string"?(m=h,h=void 0):(m=h,h=c,c=void 0)),m===!1)m=Hn;else if(!m)return r;return g===1&&(w=m,m=function(N){return l().off(N),w.apply(this,arguments)},m.guid=w.guid||(w.guid=l.guid++)),r.each(function(){l.event.add(this,s,m,h,c)})}l.event={global:{},add:function(r,s,c,h,m){var g,w,z,N,V,ue,de,oe,we,Ve,ut,nt=P.get(r);if(T(r))for(c.handler&&(g=c,c=g.handler,m=g.selector),m&&l.find.matchesSelector(tt,m),c.guid||(c.guid=l.guid++),(N=nt.events)||(N=nt.events=Object.create(null)),(w=nt.handle)||(w=nt.handle=function(Rt){return typeof l<"u"&&l.event.triggered!==Rt.type?l.event.dispatch.apply(r,arguments):void 0}),s=(s||"").match(Yt)||[""],V=s.length;V--;)z=ki.exec(s[V])||[],we=ut=z[1],Ve=(z[2]||"").split(".").sort(),we&&(de=l.event.special[we]||{},we=(m?de.delegateType:de.bindType)||we,de=l.event.special[we]||{},ue=l.extend({type:we,origType:ut,data:h,handler:c,guid:c.guid,selector:m,needsContext:m&&l.expr.match.needsContext.test(m),namespace:Ve.join(".")},g),(oe=N[we])||(oe=N[we]=[],oe.delegateCount=0,(!de.setup||de.setup.call(r,h,Ve,w)===!1)&&r.addEventListener&&r.addEventListener(we,w)),de.add&&(de.add.call(r,ue),ue.handler.guid||(ue.handler.guid=c.guid)),m?oe.splice(oe.delegateCount++,0,ue):oe.push(ue),l.event.global[we]=!0)},remove:function(r,s,c,h,m){var g,w,z,N,V,ue,de,oe,we,Ve,ut,nt=P.hasData(r)&&P.get(r);if(!(!nt||!(N=nt.events))){for(s=(s||"").match(Yt)||[""],V=s.length;V--;){if(z=ki.exec(s[V])||[],we=ut=z[1],Ve=(z[2]||"").split(".").sort(),!we){for(we in N)l.event.remove(r,we+s[V],c,h,!0);continue}for(de=l.event.special[we]||{},we=(h?de.delegateType:de.bindType)||we,oe=N[we]||[],z=z[2]&&new RegExp("(^|\\.)"+Ve.join("\\.(?:.*\\.|)")+"(\\.|$)"),w=g=oe.length;g--;)ue=oe[g],(m||ut===ue.origType)&&(!c||c.guid===ue.guid)&&(!z||z.test(ue.namespace))&&(!h||h===ue.selector||h==="**"&&ue.selector)&&(oe.splice(g,1),ue.selector&&oe.delegateCount--,de.remove&&de.remove.call(r,ue));w&&!oe.length&&((!de.teardown||de.teardown.call(r,Ve,nt.handle)===!1)&&l.removeEvent(r,we,nt.handle),delete N[we])}l.isEmptyObject(N)&&P.remove(r,"handle events")}},dispatch:function(r){var s,c,h,m,g,w,z=new Array(arguments.length),N=l.event.fix(r),V=(P.get(this,"events")||Object.create(null))[N.type]||[],ue=l.event.special[N.type]||{};for(z[0]=N,s=1;s<arguments.length;s++)z[s]=arguments[s];if(N.delegateTarget=this,!(ue.preDispatch&&ue.preDispatch.call(this,N)===!1)){for(w=l.event.handlers.call(this,N,V),s=0;(m=w[s++])&&!N.isPropagationStopped();)for(N.currentTarget=m.elem,c=0;(g=m.handlers[c++])&&!N.isImmediatePropagationStopped();)(!N.rnamespace||g.namespace===!1||N.rnamespace.test(g.namespace))&&(N.handleObj=g,N.data=g.data,h=((l.event.special[g.origType]||{}).handle||g.handler).apply(m.elem,z),h!==void 0&&(N.result=h)===!1&&(N.preventDefault(),N.stopPropagation()));return ue.postDispatch&&ue.postDispatch.call(this,N),N.result}},handlers:function(r,s){var c,h,m,g,w,z=[],N=s.delegateCount,V=r.target;if(N&&V.nodeType&&!(r.type==="click"&&r.button>=1)){for(;V!==this;V=V.parentNode||this)if(V.nodeType===1&&!(r.type==="click"&&V.disabled===!0)){for(g=[],w={},c=0;c<N;c++)h=s[c],m=h.selector+" ",w[m]===void 0&&(w[m]=h.needsContext?l(m,this).index(V)>-1:l.find(m,this,null,[V]).length),w[m]&&g.push(h);g.length&&z.push({elem:V,handlers:g})}}return V=this,N<s.length&&z.push({elem:V,handlers:s.slice(N)}),z},addProp:function(r,s){Object.defineProperty(l.Event.prototype,r,{enumerable:!0,configurable:!0,get:Q(s)?function(){if(this.originalEvent)return s(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(c){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(r){return r[l.expando]?r:new l.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var s=this||r;return St.test(s.type)&&s.click&&_e(s,"input")&&ze(s,"click",!0),!1},trigger:function(r){var s=this||r;return St.test(s.type)&&s.click&&_e(s,"input")&&ze(s,"click"),!0},_default:function(r){var s=r.target;return St.test(s.type)&&s.click&&_e(s,"input")&&P.get(s,"click")||_e(s,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};function ze(r,s,c){if(!c){P.get(r,s)===void 0&&l.event.add(r,s,Nn);return}P.set(r,s,!1),l.event.add(r,s,{namespace:!1,handler:function(h){var m,g=P.get(this,s);if(h.isTrigger&1&&this[s]){if(g)(l.event.special[s]||{}).delegateType&&h.stopPropagation();else if(g=y.call(arguments),P.set(this,s,g),this[s](),m=P.get(this,s),P.set(this,s,!1),g!==m)return h.stopImmediatePropagation(),h.preventDefault(),m}else g&&(P.set(this,s,l.event.trigger(g[0],g.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=Nn)}})}l.removeEvent=function(r,s,c){r.removeEventListener&&r.removeEventListener(s,c)},l.Event=function(r,s){if(!(this instanceof l.Event))return new l.Event(r,s);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?Nn:Hn,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,s&&l.extend(this,s),this.timeStamp=r&&r.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:Hn,isPropagationStopped:Hn,isImmediatePropagationStopped:Hn,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=Nn,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=Nn,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=Nn,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(r,s){function c(h){if(K.documentMode){var m=P.get(this,"handle"),g=l.event.fix(h);g.type=h.type==="focusin"?"focus":"blur",g.isSimulated=!0,m(h),g.target===g.currentTarget&&m(g)}else l.event.simulate(s,h.target,l.event.fix(h))}l.event.special[r]={setup:function(){var h;if(ze(this,r,!0),K.documentMode)h=P.get(this,s),h||this.addEventListener(s,c),P.set(this,s,(h||0)+1);else return!1},trigger:function(){return ze(this,r),!0},teardown:function(){var h;if(K.documentMode)h=P.get(this,s)-1,h?P.set(this,s,h):(this.removeEventListener(s,c),P.remove(this,s));else return!1},_default:function(h){return P.get(h.target,r)},delegateType:s},l.event.special[s]={setup:function(){var h=this.ownerDocument||this.document||this,m=K.documentMode?this:h,g=P.get(m,s);g||(K.documentMode?this.addEventListener(s,c):h.addEventListener(r,c,!0)),P.set(m,s,(g||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,m=K.documentMode?this:h,g=P.get(m,s)-1;g?P.set(m,s,g):(K.documentMode?this.removeEventListener(s,c):h.removeEventListener(r,c,!0),P.remove(m,s))}}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,s){l.event.special[r]={delegateType:s,bindType:s,handle:function(c){var h,m=this,g=c.relatedTarget,w=c.handleObj;return(!g||g!==m&&!l.contains(m,g))&&(c.type=w.origType,h=w.handler.apply(this,arguments),c.type=s),h}}}),l.fn.extend({on:function(r,s,c,h){return zt(this,r,s,c,h)},one:function(r,s,c,h){return zt(this,r,s,c,h,1)},off:function(r,s,c){var h,m;if(r&&r.preventDefault&&r.handleObj)return h=r.handleObj,l(r.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof r=="object"){for(m in r)this.off(m,s,r[m]);return this}return(s===!1||typeof s=="function")&&(c=s,s=void 0),c===!1&&(c=Hn),this.each(function(){l.event.remove(this,r,c,s)})}});var Ji=/<script|<style|<link/i,Ci=/checked\s*(?:[^=]|=\s*.checked.)/i,ri=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Oi(r,s){return _e(r,"table")&&_e(s.nodeType!==11?s:s.firstChild,"tr")&&l(r).children("tbody")[0]||r}function Ii(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function Bi(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Yn(r,s){var c,h,m,g,w,z,N;if(s.nodeType===1){if(P.hasData(r)&&(g=P.get(r),N=g.events,N)){P.remove(s,"handle events");for(m in N)for(c=0,h=N[m].length;c<h;c++)l.event.add(s,m,N[m][c])}ce.hasData(r)&&(w=ce.access(r),z=l.extend({},w),ce.set(s,z))}}function Ri(r,s){var c=s.nodeName.toLowerCase();c==="input"&&St.test(r.type)?s.checked=r.checked:(c==="input"||c==="textarea")&&(s.defaultValue=r.defaultValue)}function An(r,s,c,h){s=_(s);var m,g,w,z,N,V,ue=0,de=r.length,oe=de-1,we=s[0],Ve=Q(we);if(Ve||de>1&&typeof we=="string"&&!re.checkClone&&Ci.test(we))return r.each(function(ut){var nt=r.eq(ut);Ve&&(s[0]=we.call(this,ut,nt.html())),An(nt,s,c,h)});if(de&&(m=Sn(s,r[0].ownerDocument,!1,r,h),g=m.firstChild,m.childNodes.length===1&&(m=g),g||h)){for(w=l.map(Tt(m,"script"),Ii),z=w.length;ue<de;ue++)N=m,ue!==oe&&(N=l.clone(N,!0,!0),z&&l.merge(w,Tt(N,"script"))),c.call(r[ue],N,ue);if(z)for(V=w[w.length-1].ownerDocument,l.map(w,Bi),ue=0;ue<z;ue++)N=w[ue],Qt.test(N.type||"")&&!P.access(N,"globalEval")&&l.contains(V,N)&&(N.src&&(N.type||"").toLowerCase()!=="module"?l._evalUrl&&!N.noModule&&l._evalUrl(N.src,{nonce:N.nonce||N.getAttribute("nonce")},V):X(N.textContent.replace(ri,""),N,V))}return r}function Zi(r,s,c){for(var h,m=s?l.filter(s,r):r,g=0;(h=m[g])!=null;g++)!c&&h.nodeType===1&&l.cleanData(Tt(h)),h.parentNode&&(c&&mt(h)&&rn(Tt(h,"script")),h.parentNode.removeChild(h));return r}l.extend({htmlPrefilter:function(r){return r},clone:function(r,s,c){var h,m,g,w,z=r.cloneNode(!0),N=mt(r);if(!re.noCloneChecked&&(r.nodeType===1||r.nodeType===11)&&!l.isXMLDoc(r))for(w=Tt(z),g=Tt(r),h=0,m=g.length;h<m;h++)Ri(g[h],w[h]);if(s)if(c)for(g=g||Tt(r),w=w||Tt(z),h=0,m=g.length;h<m;h++)Yn(g[h],w[h]);else Yn(r,z);return w=Tt(z,"script"),w.length>0&&rn(w,!N&&Tt(r,"script")),z},cleanData:function(r){for(var s,c,h,m=l.event.special,g=0;(c=r[g])!==void 0;g++)if(T(c)){if(s=c[P.expando]){if(s.events)for(h in s.events)m[h]?l.event.remove(c,h):l.removeEvent(c,h,s.handle);c[P.expando]=void 0}c[ce.expando]&&(c[ce.expando]=void 0)}}}),l.fn.extend({detach:function(r){return Zi(this,r,!0)},remove:function(r){return Zi(this,r)},text:function(r){return $t(this,function(s){return s===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=s)})},null,r,arguments.length)},append:function(){return An(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var s=Oi(this,r);s.appendChild(r)}})},prepend:function(){return An(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var s=Oi(this,r);s.insertBefore(r,s.firstChild)}})},before:function(){return An(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return An(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,s=0;(r=this[s])!=null;s++)r.nodeType===1&&(l.cleanData(Tt(r,!1)),r.textContent="");return this},clone:function(r,s){return r=r??!1,s=s??r,this.map(function(){return l.clone(this,r,s)})},html:function(r){return $t(this,function(s){var c=this[0]||{},h=0,m=this.length;if(s===void 0&&c.nodeType===1)return c.innerHTML;if(typeof s=="string"&&!Ji.test(s)&&!Nt[(Ct.exec(s)||["",""])[1].toLowerCase()]){s=l.htmlPrefilter(s);try{for(;h<m;h++)c=this[h]||{},c.nodeType===1&&(l.cleanData(Tt(c,!1)),c.innerHTML=s);c=0}catch{}}c&&this.empty().append(s)},null,r,arguments.length)},replaceWith:function(){var r=[];return An(this,arguments,function(s){var c=this.parentNode;l.inArray(this,r)<0&&(l.cleanData(Tt(this)),c&&c.replaceChild(s,this))},r)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,s){l.fn[r]=function(c){for(var h,m=[],g=l(c),w=g.length-1,z=0;z<=w;z++)h=z===w?this:this.clone(!0),l(g[z])[s](h),k.apply(m,h.get());return this.pushStack(m)}});var bi=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Gi=/^--/,jn=function(r){var s=r.ownerDocument.defaultView;return(!s||!s.opener)&&(s=F),s.getComputedStyle(r)},Ui=function(r,s,c){var h,m,g={};for(m in s)g[m]=r.style[m],r.style[m]=s[m];h=c.call(r);for(m in s)r.style[m]=g[m];return h},Ti=new RegExp(st.join("|"),"i");(function(){function r(){if(V){N.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",V.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",tt.appendChild(N).appendChild(V);var ue=F.getComputedStyle(V);c=ue.top!=="1%",z=s(ue.marginLeft)===12,V.style.right="60%",g=s(ue.right)===36,h=s(ue.width)===36,V.style.position="absolute",m=s(V.offsetWidth/3)===12,tt.removeChild(N),V=null}}function s(ue){return Math.round(parseFloat(ue))}var c,h,m,g,w,z,N=K.createElement("div"),V=K.createElement("div");V.style&&(V.style.backgroundClip="content-box",V.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle=V.style.backgroundClip==="content-box",l.extend(re,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),g},pixelPosition:function(){return r(),c},reliableMarginLeft:function(){return r(),z},scrollboxSize:function(){return r(),m},reliableTrDimensions:function(){var ue,de,oe,we;return w==null&&(ue=K.createElement("table"),de=K.createElement("tr"),oe=K.createElement("div"),ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",de.style.cssText="box-sizing:content-box;border:1px solid",de.style.height="1px",oe.style.height="9px",oe.style.display="block",tt.appendChild(ue).appendChild(de).appendChild(oe),we=F.getComputedStyle(de),w=parseInt(we.height,10)+parseInt(we.borderTopWidth,10)+parseInt(we.borderBottomWidth,10)===de.offsetHeight,tt.removeChild(ue)),w}}))})();function kn(r,s,c){var h,m,g,w,z=Gi.test(s),N=r.style;return c=c||jn(r),c&&(w=c.getPropertyValue(s)||c[s],z&&w&&(w=w.replace(Ae,"$1")||void 0),w===""&&!mt(r)&&(w=l.style(r,s)),!re.pixelBoxStyles()&&bi.test(w)&&Ti.test(s)&&(h=N.width,m=N.minWidth,g=N.maxWidth,N.minWidth=N.maxWidth=N.width=w,w=c.width,N.width=h,N.minWidth=m,N.maxWidth=g)),w!==void 0?w+"":w}function Xi(r,s){return{get:function(){if(r()){delete this.get;return}return(this.get=s).apply(this,arguments)}}}var Fi=["Webkit","Moz","ms"],Di=K.createElement("div").style,$i={};function Hi(r){for(var s=r[0].toUpperCase()+r.slice(1),c=Fi.length;c--;)if(r=Fi[c]+s,r in Di)return r}function zn(r){var s=l.cssProps[r]||$i[r];return s||(r in Di?r:$i[r]=Hi(r)||r)}var _i=/^(none|table(?!-c[ea]).+)/,yi={position:"absolute",visibility:"hidden",display:"block"},qn={letterSpacing:"0",fontWeight:"400"};function ft(r,s,c){var h=Ze.exec(s);return h?Math.max(0,h[2]-(c||0))+(h[3]||"px"):s}function vt(r,s,c,h,m,g){var w=s==="width"?1:0,z=0,N=0,V=0;if(c===(h?"border":"content"))return 0;for(;w<4;w+=2)c==="margin"&&(V+=l.css(r,c+st[w],!0,m)),h?(c==="content"&&(N-=l.css(r,"padding"+st[w],!0,m)),c!=="margin"&&(N-=l.css(r,"border"+st[w]+"Width",!0,m))):(N+=l.css(r,"padding"+st[w],!0,m),c!=="padding"?N+=l.css(r,"border"+st[w]+"Width",!0,m):z+=l.css(r,"border"+st[w]+"Width",!0,m));return!h&&g>=0&&(N+=Math.max(0,Math.ceil(r["offset"+s[0].toUpperCase()+s.slice(1)]-g-N-z-.5))||0),N+V}function oi(r,s,c){var h=jn(r),m=!re.boxSizingReliable()||c,g=m&&l.css(r,"boxSizing",!1,h)==="border-box",w=g,z=kn(r,s,h),N="offset"+s[0].toUpperCase()+s.slice(1);if(bi.test(z)){if(!c)return z;z="auto"}return(!re.boxSizingReliable()&&g||!re.reliableTrDimensions()&&_e(r,"tr")||z==="auto"||!parseFloat(z)&&l.css(r,"display",!1,h)==="inline")&&r.getClientRects().length&&(g=l.css(r,"boxSizing",!1,h)==="border-box",w=N in r,w&&(z=r[N])),z=parseFloat(z)||0,z+vt(r,s,c||(g?"border":"content"),w,h,z)+"px"}l.extend({cssHooks:{opacity:{get:function(r,s){if(s){var c=kn(r,"opacity");return c===""?"1":c}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,s,c,h){if(!(!r||r.nodeType===3||r.nodeType===8||!r.style)){var m,g,w,z=v(s),N=Gi.test(s),V=r.style;if(N||(s=zn(z)),w=l.cssHooks[s]||l.cssHooks[z],c!==void 0){if(g=typeof c,g==="string"&&(m=Ze.exec(c))&&m[1]&&(c=qt(r,s,m),g="number"),c==null||c!==c)return;g==="number"&&!N&&(c+=m&&m[3]||(l.cssNumber[z]?"":"px")),!re.clearCloneStyle&&c===""&&s.indexOf("background")===0&&(V[s]="inherit"),(!w||!("set"in w)||(c=w.set(r,c,h))!==void 0)&&(N?V.setProperty(s,c):V[s]=c)}else return w&&"get"in w&&(m=w.get(r,!1,h))!==void 0?m:V[s]}},css:function(r,s,c,h){var m,g,w,z=v(s),N=Gi.test(s);return N||(s=zn(z)),w=l.cssHooks[s]||l.cssHooks[z],w&&"get"in w&&(m=w.get(r,!0,c)),m===void 0&&(m=kn(r,s,h)),m==="normal"&&s in qn&&(m=qn[s]),c===""||c?(g=parseFloat(m),c===!0||isFinite(g)?g||0:m):m}}),l.each(["height","width"],function(r,s){l.cssHooks[s]={get:function(c,h,m){if(h)return _i.test(l.css(c,"display"))&&(!c.getClientRects().length||!c.getBoundingClientRect().width)?Ui(c,yi,function(){return oi(c,s,m)}):oi(c,s,m)},set:function(c,h,m){var g,w=jn(c),z=!re.scrollboxSize()&&w.position==="absolute",N=z||m,V=N&&l.css(c,"boxSizing",!1,w)==="border-box",ue=m?vt(c,s,m,V,w):0;return V&&z&&(ue-=Math.ceil(c["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(w[s])-vt(c,s,"border",!1,w)-.5)),ue&&(g=Ze.exec(h))&&(g[3]||"px")!=="px"&&(c.style[s]=h,h=l.css(c,s)),ft(c,h,ue)}}}),l.cssHooks.marginLeft=Xi(re.reliableMarginLeft,function(r,s){if(s)return(parseFloat(kn(r,"marginLeft"))||r.getBoundingClientRect().left-Ui(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(r,s){l.cssHooks[r+s]={expand:function(c){for(var h=0,m={},g=typeof c=="string"?c.split(" "):[c];h<4;h++)m[r+st[h]+s]=g[h]||g[h-2]||g[0];return m}},r!=="margin"&&(l.cssHooks[r+s].set=ft)}),l.fn.extend({css:function(r,s){return $t(this,function(c,h,m){var g,w,z={},N=0;if(Array.isArray(h)){for(g=jn(c),w=h.length;N<w;N++)z[h[N]]=l.css(c,h[N],!1,g);return z}return m!==void 0?l.style(c,h,m):l.css(c,h)},r,s,arguments.length>1)}});function jt(r,s,c,h,m){return new jt.prototype.init(r,s,c,h,m)}l.Tween=jt,jt.prototype={constructor:jt,init:function(r,s,c,h,m,g){this.elem=r,this.prop=c,this.easing=m||l.easing._default,this.options=s,this.start=this.now=this.cur(),this.end=h,this.unit=g||(l.cssNumber[c]?"":"px")},cur:function(){var r=jt.propHooks[this.prop];return r&&r.get?r.get(this):jt.propHooks._default.get(this)},run:function(r){var s,c=jt.propHooks[this.prop];return this.options.duration?this.pos=s=l.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=s=r,this.now=(this.end-this.start)*s+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):jt.propHooks._default.set(this),this}},jt.prototype.init.prototype=jt.prototype,jt.propHooks={_default:{get:function(r){var s;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(s=l.css(r.elem,r.prop,""),!s||s==="auto"?0:s)},set:function(r){l.fx.step[r.prop]?l.fx.step[r.prop](r):r.elem.nodeType===1&&(l.cssHooks[r.prop]||r.elem.style[zn(r.prop)]!=null)?l.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}},jt.propHooks.scrollTop=jt.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},l.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},l.fx=jt.prototype.init,l.fx.step={};var cn,ai,et=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;function Wn(){ai&&(K.hidden===!1&&F.requestAnimationFrame?F.requestAnimationFrame(Wn):F.setTimeout(Wn,l.fx.interval),l.fx.tick())}function vi(){return F.setTimeout(function(){cn=void 0}),cn=Date.now()}function Ft(r,s){var c,h=0,m={height:r};for(s=s?1:0;h<4;h+=2-s)c=st[h],m["margin"+c]=m["padding"+c]=r;return s&&(m.opacity=m.width=r),m}function Vn(r,s,c){for(var h,m=(gt.tweeners[s]||[]).concat(gt.tweeners["*"]),g=0,w=m.length;g<w;g++)if(h=m[g].call(c,s,r))return h}function Qn(r,s,c){var h,m,g,w,z,N,V,ue,de="width"in s||"height"in s,oe=this,we={},Ve=r.style,ut=r.nodeType&&Et(r),nt=P.get(r,"fxshow");c.queue||(w=l._queueHooks(r,"fx"),w.unqueued==null&&(w.unqueued=0,z=w.empty.fire,w.empty.fire=function(){w.unqueued||z()}),w.unqueued++,oe.always(function(){oe.always(function(){w.unqueued--,l.queue(r,"fx").length||w.empty.fire()})}));for(h in s)if(m=s[h],et.test(m)){if(delete s[h],g=g||m==="toggle",m===(ut?"hide":"show"))if(m==="show"&&nt&&nt[h]!==void 0)ut=!0;else continue;we[h]=nt&&nt[h]||l.style(r,h)}if(N=!l.isEmptyObject(s),!(!N&&l.isEmptyObject(we))){de&&r.nodeType===1&&(c.overflow=[Ve.overflow,Ve.overflowX,Ve.overflowY],V=nt&&nt.display,V==null&&(V=P.get(r,"display")),ue=l.css(r,"display"),ue==="none"&&(V?ue=V:(Vt([r],!0),V=r.style.display||V,ue=l.css(r,"display"),Vt([r]))),(ue==="inline"||ue==="inline-block"&&V!=null)&&l.css(r,"float")==="none"&&(N||(oe.done(function(){Ve.display=V}),V==null&&(ue=Ve.display,V=ue==="none"?"":ue)),Ve.display="inline-block")),c.overflow&&(Ve.overflow="hidden",oe.always(function(){Ve.overflow=c.overflow[0],Ve.overflowX=c.overflow[1],Ve.overflowY=c.overflow[2]})),N=!1;for(h in we)N||(nt?"hidden"in nt&&(ut=nt.hidden):nt=P.access(r,"fxshow",{display:V}),g&&(nt.hidden=!ut),ut&&Vt([r],!0),oe.done(function(){ut||Vt([r]),P.remove(r,"fxshow");for(h in we)l.style(r,h,we[h])})),N=Vn(ut?nt[h]:0,h,oe),h in nt||(nt[h]=N.start,ut&&(N.end=N.start,N.start=0))}}function Kn(r,s){var c,h,m,g,w;for(c in r)if(h=v(c),m=s[h],g=r[c],Array.isArray(g)&&(m=g[1],g=r[c]=g[0]),c!==h&&(r[h]=g,delete r[c]),w=l.cssHooks[h],w&&"expand"in w){g=w.expand(g),delete r[h];for(c in g)c in r||(r[c]=g[c],s[c]=m)}else s[h]=m}function gt(r,s,c){var h,m,g=0,w=gt.prefilters.length,z=l.Deferred().always(function(){delete N.elem}),N=function(){if(m)return!1;for(var de=cn||vi(),oe=Math.max(0,V.startTime+V.duration-de),we=oe/V.duration||0,Ve=1-we,ut=0,nt=V.tweens.length;ut<nt;ut++)V.tweens[ut].run(Ve);return z.notifyWith(r,[V,Ve,oe]),Ve<1&&nt?oe:(nt||z.notifyWith(r,[V,1,0]),z.resolveWith(r,[V]),!1)},V=z.promise({elem:r,props:l.extend({},s),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},c),originalProperties:s,originalOptions:c,startTime:cn||vi(),duration:c.duration,tweens:[],createTween:function(de,oe){var we=l.Tween(r,V.opts,de,oe,V.opts.specialEasing[de]||V.opts.easing);return V.tweens.push(we),we},stop:function(de){var oe=0,we=de?V.tweens.length:0;if(m)return this;for(m=!0;oe<we;oe++)V.tweens[oe].run(1);return de?(z.notifyWith(r,[V,1,0]),z.resolveWith(r,[V,de])):z.rejectWith(r,[V,de]),this}}),ue=V.props;for(Kn(ue,V.opts.specialEasing);g<w;g++)if(h=gt.prefilters[g].call(V,r,ue,V.opts),h)return Q(h.stop)&&(l._queueHooks(V.elem,V.opts.queue).stop=h.stop.bind(h)),h;return l.map(ue,Vn,V),Q(V.opts.start)&&V.opts.start.call(r,V),V.progress(V.opts.progress).done(V.opts.done,V.opts.complete).fail(V.opts.fail).always(V.opts.always),l.fx.timer(l.extend(N,{elem:r,anim:V,queue:V.opts.queue})),V}l.Animation=l.extend(gt,{tweeners:{"*":[function(r,s){var c=this.createTween(r,s);return qt(c.elem,r,Ze.exec(s),c),c}]},tweener:function(r,s){Q(r)?(s=r,r=["*"]):r=r.match(Yt);for(var c,h=0,m=r.length;h<m;h++)c=r[h],gt.tweeners[c]=gt.tweeners[c]||[],gt.tweeners[c].unshift(s)},prefilters:[Qn],prefilter:function(r,s){s?gt.prefilters.unshift(r):gt.prefilters.push(r)}}),l.speed=function(r,s,c){var h=r&&typeof r=="object"?l.extend({},r):{complete:c||!c&&s||Q(r)&&r,duration:r,easing:c&&s||s&&!Q(s)&&s};return l.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in l.fx.speeds?h.duration=l.fx.speeds[h.duration]:h.duration=l.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){Q(h.old)&&h.old.call(this),h.queue&&l.dequeue(this,h.queue)},h},l.fn.extend({fadeTo:function(r,s,c,h){return this.filter(Et).css("opacity",0).show().end().animate({opacity:s},r,c,h)},animate:function(r,s,c,h){var m=l.isEmptyObject(r),g=l.speed(s,c,h),w=function(){var z=gt(this,l.extend({},r),g);(m||P.get(this,"finish"))&&z.stop(!0)};return w.finish=w,m||g.queue===!1?this.each(w):this.queue(g.queue,w)},stop:function(r,s,c){var h=function(m){var g=m.stop;delete m.stop,g(c)};return typeof r!="string"&&(c=s,s=r,r=void 0),s&&this.queue(r||"fx",[]),this.each(function(){var m=!0,g=r!=null&&r+"queueHooks",w=l.timers,z=P.get(this);if(g)z[g]&&z[g].stop&&h(z[g]);else for(g in z)z[g]&&z[g].stop&&Pt.test(g)&&h(z[g]);for(g=w.length;g--;)w[g].elem===this&&(r==null||w[g].queue===r)&&(w[g].anim.stop(c),m=!1,w.splice(g,1));(m||!c)&&l.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var s,c=P.get(this),h=c[r+"queue"],m=c[r+"queueHooks"],g=l.timers,w=h?h.length:0;for(c.finish=!0,l.queue(this,r,[]),m&&m.stop&&m.stop.call(this,!0),s=g.length;s--;)g[s].elem===this&&g[s].queue===r&&(g[s].anim.stop(!0),g.splice(s,1));for(s=0;s<w;s++)h[s]&&h[s].finish&&h[s].finish.call(this);delete c.finish})}}),l.each(["toggle","show","hide"],function(r,s){var c=l.fn[s];l.fn[s]=function(h,m,g){return h==null||typeof h=="boolean"?c.apply(this,arguments):this.animate(Ft(s,!0),h,m,g)}}),l.each({slideDown:Ft("show"),slideUp:Ft("hide"),slideToggle:Ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,s){l.fn[r]=function(c,h,m){return this.animate(s,c,h,m)}}),l.timers=[],l.fx.tick=function(){var r,s=0,c=l.timers;for(cn=Date.now();s<c.length;s++)r=c[s],!r()&&c[s]===r&&c.splice(s--,1);c.length||l.fx.stop(),cn=void 0},l.fx.timer=function(r){l.timers.push(r),l.fx.start()},l.fx.interval=13,l.fx.start=function(){ai||(ai=!0,Wn())},l.fx.stop=function(){ai=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(r,s){return r=l.fx&&l.fx.speeds[r]||r,s=s||"fx",this.queue(s,function(c,h){var m=F.setTimeout(c,r);h.stop=function(){F.clearTimeout(m)}})},function(){var r=K.createElement("input"),s=K.createElement("select"),c=s.appendChild(K.createElement("option"));r.type="checkbox",re.checkOn=r.value!=="",re.optSelected=c.selected,r=K.createElement("input"),r.value="t",r.type="radio",re.radioValue=r.value==="t"}();var Mt,on=l.expr.attrHandle;l.fn.extend({attr:function(r,s){return $t(this,l.attr,r,s,arguments.length>1)},removeAttr:function(r){return this.each(function(){l.removeAttr(this,r)})}}),l.extend({attr:function(r,s,c){var h,m,g=r.nodeType;if(!(g===3||g===8||g===2)){if(typeof r.getAttribute>"u")return l.prop(r,s,c);if((g!==1||!l.isXMLDoc(r))&&(m=l.attrHooks[s.toLowerCase()]||(l.expr.match.bool.test(s)?Mt:void 0)),c!==void 0){if(c===null){l.removeAttr(r,s);return}return m&&"set"in m&&(h=m.set(r,c,s))!==void 0?h:(r.setAttribute(s,c+""),c)}return m&&"get"in m&&(h=m.get(r,s))!==null?h:(h=l.find.attr(r,s),h??void 0)}},attrHooks:{type:{set:function(r,s){if(!re.radioValue&&s==="radio"&&_e(r,"input")){var c=r.value;return r.setAttribute("type",s),c&&(r.value=c),s}}}},removeAttr:function(r,s){var c,h=0,m=s&&s.match(Yt);if(m&&r.nodeType===1)for(;c=m[h++];)r.removeAttribute(c)}}),Mt={set:function(r,s,c){return s===!1?l.removeAttr(r,c):r.setAttribute(c,c),c}},l.each(l.expr.match.bool.source.match(/\w+/g),function(r,s){var c=on[s]||l.find.attr;on[s]=function(h,m,g){var w,z,N=m.toLowerCase();return g||(z=on[N],on[N]=w,w=c(h,m,g)!=null?N:null,on[N]=z),w}});var Jn=/^(?:input|select|textarea|button)$/i,Yi=/^(?:a|area)$/i;l.fn.extend({prop:function(r,s){return $t(this,l.prop,r,s,arguments.length>1)},removeProp:function(r){return this.each(function(){delete this[l.propFix[r]||r]})}}),l.extend({prop:function(r,s,c){var h,m,g=r.nodeType;if(!(g===3||g===8||g===2))return(g!==1||!l.isXMLDoc(r))&&(s=l.propFix[s]||s,m=l.propHooks[s]),c!==void 0?m&&"set"in m&&(h=m.set(r,c,s))!==void 0?h:r[s]=c:m&&"get"in m&&(h=m.get(r,s))!==null?h:r[s]},propHooks:{tabIndex:{get:function(r){var s=l.find.attr(r,"tabindex");return s?parseInt(s,10):Jn.test(r.nodeName)||Yi.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(l.propHooks.selected={get:function(r){var s=r.parentNode;return s&&s.parentNode&&s.parentNode.selectedIndex,null},set:function(r){var s=r.parentNode;s&&(s.selectedIndex,s.parentNode&&s.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function un(r){var s=r.match(Yt)||[];return s.join(" ")}function _n(r){return r.getAttribute&&r.getAttribute("class")||""}function Mi(r){return Array.isArray(r)?r:typeof r=="string"?r.match(Yt)||[]:[]}l.fn.extend({addClass:function(r){var s,c,h,m,g,w;return Q(r)?this.each(function(z){l(this).addClass(r.call(this,z,_n(this)))}):(s=Mi(r),s.length?this.each(function(){if(h=_n(this),c=this.nodeType===1&&" "+un(h)+" ",c){for(g=0;g<s.length;g++)m=s[g],c.indexOf(" "+m+" ")<0&&(c+=m+" ");w=un(c),h!==w&&this.setAttribute("class",w)}}):this)},removeClass:function(r){var s,c,h,m,g,w;return Q(r)?this.each(function(z){l(this).removeClass(r.call(this,z,_n(this)))}):arguments.length?(s=Mi(r),s.length?this.each(function(){if(h=_n(this),c=this.nodeType===1&&" "+un(h)+" ",c){for(g=0;g<s.length;g++)for(m=s[g];c.indexOf(" "+m+" ")>-1;)c=c.replace(" "+m+" "," ");w=un(c),h!==w&&this.setAttribute("class",w)}}):this):this.attr("class","")},toggleClass:function(r,s){var c,h,m,g,w=typeof r,z=w==="string"||Array.isArray(r);return Q(r)?this.each(function(N){l(this).toggleClass(r.call(this,N,_n(this),s),s)}):typeof s=="boolean"&&z?s?this.addClass(r):this.removeClass(r):(c=Mi(r),this.each(function(){if(z)for(g=l(this),m=0;m<c.length;m++)h=c[m],g.hasClass(h)?g.removeClass(h):g.addClass(h);else(r===void 0||w==="boolean")&&(h=_n(this),h&&P.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||r===!1?"":P.get(this,"__className__")||""))}))},hasClass:function(r){var s,c,h=0;for(s=" "+r+" ";c=this[h++];)if(c.nodeType===1&&(" "+un(_n(c))+" ").indexOf(s)>-1)return!0;return!1}});var si=/\r/g;l.fn.extend({val:function(r){var s,c,h,m=this[0];return arguments.length?(h=Q(r),this.each(function(g){var w;this.nodeType===1&&(h?w=r.call(this,g,l(this).val()):w=r,w==null?w="":typeof w=="number"?w+="":Array.isArray(w)&&(w=l.map(w,function(z){return z==null?"":z+""})),s=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!s||!("set"in s)||s.set(this,w,"value")===void 0)&&(this.value=w))})):m?(s=l.valHooks[m.type]||l.valHooks[m.nodeName.toLowerCase()],s&&"get"in s&&(c=s.get(m,"value"))!==void 0?c:(c=m.value,typeof c=="string"?c.replace(si,""):c??"")):void 0}}),l.extend({valHooks:{option:{get:function(r){var s=l.find.attr(r,"value");return s??un(l.text(r))}},select:{get:function(r){var s,c,h,m=r.options,g=r.selectedIndex,w=r.type==="select-one",z=w?null:[],N=w?g+1:m.length;for(g<0?h=N:h=w?g:0;h<N;h++)if(c=m[h],(c.selected||h===g)&&!c.disabled&&(!c.parentNode.disabled||!_e(c.parentNode,"optgroup"))){if(s=l(c).val(),w)return s;z.push(s)}return z},set:function(r,s){for(var c,h,m=r.options,g=l.makeArray(s),w=m.length;w--;)h=m[w],(h.selected=l.inArray(l.valHooks.option.get(h),g)>-1)&&(c=!0);return c||(r.selectedIndex=-1),g}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(r,s){if(Array.isArray(s))return r.checked=l.inArray(l(r).val(),s)>-1}},re.checkOn||(l.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})});var Cn=F.location,Ei={guid:Date.now()},fi=/\?/;l.parseXML=function(r){var s,c;if(!r||typeof r!="string")return null;try{s=new F.DOMParser().parseFromString(r,"text/xml")}catch{}return c=s&&s.getElementsByTagName("parsererror")[0],(!s||c)&&l.error("Invalid XML: "+(c?l.map(c.childNodes,function(h){return h.textContent}).join(`
`):r)),s};var qi=/^(?:focusinfocus|focusoutblur)$/,t=function(r){r.stopPropagation()};l.extend(l.event,{trigger:function(r,s,c,h){var m,g,w,z,N,V,ue,de,oe=[c||K],we=q.call(r,"type")?r.type:r,Ve=q.call(r,"namespace")?r.namespace.split("."):[];if(g=de=w=c=c||K,!(c.nodeType===3||c.nodeType===8)&&!qi.test(we+l.event.triggered)&&(we.indexOf(".")>-1&&(Ve=we.split("."),we=Ve.shift(),Ve.sort()),N=we.indexOf(":")<0&&"on"+we,r=r[l.expando]?r:new l.Event(we,typeof r=="object"&&r),r.isTrigger=h?2:3,r.namespace=Ve.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+Ve.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=c),s=s==null?[r]:l.makeArray(s,[r]),ue=l.event.special[we]||{},!(!h&&ue.trigger&&ue.trigger.apply(c,s)===!1))){if(!h&&!ue.noBubble&&!J(c)){for(z=ue.delegateType||we,qi.test(z+we)||(g=g.parentNode);g;g=g.parentNode)oe.push(g),w=g;w===(c.ownerDocument||K)&&oe.push(w.defaultView||w.parentWindow||F)}for(m=0;(g=oe[m++])&&!r.isPropagationStopped();)de=g,r.type=m>1?z:ue.bindType||we,V=(P.get(g,"events")||Object.create(null))[r.type]&&P.get(g,"handle"),V&&V.apply(g,s),V=N&&g[N],V&&V.apply&&T(g)&&(r.result=V.apply(g,s),r.result===!1&&r.preventDefault());return r.type=we,!h&&!r.isDefaultPrevented()&&(!ue._default||ue._default.apply(oe.pop(),s)===!1)&&T(c)&&N&&Q(c[we])&&!J(c)&&(w=c[N],w&&(c[N]=null),l.event.triggered=we,r.isPropagationStopped()&&de.addEventListener(we,t),c[we](),r.isPropagationStopped()&&de.removeEventListener(we,t),l.event.triggered=void 0,w&&(c[N]=w)),r.result}},simulate:function(r,s,c){var h=l.extend(new l.Event,c,{type:r,isSimulated:!0});l.event.trigger(h,null,s)}}),l.fn.extend({trigger:function(r,s){return this.each(function(){l.event.trigger(r,s,this)})},triggerHandler:function(r,s){var c=this[0];if(c)return l.event.trigger(r,s,c,!0)}});var i=/\[\]$/,a=/\r?\n/g,u=/^(?:submit|button|image|reset|file)$/i,p=/^(?:input|select|textarea|keygen)/i;function C(r,s,c,h){var m;if(Array.isArray(s))l.each(s,function(g,w){c||i.test(r)?h(r,w):C(r+"["+(typeof w=="object"&&w!=null?g:"")+"]",w,c,h)});else if(!c&&te(s)==="object")for(m in s)C(r+"["+m+"]",s[m],c,h);else h(r,s)}l.param=function(r,s){var c,h=[],m=function(g,w){var z=Q(w)?w():w;h[h.length]=encodeURIComponent(g)+"="+encodeURIComponent(z??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!l.isPlainObject(r))l.each(r,function(){m(this.name,this.value)});else for(c in r)C(c,r[c],s,m);return h.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=l.prop(this,"elements");return r?l.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!l(this).is(":disabled")&&p.test(this.nodeName)&&!u.test(r)&&(this.checked||!St.test(r))}).map(function(r,s){var c=l(this).val();return c==null?null:Array.isArray(c)?l.map(c,function(h){return{name:s.name,value:h.replace(a,`\r
`)}}):{name:s.name,value:c.replace(a,`\r
`)}}).get()}});var S=/%20/g,O=/#.*$/,j=/([?&])_=[^&]*/,R=/^(.*?):[ \t]*([^\r\n]*)$/mg,ee=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,he=/^(?:GET|HEAD)$/,ae=/^\/\//,ye={},Ee={},Ue="*/".concat("*"),$e=K.createElement("a");$e.href=Cn.href;function bt(r){return function(s,c){typeof s!="string"&&(c=s,s="*");var h,m=0,g=s.toLowerCase().match(Yt)||[];if(Q(c))for(;h=g[m++];)h[0]==="+"?(h=h.slice(1)||"*",(r[h]=r[h]||[]).unshift(c)):(r[h]=r[h]||[]).push(c)}}function dt(r,s,c,h){var m={},g=r===Ee;function w(z){var N;return m[z]=!0,l.each(r[z]||[],function(V,ue){var de=ue(s,c,h);if(typeof de=="string"&&!g&&!m[de])return s.dataTypes.unshift(de),w(de),!1;if(g)return!(N=de)}),N}return w(s.dataTypes[0])||!m["*"]&&w("*")}function Lt(r,s){var c,h,m=l.ajaxSettings.flatOptions||{};for(c in s)s[c]!==void 0&&((m[c]?r:h||(h={}))[c]=s[c]);return h&&l.extend(!0,r,h),r}function en(r,s,c){for(var h,m,g,w,z=r.contents,N=r.dataTypes;N[0]==="*";)N.shift(),h===void 0&&(h=r.mimeType||s.getResponseHeader("Content-Type"));if(h){for(m in z)if(z[m]&&z[m].test(h)){N.unshift(m);break}}if(N[0]in c)g=N[0];else{for(m in c){if(!N[0]||r.converters[m+" "+N[0]]){g=m;break}w||(w=m)}g=g||w}if(g)return g!==N[0]&&N.unshift(g),c[g]}function Fe(r,s,c,h){var m,g,w,z,N,V={},ue=r.dataTypes.slice();if(ue[1])for(w in r.converters)V[w.toLowerCase()]=r.converters[w];for(g=ue.shift();g;)if(r.responseFields[g]&&(c[r.responseFields[g]]=s),!N&&h&&r.dataFilter&&(s=r.dataFilter(s,r.dataType)),N=g,g=ue.shift(),g){if(g==="*")g=N;else if(N!=="*"&&N!==g){if(w=V[N+" "+g]||V["* "+g],!w){for(m in V)if(z=m.split(" "),z[1]===g&&(w=V[N+" "+z[0]]||V["* "+z[0]],w)){w===!0?w=V[m]:V[m]!==!0&&(g=z[0],ue.unshift(z[1]));break}}if(w!==!0)if(w&&r.throws)s=w(s);else try{s=w(s)}catch(de){return{state:"parsererror",error:w?de:"No conversion from "+N+" to "+g}}}}return{state:"success",data:s}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn.href,type:"GET",isLocal:ee.test(Cn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,s){return s?Lt(Lt(r,l.ajaxSettings),s):Lt(l.ajaxSettings,r)},ajaxPrefilter:bt(ye),ajaxTransport:bt(Ee),ajax:function(r,s){typeof r=="object"&&(s=r,r=void 0),s=s||{};var c,h,m,g,w,z,N,V,ue,de,oe=l.ajaxSetup({},s),we=oe.context||oe,Ve=oe.context&&(we.nodeType||we.jquery)?l(we):l.event,ut=l.Deferred(),nt=l.Callbacks("once memory"),Rt=oe.statusCode||{},Zt={},In={},Tn="canceled",rt={readyState:0,getResponseHeader:function(pt){var wt;if(N){if(!g)for(g={};wt=R.exec(m);)g[wt[1].toLowerCase()+" "]=(g[wt[1].toLowerCase()+" "]||[]).concat(wt[2]);wt=g[pt.toLowerCase()+" "]}return wt==null?null:wt.join(", ")},getAllResponseHeaders:function(){return N?m:null},setRequestHeader:function(pt,wt){return N==null&&(pt=In[pt.toLowerCase()]=In[pt.toLowerCase()]||pt,Zt[pt]=wt),this},overrideMimeType:function(pt){return N==null&&(oe.mimeType=pt),this},statusCode:function(pt){var wt;if(pt)if(N)rt.always(pt[rt.status]);else for(wt in pt)Rt[wt]=[Rt[wt],pt[wt]];return this},abort:function(pt){var wt=pt||Tn;return c&&c.abort(wt),hn(0,wt),this}};if(ut.promise(rt),oe.url=((r||oe.url||Cn.href)+"").replace(ae,Cn.protocol+"//"),oe.type=s.method||s.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Yt)||[""],oe.crossDomain==null){z=K.createElement("a");try{z.href=oe.url,z.href=z.href,oe.crossDomain=$e.protocol+"//"+$e.host!=z.protocol+"//"+z.host}catch{oe.crossDomain=!0}}if(oe.data&&oe.processData&&typeof oe.data!="string"&&(oe.data=l.param(oe.data,oe.traditional)),dt(ye,oe,s,rt),N)return rt;V=l.event&&oe.global,V&&l.active++===0&&l.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!he.test(oe.type),h=oe.url.replace(O,""),oe.hasContent?oe.data&&oe.processData&&(oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oe.data=oe.data.replace(S,"+")):(de=oe.url.slice(h.length),oe.data&&(oe.processData||typeof oe.data=="string")&&(h+=(fi.test(h)?"&":"?")+oe.data,delete oe.data),oe.cache===!1&&(h=h.replace(j,"$1"),de=(fi.test(h)?"&":"?")+"_="+Ei.guid+++de),oe.url=h+de),oe.ifModified&&(l.lastModified[h]&&rt.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&rt.setRequestHeader("If-None-Match",l.etag[h])),(oe.data&&oe.hasContent&&oe.contentType!==!1||s.contentType)&&rt.setRequestHeader("Content-Type",oe.contentType),rt.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+(oe.dataTypes[0]!=="*"?", "+Ue+"; q=0.01":""):oe.accepts["*"]);for(ue in oe.headers)rt.setRequestHeader(ue,oe.headers[ue]);if(oe.beforeSend&&(oe.beforeSend.call(we,rt,oe)===!1||N))return rt.abort();if(Tn="abort",nt.add(oe.complete),rt.done(oe.success),rt.fail(oe.error),c=dt(Ee,oe,s,rt),!c)hn(-1,"No Transport");else{if(rt.readyState=1,V&&Ve.trigger("ajaxSend",[rt,oe]),N)return rt;oe.async&&oe.timeout>0&&(w=F.setTimeout(function(){rt.abort("timeout")},oe.timeout));try{N=!1,c.send(Zt,hn)}catch(pt){if(N)throw pt;hn(-1,pt)}}function hn(pt,wt,Kt,tr){var Dn,Vi,yn,On,ci,vn=wt;N||(N=!0,w&&F.clearTimeout(w),c=void 0,m=tr||"",rt.readyState=pt>0?4:0,Dn=pt>=200&&pt<300||pt===304,Kt&&(On=en(oe,rt,Kt)),!Dn&&l.inArray("script",oe.dataTypes)>-1&&l.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),On=Fe(oe,On,rt,Dn),Dn?(oe.ifModified&&(ci=rt.getResponseHeader("Last-Modified"),ci&&(l.lastModified[h]=ci),ci=rt.getResponseHeader("etag"),ci&&(l.etag[h]=ci)),pt===204||oe.type==="HEAD"?vn="nocontent":pt===304?vn="notmodified":(vn=On.state,Vi=On.data,yn=On.error,Dn=!yn)):(yn=vn,(pt||!vn)&&(vn="error",pt<0&&(pt=0))),rt.status=pt,rt.statusText=(wt||vn)+"",Dn?ut.resolveWith(we,[Vi,vn,rt]):ut.rejectWith(we,[rt,vn,yn]),rt.statusCode(Rt),Rt=void 0,V&&Ve.trigger(Dn?"ajaxSuccess":"ajaxError",[rt,oe,Dn?Vi:yn]),nt.fireWith(we,[rt,vn]),V&&(Ve.trigger("ajaxComplete",[rt,oe]),--l.active||l.event.trigger("ajaxStop")))}return rt},getJSON:function(r,s,c){return l.get(r,s,c,"json")},getScript:function(r,s){return l.get(r,void 0,s,"script")}}),l.each(["get","post"],function(r,s){l[s]=function(c,h,m,g){return Q(h)&&(g=g||m,m=h,h=void 0),l.ajax(l.extend({url:c,type:s,dataType:g,data:h,success:m},l.isPlainObject(c)&&c))}}),l.ajaxPrefilter(function(r){var s;for(s in r.headers)s.toLowerCase()==="content-type"&&(r.contentType=r.headers[s]||"")}),l._evalUrl=function(r,s,c){return l.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){l.globalEval(h,s,c)}})},l.fn.extend({wrapAll:function(r){var s;return this[0]&&(Q(r)&&(r=r.call(this[0])),s=l(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&s.insertBefore(this[0]),s.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(r){return Q(r)?this.each(function(s){l(this).wrapInner(r.call(this,s))}):this.each(function(){var s=l(this),c=s.contents();c.length?c.wrapAll(r):s.append(r)})},wrap:function(r){var s=Q(r);return this.each(function(c){l(this).wrapAll(s?r.call(this,c):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(r){return!l.expr.pseudos.visible(r)},l.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new F.XMLHttpRequest}catch{}};var Wi={0:200,1223:204},Dt=l.ajaxSettings.xhr();re.cors=!!Dt&&"withCredentials"in Dt,re.ajax=Dt=!!Dt,l.ajaxTransport(function(r){var s,c;if(re.cors||Dt&&!r.crossDomain)return{send:function(h,m){var g,w=r.xhr();if(w.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(g in r.xhrFields)w[g]=r.xhrFields[g];r.mimeType&&w.overrideMimeType&&w.overrideMimeType(r.mimeType),!r.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(g in h)w.setRequestHeader(g,h[g]);s=function(z){return function(){s&&(s=c=w.onload=w.onerror=w.onabort=w.ontimeout=w.onreadystatechange=null,z==="abort"?w.abort():z==="error"?typeof w.status!="number"?m(0,"error"):m(w.status,w.statusText):m(Wi[w.status]||w.status,w.statusText,(w.responseType||"text")!=="text"||typeof w.responseText!="string"?{binary:w.response}:{text:w.responseText},w.getAllResponseHeaders()))}},w.onload=s(),c=w.onerror=w.ontimeout=s("error"),w.onabort!==void 0?w.onabort=c:w.onreadystatechange=function(){w.readyState===4&&F.setTimeout(function(){s&&c()})},s=s("abort");try{w.send(r.hasContent&&r.data||null)}catch(z){if(s)throw z}},abort:function(){s&&s()}}}),l.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return l.globalEval(r),r}}}),l.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),l.ajaxTransport("script",function(r){if(r.crossDomain||r.scriptAttrs){var s,c;return{send:function(h,m){s=l("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",c=function(g){s.remove(),c=null,g&&m(g.type==="error"?404:200,g.type)}),K.head.appendChild(s[0])},abort:function(){c&&c()}}}});var Xn=[],li=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=Xn.pop()||l.expando+"_"+Ei.guid++;return this[r]=!0,r}}),l.ajaxPrefilter("json jsonp",function(r,s,c){var h,m,g,w=r.jsonp!==!1&&(li.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&li.test(r.data)&&"data");if(w||r.dataTypes[0]==="jsonp")return h=r.jsonpCallback=Q(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,w?r[w]=r[w].replace(li,"$1"+h):r.jsonp!==!1&&(r.url+=(fi.test(r.url)?"&":"?")+r.jsonp+"="+h),r.converters["script json"]=function(){return g||l.error(h+" was not called"),g[0]},r.dataTypes[0]="json",m=F[h],F[h]=function(){g=arguments},c.always(function(){m===void 0?l(F).removeProp(h):F[h]=m,r[h]&&(r.jsonpCallback=s.jsonpCallback,Xn.push(h)),g&&Q(m)&&m(g[0]),g=m=void 0}),"script"}),re.createHTMLDocument=function(){var r=K.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}(),l.parseHTML=function(r,s,c){if(typeof r!="string")return[];typeof s=="boolean"&&(c=s,s=!1);var h,m,g;return s||(re.createHTMLDocument?(s=K.implementation.createHTMLDocument(""),h=s.createElement("base"),h.href=K.location.href,s.head.appendChild(h)):s=K),m=kt.exec(r),g=!c&&[],m?[s.createElement(m[1])]:(m=Sn([r],s,g),g&&g.length&&l(g).remove(),l.merge([],m.childNodes))},l.fn.load=function(r,s,c){var h,m,g,w=this,z=r.indexOf(" ");return z>-1&&(h=un(r.slice(z)),r=r.slice(0,z)),Q(s)?(c=s,s=void 0):s&&typeof s=="object"&&(m="POST"),w.length>0&&l.ajax({url:r,type:m||"GET",dataType:"html",data:s}).done(function(N){g=arguments,w.html(h?l("<div>").append(l.parseHTML(N)).find(h):N)}).always(c&&function(N,V){w.each(function(){c.apply(this,g||[N.responseText,V,N])})}),this},l.expr.pseudos.animated=function(r){return l.grep(l.timers,function(s){return r===s.elem}).length},l.offset={setOffset:function(r,s,c){var h,m,g,w,z,N,V,ue=l.css(r,"position"),de=l(r),oe={};ue==="static"&&(r.style.position="relative"),z=de.offset(),g=l.css(r,"top"),N=l.css(r,"left"),V=(ue==="absolute"||ue==="fixed")&&(g+N).indexOf("auto")>-1,V?(h=de.position(),w=h.top,m=h.left):(w=parseFloat(g)||0,m=parseFloat(N)||0),Q(s)&&(s=s.call(r,c,l.extend({},z))),s.top!=null&&(oe.top=s.top-z.top+w),s.left!=null&&(oe.left=s.left-z.left+m),"using"in s?s.using.call(r,oe):de.css(oe)}},l.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(m){l.offset.setOffset(this,r,m)});var s,c,h=this[0];if(h)return h.getClientRects().length?(s=h.getBoundingClientRect(),c=h.ownerDocument.defaultView,{top:s.top+c.pageYOffset,left:s.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var r,s,c,h=this[0],m={top:0,left:0};if(l.css(h,"position")==="fixed")s=h.getBoundingClientRect();else{for(s=this.offset(),c=h.ownerDocument,r=h.offsetParent||c.documentElement;r&&(r===c.body||r===c.documentElement)&&l.css(r,"position")==="static";)r=r.parentNode;r&&r!==h&&r.nodeType===1&&(m=l(r).offset(),m.top+=l.css(r,"borderTopWidth",!0),m.left+=l.css(r,"borderLeftWidth",!0))}return{top:s.top-m.top-l.css(h,"marginTop",!0),left:s.left-m.left-l.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&l.css(r,"position")==="static";)r=r.offsetParent;return r||tt})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,s){var c=s==="pageYOffset";l.fn[r]=function(h){return $t(this,function(m,g,w){var z;if(J(m)?z=m:m.nodeType===9&&(z=m.defaultView),w===void 0)return z?z[s]:m[g];z?z.scrollTo(c?z.pageXOffset:w,c?w:z.pageYOffset):m[g]=w},r,h,arguments.length)}}),l.each(["top","left"],function(r,s){l.cssHooks[s]=Xi(re.pixelPosition,function(c,h){if(h)return h=kn(c,s),bi.test(h)?l(c).position()[s]+"px":h})}),l.each({Height:"height",Width:"width"},function(r,s){l.each({padding:"inner"+r,content:s,"":"outer"+r},function(c,h){l.fn[h]=function(m,g){var w=arguments.length&&(c||typeof m!="boolean"),z=c||(m===!0||g===!0?"margin":"border");return $t(this,function(N,V,ue){var de;return J(N)?h.indexOf("outer")===0?N["inner"+r]:N.document.documentElement["client"+r]:N.nodeType===9?(de=N.documentElement,Math.max(N.body["scroll"+r],de["scroll"+r],N.body["offset"+r],de["offset"+r],de["client"+r])):ue===void 0?l.css(N,V,z):l.style(N,V,ue,z)},s,w?m:void 0,w)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,s){l.fn[s]=function(c){return this.on(s,c)}}),l.fn.extend({bind:function(r,s,c){return this.on(r,null,s,c)},unbind:function(r,s){return this.off(r,null,s)},delegate:function(r,s,c,h){return this.on(s,r,c,h)},undelegate:function(r,s,c){return arguments.length===1?this.off(r,"**"):this.off(s,r||"**",c)},hover:function(r,s){return this.on("mouseenter",r).on("mouseleave",s||r)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,s){l.fn[s]=function(c,h){return arguments.length>0?this.on(s,null,c,h):this.trigger(s)}});var $n=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;l.proxy=function(r,s){var c,h,m;if(typeof s=="string"&&(c=r[s],s=r,r=c),!!Q(r))return h=y.call(arguments,2),m=function(){return r.apply(s||this,h.concat(y.call(arguments)))},m.guid=r.guid=r.guid||l.guid++,m},l.holdReady=function(r){r?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=_e,l.isFunction=Q,l.isWindow=J,l.camelCase=v,l.type=te,l.now=Date.now,l.isNumeric=function(r){var s=l.type(r);return(s==="number"||s==="string")&&!isNaN(r-parseFloat(r))},l.trim=function(r){return r==null?"":(r+"").replace($n,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return l});var Pi=F.jQuery,er=F.$;return l.noConflict=function(r){return F.$===l&&(F.$=er),r&&F.jQuery===l&&(F.jQuery=Pi),l},typeof xe>"u"&&(F.jQuery=F.$=l),l})});var bo=pr((Ca,Ho)=>{Ho.exports="https://mrt-map.github.io/map/marker-icon-2x-SP63CLEO.png"});var _o=pr((Ia,Yo)=>{Yo.exports="https://mrt-map.github.io/map/marker-icon-2V3QKKVC.png"});var yo=pr((Ta,qo)=>{qo.exports="https://mrt-map.github.io/map/marker-shadow-MEXDWUU7.png"});var gr=wi(Ki(),1),Dr=class extends gr.default.TileLayer{getTileUrl(xe){let $=2**(8-xe.z),M=xe.x*1,y=xe.y*-1,_={x:Math.floor(M*$/32),y:Math.floor(y*$/32)},k={x:Math.floor(M*$),y:Math.floor(y*$)},D="";for(let E=8;E>xe.z;E--)D+="z";return D.length!=0&&(D+="_"),`https://dynmap.minecartrapidtransit.net/main/tiles/new/flat/${_.x}_${_.y}/${D}${k.x}_${k.y}.png`}},Ro=function(F,xe){return new Dr(F,xe)};function io(){let F=gr.default.map("map",{crs:gr.default.CRS.Simple}).setView([0,0],8);return Ro("unused url; check custom function",{maxZoom:8,id:"map",tileSize:128,zoomOffset:0,noWrap:!0,bounds:[[-900,-900],[900,900]],attribution:"Minecart Rapid Transit"}).addTo(F),gr.default.control.zoom({position:"topright"}).addTo(F),F}var oo=wi(wr(),1),Nr=wi(Ki(),1);function zi([F,xe]){let $=xe/-64-.5,M=F/64;return[$,M]}(()=>{var F={9705:(M,y,_)=>{"use strict";var k=_(1540);function D(G){var E=[1/0,1/0,-1/0,-1/0];return k.coordEach(G,function(q){E[0]>q[0]&&(E[0]=q[0]),E[1]>q[1]&&(E[1]=q[1]),E[2]<q[0]&&(E[2]=q[0]),E[3]<q[1]&&(E[3]=q[1])}),E}D.default=D,y.Z=D},4102:(M,y)=>{"use strict";function _(W,X,te){te===void 0&&(te={});var A={type:"Feature"};return(te.id===0||te.id)&&(A.id=te.id),te.bbox&&(A.bbox=te.bbox),A.properties=X||{},A.geometry=W,A}function k(W,X,te){if(te===void 0&&(te={}),!W)throw new Error("coordinates is required");if(!Array.isArray(W))throw new Error("coordinates must be an Array");if(W.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!K(W[0])||!K(W[1]))throw new Error("coordinates must contain numbers");return _({type:"Point",coordinates:W},X,te)}function D(W,X,te){te===void 0&&(te={});for(var A=0,Y=W;A<Y.length;A++){var l=Y[A];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var be=0;be<l[l.length-1].length;be++)if(l[l.length-1][be]!==l[0][be])throw new Error("First and last Position are not equivalent.")}return _({type:"Polygon",coordinates:W},X,te)}function G(W,X,te){if(te===void 0&&(te={}),W.length<2)throw new Error("coordinates must be an array of two or more positions");return _({type:"LineString",coordinates:W},X,te)}function E(W,X){X===void 0&&(X={});var te={type:"FeatureCollection"};return X.id&&(te.id=X.id),X.bbox&&(te.bbox=X.bbox),te.features=W,te}function q(W,X,te){return te===void 0&&(te={}),_({type:"MultiLineString",coordinates:W},X,te)}function le(W,X,te){return te===void 0&&(te={}),_({type:"MultiPoint",coordinates:W},X,te)}function ge(W,X,te){return te===void 0&&(te={}),_({type:"MultiPolygon",coordinates:W},X,te)}function re(W,X){X===void 0&&(X="kilometers");var te=y.factors[X];if(!te)throw new Error(X+" units is invalid");return W*te}function Q(W,X){X===void 0&&(X="kilometers");var te=y.factors[X];if(!te)throw new Error(X+" units is invalid");return W/te}function J(W){return 180*(W%(2*Math.PI))/Math.PI}function K(W){return!isNaN(W)&&W!==null&&!Array.isArray(W)}Object.defineProperty(y,"__esModule",{value:!0}),y.earthRadius=63710088e-1,y.factors={centimeters:100*y.earthRadius,centimetres:100*y.earthRadius,degrees:y.earthRadius/111325,feet:3.28084*y.earthRadius,inches:39.37*y.earthRadius,kilometers:y.earthRadius/1e3,kilometres:y.earthRadius/1e3,meters:y.earthRadius,metres:y.earthRadius,miles:y.earthRadius/1609.344,millimeters:1e3*y.earthRadius,millimetres:1e3*y.earthRadius,nauticalmiles:y.earthRadius/1852,radians:1,yards:1.0936*y.earthRadius},y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/y.earthRadius,yards:1.0936133},y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},y.feature=_,y.geometry=function(W,X,te){switch(te===void 0&&(te={}),W){case"Point":return k(X).geometry;case"LineString":return G(X).geometry;case"Polygon":return D(X).geometry;case"MultiPoint":return le(X).geometry;case"MultiLineString":return q(X).geometry;case"MultiPolygon":return ge(X).geometry;default:throw new Error(W+" is invalid")}},y.point=k,y.points=function(W,X,te){return te===void 0&&(te={}),E(W.map(function(A){return k(A,X)}),te)},y.polygon=D,y.polygons=function(W,X,te){return te===void 0&&(te={}),E(W.map(function(A){return D(A,X)}),te)},y.lineString=G,y.lineStrings=function(W,X,te){return te===void 0&&(te={}),E(W.map(function(A){return G(A,X)}),te)},y.featureCollection=E,y.multiLineString=q,y.multiPoint=le,y.multiPolygon=ge,y.geometryCollection=function(W,X,te){return te===void 0&&(te={}),_({type:"GeometryCollection",geometries:W},X,te)},y.round=function(W,X){if(X===void 0&&(X=0),X&&!(X>=0))throw new Error("precision must be a positive number");var te=Math.pow(10,X||0);return Math.round(W*te)/te},y.radiansToLength=re,y.lengthToRadians=Q,y.lengthToDegrees=function(W,X){return J(Q(W,X))},y.bearingToAzimuth=function(W){var X=W%360;return X<0&&(X+=360),X},y.radiansToDegrees=J,y.degreesToRadians=function(W){return W%360*Math.PI/180},y.convertLength=function(W,X,te){if(X===void 0&&(X="kilometers"),te===void 0&&(te="kilometers"),!(W>=0))throw new Error("length must be a positive number");return re(Q(W,X),te)},y.convertArea=function(W,X,te){if(X===void 0&&(X="meters"),te===void 0&&(te="kilometers"),!(W>=0))throw new Error("area must be a positive number");var A=y.areaFactors[X];if(!A)throw new Error("invalid original units");var Y=y.areaFactors[te];if(!Y)throw new Error("invalid final units");return W/A*Y},y.isNumber=K,y.isObject=function(W){return!!W&&W.constructor===Object},y.validateBBox=function(W){if(!W)throw new Error("bbox is required");if(!Array.isArray(W))throw new Error("bbox must be an Array");if(W.length!==4&&W.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");W.forEach(function(X){if(!K(X))throw new Error("bbox must only contain numbers")})},y.validateId=function(W){if(!W)throw new Error("id is required");if(["string","number"].indexOf(typeof W)===-1)throw new Error("id must be a number or a string")}},1540:(M,y,_)=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});var k=_(4102);function D(Q,J,K){if(Q!==null)for(var W,X,te,A,Y,l,be,_e,ke=0,Ce=0,Be=Q.type,Me=Be==="FeatureCollection",Ae=Be==="Feature",We=Me?Q.features.length:1,Ne=0;Ne<We;Ne++){Y=(_e=!!(be=Me?Q.features[Ne].geometry:Ae?Q.geometry:Q)&&be.type==="GeometryCollection")?be.geometries.length:1;for(var Te=0;Te<Y;Te++){var _t=0,Le=0;if((A=_e?be.geometries[Te]:be)!==null){l=A.coordinates;var Ge=A.type;switch(ke=!K||Ge!=="Polygon"&&Ge!=="MultiPolygon"?0:1,Ge){case null:break;case"Point":if(J(l,Ce,Ne,_t,Le)===!1)return!1;Ce++,_t++;break;case"LineString":case"MultiPoint":for(W=0;W<l.length;W++){if(J(l[W],Ce,Ne,_t,Le)===!1)return!1;Ce++,Ge==="MultiPoint"&&_t++}Ge==="LineString"&&_t++;break;case"Polygon":case"MultiLineString":for(W=0;W<l.length;W++){for(X=0;X<l[W].length-ke;X++){if(J(l[W][X],Ce,Ne,_t,Le)===!1)return!1;Ce++}Ge==="MultiLineString"&&_t++,Ge==="Polygon"&&Le++}Ge==="Polygon"&&_t++;break;case"MultiPolygon":for(W=0;W<l.length;W++){for(Le=0,X=0;X<l[W].length;X++){for(te=0;te<l[W][X].length-ke;te++){if(J(l[W][X][te],Ce,Ne,_t,Le)===!1)return!1;Ce++}Le++}_t++}break;case"GeometryCollection":for(W=0;W<A.geometries.length;W++)if(D(A.geometries[W],J,K)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function G(Q,J){var K;switch(Q.type){case"FeatureCollection":for(K=0;K<Q.features.length&&J(Q.features[K].properties,K)!==!1;K++);break;case"Feature":J(Q.properties,0)}}function E(Q,J){if(Q.type==="Feature")J(Q,0);else if(Q.type==="FeatureCollection")for(var K=0;K<Q.features.length&&J(Q.features[K],K)!==!1;K++);}function q(Q,J){var K,W,X,te,A,Y,l,be,_e,ke,Ce=0,Be=Q.type==="FeatureCollection",Me=Q.type==="Feature",Ae=Be?Q.features.length:1;for(K=0;K<Ae;K++){for(Y=Be?Q.features[K].geometry:Me?Q.geometry:Q,be=Be?Q.features[K].properties:Me?Q.properties:{},_e=Be?Q.features[K].bbox:Me?Q.bbox:void 0,ke=Be?Q.features[K].id:Me?Q.id:void 0,A=(l=!!Y&&Y.type==="GeometryCollection")?Y.geometries.length:1,X=0;X<A;X++)if((te=l?Y.geometries[X]:Y)!==null)switch(te.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(J(te,Ce,be,_e,ke)===!1)return!1;break;case"GeometryCollection":for(W=0;W<te.geometries.length;W++)if(J(te.geometries[W],Ce,be,_e,ke)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(J(null,Ce,be,_e,ke)===!1)return!1;Ce++}}function le(Q,J){q(Q,function(K,W,X,te,A){var Y,l=K===null?null:K.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return J(k.feature(K,X,{bbox:te,id:A}),W,0)!==!1&&void 0}switch(l){case"MultiPoint":Y="Point";break;case"MultiLineString":Y="LineString";break;case"MultiPolygon":Y="Polygon"}for(var be=0;be<K.coordinates.length;be++){var _e={type:Y,coordinates:K.coordinates[be]};if(J(k.feature(_e,X),W,be)===!1)return!1}})}function ge(Q,J){le(Q,function(K,W,X){var te=0;if(K.geometry){var A=K.geometry.type;if(A!=="Point"&&A!=="MultiPoint"){var Y,l=0,be=0,_e=0;return D(K,function(ke,Ce,Be,Me,Ae){if(Y===void 0||W>l||Me>be||Ae>_e)return Y=ke,l=W,be=Me,_e=Ae,void(te=0);var We=k.lineString([Y,ke],K.properties);if(J(We,W,X,Ae,te)===!1)return!1;te++,Y=ke})!==!1&&void 0}}})}function re(Q,J){if(!Q)throw new Error("geojson is required");le(Q,function(K,W,X){if(K.geometry!==null){var te=K.geometry.type,A=K.geometry.coordinates;switch(te){case"LineString":if(J(K,W,X,0,0)===!1)return!1;break;case"Polygon":for(var Y=0;Y<A.length;Y++)if(J(k.lineString(A[Y],K.properties),W,X,Y)===!1)return!1}}})}y.coordAll=function(Q){var J=[];return D(Q,function(K){J.push(K)}),J},y.coordEach=D,y.coordReduce=function(Q,J,K,W){var X=K;return D(Q,function(te,A,Y,l,be){X=A===0&&K===void 0?te:J(X,te,A,Y,l,be)},W),X},y.featureEach=E,y.featureReduce=function(Q,J,K){var W=K;return E(Q,function(X,te){W=te===0&&K===void 0?X:J(W,X,te)}),W},y.findPoint=function(Q,J){if(J=J||{},!k.isObject(J))throw new Error("options is invalid");var K,W=J.featureIndex||0,X=J.multiFeatureIndex||0,te=J.geometryIndex||0,A=J.coordIndex||0,Y=J.properties;switch(Q.type){case"FeatureCollection":W<0&&(W=Q.features.length+W),Y=Y||Q.features[W].properties,K=Q.features[W].geometry;break;case"Feature":Y=Y||Q.properties,K=Q.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":K=Q;break;default:throw new Error("geojson is invalid")}if(K===null)return null;var l=K.coordinates;switch(K.type){case"Point":return k.point(l,Y,J);case"MultiPoint":return X<0&&(X=l.length+X),k.point(l[X],Y,J);case"LineString":return A<0&&(A=l.length+A),k.point(l[A],Y,J);case"Polygon":return te<0&&(te=l.length+te),A<0&&(A=l[te].length+A),k.point(l[te][A],Y,J);case"MultiLineString":return X<0&&(X=l.length+X),A<0&&(A=l[X].length+A),k.point(l[X][A],Y,J);case"MultiPolygon":return X<0&&(X=l.length+X),te<0&&(te=l[X].length+te),A<0&&(A=l[X][te].length-A),k.point(l[X][te][A],Y,J)}throw new Error("geojson is invalid")},y.findSegment=function(Q,J){if(J=J||{},!k.isObject(J))throw new Error("options is invalid");var K,W=J.featureIndex||0,X=J.multiFeatureIndex||0,te=J.geometryIndex||0,A=J.segmentIndex||0,Y=J.properties;switch(Q.type){case"FeatureCollection":W<0&&(W=Q.features.length+W),Y=Y||Q.features[W].properties,K=Q.features[W].geometry;break;case"Feature":Y=Y||Q.properties,K=Q.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":K=Q;break;default:throw new Error("geojson is invalid")}if(K===null)return null;var l=K.coordinates;switch(K.type){case"Point":case"MultiPoint":return null;case"LineString":return A<0&&(A=l.length+A-1),k.lineString([l[A],l[A+1]],Y,J);case"Polygon":return te<0&&(te=l.length+te),A<0&&(A=l[te].length+A-1),k.lineString([l[te][A],l[te][A+1]],Y,J);case"MultiLineString":return X<0&&(X=l.length+X),A<0&&(A=l[X].length+A-1),k.lineString([l[X][A],l[X][A+1]],Y,J);case"MultiPolygon":return X<0&&(X=l.length+X),te<0&&(te=l[X].length+te),A<0&&(A=l[X][te].length-A-1),k.lineString([l[X][te][A],l[X][te][A+1]],Y,J)}throw new Error("geojson is invalid")},y.flattenEach=le,y.flattenReduce=function(Q,J,K){var W=K;return le(Q,function(X,te,A){W=te===0&&A===0&&K===void 0?X:J(W,X,te,A)}),W},y.geomEach=q,y.geomReduce=function(Q,J,K){var W=K;return q(Q,function(X,te,A,Y,l){W=te===0&&K===void 0?X:J(W,X,te,A,Y,l)}),W},y.lineEach=re,y.lineReduce=function(Q,J,K){var W=K;return re(Q,function(X,te,A,Y){W=te===0&&K===void 0?X:J(W,X,te,A,Y)}),W},y.propEach=G,y.propReduce=function(Q,J,K){var W=K;return G(Q,function(X,te){W=te===0&&K===void 0?X:J(W,X,te)}),W},y.segmentEach=ge,y.segmentReduce=function(Q,J,K){var W=K,X=!1;return ge(Q,function(te,A,Y,l,be){W=X===!1&&K===void 0?te:J(W,te,A,Y,l,be),X=!0}),W}},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(M){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof M!="function")throw new TypeError("callback must be a function");for(var y=Object(this),_=y.length>>>0,k=arguments[1],D=0;D<_;D++)if(M.call(k,y[D],D,y))return D;return-1},Array.prototype.find=Array.prototype.find||function(M){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof M!="function")throw new TypeError("callback must be a function");for(var y=Object(this),_=y.length>>>0,k=arguments[1],D=0;D<_;D++){var G=y[D];if(M.call(k,G,D,y))return G}},typeof Object.assign!="function"&&(Object.assign=function(M){"use strict";if(M==null)throw new TypeError("Cannot convert undefined or null to object");M=Object(M);for(var y=1;y<arguments.length;y++){var _=arguments[y];if(_!=null)for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(M[k]=_[k])}return M}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(M){M.hasOwnProperty("remove")||Object.defineProperty(M,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(M,y){if(this==null)throw new TypeError('"this" is null or not defined');var _=Object(this),k=_.length>>>0;if(k===0)return!1;for(var D,G,E=0|y,q=Math.max(E>=0?E:k-Math.abs(E),0);q<k;){if((D=_[q])===(G=M)||typeof D=="number"&&typeof G=="number"&&isNaN(D)&&isNaN(G))return!0;q++}return!1}})},1787:(M,y,_)=>{var k=_(2582),D=_(4102),G=_(1540),E=_(9705).Z,q=G.featureEach,le=(G.coordEach,D.polygon,D.featureCollection);function ge(re){var Q=new k(re);return Q.insert=function(J){if(J.type!=="Feature")throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:E(J),k.prototype.insert.call(this,J)},Q.load=function(J){var K=[];return Array.isArray(J)?J.forEach(function(W){if(W.type!=="Feature")throw new Error("invalid features");W.bbox=W.bbox?W.bbox:E(W),K.push(W)}):q(J,function(W){if(W.type!=="Feature")throw new Error("invalid features");W.bbox=W.bbox?W.bbox:E(W),K.push(W)}),k.prototype.load.call(this,K)},Q.remove=function(J,K){if(J.type!=="Feature")throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:E(J),k.prototype.remove.call(this,J,K)},Q.clear=function(){return k.prototype.clear.call(this)},Q.search=function(J){var K=k.prototype.search.call(this,this.toBBox(J));return le(K)},Q.collides=function(J){return k.prototype.collides.call(this,this.toBBox(J))},Q.all=function(){var J=k.prototype.all.call(this);return le(J)},Q.toJSON=function(){return k.prototype.toJSON.call(this)},Q.fromJSON=function(J){return k.prototype.fromJSON.call(this,J)},Q.toBBox=function(J){var K;if(J.bbox)K=J.bbox;else if(Array.isArray(J)&&J.length===4)K=J;else if(Array.isArray(J)&&J.length===6)K=[J[0],J[1],J[3],J[4]];else if(J.type==="Feature")K=E(J);else{if(J.type!=="FeatureCollection")throw new Error("invalid geojson");K=E(J)}return{minX:K[0],minY:K[1],maxX:K[2],maxY:K[3]}},Q}M.exports=ge,M.exports.default=ge},1989:(M,y,_)=>{var k=_(1789),D=_(401),G=_(7667),E=_(1327),q=_(1866);function le(ge){var re=-1,Q=ge==null?0:ge.length;for(this.clear();++re<Q;){var J=ge[re];this.set(J[0],J[1])}}le.prototype.clear=k,le.prototype.delete=D,le.prototype.get=G,le.prototype.has=E,le.prototype.set=q,M.exports=le},8407:(M,y,_)=>{var k=_(7040),D=_(4125),G=_(2117),E=_(7518),q=_(4705);function le(ge){var re=-1,Q=ge==null?0:ge.length;for(this.clear();++re<Q;){var J=ge[re];this.set(J[0],J[1])}}le.prototype.clear=k,le.prototype.delete=D,le.prototype.get=G,le.prototype.has=E,le.prototype.set=q,M.exports=le},7071:(M,y,_)=>{var k=_(852)(_(5639),"Map");M.exports=k},3369:(M,y,_)=>{var k=_(4785),D=_(1285),G=_(6e3),E=_(9916),q=_(5265);function le(ge){var re=-1,Q=ge==null?0:ge.length;for(this.clear();++re<Q;){var J=ge[re];this.set(J[0],J[1])}}le.prototype.clear=k,le.prototype.delete=D,le.prototype.get=G,le.prototype.has=E,le.prototype.set=q,M.exports=le},6384:(M,y,_)=>{var k=_(8407),D=_(7465),G=_(3779),E=_(7599),q=_(4758),le=_(4309);function ge(re){var Q=this.__data__=new k(re);this.size=Q.size}ge.prototype.clear=D,ge.prototype.delete=G,ge.prototype.get=E,ge.prototype.has=q,ge.prototype.set=le,M.exports=ge},2705:(M,y,_)=>{var k=_(5639).Symbol;M.exports=k},1149:(M,y,_)=>{var k=_(5639).Uint8Array;M.exports=k},6874:M=>{M.exports=function(y,_,k){switch(k.length){case 0:return y.call(_);case 1:return y.call(_,k[0]);case 2:return y.call(_,k[0],k[1]);case 3:return y.call(_,k[0],k[1],k[2])}return y.apply(_,k)}},4636:(M,y,_)=>{var k=_(2545),D=_(5694),G=_(1469),E=_(4144),q=_(5776),le=_(6719),ge=Object.prototype.hasOwnProperty;M.exports=function(re,Q){var J=G(re),K=!J&&D(re),W=!J&&!K&&E(re),X=!J&&!K&&!W&&le(re),te=J||K||W||X,A=te?k(re.length,String):[],Y=A.length;for(var l in re)!Q&&!ge.call(re,l)||te&&(l=="length"||W&&(l=="offset"||l=="parent")||X&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||q(l,Y))||A.push(l);return A}},9932:M=>{M.exports=function(y,_){for(var k=-1,D=y==null?0:y.length,G=Array(D);++k<D;)G[k]=_(y[k],k,y);return G}},6556:(M,y,_)=>{var k=_(9465),D=_(7813);M.exports=function(G,E,q){(q!==void 0&&!D(G[E],q)||q===void 0&&!(E in G))&&k(G,E,q)}},4865:(M,y,_)=>{var k=_(9465),D=_(7813),G=Object.prototype.hasOwnProperty;M.exports=function(E,q,le){var ge=E[q];G.call(E,q)&&D(ge,le)&&(le!==void 0||q in E)||k(E,q,le)}},8470:(M,y,_)=>{var k=_(7813);M.exports=function(D,G){for(var E=D.length;E--;)if(k(D[E][0],G))return E;return-1}},9465:(M,y,_)=>{var k=_(8777);M.exports=function(D,G,E){G=="__proto__"&&k?k(D,G,{configurable:!0,enumerable:!0,value:E,writable:!0}):D[G]=E}},3118:(M,y,_)=>{var k=_(3218),D=Object.create,G=function(){function E(){}return function(q){if(!k(q))return{};if(D)return D(q);E.prototype=q;var le=new E;return E.prototype=void 0,le}}();M.exports=G},8483:(M,y,_)=>{var k=_(5063)();M.exports=k},7786:(M,y,_)=>{var k=_(1811),D=_(327);M.exports=function(G,E){for(var q=0,le=(E=k(E,G)).length;G!=null&&q<le;)G=G[D(E[q++])];return q&&q==le?G:void 0}},4239:(M,y,_)=>{var k=_(2705),D=_(9607),G=_(2333),E=k?k.toStringTag:void 0;M.exports=function(q){return q==null?q===void 0?"[object Undefined]":"[object Null]":E&&E in Object(q)?D(q):G(q)}},8565:M=>{var y=Object.prototype.hasOwnProperty;M.exports=function(_,k){return _!=null&&y.call(_,k)}},9454:(M,y,_)=>{var k=_(4239),D=_(7005);M.exports=function(G){return D(G)&&k(G)=="[object Arguments]"}},8458:(M,y,_)=>{var k=_(3560),D=_(5346),G=_(3218),E=_(346),q=/^\[object .+?Constructor\]$/,le=Function.prototype,ge=Object.prototype,re=le.toString,Q=ge.hasOwnProperty,J=RegExp("^"+re.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");M.exports=function(K){return!(!G(K)||D(K))&&(k(K)?J:q).test(E(K))}},8749:(M,y,_)=>{var k=_(4239),D=_(1780),G=_(7005),E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Arguments]"]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object Boolean]"]=E["[object DataView]"]=E["[object Date]"]=E["[object Error]"]=E["[object Function]"]=E["[object Map]"]=E["[object Number]"]=E["[object Object]"]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object WeakMap]"]=!1,M.exports=function(q){return G(q)&&D(q.length)&&!!E[k(q)]}},313:(M,y,_)=>{var k=_(3218),D=_(5726),G=_(3498),E=Object.prototype.hasOwnProperty;M.exports=function(q){if(!k(q))return G(q);var le=D(q),ge=[];for(var re in q)(re!="constructor"||!le&&E.call(q,re))&&ge.push(re);return ge}},2980:(M,y,_)=>{var k=_(6384),D=_(6556),G=_(8483),E=_(9783),q=_(3218),le=_(1704),ge=_(6390);M.exports=function re(Q,J,K,W,X){Q!==J&&G(J,function(te,A){if(X||(X=new k),q(te))E(Q,J,A,K,re,W,X);else{var Y=W?W(ge(Q,A),te,A+"",Q,J,X):void 0;Y===void 0&&(Y=te),D(Q,A,Y)}},le)}},9783:(M,y,_)=>{var k=_(6556),D=_(4626),G=_(7133),E=_(278),q=_(8517),le=_(5694),ge=_(1469),re=_(9246),Q=_(4144),J=_(3560),K=_(3218),W=_(8630),X=_(6719),te=_(6390),A=_(9881);M.exports=function(Y,l,be,_e,ke,Ce,Be){var Me=te(Y,be),Ae=te(l,be),We=Be.get(Ae);if(We)k(Y,be,We);else{var Ne=Ce?Ce(Me,Ae,be+"",Y,l,Be):void 0,Te=Ne===void 0;if(Te){var _t=ge(Ae),Le=!_t&&Q(Ae),Ge=!_t&&!Le&&X(Ae);Ne=Ae,_t||Le||Ge?ge(Me)?Ne=Me:re(Me)?Ne=E(Me):Le?(Te=!1,Ne=D(Ae,!0)):Ge?(Te=!1,Ne=G(Ae,!0)):Ne=[]:W(Ae)||le(Ae)?(Ne=Me,le(Me)?Ne=A(Me):K(Me)&&!J(Me)||(Ne=q(Ae))):Te=!1}Te&&(Be.set(Ae,Ne),ke(Ne,Ae,_e,Ce,Be),Be.delete(Ae)),k(Y,be,Ne)}}},5976:(M,y,_)=>{var k=_(6557),D=_(5357),G=_(61);M.exports=function(E,q){return G(D(E,q,k),E+"")}},6560:(M,y,_)=>{var k=_(5703),D=_(8777),G=_(6557),E=D?function(q,le){return D(q,"toString",{configurable:!0,enumerable:!1,value:k(le),writable:!0})}:G;M.exports=E},2545:M=>{M.exports=function(y,_){for(var k=-1,D=Array(y);++k<y;)D[k]=_(k);return D}},531:(M,y,_)=>{var k=_(2705),D=_(9932),G=_(1469),E=_(3448),q=k?k.prototype:void 0,le=q?q.toString:void 0;M.exports=function ge(re){if(typeof re=="string")return re;if(G(re))return D(re,ge)+"";if(E(re))return le?le.call(re):"";var Q=re+"";return Q=="0"&&1/re==-1/0?"-0":Q}},1717:M=>{M.exports=function(y){return function(_){return y(_)}}},1811:(M,y,_)=>{var k=_(1469),D=_(5403),G=_(5514),E=_(9833);M.exports=function(q,le){return k(q)?q:D(q,le)?[q]:G(E(q))}},4318:(M,y,_)=>{var k=_(1149);M.exports=function(D){var G=new D.constructor(D.byteLength);return new k(G).set(new k(D)),G}},4626:(M,y,_)=>{M=_.nmd(M);var k=_(5639),D=y&&!y.nodeType&&y,G=D&&M&&!M.nodeType&&M,E=G&&G.exports===D?k.Buffer:void 0,q=E?E.allocUnsafe:void 0;M.exports=function(le,ge){if(ge)return le.slice();var re=le.length,Q=q?q(re):new le.constructor(re);return le.copy(Q),Q}},7133:(M,y,_)=>{var k=_(4318);M.exports=function(D,G){var E=G?k(D.buffer):D.buffer;return new D.constructor(E,D.byteOffset,D.length)}},278:M=>{M.exports=function(y,_){var k=-1,D=y.length;for(_||(_=Array(D));++k<D;)_[k]=y[k];return _}},8363:(M,y,_)=>{var k=_(4865),D=_(9465);M.exports=function(G,E,q,le){var ge=!q;q||(q={});for(var re=-1,Q=E.length;++re<Q;){var J=E[re],K=le?le(q[J],G[J],J,q,G):void 0;K===void 0&&(K=G[J]),ge?D(q,J,K):k(q,J,K)}return q}},4429:(M,y,_)=>{var k=_(5639)["__core-js_shared__"];M.exports=k},1463:(M,y,_)=>{var k=_(5976),D=_(6612);M.exports=function(G){return k(function(E,q){var le=-1,ge=q.length,re=ge>1?q[ge-1]:void 0,Q=ge>2?q[2]:void 0;for(re=G.length>3&&typeof re=="function"?(ge--,re):void 0,Q&&D(q[0],q[1],Q)&&(re=ge<3?void 0:re,ge=1),E=Object(E);++le<ge;){var J=q[le];J&&G(E,J,le,re)}return E})}},5063:M=>{M.exports=function(y){return function(_,k,D){for(var G=-1,E=Object(_),q=D(_),le=q.length;le--;){var ge=q[y?le:++G];if(k(E[ge],ge,E)===!1)break}return _}}},8777:(M,y,_)=>{var k=_(852),D=function(){try{var G=k(Object,"defineProperty");return G({},"",{}),G}catch{}}();M.exports=D},1957:(M,y,_)=>{var k=typeof _.g=="object"&&_.g&&_.g.Object===Object&&_.g;M.exports=k},5050:(M,y,_)=>{var k=_(7019);M.exports=function(D,G){var E=D.__data__;return k(G)?E[typeof G=="string"?"string":"hash"]:E.map}},852:(M,y,_)=>{var k=_(8458),D=_(7801);M.exports=function(G,E){var q=D(G,E);return k(q)?q:void 0}},5924:(M,y,_)=>{var k=_(5569)(Object.getPrototypeOf,Object);M.exports=k},9607:(M,y,_)=>{var k=_(2705),D=Object.prototype,G=D.hasOwnProperty,E=D.toString,q=k?k.toStringTag:void 0;M.exports=function(le){var ge=G.call(le,q),re=le[q];try{le[q]=void 0;var Q=!0}catch{}var J=E.call(le);return Q&&(ge?le[q]=re:delete le[q]),J}},7801:M=>{M.exports=function(y,_){return y?.[_]}},222:(M,y,_)=>{var k=_(1811),D=_(5694),G=_(1469),E=_(5776),q=_(1780),le=_(327);M.exports=function(ge,re,Q){for(var J=-1,K=(re=k(re,ge)).length,W=!1;++J<K;){var X=le(re[J]);if(!(W=ge!=null&&Q(ge,X)))break;ge=ge[X]}return W||++J!=K?W:!!(K=ge==null?0:ge.length)&&q(K)&&E(X,K)&&(G(ge)||D(ge))}},1789:(M,y,_)=>{var k=_(4536);M.exports=function(){this.__data__=k?k(null):{},this.size=0}},401:M=>{M.exports=function(y){var _=this.has(y)&&delete this.__data__[y];return this.size-=_?1:0,_}},7667:(M,y,_)=>{var k=_(4536),D=Object.prototype.hasOwnProperty;M.exports=function(G){var E=this.__data__;if(k){var q=E[G];return q==="__lodash_hash_undefined__"?void 0:q}return D.call(E,G)?E[G]:void 0}},1327:(M,y,_)=>{var k=_(4536),D=Object.prototype.hasOwnProperty;M.exports=function(G){var E=this.__data__;return k?E[G]!==void 0:D.call(E,G)}},1866:(M,y,_)=>{var k=_(4536);M.exports=function(D,G){var E=this.__data__;return this.size+=this.has(D)?0:1,E[D]=k&&G===void 0?"__lodash_hash_undefined__":G,this}},8517:(M,y,_)=>{var k=_(3118),D=_(5924),G=_(5726);M.exports=function(E){return typeof E.constructor!="function"||G(E)?{}:k(D(E))}},5776:M=>{var y=/^(?:0|[1-9]\d*)$/;M.exports=function(_,k){var D=typeof _;return!!(k=k??9007199254740991)&&(D=="number"||D!="symbol"&&y.test(_))&&_>-1&&_%1==0&&_<k}},6612:(M,y,_)=>{var k=_(7813),D=_(8612),G=_(5776),E=_(3218);M.exports=function(q,le,ge){if(!E(ge))return!1;var re=typeof le;return!!(re=="number"?D(ge)&&G(le,ge.length):re=="string"&&le in ge)&&k(ge[le],q)}},5403:(M,y,_)=>{var k=_(1469),D=_(3448),G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;M.exports=function(q,le){if(k(q))return!1;var ge=typeof q;return!(ge!="number"&&ge!="symbol"&&ge!="boolean"&&q!=null&&!D(q))||E.test(q)||!G.test(q)||le!=null&&q in Object(le)}},7019:M=>{M.exports=function(y){var _=typeof y;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?y!=="__proto__":y===null}},5346:(M,y,_)=>{var k,D=_(4429),G=(k=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";M.exports=function(E){return!!G&&G in E}},5726:M=>{var y=Object.prototype;M.exports=function(_){var k=_&&_.constructor;return _===(typeof k=="function"&&k.prototype||y)}},7040:M=>{M.exports=function(){this.__data__=[],this.size=0}},4125:(M,y,_)=>{var k=_(8470),D=Array.prototype.splice;M.exports=function(G){var E=this.__data__,q=k(E,G);return!(q<0)&&(q==E.length-1?E.pop():D.call(E,q,1),--this.size,!0)}},2117:(M,y,_)=>{var k=_(8470);M.exports=function(D){var G=this.__data__,E=k(G,D);return E<0?void 0:G[E][1]}},7518:(M,y,_)=>{var k=_(8470);M.exports=function(D){return k(this.__data__,D)>-1}},4705:(M,y,_)=>{var k=_(8470);M.exports=function(D,G){var E=this.__data__,q=k(E,D);return q<0?(++this.size,E.push([D,G])):E[q][1]=G,this}},4785:(M,y,_)=>{var k=_(1989),D=_(8407),G=_(7071);M.exports=function(){this.size=0,this.__data__={hash:new k,map:new(G||D),string:new k}}},1285:(M,y,_)=>{var k=_(5050);M.exports=function(D){var G=k(this,D).delete(D);return this.size-=G?1:0,G}},6e3:(M,y,_)=>{var k=_(5050);M.exports=function(D){return k(this,D).get(D)}},9916:(M,y,_)=>{var k=_(5050);M.exports=function(D){return k(this,D).has(D)}},5265:(M,y,_)=>{var k=_(5050);M.exports=function(D,G){var E=k(this,D),q=E.size;return E.set(D,G),this.size+=E.size==q?0:1,this}},4523:(M,y,_)=>{var k=_(8306);M.exports=function(D){var G=k(D,function(q){return E.size===500&&E.clear(),q}),E=G.cache;return G}},4536:(M,y,_)=>{var k=_(852)(Object,"create");M.exports=k},3498:M=>{M.exports=function(y){var _=[];if(y!=null)for(var k in Object(y))_.push(k);return _}},1167:(M,y,_)=>{M=_.nmd(M);var k=_(1957),D=y&&!y.nodeType&&y,G=D&&M&&!M.nodeType&&M,E=G&&G.exports===D&&k.process,q=function(){try{var le=G&&G.require&&G.require("util").types;return le||E&&E.binding&&E.binding("util")}catch{}}();M.exports=q},2333:M=>{var y=Object.prototype.toString;M.exports=function(_){return y.call(_)}},5569:M=>{M.exports=function(y,_){return function(k){return y(_(k))}}},5357:(M,y,_)=>{var k=_(6874),D=Math.max;M.exports=function(G,E,q){return E=D(E===void 0?G.length-1:E,0),function(){for(var le=arguments,ge=-1,re=D(le.length-E,0),Q=Array(re);++ge<re;)Q[ge]=le[E+ge];ge=-1;for(var J=Array(E+1);++ge<E;)J[ge]=le[ge];return J[E]=q(Q),k(G,this,J)}}},5639:(M,y,_)=>{var k=_(1957),D=typeof self=="object"&&self&&self.Object===Object&&self,G=k||D||Function("return this")();M.exports=G},6390:M=>{M.exports=function(y,_){if((_!=="constructor"||typeof y[_]!="function")&&_!="__proto__")return y[_]}},61:(M,y,_)=>{var k=_(6560),D=_(1275)(k);M.exports=D},1275:M=>{var y=Date.now;M.exports=function(_){var k=0,D=0;return function(){var G=y(),E=16-(G-D);if(D=G,E>0){if(++k>=800)return arguments[0]}else k=0;return _.apply(void 0,arguments)}}},7465:(M,y,_)=>{var k=_(8407);M.exports=function(){this.__data__=new k,this.size=0}},3779:M=>{M.exports=function(y){var _=this.__data__,k=_.delete(y);return this.size=_.size,k}},7599:M=>{M.exports=function(y){return this.__data__.get(y)}},4758:M=>{M.exports=function(y){return this.__data__.has(y)}},4309:(M,y,_)=>{var k=_(8407),D=_(7071),G=_(3369);M.exports=function(E,q){var le=this.__data__;if(le instanceof k){var ge=le.__data__;if(!D||ge.length<199)return ge.push([E,q]),this.size=++le.size,this;le=this.__data__=new G(ge)}return le.set(E,q),this.size=le.size,this}},5514:(M,y,_)=>{var k=_(4523),D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/\\(\\)?/g,E=k(function(q){var le=[];return q.charCodeAt(0)===46&&le.push(""),q.replace(D,function(ge,re,Q,J){le.push(Q?J.replace(G,"$1"):re||ge)}),le});M.exports=E},327:(M,y,_)=>{var k=_(3448);M.exports=function(D){if(typeof D=="string"||k(D))return D;var G=D+"";return G=="0"&&1/D==-1/0?"-0":G}},346:M=>{var y=Function.prototype.toString;M.exports=function(_){if(_!=null){try{return y.call(_)}catch{}try{return _+""}catch{}}return""}},5703:M=>{M.exports=function(y){return function(){return y}}},7813:M=>{M.exports=function(y,_){return y===_||y!=y&&_!=_}},7361:(M,y,_)=>{var k=_(7786);M.exports=function(D,G,E){var q=D==null?void 0:k(D,G);return q===void 0?E:q}},8721:(M,y,_)=>{var k=_(8565),D=_(222);M.exports=function(G,E){return G!=null&&D(G,E,k)}},6557:M=>{M.exports=function(y){return y}},5694:(M,y,_)=>{var k=_(9454),D=_(7005),G=Object.prototype,E=G.hasOwnProperty,q=G.propertyIsEnumerable,le=k(function(){return arguments}())?k:function(ge){return D(ge)&&E.call(ge,"callee")&&!q.call(ge,"callee")};M.exports=le},1469:M=>{var y=Array.isArray;M.exports=y},8612:(M,y,_)=>{var k=_(3560),D=_(1780);M.exports=function(G){return G!=null&&D(G.length)&&!k(G)}},9246:(M,y,_)=>{var k=_(8612),D=_(7005);M.exports=function(G){return D(G)&&k(G)}},4144:(M,y,_)=>{M=_.nmd(M);var k=_(5639),D=_(5062),G=y&&!y.nodeType&&y,E=G&&M&&!M.nodeType&&M,q=E&&E.exports===G?k.Buffer:void 0,le=(q?q.isBuffer:void 0)||D;M.exports=le},3560:(M,y,_)=>{var k=_(4239),D=_(3218);M.exports=function(G){if(!D(G))return!1;var E=k(G);return E=="[object Function]"||E=="[object GeneratorFunction]"||E=="[object AsyncFunction]"||E=="[object Proxy]"}},1780:M=>{M.exports=function(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=9007199254740991}},3218:M=>{M.exports=function(y){var _=typeof y;return y!=null&&(_=="object"||_=="function")}},7005:M=>{M.exports=function(y){return y!=null&&typeof y=="object"}},8630:(M,y,_)=>{var k=_(4239),D=_(5924),G=_(7005),E=Function.prototype,q=Object.prototype,le=E.toString,ge=q.hasOwnProperty,re=le.call(Object);M.exports=function(Q){if(!G(Q)||k(Q)!="[object Object]")return!1;var J=D(Q);if(J===null)return!0;var K=ge.call(J,"constructor")&&J.constructor;return typeof K=="function"&&K instanceof K&&le.call(K)==re}},3448:(M,y,_)=>{var k=_(4239),D=_(7005);M.exports=function(G){return typeof G=="symbol"||D(G)&&k(G)=="[object Symbol]"}},6719:(M,y,_)=>{var k=_(8749),D=_(1717),G=_(1167),E=G&&G.isTypedArray,q=E?D(E):k;M.exports=q},1704:(M,y,_)=>{var k=_(4636),D=_(313),G=_(8612);M.exports=function(E){return G(E)?k(E,!0):D(E)}},8306:(M,y,_)=>{var k=_(3369);function D(G,E){if(typeof G!="function"||E!=null&&typeof E!="function")throw new TypeError("Expected a function");var q=function(){var le=arguments,ge=E?E.apply(this,le):le[0],re=q.cache;if(re.has(ge))return re.get(ge);var Q=G.apply(this,le);return q.cache=re.set(ge,Q)||re,Q};return q.cache=new(D.Cache||k),q}D.Cache=k,M.exports=D},2492:(M,y,_)=>{var k=_(2980),D=_(1463)(function(G,E,q){k(G,E,q)});M.exports=D},5062:M=>{M.exports=function(){return!1}},9881:(M,y,_)=>{var k=_(8363),D=_(1704);M.exports=function(G){return k(G,D(G))}},9833:(M,y,_)=>{var k=_(531);M.exports=function(D){return D==null?"":k(D)}},2676:function(M){M.exports=function(){"use strict";function y(B,b){if(!(B instanceof b))throw new TypeError("Cannot call a class as a function")}function _(B,b){for(var v=0;v<b.length;v++){var T=b[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,T.key,T)}}function k(B,b,v){return b&&_(B.prototype,b),v&&_(B,v),B}var D=function(){function B(b,v){this.next=null,this.key=b,this.data=v,this.left=null,this.right=null}return B}();function G(B,b){return B>b?1:B<b?-1:0}function E(B,b,v){for(var T=new D(null,null),U=T,P=T;;){var ce=v(B,b.key);if(ce<0){if(b.left===null)break;if(v(B,b.left.key)<0){var me=b.left;if(b.left=me.right,me.right=b,(b=me).left===null)break}P.left=b,P=b,b=b.left}else{if(!(ce>0)||b.right===null||v(B,b.right.key)>0&&(me=b.right,b.right=me.left,me.left=b,(b=me).right===null))break;U.right=b,U=b,b=b.right}}return U.right=b.left,P.left=b.right,b.left=T.right,b.right=T.left,b}function q(B,b,v,T){var U=new D(B,b);if(v===null)return U.left=U.right=null,U;var P=T(B,(v=E(B,v,T)).key);return P<0?(U.left=v.left,U.right=v,v.left=null):P>=0&&(U.right=v.right,U.left=v,v.right=null),U}function le(B,b,v){var T=null,U=null;if(b){var P=v((b=E(B,b,v)).key,B);P===0?(T=b.left,U=b.right):P<0?(U=b.right,b.right=null,T=b):(T=b.left,b.left=null,U=b)}return{left:T,right:U}}function ge(B,b,v){return b===null?B:(B===null||((b=E(B.key,b,v)).left=B),b)}function re(B,b,v,T,U){if(B){T(b+(v?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+U(B)+`
`);var P=b+(v?"    ":"\u2502   ");B.left&&re(B.left,P,!1,T,U),B.right&&re(B.right,P,!0,T,U)}}var Q=function(){function B(b){b===void 0&&(b=G),this._root=null,this._size=0,this._comparator=b}return B.prototype.insert=function(b,v){return this._size++,this._root=q(b,v,this._root,this._comparator)},B.prototype.add=function(b,v){var T=new D(b,v);this._root===null&&(T.left=T.right=null,this._size++,this._root=T);var U=this._comparator,P=E(b,this._root,U),ce=U(b,P.key);return ce===0?this._root=P:(ce<0?(T.left=P.left,T.right=P,P.left=null):ce>0&&(T.right=P.right,T.left=P,P.right=null),this._size++,this._root=T),this._root},B.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},B.prototype._remove=function(b,v,T){var U;return v===null?null:T(b,(v=E(b,v,T)).key)===0?(v.left===null?U=v.right:(U=E(b,v.left,T)).right=v.right,this._size--,U):v},B.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=E(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},B.prototype.findStatic=function(b){for(var v=this._root,T=this._comparator;v;){var U=T(b,v.key);if(U===0)return v;v=U<0?v.left:v.right}return null},B.prototype.find=function(b){return this._root&&(this._root=E(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},B.prototype.contains=function(b){for(var v=this._root,T=this._comparator;v;){var U=T(b,v.key);if(U===0)return!0;v=U<0?v.left:v.right}return!1},B.prototype.forEach=function(b,v){for(var T=this._root,U=[],P=!1;!P;)T!==null?(U.push(T),T=T.left):U.length!==0?(T=U.pop(),b.call(v,T),T=T.right):P=!0;return this},B.prototype.range=function(b,v,T,U){for(var P=[],ce=this._comparator,me=this._root;P.length!==0||me;)if(me)P.push(me),me=me.left;else{if(ce((me=P.pop()).key,v)>0)break;if(ce(me.key,b)>=0&&T.call(U,me))return this;me=me.right}return this},B.prototype.keys=function(){var b=[];return this.forEach(function(v){var T=v.key;return b.push(T)}),b},B.prototype.values=function(){var b=[];return this.forEach(function(v){var T=v.data;return b.push(T)}),b},B.prototype.min=function(){return this._root?this.minNode(this._root).key:null},B.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},B.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},B.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},B.prototype.at=function(b){for(var v=this._root,T=!1,U=0,P=[];!T;)if(v)P.push(v),v=v.left;else if(P.length>0){if(v=P.pop(),U===b)return v;U++,v=v.right}else T=!0;return null},B.prototype.next=function(b){var v=this._root,T=null;if(b.right){for(T=b.right;T.left;)T=T.left;return T}for(var U=this._comparator;v;){var P=U(b.key,v.key);if(P===0)break;P<0?(T=v,v=v.left):v=v.right}return T},B.prototype.prev=function(b){var v=this._root,T=null;if(b.left!==null){for(T=b.left;T.right;)T=T.right;return T}for(var U=this._comparator;v;){var P=U(b.key,v.key);if(P===0)break;P<0?v=v.left:(T=v,v=v.right)}return T},B.prototype.clear=function(){return this._root=null,this._size=0,this},B.prototype.toList=function(){return W(this._root)},B.prototype.load=function(b,v,T){v===void 0&&(v=[]),T===void 0&&(T=!1);var U=b.length,P=this._comparator;if(T&&A(b,v,0,U-1,P),this._root===null)this._root=J(b,v,0,U),this._size=U;else{var ce=te(this.toList(),K(b,v),P);U=this._size+U,this._root=X({head:ce},0,U)}return this},B.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(B.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),B.prototype.toString=function(b){b===void 0&&(b=function(T){return String(T.key)});var v=[];return re(this._root,"",!0,function(T){return v.push(T)},b),v.join("")},B.prototype.update=function(b,v,T){var U=this._comparator,P=le(b,this._root,U),ce=P.left,me=P.right;U(b,v)<0?me=q(v,T,me,U):ce=q(v,T,ce,U),this._root=ge(ce,me,U)},B.prototype.split=function(b){return le(b,this._root,this._comparator)},B}();function J(B,b,v,T){var U=T-v;if(U>0){var P=v+Math.floor(U/2),ce=B[P],me=b[P],Ie=new D(ce,me);return Ie.left=J(B,b,v,P),Ie.right=J(B,b,P+1,T),Ie}return null}function K(B,b){for(var v=new D(null,null),T=v,U=0;U<B.length;U++)T=T.next=new D(B[U],b[U]);return T.next=null,v.next}function W(B){for(var b=B,v=[],T=!1,U=new D(null,null),P=U;!T;)b?(v.push(b),b=b.left):v.length>0?b=(b=P=P.next=v.pop()).right:T=!0;return P.next=null,U.next}function X(B,b,v){var T=v-b;if(T>0){var U=b+Math.floor(T/2),P=X(B,b,U),ce=B.head;return ce.left=P,B.head=B.head.next,ce.right=X(B,U+1,v),ce}return null}function te(B,b,v){for(var T=new D(null,null),U=T,P=B,ce=b;P!==null&&ce!==null;)v(P.key,ce.key)<0?(U.next=P,P=P.next):(U.next=ce,ce=ce.next),U=U.next;return P!==null?U.next=P:ce!==null&&(U.next=ce),T.next}function A(B,b,v,T,U){if(!(v>=T)){for(var P=B[v+T>>1],ce=v-1,me=T+1;;){do ce++;while(U(B[ce],P)<0);do me--;while(U(B[me],P)>0);if(ce>=me)break;var Ie=B[ce];B[ce]=B[me],B[me]=Ie,Ie=b[ce],b[ce]=b[me],b[me]=Ie}A(B,b,v,me,U),A(B,b,me+1,T,U)}}var Y=function(B,b){return B.ll.x<=b.x&&b.x<=B.ur.x&&B.ll.y<=b.y&&b.y<=B.ur.y},l=function(B,b){if(b.ur.x<B.ll.x||B.ur.x<b.ll.x||b.ur.y<B.ll.y||B.ur.y<b.ll.y)return null;var v=B.ll.x<b.ll.x?b.ll.x:B.ll.x,T=B.ur.x<b.ur.x?B.ur.x:b.ur.x;return{ll:{x:v,y:B.ll.y<b.ll.y?b.ll.y:B.ll.y},ur:{x:T,y:B.ur.y<b.ur.y?B.ur.y:b.ur.y}}},be=Number.EPSILON;be===void 0&&(be=Math.pow(2,-52));var _e=be*be,ke=function(B,b){if(-be<B&&B<be&&-be<b&&b<be)return 0;var v=B-b;return v*v<_e*B*b?0:B<b?-1:1},Ce=function(){function B(){y(this,B),this.reset()}return k(B,[{key:"reset",value:function(){this.xRounder=new Be,this.yRounder=new Be}},{key:"round",value:function(b,v){return{x:this.xRounder.round(b),y:this.yRounder.round(v)}}}]),B}(),Be=function(){function B(){y(this,B),this.tree=new Q,this.round(0)}return k(B,[{key:"round",value:function(b){var v=this.tree.add(b),T=this.tree.prev(v);if(T!==null&&ke(v.key,T.key)===0)return this.tree.remove(b),T.key;var U=this.tree.next(v);return U!==null&&ke(v.key,U.key)===0?(this.tree.remove(b),U.key):b}}]),B}(),Me=new Ce,Ae=function(B,b){return B.x*b.y-B.y*b.x},We=function(B,b){return B.x*b.x+B.y*b.y},Ne=function(B,b,v){var T={x:b.x-B.x,y:b.y-B.y},U={x:v.x-B.x,y:v.y-B.y},P=Ae(T,U);return ke(P,0)},Te=function(B){return Math.sqrt(We(B,B))},_t=function(B,b,v){var T={x:b.x-B.x,y:b.y-B.y},U={x:v.x-B.x,y:v.y-B.y};return Ae(U,T)/Te(U)/Te(T)},Le=function(B,b,v){var T={x:b.x-B.x,y:b.y-B.y},U={x:v.x-B.x,y:v.y-B.y};return We(U,T)/Te(U)/Te(T)},Ge=function(B,b,v){return b.y===0?null:{x:B.x+b.x/b.y*(v-B.y),y:v}},ht=function(B,b,v){return b.x===0?null:{x:v,y:B.y+b.y/b.x*(v-B.x)}},kt=function(B,b,v,T){if(b.x===0)return ht(v,T,B.x);if(T.x===0)return ht(B,b,v.x);if(b.y===0)return Ge(v,T,B.y);if(T.y===0)return Ge(B,b,v.y);var U=Ae(b,T);if(U==0)return null;var P={x:v.x-B.x,y:v.y-B.y},ce=Ae(P,b)/U,me=Ae(P,T)/U;return{x:(B.x+me*b.x+(v.x+ce*T.x))/2,y:(B.y+me*b.y+(v.y+ce*T.y))/2}},Ye=function(){function B(b,v){y(this,B),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=v}return k(B,null,[{key:"compare",value:function(b,v){var T=B.comparePoints(b.point,v.point);return T!==0?T:(b.point!==v.point&&b.link(v),b.isLeft!==v.isLeft?b.isLeft?1:-1:Xe.compare(b.segment,v.segment))}},{key:"comparePoints",value:function(b,v){return b.x<v.x?-1:b.x>v.x?1:b.y<v.y?-1:b.y>v.y?1:0}}]),k(B,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var v=b.point.events,T=0,U=v.length;T<U;T++){var P=v[T];this.point.events.push(P),P.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,v=0;v<b;v++){var T=this.point.events[v];if(T.segment.consumedBy===void 0)for(var U=v+1;U<b;U++){var P=this.point.events[U];P.consumedBy===void 0&&T.otherSE.point.events===P.otherSE.point.events&&T.segment.consume(P.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],v=0,T=this.point.events.length;v<T;v++){var U=this.point.events[v];U!==this&&!U.segment.ringOut&&U.segment.isInResult()&&b.push(U)}return b}},{key:"getLeftmostComparator",value:function(b){var v=this,T=new Map,U=function(P){var ce=P.otherSE;T.set(P,{sine:_t(v.point,b.point,ce.point),cosine:Le(v.point,b.point,ce.point)})};return function(P,ce){T.has(P)||U(P),T.has(ce)||U(ce);var me=T.get(P),Ie=me.sine,qe=me.cosine,ot=T.get(ce),it=ot.sine,Ze=ot.cosine;return Ie>=0&&it>=0?qe<Ze?1:qe>Ze?-1:0:Ie<0&&it<0?qe<Ze?-1:qe>Ze?1:0:it<Ie?-1:it>Ie?1:0}}}]),B}(),ct=0,Xe=function(){function B(b,v,T,U){y(this,B),this.id=++ct,this.leftSE=b,b.segment=this,b.otherSE=v,this.rightSE=v,v.segment=this,v.otherSE=b,this.rings=T,this.windings=U}return k(B,null,[{key:"compare",value:function(b,v){var T=b.leftSE.point.x,U=v.leftSE.point.x,P=b.rightSE.point.x,ce=v.rightSE.point.x;if(ce<T)return 1;if(P<U)return-1;var me=b.leftSE.point.y,Ie=v.leftSE.point.y,qe=b.rightSE.point.y,ot=v.rightSE.point.y;if(T<U){if(Ie<me&&Ie<qe)return 1;if(Ie>me&&Ie>qe)return-1;var it=b.comparePoint(v.leftSE.point);if(it<0)return 1;if(it>0)return-1;var Ze=v.comparePoint(b.rightSE.point);return Ze!==0?Ze:-1}if(T>U){if(me<Ie&&me<ot)return-1;if(me>Ie&&me>ot)return 1;var st=v.comparePoint(b.leftSE.point);if(st!==0)return st;var tt=b.comparePoint(v.rightSE.point);return tt<0?1:tt>0?-1:1}if(me<Ie)return-1;if(me>Ie)return 1;if(P<ce){var mt=v.comparePoint(b.rightSE.point);if(mt!==0)return mt}if(P>ce){var It=b.comparePoint(v.rightSE.point);if(It<0)return 1;if(It>0)return-1}if(P!==ce){var Et=qe-me,qt=P-T,Bt=ot-Ie,At=ce-U;if(Et>qt&&Bt<At)return 1;if(Et<qt&&Bt>At)return-1}return P>ce?1:P<ce||qe<ot?-1:qe>ot?1:b.id<v.id?-1:b.id>v.id?1:0}}]),k(B,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,v=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<v?b:v},ur:{x:this.rightSE.point.x,y:b>v?b:v}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var v=this.leftSE.point,T=this.rightSE.point,U=this.vector();if(v.x===T.x)return b.x===v.x?0:b.x<v.x?1:-1;var P=(b.y-v.y)/U.y,ce=v.x+P*U.x;if(b.x===ce)return 0;var me=(b.x-v.x)/U.x,Ie=v.y+me*U.y;return b.y===Ie?0:b.y<Ie?-1:1}},{key:"getIntersection",value:function(b){var v=this.bbox(),T=b.bbox(),U=l(v,T);if(U===null)return null;var P=this.leftSE.point,ce=this.rightSE.point,me=b.leftSE.point,Ie=b.rightSE.point,qe=Y(v,me)&&this.comparePoint(me)===0,ot=Y(T,P)&&b.comparePoint(P)===0,it=Y(v,Ie)&&this.comparePoint(Ie)===0,Ze=Y(T,ce)&&b.comparePoint(ce)===0;if(ot&&qe)return Ze&&!it?ce:!Ze&&it?Ie:null;if(ot)return it&&P.x===Ie.x&&P.y===Ie.y?null:P;if(qe)return Ze&&ce.x===me.x&&ce.y===me.y?null:me;if(Ze&&it)return null;if(Ze)return ce;if(it)return Ie;var st=kt(P,this.vector(),me,b.vector());return st===null?null:Y(U,st)?Me.round(st.x,st.y):null}},{key:"split",value:function(b){var v=[],T=b.events!==void 0,U=new Ye(b,!0),P=new Ye(b,!1),ce=this.rightSE;this.replaceRightSE(P),v.push(P),v.push(U);var me=new B(U,ce,this.rings.slice(),this.windings.slice());return Ye.comparePoints(me.leftSE.point,me.rightSE.point)>0&&me.swapEvents(),Ye.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),T&&(U.checkForConsuming(),P.checkForConsuming()),v}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var v=0,T=this.windings.length;v<T;v++)this.windings[v]*=-1}},{key:"consume",value:function(b){for(var v=this,T=b;v.consumedBy;)v=v.consumedBy;for(;T.consumedBy;)T=T.consumedBy;var U=B.compare(v,T);if(U!==0){if(U>0){var P=v;v=T,T=P}if(v.prev===T){var ce=v;v=T,T=ce}for(var me=0,Ie=T.rings.length;me<Ie;me++){var qe=T.rings[me],ot=T.windings[me],it=v.rings.indexOf(qe);it===-1?(v.rings.push(qe),v.windings.push(ot)):v.windings[it]+=ot}T.rings=null,T.windings=null,T.consumedBy=v,T.leftSE.consumedBy=v.leftSE,T.rightSE.consumedBy=v.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var v=this._afterState.rings,T=this._afterState.windings,U=this._afterState.multiPolys,P=0,ce=this.rings.length;P<ce;P++){var me=this.rings[P],Ie=this.windings[P],qe=v.indexOf(me);qe===-1?(v.push(me),T.push(Ie)):T[qe]+=Ie}for(var ot=[],it=[],Ze=0,st=v.length;Ze<st;Ze++)if(T[Ze]!==0){var tt=v[Ze],mt=tt.poly;if(it.indexOf(mt)===-1)if(tt.isExterior)ot.push(mt);else{it.indexOf(mt)===-1&&it.push(mt);var It=ot.indexOf(tt.poly);It!==-1&&ot.splice(It,1)}}for(var Et=0,qt=ot.length;Et<qt;Et++){var Bt=ot[Et].multiPoly;U.indexOf(Bt)===-1&&U.push(Bt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,v=this.afterState().multiPolys;switch(Ut.type){case"union":var T=b.length===0,U=v.length===0;this._isInResult=T!==U;break;case"intersection":var P,ce;b.length<v.length?(P=b.length,ce=v.length):(P=v.length,ce=b.length),this._isInResult=ce===Ut.numMultiPolys&&P<ce;break;case"xor":var me=Math.abs(b.length-v.length);this._isInResult=me%2==1;break;case"difference":var Ie=function(qe){return qe.length===1&&qe[0].isSubject};this._isInResult=Ie(b)!==Ie(v);break;default:throw new Error("Unrecognized operation type found ".concat(Ut.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,v,T){var U,P,ce,me=Ye.comparePoints(b,v);if(me<0)U=b,P=v,ce=1;else{if(!(me>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));U=v,P=b,ce=-1}return new B(new Ye(U,!0),new Ye(P,!1),[T],[ce])}}]),B}(),nn=function(){function B(b,v,T){if(y(this,B),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=v,this.isExterior=T,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var U=Me.round(b[0][0],b[0][1]);this.bbox={ll:{x:U.x,y:U.y},ur:{x:U.x,y:U.y}};for(var P=U,ce=1,me=b.length;ce<me;ce++){if(typeof b[ce][0]!="number"||typeof b[ce][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ie=Me.round(b[ce][0],b[ce][1]);Ie.x===P.x&&Ie.y===P.y||(this.segments.push(Xe.fromRing(P,Ie,this)),Ie.x<this.bbox.ll.x&&(this.bbox.ll.x=Ie.x),Ie.y<this.bbox.ll.y&&(this.bbox.ll.y=Ie.y),Ie.x>this.bbox.ur.x&&(this.bbox.ur.x=Ie.x),Ie.y>this.bbox.ur.y&&(this.bbox.ur.y=Ie.y),P=Ie)}U.x===P.x&&U.y===P.y||this.segments.push(Xe.fromRing(P,U,this))}return k(B,[{key:"getSweepEvents",value:function(){for(var b=[],v=0,T=this.segments.length;v<T;v++){var U=this.segments[v];b.push(U.leftSE),b.push(U.rightSE)}return b}}]),B}(),Ot=function(){function B(b,v){if(y(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new nn(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var T=1,U=b.length;T<U;T++){var P=new nn(b[T],this,!1);P.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=P.bbox.ll.x),P.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=P.bbox.ll.y),P.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=P.bbox.ur.x),P.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=P.bbox.ur.y),this.interiorRings.push(P)}this.multiPoly=v}return k(B,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),v=0,T=this.interiorRings.length;v<T;v++)for(var U=this.interiorRings[v].getSweepEvents(),P=0,ce=U.length;P<ce;P++)b.push(U[P]);return b}}]),B}(),ii=function(){function B(b,v){if(y(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var T=0,U=b.length;T<U;T++){var P=new Ot(b[T],this);P.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=P.bbox.ll.x),P.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=P.bbox.ll.y),P.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=P.bbox.ur.x),P.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=P.bbox.ur.y),this.polys.push(P)}this.isSubject=v}return k(B,[{key:"getSweepEvents",value:function(){for(var b=[],v=0,T=this.polys.length;v<T;v++)for(var U=this.polys[v].getSweepEvents(),P=0,ce=U.length;P<ce;P++)b.push(U[P]);return b}}]),B}(),fn=function(){function B(b){y(this,B),this.events=b;for(var v=0,T=b.length;v<T;v++)b[v].segment.ringOut=this;this.poly=null}return k(B,null,[{key:"factory",value:function(b){for(var v=[],T=0,U=b.length;T<U;T++){var P=b[T];if(P.isInResult()&&!P.ringOut){for(var ce=null,me=P.leftSE,Ie=P.rightSE,qe=[me],ot=me.point,it=[];ce=me,me=Ie,qe.push(me),me.point!==ot;)for(;;){var Ze=me.getAvailableLinkedEvents();if(Ze.length===0){var st=qe[0].point,tt=qe[qe.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(st.x,",")+" ".concat(st.y,"]. Last matching segment found ends at")+" [".concat(tt.x,", ").concat(tt.y,"]."))}if(Ze.length===1){Ie=Ze[0].otherSE;break}for(var mt=null,It=0,Et=it.length;It<Et;It++)if(it[It].point===me.point){mt=It;break}if(mt===null){it.push({index:qe.length,point:me.point});var qt=me.getLeftmostComparator(ce);Ie=Ze.sort(qt)[0].otherSE;break}var Bt=it.splice(mt)[0],At=qe.splice(Bt.index);At.unshift(At[0].otherSE),v.push(new B(At.reverse()))}v.push(new B(qe))}}return v}}]),k(B,[{key:"getGeom",value:function(){for(var b=this.events[0].point,v=[b],T=1,U=this.events.length-1;T<U;T++){var P=this.events[T].point,ce=this.events[T+1].point;Ne(P,b,ce)!==0&&(v.push(P),b=P)}if(v.length===1)return null;var me=v[0],Ie=v[1];Ne(me,b,Ie)===0&&v.shift(),v.push(v[0]);for(var qe=this.isExteriorRing()?1:-1,ot=this.isExteriorRing()?0:v.length-1,it=this.isExteriorRing()?v.length:-1,Ze=[],st=ot;st!=it;st+=qe)Ze.push([v[st].x,v[st].y]);return Ze}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],v=1,T=this.events.length;v<T;v++){var U=this.events[v];Ye.compare(b,U)>0&&(b=U)}for(var P=b.segment.prevInResult(),ce=P?P.prevInResult():null;;){if(!P)return null;if(!ce)return P.ringOut;if(ce.ringOut!==P.ringOut)return ce.ringOut.enclosingRing()!==P.ringOut?P.ringOut:P.ringOut.enclosingRing();P=ce.prevInResult(),ce=P?P.prevInResult():null}}}]),B}(),Yt=function(){function B(b){y(this,B),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return k(B,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var v=0,T=this.interiorRings.length;v<T;v++){var U=this.interiorRings[v].getGeom();U!==null&&b.push(U)}return b}}]),B}(),Un=function(){function B(b){y(this,B),this.rings=b,this.polys=this._composePolys(b)}return k(B,[{key:"getGeom",value:function(){for(var b=[],v=0,T=this.polys.length;v<T;v++){var U=this.polys[v].getGeom();U!==null&&b.push(U)}return b}},{key:"_composePolys",value:function(b){for(var v=[],T=0,U=b.length;T<U;T++){var P=b[T];if(!P.poly)if(P.isExteriorRing())v.push(new Yt(P));else{var ce=P.enclosingRing();ce.poly||v.push(new Yt(ce)),ce.poly.addInterior(P)}}return v}}]),B}(),ln=function(){function B(b){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xe.compare;y(this,B),this.queue=b,this.tree=new Q(v),this.segments=[]}return k(B,[{key:"process",value:function(b){var v=b.segment,T=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(v),T;var U=b.isLeft?this.tree.insert(v):this.tree.find(v);if(!U)throw new Error("Unable to find segment #".concat(v.id," ")+"[".concat(v.leftSE.point.x,", ").concat(v.leftSE.point.y,"] -> ")+"[".concat(v.rightSE.point.x,", ").concat(v.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var P=U,ce=U,me=void 0,Ie=void 0;me===void 0;)(P=this.tree.prev(P))===null?me=null:P.key.consumedBy===void 0&&(me=P.key);for(;Ie===void 0;)(ce=this.tree.next(ce))===null?Ie=null:ce.key.consumedBy===void 0&&(Ie=ce.key);if(b.isLeft){var qe=null;if(me){var ot=me.getIntersection(v);if(ot!==null&&(v.isAnEndpoint(ot)||(qe=ot),!me.isAnEndpoint(ot)))for(var it=this._splitSafely(me,ot),Ze=0,st=it.length;Ze<st;Ze++)T.push(it[Ze])}var tt=null;if(Ie){var mt=Ie.getIntersection(v);if(mt!==null&&(v.isAnEndpoint(mt)||(tt=mt),!Ie.isAnEndpoint(mt)))for(var It=this._splitSafely(Ie,mt),Et=0,qt=It.length;Et<qt;Et++)T.push(It[Et])}if(qe!==null||tt!==null){var Bt=null;Bt=qe===null?tt:tt===null||Ye.comparePoints(qe,tt)<=0?qe:tt,this.queue.remove(v.rightSE),T.push(v.rightSE);for(var At=v.split(Bt),Vt=0,St=At.length;Vt<St;Vt++)T.push(At[Vt])}T.length>0?(this.tree.remove(v),T.push(b)):(this.segments.push(v),v.prev=me)}else{if(me&&Ie){var Ct=me.getIntersection(Ie);if(Ct!==null){if(!me.isAnEndpoint(Ct))for(var Qt=this._splitSafely(me,Ct),Nt=0,Tt=Qt.length;Nt<Tt;Nt++)T.push(Qt[Nt]);if(!Ie.isAnEndpoint(Ct))for(var rn=this._splitSafely(Ie,Ct),bn=0,Sn=rn.length;bn<Sn;bn++)T.push(rn[bn])}}this.tree.remove(v)}return T}},{key:"_splitSafely",value:function(b,v){this.tree.remove(b);var T=b.rightSE;this.queue.remove(T);var U=b.split(v);return U.push(T),b.consumedBy===void 0&&this.tree.insert(b),U}}]),B}(),Pn=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,mi=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ut=new(function(){function B(){y(this,B)}return k(B,[{key:"run",value:function(b,v,T){Ut.type=b,Me.reset();for(var U=[new ii(v,!0)],P=0,ce=T.length;P<ce;P++)U.push(new ii(T[P],!1));if(Ut.numMultiPolys=U.length,Ut.type==="difference")for(var me=U[0],Ie=1;Ie<U.length;)l(U[Ie].bbox,me.bbox)!==null?Ie++:U.splice(Ie,1);if(Ut.type==="intersection"){for(var qe=0,ot=U.length;qe<ot;qe++)for(var it=U[qe],Ze=qe+1,st=U.length;Ze<st;Ze++)if(l(it.bbox,U[Ze].bbox)===null)return[]}for(var tt=new Q(Ye.compare),mt=0,It=U.length;mt<It;mt++)for(var Et=U[mt].getSweepEvents(),qt=0,Bt=Et.length;qt<Bt;qt++)if(tt.insert(Et[qt]),tt.size>Pn)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var At=new ln(tt),Vt=tt.size,St=tt.pop();St;){var Ct=St.key;if(tt.size===Vt){var Qt=Ct.segment;throw new Error("Unable to pop() ".concat(Ct.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ct.point.x,", ").concat(Ct.point.y,"] from segment #").concat(Qt.id," ")+"[".concat(Qt.leftSE.point.x,", ").concat(Qt.leftSE.point.y,"] -> ")+"[".concat(Qt.rightSE.point.x,", ").concat(Qt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(tt.size>Pn)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(At.segments.length>mi)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Nt=At.process(Ct),Tt=0,rn=Nt.length;Tt<rn;Tt++){var bn=Nt[Tt];bn.consumedBy===void 0&&tt.insert(bn)}Vt=tt.size,St=tt.pop()}Me.reset();var Sn=fn.factory(At.segments);return new Un(Sn).getGeom()}}]),B}()),Fn=function(B){for(var b=arguments.length,v=new Array(b>1?b-1:0),T=1;T<b;T++)v[T-1]=arguments[T];return Ut.run("union",B,v)},mn=function(B){for(var b=arguments.length,v=new Array(b>1?b-1:0),T=1;T<b;T++)v[T-1]=arguments[T];return Ut.run("intersection",B,v)},$t=function(B){for(var b=arguments.length,v=new Array(b>1?b-1:0),T=1;T<b;T++)v[T-1]=arguments[T];return Ut.run("xor",B,v)},xi=function(B){for(var b=arguments.length,v=new Array(b>1?b-1:0),T=1;T<b;T++)v[T-1]=arguments[T];return Ut.run("difference",B,v)};return{union:Fn,intersection:mn,xor:$t,difference:xi}}()},2582:function(M){M.exports=function(){"use strict";function y(A,Y,l,be,_e){(function ke(Ce,Be,Me,Ae,We){for(;Ae>Me;){if(Ae-Me>600){var Ne=Ae-Me+1,Te=Be-Me+1,_t=Math.log(Ne),Le=.5*Math.exp(2*_t/3),Ge=.5*Math.sqrt(_t*Le*(Ne-Le)/Ne)*(Te-Ne/2<0?-1:1);ke(Ce,Be,Math.max(Me,Math.floor(Be-Te*Le/Ne+Ge)),Math.min(Ae,Math.floor(Be+(Ne-Te)*Le/Ne+Ge)),We)}var ht=Ce[Be],kt=Me,Ye=Ae;for(_(Ce,Me,Be),We(Ce[Ae],ht)>0&&_(Ce,Me,Ae);kt<Ye;){for(_(Ce,kt,Ye),kt++,Ye--;We(Ce[kt],ht)<0;)kt++;for(;We(Ce[Ye],ht)>0;)Ye--}We(Ce[Me],ht)===0?_(Ce,Me,Ye):_(Ce,++Ye,Ae),Ye<=Be&&(Me=Ye+1),Be<=Ye&&(Ae=Ye-1)}})(A,Y,l||0,be||A.length-1,_e||k)}function _(A,Y,l){var be=A[Y];A[Y]=A[l],A[l]=be}function k(A,Y){return A<Y?-1:A>Y?1:0}var D=function(A){A===void 0&&(A=9),this._maxEntries=Math.max(4,A),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function G(A,Y,l){if(!l)return Y.indexOf(A);for(var be=0;be<Y.length;be++)if(l(A,Y[be]))return be;return-1}function E(A,Y){q(A,0,A.children.length,Y,A)}function q(A,Y,l,be,_e){_e||(_e=X(null)),_e.minX=1/0,_e.minY=1/0,_e.maxX=-1/0,_e.maxY=-1/0;for(var ke=Y;ke<l;ke++){var Ce=A.children[ke];le(_e,A.leaf?be(Ce):Ce)}return _e}function le(A,Y){return A.minX=Math.min(A.minX,Y.minX),A.minY=Math.min(A.minY,Y.minY),A.maxX=Math.max(A.maxX,Y.maxX),A.maxY=Math.max(A.maxY,Y.maxY),A}function ge(A,Y){return A.minX-Y.minX}function re(A,Y){return A.minY-Y.minY}function Q(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function J(A){return A.maxX-A.minX+(A.maxY-A.minY)}function K(A,Y){return A.minX<=Y.minX&&A.minY<=Y.minY&&Y.maxX<=A.maxX&&Y.maxY<=A.maxY}function W(A,Y){return Y.minX<=A.maxX&&Y.minY<=A.maxY&&Y.maxX>=A.minX&&Y.maxY>=A.minY}function X(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function te(A,Y,l,be,_e){for(var ke=[Y,l];ke.length;)if(!((l=ke.pop())-(Y=ke.pop())<=be)){var Ce=Y+Math.ceil((l-Y)/be/2)*be;y(A,Ce,Y,l,_e),ke.push(Y,Ce,Ce,l)}}return D.prototype.all=function(){return this._all(this.data,[])},D.prototype.search=function(A){var Y=this.data,l=[];if(!W(A,Y))return l;for(var be=this.toBBox,_e=[];Y;){for(var ke=0;ke<Y.children.length;ke++){var Ce=Y.children[ke],Be=Y.leaf?be(Ce):Ce;W(A,Be)&&(Y.leaf?l.push(Ce):K(A,Be)?this._all(Ce,l):_e.push(Ce))}Y=_e.pop()}return l},D.prototype.collides=function(A){var Y=this.data;if(!W(A,Y))return!1;for(var l=[];Y;){for(var be=0;be<Y.children.length;be++){var _e=Y.children[be],ke=Y.leaf?this.toBBox(_e):_e;if(W(A,ke)){if(Y.leaf||K(A,ke))return!0;l.push(_e)}}Y=l.pop()}return!1},D.prototype.load=function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var Y=0;Y<A.length;Y++)this.insert(A[Y]);return this}var l=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var be=this.data;this.data=l,l=be}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},D.prototype.insert=function(A){return A&&this._insert(A,this.data.height-1),this},D.prototype.clear=function(){return this.data=X([]),this},D.prototype.remove=function(A,Y){if(!A)return this;for(var l,be,_e,ke=this.data,Ce=this.toBBox(A),Be=[],Me=[];ke||Be.length;){if(ke||(ke=Be.pop(),be=Be[Be.length-1],l=Me.pop(),_e=!0),ke.leaf){var Ae=G(A,ke.children,Y);if(Ae!==-1)return ke.children.splice(Ae,1),Be.push(ke),this._condense(Be),this}_e||ke.leaf||!K(ke,Ce)?be?(l++,ke=be.children[l],_e=!1):ke=null:(Be.push(ke),Me.push(l),l=0,be=ke,ke=ke.children[0])}return this},D.prototype.toBBox=function(A){return A},D.prototype.compareMinX=function(A,Y){return A.minX-Y.minX},D.prototype.compareMinY=function(A,Y){return A.minY-Y.minY},D.prototype.toJSON=function(){return this.data},D.prototype.fromJSON=function(A){return this.data=A,this},D.prototype._all=function(A,Y){for(var l=[];A;)A.leaf?Y.push.apply(Y,A.children):l.push.apply(l,A.children),A=l.pop();return Y},D.prototype._build=function(A,Y,l,be){var _e,ke=l-Y+1,Ce=this._maxEntries;if(ke<=Ce)return E(_e=X(A.slice(Y,l+1)),this.toBBox),_e;be||(be=Math.ceil(Math.log(ke)/Math.log(Ce)),Ce=Math.ceil(ke/Math.pow(Ce,be-1))),(_e=X([])).leaf=!1,_e.height=be;var Be=Math.ceil(ke/Ce),Me=Be*Math.ceil(Math.sqrt(Ce));te(A,Y,l,Me,this.compareMinX);for(var Ae=Y;Ae<=l;Ae+=Me){var We=Math.min(Ae+Me-1,l);te(A,Ae,We,Be,this.compareMinY);for(var Ne=Ae;Ne<=We;Ne+=Be){var Te=Math.min(Ne+Be-1,We);_e.children.push(this._build(A,Ne,Te,be-1))}}return E(_e,this.toBBox),_e},D.prototype._chooseSubtree=function(A,Y,l,be){for(;be.push(Y),!Y.leaf&&be.length-1!==l;){for(var _e=1/0,ke=1/0,Ce=void 0,Be=0;Be<Y.children.length;Be++){var Me=Y.children[Be],Ae=Q(Me),We=(Ne=A,Te=Me,(Math.max(Te.maxX,Ne.maxX)-Math.min(Te.minX,Ne.minX))*(Math.max(Te.maxY,Ne.maxY)-Math.min(Te.minY,Ne.minY))-Ae);We<ke?(ke=We,_e=Ae<_e?Ae:_e,Ce=Me):We===ke&&Ae<_e&&(_e=Ae,Ce=Me)}Y=Ce||Y.children[0]}var Ne,Te;return Y},D.prototype._insert=function(A,Y,l){var be=l?A:this.toBBox(A),_e=[],ke=this._chooseSubtree(be,this.data,Y,_e);for(ke.children.push(A),le(ke,be);Y>=0&&_e[Y].children.length>this._maxEntries;)this._split(_e,Y),Y--;this._adjustParentBBoxes(be,_e,Y)},D.prototype._split=function(A,Y){var l=A[Y],be=l.children.length,_e=this._minEntries;this._chooseSplitAxis(l,_e,be);var ke=this._chooseSplitIndex(l,_e,be),Ce=X(l.children.splice(ke,l.children.length-ke));Ce.height=l.height,Ce.leaf=l.leaf,E(l,this.toBBox),E(Ce,this.toBBox),Y?A[Y-1].children.push(Ce):this._splitRoot(l,Ce)},D.prototype._splitRoot=function(A,Y){this.data=X([A,Y]),this.data.height=A.height+1,this.data.leaf=!1,E(this.data,this.toBBox)},D.prototype._chooseSplitIndex=function(A,Y,l){for(var be,_e,ke,Ce,Be,Me,Ae,We=1/0,Ne=1/0,Te=Y;Te<=l-Y;Te++){var _t=q(A,0,Te,this.toBBox),Le=q(A,Te,l,this.toBBox),Ge=(_e=_t,ke=Le,Ce=void 0,Be=void 0,Me=void 0,Ae=void 0,Ce=Math.max(_e.minX,ke.minX),Be=Math.max(_e.minY,ke.minY),Me=Math.min(_e.maxX,ke.maxX),Ae=Math.min(_e.maxY,ke.maxY),Math.max(0,Me-Ce)*Math.max(0,Ae-Be)),ht=Q(_t)+Q(Le);Ge<We?(We=Ge,be=Te,Ne=ht<Ne?ht:Ne):Ge===We&&ht<Ne&&(Ne=ht,be=Te)}return be||l-Y},D.prototype._chooseSplitAxis=function(A,Y,l){var be=A.leaf?this.compareMinX:ge,_e=A.leaf?this.compareMinY:re;this._allDistMargin(A,Y,l,be)<this._allDistMargin(A,Y,l,_e)&&A.children.sort(be)},D.prototype._allDistMargin=function(A,Y,l,be){A.children.sort(be);for(var _e=this.toBBox,ke=q(A,0,Y,_e),Ce=q(A,l-Y,l,_e),Be=J(ke)+J(Ce),Me=Y;Me<l-Y;Me++){var Ae=A.children[Me];le(ke,A.leaf?_e(Ae):Ae),Be+=J(ke)}for(var We=l-Y-1;We>=Y;We--){var Ne=A.children[We];le(Ce,A.leaf?_e(Ne):Ne),Be+=J(Ce)}return Be},D.prototype._adjustParentBBoxes=function(A,Y,l){for(var be=l;be>=0;be--)le(Y[be],A)},D.prototype._condense=function(A){for(var Y=A.length-1,l=void 0;Y>=0;Y--)A[Y].children.length===0?Y>0?(l=A[Y-1].children).splice(l.indexOf(A[Y]),1):this.clear():E(A[Y],this.toBBox)},D}()}},xe={};function $(M){var y=xe[M];if(y!==void 0)return y.exports;var _=xe[M]={id:M,loaded:!1,exports:{}};return F[M].call(_.exports,_,_.exports,$),_.loaded=!0,_.exports}$.n=M=>{var y=M&&M.__esModule?()=>M.default:()=>M;return $.d(y,{a:y}),y},$.d=(M,y)=>{for(var _ in y)$.o(y,_)&&!$.o(M,_)&&Object.defineProperty(M,_,{enumerable:!0,get:y[_]})},$.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),$.o=(M,y)=>Object.prototype.hasOwnProperty.call(M,y),$.nmd=M=>(M.paths=[],M.children||(M.children=[]),M),(()=>{"use strict";$(7107);var M=$(2492),y=$.n(M);let _=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),k=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xF6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xF6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xFCpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"L\xE4nge","segmentLength":"Segment L\xE4nge","area":"Fl\xE4che","radius":"Radius","perimeter":"Umfang","height":"H\xF6he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),D=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),G=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),E=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri","pinningButton":"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103"}}'),q=JSON.parse('{"tooltips":{"placeMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442","continueLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435","finishLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F","finishPoly":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","finishRect":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","startCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C","cancel":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","removeLastVertex":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D","drawLineButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E","drawCircleButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439","cutButton":"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439","deleteButton":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439","drawCircleMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C","pinningButton":"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435"}}'),le=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xE9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del c\xEDrculo","finishCircle":"Presiona para finalizar el c\xEDrculo","placeCircleMarker":"Presiona para colocar un marcador de c\xEDrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xEDgono","drawLineButton":"Dibujar L\xEDnea","drawCircleButton":"Dibujar C\xEDrculo","drawRectButton":"Dibujar Rect\xE1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de C\xEDrculo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xE9rtices","pinningButton":"Fijar juntos los v\xE9rtices compartidos"}}'),ge=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xEBindigen","finishPoly":"Klik op het eerst punt om te be\xEBindigen","finishRect":"Klik om te be\xEBindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xEBindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),re=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xE0 dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xC9diter des calques","dragButton":"D\xE9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"\xC9pingler ensemble les sommets partag\xE9s","rotateButton":"Tourner des calques"}}`),Q=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0","firstVertex":"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9","continueLine":"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236","finishLine":"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210","finishPoly":"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210","finishRect":"\u5355\u51FB\u5B8C\u6210","startCircle":"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3","finishCircle":"\u5355\u51FB\u5B8C\u6210\u5706\u5F62","placeCircleMarker":"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},"buttonTitles":{"drawMarkerButton":"\u7ED8\u5236\u6807\u8BB0","drawPolyButton":"\u7ED8\u5236\u591A\u8FB9\u5F62","drawLineButton":"\u7ED8\u5236\u7EBF\u6BB5","drawCircleButton":"\u7ED8\u5236\u5706\u5F62","drawRectButton":"\u7ED8\u5236\u957F\u65B9\u5F62","editButton":"\u7F16\u8F91\u56FE\u5C42","dragButton":"\u62D6\u62FD\u56FE\u5C42","cutButton":"\u526A\u5207\u56FE\u5C42","deleteButton":"\u5220\u9664\u56FE\u5C42","drawCircleMarkerButton":"\u753B\u5706\u5708\u6807\u8BB0","snappingButton":"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9","pinningButton":"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77"}}'),J=JSON.parse('{"tooltips":{"placeMarker":"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18","firstVertex":"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE","continueLine":"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD","finishLine":"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210","finishPoly":"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210","finishRect":"\u55AE\u64CA\u5B8C\u6210","startCircle":"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3","finishCircle":"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62","placeCircleMarker":"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},"buttonTitles":{"drawMarkerButton":"\u653E\u7F6E\u6A19\u8A18","drawPolyButton":"\u7E6A\u88FD\u591A\u908A\u5F62","drawLineButton":"\u7E6A\u88FD\u7DDA\u6BB5","drawCircleButton":"\u7E6A\u88FD\u5713\u5F62","drawRectButton":"\u7E6A\u88FD\u65B9\u5F62","editButton":"\u7DE8\u8F2F\u5716\u5F62","dragButton":"\u79FB\u52D5\u5716\u5F62","cutButton":"\u88C1\u5207\u5716\u5F62","deleteButton":"\u522A\u9664\u5716\u5F62","drawCircleMarkerButton":"\u756B\u5713\u5708\u6A19\u8A18","snappingButton":"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE","pinningButton":"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77"}}'),K={en:_,de:k,it:D,id:G,ro:E,ru:q,es:le,nl:ge,fr:re,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xE9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xEDgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xEDrculo","finishCircle":"Clique para fechar o c\xEDrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xEDgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xEDrculo","drawRectButton":"Desenhar um ret\xE2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xEDrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xE9rtices","pinningButton":"V\xE9rtices compartilhados de pinos juntos"}}'),zh:Q,zh_tw:J,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby umie\u015Bci\u0107 znacznik","firstVertex":"Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy znacznik, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu","finishCircle":"Kliknij, aby zako\u0144czy\u0107 okr\u0105g","placeCircleMarker":"Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu","placeText":"Kliknij, aby umie\u015Bci\u0107 tekst"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni wierzcho\u0142ek"},"buttonTitles":{"drawMarkerButton":"Rysuj znacznik","drawPolyButton":"Rysuj wielok\u0105t","drawLineButton":"Rysuj lini\u0119","drawCircleButton":"Rysuj okr\u0105g","drawRectButton":"Rysuj prostok\u0105t","editButton":"Edytuj warstwy","dragButton":"Przeci\u0105gnij warstwy","cutButton":"Wytnij warstwy","deleteButton":"Usu\u0144 warstwy","drawCircleMarkerButton":"Rysuj znacznik okr\u0105g\u0142y","snappingButton":"Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w","pinningButton":"Przypnij wsp\xF3lne wierzcho\u0142ki razem","rotateButton":"Obr\xF3\u0107 warstwy","drawTextButton":"Rysuj tekst","scaleButton":"Skaluj warstwy","autoTracingButton":"Automatyczne \u015Bledzenie linii"},"measurements":{"totalLength":"D\u0142ugo\u015B\u0107","segmentLength":"D\u0142ugo\u015B\u0107 odcinka","area":"Obszar","radius":"Promie\u0144","perimeter":"Obw\xF3d","height":"Wysoko\u015B\u0107","width":"Szeroko\u015B\u0107","coordinates":"Pozycja","coordinatesMarker":"Znacznik pozycji"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xF6r att placera mark\xF6r","firstVertex":"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet","continueLine":"Klicka f\xF6r att forts\xE4tta rita","finishLine":"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra","finishPoly":"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra","finishRect":"Klicka f\xF6r att slutf\xF6ra","startCircle":"Klicka f\xF6r att placera cirkelns centrum","finishCircle":"Klicka f\xF6r att slutf\xF6ra cirkeln","placeCircleMarker":"Klicka f\xF6r att placera cirkelmark\xF6r"},"actions":{"finish":"Slutf\xF6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xF6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xF6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xF6r","snappingButton":"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn","pinningButton":"F\xE4st delade h\xF6rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","firstVertex":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF","continueLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5","finishLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF","finishPoly":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","finishRect":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","startCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","finishCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF","placeCircleMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},"actions":{"finish":"\u03A4\u03AD\u03BB\u03BF\u03C2","cancel":"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7","removeLastVertex":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},"buttonTitles":{"drawMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","drawPolyButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5","drawLineButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2","drawCircleButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","drawRectButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5","editButton":"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","dragButton":"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","cutButton":"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","deleteButton":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","drawCircleMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","snappingButton":"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2","pinningButton":"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez","continueLine":"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez","finishLine":"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra","finishPoly":"A befejez\xE9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xE9shez","startCircle":"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez","finishCircle":"Kattintson a k\xF6r befejez\xE9s\xE9hez","placeCircleMarker":"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},"actions":{"finish":"Befejez\xE9s","cancel":"M\xE9gse","removeLastVertex":"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xF6l\u0151 rajzol\xE1sa","drawPolyButton":"Poligon rajzol\xE1sa","drawLineButton":"Vonal rajzol\xE1sa","drawCircleButton":"K\xF6r rajzol\xE1sa","drawRectButton":"N\xE9gyzet rajzol\xE1sa","editButton":"Elemek szerkeszt\xE9se","dragButton":"Elemek mozgat\xE1sa","cutButton":"Elemek v\xE1g\xE1sa","deleteButton":"Elemek t\xF6rl\xE9se","drawCircleMarkerButton":"K\xF6r jel\xF6l\u0151 rajzol\xE1sa","snappingButton":"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz","pinningButton":"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xF8r","firstVertex":"Tryk for at placere det f\xF8rste punkt","continueLine":"Tryk for at forts\xE6tte linjen","finishLine":"Tryk p\xE5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xE5 det f\xF8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xF8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xF8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xE6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xF8r","snappingButton":"Fastg\xF8r trukket mark\xF8r til andre elementer","pinningButton":"Sammenl\xE6g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xE5 plassere punkt","firstVertex":"Klikk for \xE5 plassere f\xF8rste punkt","continueLine":"Klikk for \xE5 tegne videre","finishLine":"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re","finishPoly":"Klikk f\xF8rste punkt for \xE5 fullf\xF8re","finishRect":"Klikk for \xE5 fullf\xF8re","startCircle":"Klikk for \xE5 sette sirkel midtpunkt","finishCircle":"Klikk for \xE5 fullf\xF8re sirkel","placeCircleMarker":"Klikk for \xE5 plassere sirkel","placeText":"Klikk for \xE5 plassere tekst"},"actions":{"finish":"Fullf\xF8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn punkt","drawPolyButton":"Tegn flate","drawLineButton":"Tegn linje","drawCircleButton":"Tegn sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger objekter","dragButton":"Dra objekter","cutButton":"Kutt objekter","deleteButton":"Fjern objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkter sammen","rotateButton":"Rot\xE9r objekter","drawTextButton":"Tegn tekst","scaleButton":"Skal\xE9r objekter","autoTracingButton":"Automatisk sporing av linje"},"measurements":{"totalLength":"Lengde","segmentLength":"Segmentlengde","area":"Omr\xE5de","radius":"Radius","perimeter":"Omriss","height":"H\xF8yde","width":"Bredde","coordinates":"Posisjon","coordinatesMarker":"Posisjonsmark\xF8r"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646","firstVertex":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633","continueLine":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishPoly":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishRect":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","startCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647","finishCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","placeCircleMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","placeText":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646"},"actions":{"finish":"\u067E\u0627\u06CC\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062F\u0631\u062C \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC","drawLineButton":"\u0631\u0633\u0645 \u062E\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC","editButton":"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","dragButton":"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","deleteButton":"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F","rotateButton":"\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647","drawTextButton":"\u0631\u0633\u0645 \u0645\u062A\u0646","scaleButton":"\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC","autoTracingButton":"\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631"},"measurements":{"totalLength":"\u0637\u0648\u0644","segmentLength":"\u0637\u0648\u0644 \u0628\u062E\u0634","area":"\u0646\u0627\u062D\u06CC\u0647","radius":"\u0634\u0639\u0627\u0639","perimeter":"\u0645\u062D\u06CC\u0637","height":"\u0627\u0631\u062A\u0641\u0627\u0639","width":"\u0639\u0631\u0636","coordinates":"\u0645\u0648\u0642\u0639\u06CC\u062A","coordinatesMarker":"\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443","continueLine":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438","finishLine":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F","finishPoly":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","finishRect":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","startCircle":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430","finishCircle":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E","placeCircleMarker":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","cancel":"\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438","removeLastVertex":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443"},"buttonTitles":{"drawMarkerButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D","drawLineButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443","drawCircleButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E","drawRectButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438","cutButton":"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","deleteButton":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438","drawCircleMarkerButton":"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D","pinningButton":"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","firstVertex":"\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","continueLine":"\xC7izime devam etmek i\xE7in t\u0131klay\u0131n","finishLine":"Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n","finishPoly":"Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n","finishRect":"Bitirmek i\xE7in t\u0131klay\u0131n","startCircle":"Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n","finishCircle":"Daireyi bitirmek i\xE7in t\u0131klay\u0131n","placeCircleMarker":"Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n"},"actions":{"finish":"Bitir","cancel":"\u0130ptal","removeLastVertex":"Son k\xF6\u015Feyi kald\u0131r"},"buttonTitles":{"drawMarkerButton":"\xC7izim \u0130\u015Faret\xE7isi","drawPolyButton":"\xC7okgenler \xE7iz","drawLineButton":"\xC7oklu \xE7izgi \xE7iz","drawCircleButton":"\xC7ember \xE7iz","drawRectButton":"Dikd\xF6rtgen \xE7iz","editButton":"Katmanlar\u0131 d\xFCzenle","dragButton":"Katmanlar\u0131 s\xFCr\xFCkle","cutButton":"Katmanlar\u0131 kes","deleteButton":"Katmanlar\u0131 kald\u0131r","drawCircleMarkerButton":"Daire i\u015Faret\xE7isi \xE7iz","snappingButton":"S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r","pinningButton":"Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku","firstVertex":"Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt","continueLine":"Kliknut\xEDm pokra\u010Dujte v kreslen\xED","finishLine":"Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED","finishPoly":"Vyberte prvn\xED bod pro dokon\u010Den\xED","finishRect":"Klikn\u011Bte pro dokon\u010Den\xED","startCircle":"Kliknut\xEDm p\u0159idejte st\u0159ed kruhu","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"Kliknut\xEDm nastavte polom\u011Br"},"actions":{"finish":"Dokon\u010Dit","cancel":"Zru\u0161it","removeLastVertex":"Zru\u0161it posledn\xED akci"},"buttonTitles":{"drawMarkerButton":"P\u0159idat zna\u010Dku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit k\u0159ivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obd\xE9ln\xEDk","editButton":"Upravit vrstvu","dragButton":"P\u0159eneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"P\u0159idat kruhovou zna\u010Dku","snappingButton":"Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm","pinningButton":"Spojit spole\u010Dn\xE9 body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E","firstVertex":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E","continueLine":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B","finishLine":"\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","finishPoly":"\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","finishRect":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86","startCircle":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E","finishCircle":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86","placeCircleMarker":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E","placeText":"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E"},"actions":{"finish":"\u7D42\u4E86","cancel":"\u30AD\u30E3\u30F3\u30BB\u30EB","removeLastVertex":"\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664"},"buttonTitles":{"drawMarkerButton":"\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B","drawPolyButton":"\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B","drawLineButton":"\u6298\u308C\u7DDA\u3092\u63CF\u753B","drawCircleButton":"\u5186\u3092\u63CF\u753B","drawRectButton":"\u77E9\u5F62\u3092\u63CF\u753B","editButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6","dragButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0","cutButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A","deleteButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664","drawCircleMarkerButton":"\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B","snappingButton":"\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B","pinningButton":"\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059","rotateButton":"\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2","drawTextButton":"\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimm\xE4isen osuuden","continueLine":"Klikkaa jatkaaksesi piirt\xE4mist\xE4","finishLine":"Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi","finishPoly":"Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyr\xE4n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyr\xE4n","placeCircleMarker":"Klikkaa asettaaksesi ympyr\xE4merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr\xE4 merkkej\xE4","drawPolyButton":"Piirr\xE4 monikulmioita","drawLineButton":"Piirr\xE4 viivoja","drawCircleButton":"Piirr\xE4 ympyr\xE4","drawRectButton":"Piirr\xE4 neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr\xE4","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr\xE4 ympyr\xE4merkki","snappingButton":"Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin","pinningButton":"Kiinnit\xE4 jaetut muodot yhteen","rotateButton":"K\xE4\xE4nn\xE4","drawTextButton":"Piirr\xE4 teksti\xE4"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","firstVertex":"\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694","continueLine":"\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","finishLine":"\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishPoly":"\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishRect":"\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","startCircle":"\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","finishCircle":"\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694","placeCircleMarker":"\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694","placeText":"\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694"},"actions":{"finish":"\uB05D\uB0B4\uAE30","cancel":"\uCDE8\uC18C","removeLastVertex":"\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70"},"buttonTitles":{"drawMarkerButton":"\uB9C8\uCEE4 \uADF8\uB9AC\uAE30","drawPolyButton":"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30","drawLineButton":"\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30","drawCircleButton":"\uC6D0 \uADF8\uB9AC\uAE30","drawRectButton":"\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30","editButton":"\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30","dragButton":"\uB808\uC774\uC5B4 \uB04C\uAE30","cutButton":"\uB808\uC774\uC5B4 \uC790\uB974\uAE30","deleteButton":"\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30","drawCircleMarkerButton":"\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30","snappingButton":"\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30","pinningButton":"\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30","rotateButton":"\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30","drawTextButton":"\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30"}}')};function W(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function X(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?W(Object(a),!0).forEach(function(u){te(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function te(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}let A={_globalEditModeEnabled:!1,enableGlobalEditMode:function(t){var i=this,a=X({},t);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(u){i._isRelevantForEdit(u)&&u.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(t){t.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)},handleLayerAdditionInGlobalEditMode:function(){var t=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(var i in t){var a=t[i];this._isRelevantForEdit(a)&&a.pm.enable(X({},this.globalOptions))}},_layerAddedEdit:function(t){var i=t.layer;this._addedLayersEdit[L.stamp(i)]=i},_isRelevantForEdit:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowEditing}},Y={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var t=this,i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},i.forEach(function(a){t._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var t=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,t.forEach(function(i){i.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var t=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(var i in t){var a=t[i];this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}},_layerAddedDrag:function(t){var i=t.layer;this._addedLayersDrag[L.stamp(i)]=i},_isRelevantForDrag:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.draggable}},l={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var t=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(i){t._isRelevantForRemoval(i)&&(i.pm.enabled()&&i.pm.disable(),i.on("click",t.removeLayer,t))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var t=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(i){i.off("click",t.removeLayer,t)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer:function(t){var i=t.target;this._isRelevantForRemoval(i)&&!i.pm.dragging()&&(i.removeFrom(this.map.pm._getContainingLayer()),i.remove(),i instanceof L.LayerGroup?(this._fireRemoveLayerGroup(i),this._fireRemoveLayerGroup(this.map,i)):(i.pm._fireRemove(i),i.pm._fireRemove(this.map,i)))},_isRelevantForRemoval:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode:function(){var t=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(var i in t){var a=t[i];this._isRelevantForRemoval(a)&&(a.pm.enabled()&&a.pm.disable(),a.on("click",this.removeLayer,this))}},_layerAddedRemoval:function(t){var i=t.layer;this._addedLayersRemoval[L.stamp(i)]=i}},be={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var t=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(i){return i instanceof L.Polyline}).forEach(function(i){t._isRelevantForRotate(i)&&i.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(t){return t instanceof L.Polyline}).forEach(function(t){t.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate:function(t){return t.pm&&t instanceof L.Polyline&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode:function(){var t=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(var i in t){var a=t[i];this._isRelevantForRemoval(a)&&a.pm.enableRotate()}},_layerAddedRotate:function(t){var i=t.layer;this._addedLayersRotate[L.stamp(i)]=i}};function _e(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function ke(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?_e(Object(a),!0).forEach(function(u){Ce(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Ce(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}var Be={_fireDrawStart:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},t,i)},_fireDrawEnd:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},t,i)},_fireCreate:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:t,layer:t},i,a)},_fireCenterPlaced:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t==="Draw"?this._layer:void 0,u=t!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:u,latlng:this._layer.getLatLng()},t,i)},_fireCut:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(t,"pm:cut",{shape:this._shape,layer:i,originalLayer:a},u,p)},_fireEdit:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(t,"pm:edit",{layer:this._layer,shape:this.getShape()},i,a)},_fireEnable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},t,i)},_fireDisable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},t,i)},_fireUpdate:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},t,i)},_fireMarkerDragStart:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:i},a,u)},_fireMarkerDrag:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:i},a,u)},_fireMarkerDragEnd:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:i,intersectionReset:a},u,p)},_fireDragStart:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},t,i)},_fireDrag:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",ke(ke({},t),{},{shape:this.getShape()}),i,a)},_fireDragEnd:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},t,i)},_fireDragEnable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},t,i)},_fireDragDisable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},t,i)},_fireRemove:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:remove",{layer:i,shape:this.getShape()},a,u)},_fireVertexAdded:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:t,indexPath:i,latlng:a,shape:this.getShape()},u,p)},_fireVertexRemoved:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:t,indexPath:i,shape:this.getShape()},a,u)},_fireVertexClick:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:t,indexPath:i,shape:this.getShape()},a,u)},_fireIntersect:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._layer,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:intersect",{layer:this._layer,intersection:t,shape:this.getShape()},a,u)},_fireLayerReset:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:t,indexPath:i,shape:this.getShape()},a,u)},_fireChange:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:t,shape:this.getShape()},i,a)},_fireTextChange:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:t,shape:this.getShape()},i,a)},_fireTextFocus:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},t,i)},_fireTextBlur:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},t,i)},_fireSnapDrag:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:snapdrag",i,a,u)},_fireSnap:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:snap",i,a,u)},_fireUnsnap:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:unsnap",i,a,u)},_fireRotationEnable:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,u)},_fireRotationDisable:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(t,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRotationStart:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:i},a,u)},_fireRotation:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(t,"pm:rotate",{layer:u,helpLayer:this._layer,startAngle:this._startAngle,angle:u.pm.getAngle(),angleDiff:i,oldLatLngs:a,newLatLngs:u.getLatLngs()},p,C)},_fireRotationEnd:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(t,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:i,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},u,p)},_fireActionClick:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:t.text,action:t,btnName:i,button:a},u,p)},_fireButtonClick:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:t,button:i},a,u)},_fireLangChange:function(t,i,a,u){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:t,activeLang:i,fallback:a,translations:u},p,C)},_fireGlobalDragModeToggled:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:t,map:this.map},i,a)},_fireGlobalEditModeToggled:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:t,map:this.map},i,a)},_fireGlobalRemovalModeToggled:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:t,map:this.map},i,a)},_fireGlobalCutModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},t,i)},_fireGlobalDrawModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},t,i)},_fireGlobalRotateModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},t,i)},_fireRemoveLayerGroup:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:remove",{layer:i,shape:void 0},a,u)},_fireKeyeventEvent:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:t,eventType:i,focusOn:a},u,p)},__fire:function(t,i,a,u){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a=y()(a,p,{source:u}),L.PM.Utils._fireEvent(t,i,a)}};let Me=Be,Ae={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(t){this.map=t,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(t){var i="document";this.map.getContainer().contains(t.target)&&(i="map");var a={event:t,eventType:t.type,focusOn:i};this._lastEvents[t.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(t,t.type,i)},_onBlur:function(t){t.altKey=!1;var i={event:t,eventType:t.type,focusOn:"document"};this._lastEvents[t.type]=i,this._lastEvents.current=i},getLastKeyEvent:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[t]},isShiftKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.shiftKey},isAltKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.altKey},isCtrlKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.ctrlKey},isMetaKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.metaKey},getPressedKey:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.key}};var We=$(7361),Ne=$.n(We),Te=$(8721),_t=$.n(Te);function Le(t){var i=L.PM.activeLang;return _t()(K,i)||(i="en"),Ne()(K[i],t)}function Ge(t){for(var i=0;i<t.length;i+=1){var a=t[i];if(Array.isArray(a)){if(Ge(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function ht(t){return t.reduce(function(i,a){if(a.length!==0){var u=Array.isArray(a)?ht(a):a;Array.isArray(u)?u.length!==0&&i.push(u):i.push(u)}return i},[])}function kt(t,i,a){for(var u,p,C,S={a:L.CRS.Earth.R,b:63567523142e-4,f:1/298.257223563},O=S.a,j=S.b,R=S.f,ee=t.lng,he=t.lat,ae=a,ye=Math.PI,Ee=i*ye/180,Ue=Math.sin(Ee),$e=Math.cos(Ee),bt=(1-R)*Math.tan(he*ye/180),dt=1/Math.sqrt(1+bt*bt),Lt=bt*dt,en=Math.atan2(bt,$e),Fe=dt*Ue,Wi=1-Fe*Fe,Dt=Wi*(O*O-j*j)/(j*j),Xn=1+Dt/16384*(4096+Dt*(Dt*(320-175*Dt)-768)),li=Dt/1024*(256+Dt*(Dt*(74-47*Dt)-128)),$n=ae/(j*Xn),Pi=2*Math.PI;Math.abs($n-Pi)>1e-12;)u=Math.cos(2*en+$n),Pi=$n,$n=ae/(j*Xn)+li*(p=Math.sin($n))*(u+li/4*((C=Math.cos($n))*(2*u*u-1)-li/6*u*(4*p*p-3)*(4*u*u-3)));var er=Lt*p-dt*C*$e,r=Math.atan2(Lt*C+dt*p*$e,(1-R)*Math.sqrt(Fe*Fe+er*er)),s=R/16*Wi*(4+R*(4-3*Wi)),c=ee+180*(Math.atan2(p*Ue,dt*C-Lt*p*$e)-(1-s)*R*Fe*($n+s*p*(u+s*C*(2*u*u-1))))/ye,h=180*r/ye;return L.latLng(c,h)}function Ye(t,i,a,u){for(var p,C,S=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],O=[],j=0;j<a;j+=1){if(S)p=kt(t,360*j/a+u,i),C=L.latLng(p.lng,p.lat);else{var R=t.lat+Math.cos(2*j*Math.PI/a)*i,ee=t.lng+Math.sin(2*j*Math.PI/a)*i;C=L.latLng(R,ee)}O.push(C)}return O}function ct(t,i,a){var u=t.latLngToContainerPoint(i),p=t.latLngToContainerPoint(a),C=180*Math.atan2(p.y-u.y,p.x-u.x)/Math.PI+90;return C+=C<0?360:0}function Xe(t,i,a,u){return function(p,C,S){C=(C+360)%360;var O=Math.PI/180,j=180/Math.PI,R=L.CRS.Earth.R,ee=p.lng*O,he=p.lat*O,ae=C*O,ye=Math.sin(he),Ee=Math.cos(he),Ue=Math.cos(S/R),$e=Math.sin(S/R),bt=Math.asin(ye*Ue+Ee*$e*Math.cos(ae)),dt=ee+Math.atan2(Math.sin(ae)*$e*Ee,Ue-ye*Math.sin(bt));return dt=(dt*=j)>180?dt-360:dt<-180?dt+360:dt,L.latLng([bt*j,dt])}(i,ct(t,i,a),u)}function nn(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!i||Object.keys(i).length===0)return function(j,R){return j-R};for(var u,p=Object.keys(i),C=p.length-1,S={};C>=0;)u=p[C],S[u.toLowerCase()]=i[u],C-=1;function O(j){return j instanceof L.Marker?"Marker":j instanceof L.Circle?"Circle":j instanceof L.CircleMarker?"CircleMarker":j instanceof L.Rectangle?"Rectangle":j instanceof L.Polygon?"Polygon":j instanceof L.Polyline?"Line":void 0}return function(j,R){var ee,he;if(t==="instanceofShape"){if(ee=O(j.layer).toLowerCase(),he=O(R.layer).toLowerCase(),!ee||!he)return 0}else{if(!j.hasOwnProperty(t)||!R.hasOwnProperty(t))return 0;ee=j[t].toLowerCase(),he=R[t].toLowerCase()}var ae=ee in S?S[ee]:Number.MAX_SAFE_INTEGER,ye=he in S?S[he]:Number.MAX_SAFE_INTEGER,Ee=0;return ae<ye?Ee=-1:ae>ye&&(Ee=1),a==="desc"?-1*Ee:Ee}}function Ot(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLatLngs();return t instanceof L.Polygon?L.polygon(i).getLatLngs():L.polyline(i).getLatLngs()}function ii(t,i){var a,u;if((a=i.options.crs)!==null&&a!==void 0&&(u=a.projection)!==null&&u!==void 0&&u.MAX_LATITUDE){var p,C,S=(p=i.options.crs)===null||p===void 0||(C=p.projection)===null||C===void 0?void 0:C.MAX_LATITUDE;t.lat=Math.max(Math.min(S,t.lat),-S)}return t}function fn(t){return t.options.renderer||t._map&&(t._map._getPaneRenderer(t.options.pane)||t._map.options.renderer||t._map._renderer)||t._renderer}let Yt=L.Class.extend({includes:[A,Y,l,be,Me],initialize:function(t){this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t),this.Keyboard=Ae,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(t)},setLang:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",u=L.PM.activeLang;i&&(K[t]=y()(K[a],i)),L.PM.activeLang=t,this.map.pm.Toolbar.reinit(),this._fireLangChange(u,t,a,K[t])},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",i=arguments.length>1?arguments[1]:void 0;t==="Poly"&&(t="Polygon"),this.Draw.enable(t,i)},disableDraw:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";t==="Poly"&&(t="Polygon"),this.Draw.disable(t)},setPathOptions:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.ignoreShapes||[],p=a.merge||!1;this.map.pm.Draw.shapes.forEach(function(C){u.indexOf(C)===-1&&i.map.pm.Draw[C].setPathOptions(t,p)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(t){var i=this,a=y()(this.globalOptions,t);a.editable&&(a.resizeableCircleMarker=a.editable,delete a.editable);var u=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!a.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),u=!0);var p=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!a.resizableCircle&&(this.map.pm.Draw.Circle.disable(),p=!0),this.map.pm.Draw.shapes.forEach(function(C){i.map.pm.Draw[C].setOptions(a)}),u&&this.map.pm.Draw.CircleMarker.enable(),p&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(function(C){C.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(t){t.pm.enabled()&&t.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(t){return this.Draw.Cut.enable(t)},toggleGlobalCutMode:function(t){return this.Draw.Cut.toggle(t)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=L.PM.Utils.findLayers(this.map);if(!t)return i;var a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(function(u){a.addLayer(u)}),a},getGeomanDrawLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=L.PM.Utils.findLayers(this.map).filter(function(u){return u._drawnByGeoman===!0});if(!t)return i;var a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(function(u){a.addLayer(u)}),a},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(t){this._touchEventCounter===0&&(L.DomEvent.on(t,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(t,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(t){this._touchEventCounter===1&&(L.DomEvent.off(t,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(t,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(t){fn(this.map)._onMouseMove(this._createMouseEvent("mousemove",t))},_canvasTouchClick:function(t){var i="";t.type==="touchstart"||t.type==="pointerdown"?i="mousedown":t.type==="touchend"||t.type==="pointerup"?i="mouseup":t.type!=="touchcancel"&&t.type!=="pointercancel"||(i="mouseup"),i&&fn(this.map)._onClick(this._createMouseEvent(i,t))},_createMouseEvent:function(t,i){var a,u=i.touches[0]||i.changedTouches[0];try{a=new MouseEvent(t,{bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:u.detail,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,button:i.button,relatedTarget:i.relatedTarget})}catch{(a=document.createEvent("MouseEvents")).initMouseEvent(t,i.bubbles,i.cancelable,i.view,u.detail,u.screenX,u.screenY,u.clientX,u.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}return a}}),Un=L.Control.extend({includes:[Me],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(t){this._button=L.Util.extend({},this.options,t)},onAdd:function(t){return this._map=t,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus=typeof t=="boolean"?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(t){t&&t.preventDefault(),this._button.disabled||(this._button.onClick(t,{button:this,event:t}),this._clicked(t),this._button.afterClick(t,{button:this,event:t}))},_makeButton:function(t){var i=this,a=this.options.position.indexOf("right")>-1?"pos-right":"",u=L.DomUtil.create("div","button-container  ".concat(a),this._container);t.title&&u.setAttribute("title",t.title);var p=L.DomUtil.create("a","leaflet-buttons-control-button",u);p.setAttribute("role","button"),p.setAttribute("tabindex","0"),p.href="#";var C=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(a),u),S=t.actions,O={cancel:{text:Le("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Le("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Le("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[t.jsClass]._removeLastVertex()}},finish:{text:Le("actions.finish"),onClick:function(R){this._map.pm.Draw[t.jsClass]._finishShape(R)}}};S.forEach(function(R){var ee,he=typeof R=="string"?R:R.name;if(O[he])ee=O[he];else{if(!R.text)return;ee=R}var ae=L.DomUtil.create("a","leaflet-pm-action ".concat(a," action-").concat(he),C);ae.setAttribute("role","button"),ae.setAttribute("tabindex","0"),ae.href="#",ae.innerHTML=ee.text,L.DomEvent.disableClickPropagation(ae),L.DomEvent.on(ae,"click",L.DomEvent.stop),!t.disabled&&ee.onClick&&(L.DomEvent.addListener(ae,"click",function(ye){ye.preventDefault();var Ee="",Ue=i._map.pm.Toolbar.buttons;for(var $e in Ue)if(Ue[$e]._button===t){Ee=$e;break}i._fireActionClick(ee,Ee,t)},i),L.DomEvent.addListener(ae,"click",ee.onClick,i))}),t.toggleStatus&&L.DomUtil.addClass(u,"active");var j=L.DomUtil.create("div","control-icon",p);return t.iconUrl&&j.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(j,t.className),L.DomEvent.disableClickPropagation(p),L.DomEvent.on(p,"click",L.DomEvent.stop),t.disabled||(L.DomEvent.addListener(p,"click",this._onBtnClick,this),L.DomEvent.addListener(p,"click",this._triggerClick,this)),t.disabled&&(L.DomUtil.addClass(p,"pm-disabled"),p.setAttribute("aria-disabled","true")),u},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var t="",i=this._map.pm.Toolbar.buttons;for(var a in i)if(i[a]._button===this._button){t=a;break}this._fireButtonClick(t,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var t="pm-disabled",i=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(i,t),i.setAttribute("aria-disabled","true"),L.DomEvent.off(i,"click",this._triggerClick,this),L.DomEvent.off(i,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(i,t),i.setAttribute("aria-disabled","false"),L.DomEvent.on(i,"click",this._triggerClick,this),L.DomEvent.on(i,"click",this._onBtnClick,this))}}});function ln(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function Pn(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ln(Object(a),!0).forEach(function(u){mi(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ln(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function mi(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Ut(t){return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ut(t)}L.Control.PMButton=Un;let Fn=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(t){this.init(t)},reinit:function(){var t=this.isVisible;this.removeControls(),this._defineButtons(),t&&this.addControls()},init:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(t){var i="".concat(t,"Container");return this[i]||(this[i]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(t," leaflet-bar leaflet-control"))),this[i]},getButtons:function(){return this.buttons},addControls:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof t.editPolygon<"u"&&(t.editMode=t.editPolygon),typeof t.deleteLayer<"u"&&(t.removalMode=t.deleteLayer),L.Util.setOptions(this,t),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var t=this.getButtons(),i={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var a in t){var u=t[a];L.Util.setOptions(u,{className:i.geomanIcons[a]})}},removeControls:function(){var t=this.getButtons();for(var i in t)t[i].remove();this.isVisible=!1},toggleControls:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,i){return this.buttons[t]=i,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){for(var i in this.buttons){var a=this.buttons[i];a._button.disableByOtherButtons&&a!==t&&a.toggled()&&a._triggerClick()}},toggleButton:function(t,i){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return t==="editPolygon"&&(t="editMode"),t==="deleteLayer"&&(t="removalMode"),a&&this.triggerClickOnToggledButtons(this.buttons[t]),!!this.buttons[t]&&this.buttons[t].toggle(i)},_defineButtons:function(){var t=this,i={className:"control-icon leaflet-pm-icon-marker",title:Le("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:Le("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},u={className:"control-icon leaflet-pm-icon-polyline",title:Le("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},p={title:Le("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},C={title:Le("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},S={title:Le("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},O={title:Le("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},j={title:Le("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},R={title:Le("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ee={title:Le("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},he={title:Le("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ae={className:"control-icon leaflet-pm-icon-text",title:Le("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(ye,Ee){t.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(i)),this._addButton("drawPolyline",new L.Control.PMButton(u)),this._addButton("drawRectangle",new L.Control.PMButton(S)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(p)),this._addButton("drawCircleMarker",new L.Control.PMButton(C)),this._addButton("drawText",new L.Control.PMButton(ae)),this._addButton("editMode",new L.Control.PMButton(O)),this._addButton("dragMode",new L.Control.PMButton(j)),this._addButton("cutPolygon",new L.Control.PMButton(R)),this._addButton("removalMode",new L.Control.PMButton(ee)),this._addButton("rotateMode",new L.Control.PMButton(he))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var t=this.getButtons(),i=[];for(var a in this.options.drawControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return!t[p]._button.tool}))),this.options.editControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="edit"}))),this.options.optionsControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="options"}))),this.options.customControls===!1&&(i=i.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="custom"}))),t)if(this.options[a]&&i.indexOf(a)===-1){var u=t[a]._button.tool;u||(u="draw"),t[a].setPosition(this._getBtnPosition(u)),t[a].addTo(this.map)}}},_getBtnPosition:function(t){return this.options.positions&&this.options.positions[t]?this.options.positions[t]:this.options.position},setBlockPosition:function(t,i){this.options.positions[t]=i,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(t,i){if(!i)throw new TypeError("Button has no name");Ut(i)!=="object"&&(i={name:i});var a=this._btnNameMapping(t);if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");var u=this.map.pm.Draw.createNewDrawInstance(i.name,a);return i=Pn(Pn({},this.buttons[a]._button),i),{drawInstance:u,control:this.createCustomControl(i)}},createCustomControl:function(t){var i,a;if(!t.name)throw new TypeError("Button has no name");if(this.buttons[t.name])throw new TypeError("Button with this name already exists");t.onClick||(t.onClick=function(){}),t.afterClick||(t.afterClick=function(){}),t.toggle!==!1&&(t.toggle=!0),t.block&&(t.block=t.block.toLowerCase()),t.block&&t.block!=="draw"||(t.block=""),t.className?t.className.indexOf("control-icon")===-1&&(t.className="control-icon ".concat(t.className)):t.className="control-icon";var u={tool:t.block,className:t.className,title:t.title||"",jsClass:t.name,onClick:t.onClick,afterClick:t.afterClick,doToggle:t.toggle,toggleStatus:!1,disableOtherButtons:(i=t.disableOtherButtons)===null||i===void 0||i,disableByOtherButtons:(a=t.disableByOtherButtons)===null||a===void 0||a,cssToggle:t.toggle,position:this.options.position,actions:t.actions||[],disabled:!!t.disabled};this.options[t.name]!==!1&&(this.options[t.name]=!0);var p=this._addButton(t.name,new L.Control.PMButton(u));return this.changeControlOrder(),p},changeControlOrder:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this._shapeMapping(),a=[];t.forEach(function(R){i[R]?a.push(i[R]):a.push(R)});var u=this.getButtons(),p={};a.forEach(function(R){u[R]&&(p[R]=u[R])});var C=Object.keys(u).filter(function(R){return!u[R]._button.tool});C.forEach(function(R){a.indexOf(R)===-1&&(p[R]=u[R])});var S=Object.keys(u).filter(function(R){return u[R]._button.tool==="edit"});S.forEach(function(R){a.indexOf(R)===-1&&(p[R]=u[R])});var O=Object.keys(u).filter(function(R){return u[R]._button.tool==="options"});O.forEach(function(R){a.indexOf(R)===-1&&(p[R]=u[R])});var j=Object.keys(u).filter(function(R){return u[R]._button.tool==="custom"});j.forEach(function(R){a.indexOf(R)===-1&&(p[R]=u[R])}),Object.keys(u).forEach(function(R){a.indexOf(R)===-1&&(p[R]=u[R])}),this.map.pm.Toolbar.buttons=p,this._showHideButtons()},getControlOrder:function(){var t=this.getButtons(),i=[];for(var a in t)i.push(a);return i},changeActionsOfControl:function(t,i){var a=this._btnNameMapping(t);if(!a)throw new TypeError("No name passed");if(!i)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=i,this.changeControlOrder()},setButtonDisabled:function(t,i){var a=this._btnNameMapping(t);i?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(t){var i=this._shapeMapping();return i[t]?i[t]:t}});function mn(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function $t(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?mn(Object(a),!0).forEach(function(u){xi(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mn(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function xi(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}var B={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var i=this;t.forEach(function(a){Array.isArray(a)?i._assignEvents(a):(a.off("drag",i._handleSnapping,i),a.on("drag",i._handleSnapping,i),a.off("dragend",i._cleanupSnapping,i),a.on("dragend",i._cleanupSnapping,i))})},_cleanupSnapping:function(t){t&&(t.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(i){i.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(t){var i,a,u,p=this,C=t.target;if(C._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),t!=null&&(i=t.originalEvent)!==null&&i!==void 0&&i.altKey||(a=this._map)!==null&&a!==void 0&&(u=a.pm)!==null&&u!==void 0&&u.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var S=this._calcClosestLayer(C.getLatLng(),this._snapList);if(Object.keys(S).length===0)return!1;var O,j=S.layer instanceof L.Marker||S.layer instanceof L.CircleMarker||!this.options.snapSegment;O=j?S.latlng:this._checkPrioritiySnapping(S);var R=this.options.snapDistance,ee={marker:C,shape:this._shape,snapLatLng:O,segment:S.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:S.layer,distance:S.distance};if(this._fireSnapDrag(ee.marker,ee),this._fireSnapDrag(this._layer,ee),S.distance<R){C._orgLatLng=C.getLatLng(),C.setLatLng(O),C._snapped=!0,C._snapInfo=ee;var he=this._snapLatLng||{},ae=O||{};he.lat===ae.lat&&he.lng===ae.lng||(p._snapLatLng=O,p._fireSnap(C,ee),p._fireSnap(p._layer,ee))}else this._snapLatLng&&(this._unsnap(ee),C._snapped=!1,C._snapInfo=void 0,this._fireUnsnap(ee.marker,ee),this._fireUnsnap(this._layer,ee));return!0},_createSnapList:function(){var t=this,i=[],a=[],u=this._map;u.off("layerremove",this._handleSnapLayerRemoval,this),u.on("layerremove",this._handleSnapLayerRemoval,this),u.eachLayer(function(p){if((p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&p.options.snapIgnore!==!0){if(p.options.snapIgnore===void 0&&(!L.PM.optIn&&p.options.pmIgnore===!0||L.PM.optIn&&p.options.pmIgnore!==!1))return;(p instanceof L.Circle||p instanceof L.CircleMarker)&&p.pm&&p.pm._hiddenPolyCircle?i.push(p.pm._hiddenPolyCircle):p instanceof L.ImageOverlay&&(p=L.rectangle(p.getBounds())),i.push(p);var C=L.polyline([],{color:"red",pmIgnore:!0});C._pmTempLayer=!0,a.push(C),(p instanceof L.Circle||p instanceof L.CircleMarker)&&a.push(C)}}),i=(i=(i=i.filter(function(p){return t._layer!==p})).filter(function(p){return p._latlng||p._latlngs&&Ge(p._latlngs)})).filter(function(p){return!p._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,a.push(p)}),this._snapList=i.concat(this._otherSnapLayers)):this._snapList=i,this.debugIndicatorLines=a},_handleSnapLayerRemoval:function(t){var i=t.layer;if(i._leaflet_id){var a=this._snapList.findIndex(function(u){return u._leaflet_id===i._leaflet_id});a>-1&&this._snapList.splice(a,1)}},_calcClosestLayer:function(t,i){return this._calcClosestLayers(t,i,1)[0]},_calcClosestLayers:function(t,i){var a=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=[],C={};i.forEach(function(O,j){if(!O._parentCopy||O._parentCopy!==a._layer){var R=a._calcLayerDistances(t,O);if(R.distance=Math.floor(R.distance),a.debugIndicatorLines){if(!a.debugIndicatorLines[j]){var ee=L.polyline([],{color:"red",pmIgnore:!0});ee._pmTempLayer=!0,a.debugIndicatorLines[j]=ee}a.debugIndicatorLines[j].setLatLngs([t,R.latlng])}u===1&&(C.distance===void 0||R.distance<=C.distance)?(R.distance<C.distance&&(p=[]),(C=R).layer=O,p.push(C)):u!==1&&(C={},(C=R).layer=O,p.push(C))}}),u!==1&&(p=p.sort(function(O,j){return O.distance-j.distance})),u===-1&&(u=p.length);var S=this._getClosestLayerByPriority(p,u);return L.Util.isArray(S)?S:[S]},_calcLayerDistances:function(t,i){var a=this._map,u=i instanceof L.Marker||i instanceof L.CircleMarker,p=i instanceof L.Polygon,C=t;if(u){var S=i.getLatLng();return{latlng:$t({},S),distance:this._getDistance(a,S,C)}}return this._calcLatLngDistances(C,i.getLatLngs(),a,p)},_calcLatLngDistances:function(t,i,a){var u,p,C,S=this,O=arguments.length>3&&arguments[3]!==void 0&&arguments[3],j=function ee(he){he.forEach(function(ae,ye){if(Array.isArray(ae))ee(ae);else if(S.options.snapSegment){var Ee,Ue=ae;Ee=O?ye+1===he.length?0:ye+1:ye+1===he.length?void 0:ye+1;var $e=he[Ee];if($e){var bt=S._getDistanceToSegment(a,t,Ue,$e);(p===void 0||bt<p)&&(p=bt,C=[Ue,$e])}}else{var dt=S._getDistance(a,t,ae);(p===void 0||dt<p)&&(p=dt,u=ae)}})};if(j(i),this.options.snapSegment){var R=this._getClosestPointOnSegment(a,t,C[0],C[1]);return{latlng:$t({},R),segment:C,distance:p}}return{latlng:u,distance:p}},_getClosestLayerByPriority:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;t=t.sort(function(S,O){return S._leaflet_id-O._leaflet_id});var a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],u=this._map.pm.globalOptions.snappingOrder||[],p=0,C={};return u.concat(a).forEach(function(S){C[S]||(p+=1,C[S]=p)}),t.sort(nn("instanceofShape",C)),i===1?t[0]||{}:t.slice(0,i)},_checkPrioritiySnapping:function(t){var i=this._map,a=t.segment[0],u=t.segment[1],p=t.latlng,C=this._getDistance(i,a,p),S=this._getDistance(i,u,p),O=C<S?a:u,j=C<S?C:S;if(this.options.snapMiddle){var R=L.PM.Utils.calcMiddleLatLng(i,a,u),ee=this._getDistance(i,R,p);ee<C&&ee<S&&(O=R,j=ee)}return $t({},j<this.options.snapDistance?O:p)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(t,i,a,u){var p=t.getMaxZoom();p===1/0&&(p=t.getZoom());var C=t.project(i,p),S=t.project(a,p),O=t.project(u,p),j=L.LineUtil.closestPointOnSegment(C,S,O);return t.unproject(j,p)},_getDistanceToSegment:function(t,i,a,u){var p=t.latLngToLayerPoint(i),C=t.latLngToLayerPoint(a),S=t.latLngToLayerPoint(u);return L.LineUtil.pointToSegmentDistance(p,C,S)},_getDistance:function(t,i,a){return t.latLngToLayerPoint(i).distanceTo(t.latLngToLayerPoint(a))}};let b=B,v=L.Class.extend({includes:[b,Me],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions:function(t){L.Util.setOptions(this,t),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(t){var i=this,a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=t,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(u){i[u]=new L.PM.Draw[u](i._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(t){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=i?y()(this.options.pathOptions,t):t},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(t,i){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[t].enable(i)},disable:function(){var t=this;this.shapes.forEach(function(i){t[i].disable()})},addControls:function(){var t=this;this.shapes.forEach(function(i){t[i].addButton()})},getActiveShape:function(){var t,i=this;return this.shapes.forEach(function(a){i[a]._enabled&&(t=a)}),t},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var t=L.PM.Utils.findLayers(this._map);this._enabled?t.forEach(function(i){L.PM.Utils.disablePopup(i)}):t.forEach(function(i){L.PM.Utils.enablePopup(i)})},createNewDrawInstance:function(t,i){var a=this._getShapeFromBtnName(i);if(this[t])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError("There is no class L.PM.Draw.".concat(a));return this[t]=new L.PM.Draw[a](this._map),this[t].toolbarButtonName=t,this[t]._shape=t,this.shapes.push(t),this[i]&&this[t].setOptions(this[i].options),this[t].setOptions(this[t].options),this[t]},_getShapeFromBtnName:function(t){var i={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return i[t]?i[t]:this[t]?this[t]._shape:t},_finishLayer:function(t){t.pm&&(t.pm.setOptions(this.options),t.pm._shape=this._shape,t.pm._map=this._map),this._addDrawnLayerProp(t)},_addDrawnLayerProp:function(t){t._drawnByGeoman=!0},_setPane:function(t,i){i==="layerPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});v.Marker=v.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){var i=this;L.Util.setOptions(this,t),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Le("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(a){i.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var t=this;this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(i){t.isRelevantMarker(i)&&i.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},isRelevantMarker:function(t){return t instanceof L.Marker&&t.pm&&!t._pmTempLayer&&!t.pm._initTextMarker},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(t){if(t.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=new L.Marker(i,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var t,i;(t=this.options.markerStyle)!==null&&t!==void 0&&t.icon&&((i=this._hintMarker)===null||i===void 0||i.setIcon(this.options.markerStyle.icon))}});var T=63710088e-1,U={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*T,kilometers:6371.0088,kilometres:6371.0088,meters:T,metres:T,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:T/1852,radians:1,yards:6967335223679999e-9};function P(t,i,a){a===void 0&&(a={});var u={type:"Feature"};return(a.id===0||a.id)&&(u.id=a.id),a.bbox&&(u.bbox=a.bbox),u.properties=i||{},u.geometry=t,u}function ce(t,i,a){if(a===void 0&&(a={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!st(t[0])||!st(t[1]))throw new Error("coordinates must contain numbers");return P({type:"Point",coordinates:t},i,a)}function me(t,i,a){if(a===void 0&&(a={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return P({type:"LineString",coordinates:t},i,a)}function Ie(t,i){i===void 0&&(i={});var a={type:"FeatureCollection"};return i.id&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.features=t,a}function qe(t,i){i===void 0&&(i="kilometers");var a=U[i];if(!a)throw new Error(i+" units is invalid");return t*a}function ot(t,i){i===void 0&&(i="kilometers");var a=U[i];if(!a)throw new Error(i+" units is invalid");return t/a}function it(t){return 180*(t%(2*Math.PI))/Math.PI}function Ze(t){return t%360*Math.PI/180}function st(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function tt(t){var i,a,u={type:"FeatureCollection",features:[]};if((a=t.type==="Feature"?t.geometry:t).type==="LineString")i=[a.coordinates];else if(a.type==="MultiLineString")i=a.coordinates;else if(a.type==="MultiPolygon")i=[].concat.apply([],a.coordinates);else{if(a.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");i=a.coordinates}return i.forEach(function(p){i.forEach(function(C){for(var S=0;S<p.length-1;S++)for(var O=S;O<C.length-1;O++)if(!(p===C&&(Math.abs(S-O)===1||S===0&&O===p.length-2&&p[S][0]===p[p.length-1][0]&&p[S][1]===p[p.length-1][1]))){var j=mt(p[S][0],p[S][1],p[S+1][0],p[S+1][1],C[O][0],C[O][1],C[O+1][0],C[O+1][1]);j&&u.features.push(ce([j[0],j[1]]))}})}),u}function mt(t,i,a,u,p,C,S,O){var j,R,ee,he,ae={x:null,y:null,onLine1:!1,onLine2:!1};return(j=(O-C)*(a-t)-(S-p)*(u-i))===0?ae.x!==null&&ae.y!==null&&ae:(he=(a-t)*(R=i-C)-(u-i)*(ee=t-p),R=((S-p)*R-(O-C)*ee)/j,ee=he/j,ae.x=t+R*(a-t),ae.y=i+R*(u-i),R>=0&&R<=1&&(ae.onLine1=!0),ee>=0&&ee<=1&&(ae.onLine2=!0),!(!ae.onLine1||!ae.onLine2)&&[ae.x,ae.y])}function It(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function Et(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?It(Object(a),!0).forEach(function(u){qt(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function qt(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Bt(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);i&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),a.push.apply(a,u)}return a}function At(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Bt(Object(a),!0).forEach(function(u){Vt(t,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(a,u))})}return t}function Vt(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function St(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ct(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Qt(t){return t.type==="Feature"?t.geometry:t}function Nt(t,i){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}function Tt(t,i,a){if(t!==null)for(var u,p,C,S,O,j,R,ee,he=0,ae=0,ye=t.type,Ee=ye==="FeatureCollection",Ue=ye==="Feature",$e=Ee?t.features.length:1,bt=0;bt<$e;bt++){O=(ee=!!(R=Ee?t.features[bt].geometry:Ue?t.geometry:t)&&R.type==="GeometryCollection")?R.geometries.length:1;for(var dt=0;dt<O;dt++){var Lt=0,en=0;if((S=ee?R.geometries[dt]:R)!==null){j=S.coordinates;var Fe=S.type;switch(he=!a||Fe!=="Polygon"&&Fe!=="MultiPolygon"?0:1,Fe){case null:break;case"Point":if(i(j,ae,bt,Lt,en)===!1)return!1;ae++,Lt++;break;case"LineString":case"MultiPoint":for(u=0;u<j.length;u++){if(i(j[u],ae,bt,Lt,en)===!1)return!1;ae++,Fe==="MultiPoint"&&Lt++}Fe==="LineString"&&Lt++;break;case"Polygon":case"MultiLineString":for(u=0;u<j.length;u++){for(p=0;p<j[u].length-he;p++){if(i(j[u][p],ae,bt,Lt,en)===!1)return!1;ae++}Fe==="MultiLineString"&&Lt++,Fe==="Polygon"&&en++}Fe==="Polygon"&&Lt++;break;case"MultiPolygon":for(u=0;u<j.length;u++){for(en=0,p=0;p<j[u].length;p++){for(C=0;C<j[u][p].length-he;C++){if(i(j[u][p][C],ae,bt,Lt,en)===!1)return!1;ae++}en++}Lt++}break;case"GeometryCollection":for(u=0;u<S.geometries.length;u++)if(Tt(S.geometries[u],i,a)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function rn(t,i){if(t.type==="Feature")i(t,0);else if(t.type==="FeatureCollection")for(var a=0;a<t.features.length&&i(t.features[a],a)!==!1;a++);}function bn(t,i){var a,u,p,C,S,O,j,R,ee,he,ae=0,ye=t.type==="FeatureCollection",Ee=t.type==="Feature",Ue=ye?t.features.length:1;for(a=0;a<Ue;a++){for(O=ye?t.features[a].geometry:Ee?t.geometry:t,R=ye?t.features[a].properties:Ee?t.properties:{},ee=ye?t.features[a].bbox:Ee?t.bbox:void 0,he=ye?t.features[a].id:Ee?t.id:void 0,S=(j=!!O&&O.type==="GeometryCollection")?O.geometries.length:1,p=0;p<S;p++)if((C=j?O.geometries[p]:O)!==null)switch(C.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(C,ae,R,ee,he)===!1)return!1;break;case"GeometryCollection":for(u=0;u<C.geometries.length;u++)if(i(C.geometries[u],ae,R,ee,he)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,ae,R,ee,he)===!1)return!1;ae++}}function Sn(t,i){bn(t,function(a,u,p,C,S){var O,j=a===null?null:a.type;switch(j){case null:case"Point":case"LineString":case"Polygon":return i(P(a,p,{bbox:C,id:S}),u,0)!==!1&&void 0}switch(j){case"MultiPoint":O="Point";break;case"MultiLineString":O="LineString";break;case"MultiPolygon":O="Polygon"}for(var R=0;R<a.coordinates.length;R++){var ee=a.coordinates[R];if(i(P({type:O,coordinates:ee},p),u,R)===!1)return!1}})}v.Line=v.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Et(Et({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Le("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._layer.getLatLngs();if(t.length>0){var i=t[t.length-1];this._hintline.setLatLngs([i,this._hintMarker.getLatLng()])}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection:function(){return tt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(t,i){var a=L.polyline(this._layer.getLatLngs());t&&(i||(i=this._hintMarker.getLatLng()),a.addLatLng(i));var u=tt(a.toGeoJSON(15));this._doesSelfIntersect=u.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(u,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,t.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),u=a[a.length-1];if(i.equals(a[0])||a.length>0&&i.equals(u))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:i,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(i);var p=this._createMarker(i);this._setTooltipText(),this._setHintLineAfterNewVertex(i),this._fireVertexAdded(p,void 0,i,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(t)}}},_setHintLineAfterNewVertex:function(t){this._hintline.setLatLngs([t,t])},_removeLastVertex:function(){var t=this._markers;if(t.length<=1)this.disable();else{var i=this._layer.getLatLngs(),a=t[t.length-1],u=L.PM.Utils.findDeepMarkerIndex(t,a).indexPath;t.pop(),this._layerGroup.removeLayer(a);var p=t[t.length-1],C=i.indexOf(p.getLatLng());i=i.slice(0,C+1),this._layer.setLatLngs(i),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,u,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=1)){var i=L.polyline(t,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(t){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),i.on("click",this._finishShape,this),i},_setTooltipText:function(){var t="";t=Le(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(t)},_change:function(t){this._fireChange(t,"Draw")},setStyle:function(){var t,i;(t=this._layer)===null||t===void 0||t.setStyle(this.options.templineStyle),(i=this._hintline)===null||i===void 0||i.setStyle(this.options.hintlineStyle)}}),v.Polygon=v.Line.extend({initialize:function(t){this._map=t,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(t){L.PM.Draw.Line.prototype.enable.call(this,t),this._layer.pm._shape="Polygon"},_createMarker:function(t){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),this._layer.getLatLngs().flat().length===1?(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()):i.on("click",function(){return 1}),i},_setTooltipText:function(){var t="";t=Le(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(t)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=2)){var i=L.polygon(t,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),v.Rectangle=v.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(L.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Le("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var i=0;i<2;i+=1){var a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(i),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(a){L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(i)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Le("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}var a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize:function(){var t=this,i=ii(this._startMarker.getLatLng(),this._map),a=ii(this._hintMarker.getLatLng(),this._map),u=L.PM.Utils._getRotatedRectangle(i,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(u),this.options.cursorMarker&&this._styleMarkers){var p=[];u.forEach(function(C){C.equals(i,1e-8)||C.equals(a,1e-8)||p.push(C)}),p.forEach(function(C,S){try{t._styleMarkers[S].setLatLng(C)}catch{}})}},_findCorners:function(){var t=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(t[0],t[2],this.options.rectangleAngle||0,this._map)},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var u=L.rectangle([a,i],this.options.pathOptions);if(this.options.rectangleAngle){var p=L.PM.Utils._getRotatedRectangle(a,i,this.options.rectangleAngle||0,this._map);u.setLatLngs(p),u.pm&&u.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(u,"layerPane"),this._finishLayer(u),u.addTo(this._map.pm._getContainingLayer()),this._fireCreate(u),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var t;(t=this._layer)===null||t===void 0||t.setStyle(this.options.pathOptions)}}),v.CircleMarker=v.extend({initialize:function(t){this._map=t,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable:function(t){if(L.Util.setOptions(this,t),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){var i={};L.extend(i,this.options.templineStyle),i.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),i),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Le("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),At({radius:this._defaultRadius},this.options.templineStyle)),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Le("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable:function(){var t=this;!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(function(i){t.isRelevantMarker(i)&&i.pm.enable()}),this._layer.bringToBack()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable:function(){var t=this;this._map.eachLayer(function(i){t.isRelevantMarker(i)&&i.pm.disable()})},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeCenterMarker:function(t){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Le("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([t,i])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._distanceCalculation(t,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}this._handleHintMarkerSnapping();var a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker:function(t){return t instanceof L.CircleMarker&&!(t instanceof L.Circle)&&t.pm&&!t._pmTempLayer},_createMarker:function(t){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&t.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._hintMarker.getLatLng(),a=new this._BaseCircleClass(i,At({radius:this._defaultRadius},this.options.pathOptions));this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(a),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_extendingCreateMarker:function(t){t.pm&&this.options.markerEditable&&t.pm.enable()},_finishShape:function(t){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var i=this._centerMarker.getLatLng(),a=this._defaultRadius;if(this.options[this._editableOption]){var u=this._hintMarker.getLatLng();a=this._distanceCalculation(i,u),this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?a=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(a=this.options[this._maxRadiusOption])}var p=At(At({},this.options.pathOptions),{},{radius:a}),C=new this._BaseCircleClass(i,p);this._setPane(C,"layerPane"),this._finishLayer(C),C.addTo(this._map.pm._getContainingLayer()),C.pm&&C.pm._updateHiddenPolyCircle(),this._fireCreate(C),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var t=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return t;var i=this._centerMarker.getLatLng(),a=this._distanceCalculation(i,t);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?t=Xe(this._map,i,t,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(t=Xe(this._map,i,t,this._getMaxDistanceInMeter()))}return t},_getMinDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping:function(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){var t=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._distanceCalculation(t,i);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption])&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle:function(){var t,i,a={};L.extend(a,this.options.templineStyle),this.options[this._editableOption]&&(a.radius=0),(t=this._layer)===null||t===void 0||t.setStyle(a),(i=this._hintline)===null||i===void 0||i.setStyle(this.options.hintlineStyle)},_distanceCalculation:function(t,i){return this._map.project(t).distanceTo(this._map.project(i))}}),v.Circle=v.CircleMarker.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable:function(){},_extendingDisable:function(){},_extendingCreateMarker:function(){},isRelevantMarker:function(){},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_distanceCalculation:function(t,i){return this._map.distance(t,i)}});let ki=function(t){if(!t)throw new Error("geojson is required");var i=[];return Sn(t,function(a){(function(u,p){var C=[],S=u.geometry;if(S!==null){switch(S.type){case"Polygon":C=Ct(S);break;case"LineString":C=[Ct(S)]}C.forEach(function(O){var j=function(R,ee){var he=[];return R.reduce(function(ae,ye){var Ee,Ue,$e,bt,dt,Lt,en=me([ae,ye],ee);return en.bbox=(Ue=ye,$e=(Ee=ae)[0],bt=Ee[1],dt=Ue[0],Lt=Ue[1],[$e<dt?$e:dt,bt<Lt?bt:Lt,$e>dt?$e:dt,bt>Lt?bt:Lt]),he.push(en),ye}),he}(O,u.properties);j.forEach(function(R){R.id=p.length,p.push(R)})})}})(a,i)}),Ie(i)};var Nn=$(1787);function Hn(t,i){var a=Ct(t),u=Ct(i);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(u.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var p=a[0][0],C=a[0][1],S=a[1][0],O=a[1][1],j=u[0][0],R=u[0][1],ee=u[1][0],he=u[1][1],ae=(he-R)*(S-p)-(ee-j)*(O-C),ye=(ee-j)*(C-R)-(he-R)*(p-j),Ee=(S-p)*(C-R)-(O-C)*(p-j);if(ae===0)return null;var Ue=ye/ae,$e=Ee/ae;return Ue>=0&&Ue<=1&&$e>=0&&$e<=1?ce([p+Ue*(S-p),C+Ue*(O-C)]):null}let zt=function(t,i){var a={},u=[];if(t.type==="LineString"&&(t=P(t)),i.type==="LineString"&&(i=P(i)),t.type==="Feature"&&i.type==="Feature"&&t.geometry!==null&&i.geometry!==null&&t.geometry.type==="LineString"&&i.geometry.type==="LineString"&&t.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var p=Hn(t,i);return p&&u.push(p),Ie(u)}var C=Nn();return C.load(ki(i)),rn(ki(t),function(S){rn(C.search(S),function(O){var j=Hn(S,O);if(j){var R=Ct(j).join(",");a[R]||(a[R]=!0,u.push(j))}})}),Ie(u)},ze=function(t,i,a){a===void 0&&(a={});var u=St(t),p=St(i),C=Ze(p[1]-u[1]),S=Ze(p[0]-u[0]),O=Ze(u[1]),j=Ze(p[1]),R=Math.pow(Math.sin(C/2),2)+Math.pow(Math.sin(S/2),2)*Math.cos(O)*Math.cos(j);return qe(2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)),a.units)},Ji=function(t){var i=t[0],a=t[1],u=t[2],p=t[3];if(ze(t.slice(0,2),[u,a])>=ze(t.slice(0,2),[i,p])){var C=(a+p)/2;return[i,C-(u-i)/2,u,C+(u-i)/2]}var S=(i+u)/2;return[S-(p-a)/2,a,S+(p-a)/2,p]};function Ci(t){var i=[1/0,1/0,-1/0,-1/0];return Tt(t,function(a){i[0]>a[0]&&(i[0]=a[0]),i[1]>a[1]&&(i[1]=a[1]),i[2]<a[0]&&(i[2]=a[0]),i[3]<a[1]&&(i[3]=a[1])}),i}Ci.default=Ci;let ri=Ci,Oi=function(t,i){i===void 0&&(i={});var a=i.precision,u=i.coordinates,p=i.mutate;if(a=a==null||isNaN(a)?6:a,u=u==null||isNaN(u)?3:u,!t)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof u!="number")throw new Error("<coordinates> must be a number");p!==!1&&p!==void 0||(t=JSON.parse(JSON.stringify(t)));var C=Math.pow(10,a);return Tt(t,function(S){(function(O,j,R){O.length>R&&O.splice(R,O.length);for(var ee=0;ee<O.length;ee++)O[ee]=Math.round(O[ee]*j)/j})(S,C,u)}),t};function Ii(t,i,a){if(a===void 0&&(a={}),a.final===!0)return function(he,ae){var ye=Ii(ae,he);return ye=(ye+180)%360}(t,i);var u=St(t),p=St(i),C=Ze(u[0]),S=Ze(p[0]),O=Ze(u[1]),j=Ze(p[1]),R=Math.sin(S-C)*Math.cos(j),ee=Math.cos(O)*Math.sin(j)-Math.sin(O)*Math.cos(j)*Math.cos(S-C);return it(Math.atan2(R,ee))}function Bi(t,i,a,u){u===void 0&&(u={});var p=St(t),C=Ze(p[0]),S=Ze(p[1]),O=Ze(a),j=ot(i,u.units),R=Math.asin(Math.sin(S)*Math.cos(j)+Math.cos(S)*Math.sin(j)*Math.cos(O));return ce([it(C+Math.atan2(Math.sin(O)*Math.sin(j)*Math.cos(S),Math.cos(j)-Math.sin(S)*Math.sin(R))),it(R)],u.properties)}let Yn=function(t,i,a){a===void 0&&(a={});var u=ce([1/0,1/0],{dist:1/0}),p=0;return Sn(t,function(C){for(var S=Ct(C),O=0;O<S.length-1;O++){var j=ce(S[O]);j.properties.dist=ze(i,j,a);var R=ce(S[O+1]);R.properties.dist=ze(i,R,a);var ee=ze(j,R,a),he=Math.max(j.properties.dist,R.properties.dist),ae=Ii(j,R),ye=Bi(i,he,ae+90,a),Ee=Bi(i,he,ae-90,a),Ue=zt(me([ye.geometry.coordinates,Ee.geometry.coordinates]),me([j.geometry.coordinates,R.geometry.coordinates])),$e=null;Ue.features.length>0&&(($e=Ue.features[0]).properties.dist=ze(i,$e,a),$e.properties.location=p+ze(j,$e,a)),j.properties.dist<u.properties.dist&&((u=j).properties.index=O,u.properties.location=p),R.properties.dist<u.properties.dist&&((u=R).properties.index=O+1,u.properties.location=p+ee),$e&&$e.properties.dist<u.properties.dist&&((u=$e).properties.index=O),p+=ee}}),u};function Ri(t,i){var a=[],u=Nn();return Sn(i,function(p){if(a.forEach(function(O,j){O.id=j}),a.length){var C=u.search(p);if(C.features.length){var S=Zi(p,C);a=a.filter(function(O){return O.id!==S.id}),u.remove(S),rn(An(S,p),function(O){a.push(O),u.insert(O)})}}else(a=An(t,p).features).forEach(function(O){O.bbox||(O.bbox=Ji(ri(O)))}),u.load(Ie(a))}),Ie(a)}function An(t,i){var a=[],u=Ct(t)[0],p=Ct(t)[t.geometry.coordinates.length-1];if(bi(u,St(i))||bi(p,St(i)))return Ie([t]);var C=Nn(),S=ki(t);C.load(S);var O=C.search(i);if(!O.features.length)return Ie([t]);var j=Zi(i,O),R=function(ee,he,ae){var ye=ae;return rn(ee,function(Ee,Ue){ye=Ue===0&&ae===void 0?Ee:he(ye,Ee,Ue)}),ye}(S,function(ee,he,ae){var ye=Ct(he)[1],Ee=St(i);return ae===j.id?(ee.push(Ee),a.push(me(ee)),bi(Ee,ye)?[Ee]:[Ee,ye]):(ee.push(ye),ee)},[u]);return R.length>1&&a.push(me(R)),Ie(a)}function Zi(t,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var a,u=1/0;return rn(i,function(p){var C=Yn(p,t).properties.dist;C<u&&(a=p,u=C)}),a}function bi(t,i){return t[0]===i[0]&&t[1]===i[1]}let Gi=function(t,i){if(!t)throw new Error("line is required");if(!i)throw new Error("splitter is required");var a=Nt(t),u=Nt(i);if(a!=="LineString")throw new Error("line must be LineString");if(u==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(u==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var p=Oi(i,{precision:7});switch(u){case"Point":return An(t,p);case"MultiPoint":return Ri(t,p);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Ri(t,zt(t,p))}};function jn(t,i,a){if(a===void 0&&(a={}),!t)throw new Error("point is required");if(!i)throw new Error("polygon is required");var u=St(t),p=Qt(i),C=p.type,S=i.bbox,O=p.coordinates;if(S&&function(ae,ye){return ye[0]<=ae[0]&&ye[1]<=ae[1]&&ye[2]>=ae[0]&&ye[3]>=ae[1]}(u,S)===!1)return!1;C==="Polygon"&&(O=[O]);for(var j=!1,R=0;R<O.length&&!j;R++)if(Ui(u,O[R][0],a.ignoreBoundary)){for(var ee=!1,he=1;he<O[R].length&&!ee;)Ui(u,O[R][he],!a.ignoreBoundary)&&(ee=!0),he++;ee||(j=!0)}return j}function Ui(t,i,a){var u=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var p=0,C=i.length-1;p<i.length;C=p++){var S=i[p][0],O=i[p][1],j=i[C][0],R=i[C][1];if(t[1]*(S-j)+O*(j-t[0])+R*(t[0]-S)==0&&(S-t[0])*(j-t[0])<=0&&(O-t[1])*(R-t[1])<=0)return!a;O>t[1]!=R>t[1]&&t[0]<(j-S)*(t[1]-O)/(R-O)+S&&(u=!u)}return u}function Ti(t,i,a,u,p){var C=a[0],S=a[1],O=t[0],j=t[1],R=i[0],ee=i[1],he=R-O,ae=ee-j,ye=(a[0]-O)*ae-(a[1]-j)*he;if(p!==null){if(Math.abs(ye)>p)return!1}else if(ye!==0)return!1;return u?u==="start"?Math.abs(he)>=Math.abs(ae)?he>0?O<C&&C<=R:R<=C&&C<O:ae>0?j<S&&S<=ee:ee<=S&&S<j:u==="end"?Math.abs(he)>=Math.abs(ae)?he>0?O<=C&&C<R:R<C&&C<=O:ae>0?j<=S&&S<ee:ee<S&&S<=j:u==="both"&&(Math.abs(he)>=Math.abs(ae)?he>0?O<C&&C<R:R<C&&C<O:ae>0?j<S&&S<ee:ee<S&&S<j):Math.abs(he)>=Math.abs(ae)?he>0?O<=C&&C<=R:R<=C&&C<=O:ae>0?j<=S&&S<=ee:ee<=S&&S<=j}let kn=function(t,i,a){a===void 0&&(a={});for(var u=St(t),p=Ct(i),C=0;C<p.length-1;C++){var S=!1;if(a.ignoreEndVertices&&(C===0&&(S="start"),C===p.length-2&&(S="end"),C===0&&C+1===p.length-1&&(S="both")),Ti(p[C],p[C+1],u,S,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1};function Xi(t,i){var a=Qt(t),u=Qt(i),p=a.type,C=u.type,S=a.coordinates,O=u.coordinates;switch(p){case"Point":if(C==="Point")return Di(S,O);throw new Error("feature2 "+C+" geometry not supported");case"MultiPoint":switch(C){case"Point":return function(j,R){var ee,he=!1;for(ee=0;ee<j.coordinates.length;ee++)if(Di(j.coordinates[ee],R.coordinates)){he=!0;break}return he}(a,u);case"MultiPoint":return function(j,R){for(var ee=0,he=R.coordinates;ee<he.length;ee++){for(var ae=he[ee],ye=!1,Ee=0,Ue=j.coordinates;Ee<Ue.length;Ee++)if(Di(ae,Ue[Ee])){ye=!0;break}if(!ye)return!1}return!0}(a,u);default:throw new Error("feature2 "+C+" geometry not supported")}case"LineString":switch(C){case"Point":return kn(u,a,{ignoreEndVertices:!0});case"LineString":return function(j,R){for(var ee=!1,he=0,ae=R.coordinates;he<ae.length;he++){var ye=ae[he];if(kn({type:"Point",coordinates:ye},j,{ignoreEndVertices:!0})&&(ee=!0),!kn({type:"Point",coordinates:ye},j,{ignoreEndVertices:!1}))return!1}return ee}(a,u);case"MultiPoint":return function(j,R){for(var ee=!1,he=0,ae=R.coordinates;he<ae.length;he++){var ye=ae[he];if(kn(ye,j,{ignoreEndVertices:!0})&&(ee=!0),!kn(ye,j))return!1}return!!ee}(a,u);default:throw new Error("feature2 "+C+" geometry not supported")}case"Polygon":switch(C){case"Point":return jn(u,a,{ignoreBoundary:!0});case"LineString":return function(j,R){var ee=!1,he=0,ae=ri(j),ye=ri(R);if(!Fi(ae,ye))return!1;for(;he<R.coordinates.length-1;he++)if(jn({type:"Point",coordinates:$i(R.coordinates[he],R.coordinates[he+1])},j,{ignoreBoundary:!0})){ee=!0;break}return ee}(a,u);case"Polygon":return function(j,R){if(j.type==="Feature"&&j.geometry===null||R.type==="Feature"&&R.geometry===null)return!1;var ee=ri(j),he=ri(R);if(!Fi(ee,he))return!1;for(var ae=Qt(R).coordinates,ye=0,Ee=ae;ye<Ee.length;ye++)for(var Ue=0,$e=Ee[ye];Ue<$e.length;Ue++)if(!jn($e[Ue],j))return!1;return!0}(a,u);case"MultiPoint":return function(j,R){for(var ee=0,he=R.coordinates;ee<he.length;ee++)if(!jn(he[ee],j,{ignoreBoundary:!0}))return!1;return!0}(a,u);default:throw new Error("feature2 "+C+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function Fi(t,i){return!(t[0]>i[0])&&!(t[2]<i[2])&&!(t[1]>i[1])&&!(t[3]<i[3])}function Di(t,i){return t[0]===i[0]&&t[1]===i[1]}function $i(t,i){return[(t[0]+i[0])/2,(t[1]+i[1])/2]}var Hi=$(2676),zn=$.n(Hi);function _i(t){var i={type:"Feature"};return i.geometry=t,i}function yi(t){return t.type==="Feature"?t.geometry:t}function qn(t){return t&&t.geometry&&t.geometry.coordinates?t.geometry.coordinates:t}function ft(t){return _i({type:"Polygon",coordinates:t})}function vt(t){return _i({type:"MultiPolygon",coordinates:t})}function oi(t){return Array.isArray(t)?1+oi(t[0]):-1}function jt(t){t instanceof L.Polyline&&(t=t.toGeoJSON(15));var i=qn(t),a=oi(i),u=[];return a>1?i.forEach(function(p){u.push(function(C){return _i({type:"LineString",coordinates:C})}(p))}):u.push(t),u}function cn(t){var i=[];return t.eachLayer(function(a){i.push(qn(a.toGeoJSON(15)))}),function(a){return _i({type:"MultiLineString",coordinates:a})}(i)}function ai(t,i){return function(a){if(Array.isArray(a))return a}(t)||function(a,u){var p=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var C,S,O=[],j=!0,R=!1;try{for(p=p.call(a);!(j=(C=p.next()).done)&&(O.push(C.value),!u||O.length!==u);j=!0);}catch(ee){R=!0,S=ee}finally{try{j||p.return==null||p.return()}finally{if(R)throw S}}return O}}(t,i)||function(a,u){if(a){if(typeof a=="string")return et(a,u);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return et(a,u)}}(t,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function et(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}function Pt(t){return function(i){if(Array.isArray(i))return Wn(i)}(t)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(t)||function(i,a){if(i){if(typeof i=="string")return Wn(i,a);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Wn(i,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wn(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}v.Cut=v.Polygon.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var t=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var i=this._layer.getLatLngs();if(!(i.length<=2)){var a=L.polygon(i,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(u){var p=u.layer,C=u.originalLayer;t._fireCut(C,p,C),t._fireCut(t._map,p,C),C.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(t){var i=this,a=this._map._layers,u=t._latlngInfos||[];Object.keys(a).map(function(p){return a[p]}).filter(function(p){return p.pm}).filter(function(p){return!p._pmTempLayer}).filter(function(p){return!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1}).filter(function(p){return p instanceof L.Polyline}).filter(function(p){return p!==t}).filter(function(p){return p.pm.options.allowCutting}).filter(function(p){return!(i.options.layersToCut&&L.Util.isArray(i.options.layersToCut)&&i.options.layersToCut.length>0)||i.options.layersToCut.indexOf(p)>-1}).filter(function(p){return!i._layerGroup.hasLayer(p)}).filter(function(p){try{var C=!!zt(t.toGeoJSON(15),p.toGeoJSON(15)).features.length>0;return C||p instanceof L.Polyline&&!(p instanceof L.Polygon)?C:(S=t.toGeoJSON(15),O=p.toGeoJSON(15),j=yi(S),R=yi(O),!((ee=zn().intersection(j.coordinates,R.coordinates)).length===0||!(ee.length===1?ft(ee[0]):vt(ee))))}catch{return p instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var S,O,j,R,ee}).forEach(function(p){var C;if(p instanceof L.Polygon){var S=(C=L.polygon(p.getLatLngs())).getLatLngs();u.forEach(function(ae){if(ae&&ae.snapInfo){var ye=ae.latlng,Ee=i._calcClosestLayer(ye,[C]);if(Ee&&Ee.segment&&Ee.distance<i.options.snapDistance){var Ue=Ee.segment;if(Ue&&Ue.length===2){var $e=L.PM.Utils._getIndexFromSegment(S,Ue),bt=$e.indexPath,dt=$e.parentPath,Lt=$e.newIndex;(bt.length>1?Ne()(S,dt):S).splice(Lt,0,ye)}}}})}else C=p;var O=i._cutLayer(t,C),j=L.geoJSON(O,p.options);if(j.getLayers().length===1){var R=j.getLayers();j=ai(R,1)[0]}i._setPane(j,"layerPane");var ee=j.addTo(i._map.pm._getContainingLayer());if(ee.pm.enable(p.pm.options),ee.pm.disable(),p._pmTempLayer=!0,t._pmTempLayer=!0,p.remove(),p.removeFrom(i._map.pm._getContainingLayer()),t.remove(),t.removeFrom(i._map.pm._getContainingLayer()),ee.getLayers&&ee.getLayers().length===0&&i._map.pm.removeLayer({target:ee}),ee instanceof L.LayerGroup&&ee.eachLayer(function(ae){i._addDrawnLayerProp(ae)}),i._addDrawnLayerProp(ee),i.options.layersToCut&&L.Util.isArray(i.options.layersToCut)&&i.options.layersToCut.length>0){var he=i.options.layersToCut.indexOf(p);he>-1&&i.options.layersToCut.splice(he,1)}i._editedLayers.push({layer:ee,originalLayer:p})})},_cutLayer:function(t,i){var a,u,p,C,S,O,j=L.geoJSON();if(i instanceof L.Polygon)u=i.toGeoJSON(15),p=t.toGeoJSON(15),C=yi(u),S=yi(p),a=(O=zn().difference(C.coordinates,S.coordinates)).length===0?null:O.length===1?ft(O[0]):vt(O);else{var R=jt(i);R.forEach(function(ee){var he=Gi(ee,t.toGeoJSON(15));(he&&he.features.length>0?L.geoJSON(he):L.geoJSON(ee)).getLayers().forEach(function(ae){Xi(t.toGeoJSON(15),ae.toGeoJSON(15))||ae.addTo(j)})}),a=R.length>1?cn(j):j.toGeoJSON(15)}return a},_change:L.Util.falseFn}),v.Text=v.extend({initialize:function(t){this._map=t,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Le("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var i=t;i.target=this._hintMarker,this._handleSnapping(i)}},_createMarker:function(t){var i;if(t.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(i=this.options.textOptions)!==null&&i!==void 0&&i.className){var u,p=this.options.textOptions.className.split(" ");(u=this.textArea.classList).add.apply(u,Pt(p))}var C=this._createTextIcon(this.textArea),S=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:C});if(this._setPane(S,"markerPane"),this._finishLayer(S),S.pm||(S.options.draggable=!1),S.addTo(this._map.pm._getContainingLayer()),S.pm){var O,j,R,ee,he;S.pm.textArea=this.textArea,L.setOptions(S.pm,{removeIfEmpty:(O=(j=this.options.textOptions)===null||j===void 0?void 0:j.removeIfEmpty)===null||O===void 0||O});var ae=(R=(ee=this.options.textOptions)===null||ee===void 0?void 0:ee.focusAfterDraw)===null||R===void 0||R;S.pm._createTextMarker(ae),(he=this.options.textOptions)!==null&&he!==void 0&&he.text&&S.pm.setText(this.options.textOptions.text)}this._fireCreate(S),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var t=document.createElement("textarea");return t.readOnly=!0,t.classList.add("pm-textarea","pm-disabled"),t},_createTextIcon:function(t){return L.divIcon({className:"pm-text-marker",html:t})}});let vi={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,fn(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var t=this._getDOMElem();t&&(fn(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(t)):L.DomEvent.on(t,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,fn(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var t=this._getDOMElem();t&&(fn(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(t)):L.DomEvent.off(t,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(t){var i=t.touches?t.touches[0]:t,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent:function(t){var i=t.touches?t.touches[0]:t,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent:function(t){var i={originalEvent:t.touches?t.touches[0]:t,target:this._layer};return t.type.indexOf("touch")===-1&&(i.containerPoint=this._map.mouseEventToContainerPoint(t),i.latlng=this._map.containerPointToLatLng(i.containerPoint)),this._dragMixinOnMouseUp(i),!1},_dragMixinOnMouseDown:function(t){if(!(t.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(t);var i=t._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",t);if(this._layer instanceof L.Marker&&(!this.options.snappable||i||a?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker){var u="resizeableCircleMarker";this._layer instanceof L.Circle&&(u="resizableCircle"),!this.options.snappable||i||a?this._layer.pm.options[u]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options[u]||this._initSnappableMarkersDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(t){this._overwriteEventIfItComesFromMarker(t);var i=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",t),this._dragging||(this._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=t.latlng),this._onLayerDrag(t),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(t){var i=this,a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",t),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){i._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),i._fireDragEnd(),i._fireEdit(),i._layerEdited=!0},10),!0)},_onLayerDrag:function(t){var i=t.latlng,a=i.lat-this._tempDragCoord.lat,u=i.lng-this._tempDragCoord.lng,p=function ee(he){return he.map(function(ae){if(Array.isArray(ae))return ee(ae);var ye={lat:ae.lat+a,lng:ae.lng+u};return(ae.alt||ae.alt===0)&&(ye.alt=ae.alt),ye})};if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){var C=p([this._layer.getLatLng()]);this._layer.setLatLng(C[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var S=this._layer.getLatLng();this._layer._snapped&&(S=this._layer._orgLatLng);var O=p([S]);this._layer.setLatLng(O[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var j=p([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(j),this._fireChange(this._layer.getBounds(),"Edit")}else{var R=p(this._layer.getLatLngs());this._layer.setLatLngs(R),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=i,t.layer=this._layer,this._fireDrag(t)},addDraggingClass:function(){var t=this._getDOMElem();t&&L.DomUtil.addClass(t,"leaflet-pm-draggable")},removeDraggingClass:function(){var t=this._getDOMElem();t&&L.DomUtil.removeClass(t,"leaflet-pm-draggable")},_getDOMElem:function(){var t=null;return this._layer._path?t=this._layer._path:this._layer._renderer&&this._layer._renderer._container?t=this._layer._renderer._container:this._layer._image?t=this._layer._image:this._layer._icon&&(t=this._layer._icon),t},_overwriteEventIfItComesFromMarker:function(t){t.target.getLatLng&&(!t.target._radius||t.target._radius<=10)&&(t.containerPoint=this._map.mouseEventToContainerPoint(t.originalEvent),t.latlng=this._map.containerPointToLatLng(t.containerPoint))},_syncLayers:function(t,i){var a=this;if(this.enabled())return!1;if(!i._fromLayerSync&&this._layer===i.target&&this.options.syncLayersOnDrag){i._fromLayerSync=!0;var u=[];if(L.Util.isArray(this.options.syncLayersOnDrag))u=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(S){S instanceof L.LayerGroup&&(u=u.concat(S.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var p in this._parentLayerGroup){var C=this._parentLayerGroup[p];C.pm&&(u=C.pm.getLayers(!0))}return L.Util.isArray(u)&&u.length>0&&(u=u.filter(function(S){return!!S.pm}).filter(function(S){return!!S.pm.options.draggable})).forEach(function(S){S!==a._layer&&S.pm[t]&&(S._snapped=!1,S.pm[t](i))}),u.length>0}return!1},_stopDOMImageDrag:function(t){return t.preventDefault(),!1}};function Ft(t,i,a){var u=a.getMaxZoom();if(u===1/0&&(u=a.getZoom()),L.Util.isArray(t)){var p=[];return t.forEach(function(C){p.push(Ft(C,i,a))}),p}return t instanceof L.LatLng?function(C,S,O,j){return O.unproject(S.transform(O.project(C,j)),j)}(t,i,a,u):null}function Vn(t,i){i instanceof L.Layer&&(i=i.getLatLng());var a=t.getMaxZoom();return a===1/0&&(a=t.getZoom()),t.project(i,a)}function Qn(t,i){var a=t.getMaxZoom();return a===1/0&&(a=t.getZoom()),t.unproject(i,a)}var Kn={_onRotateStart:function(t){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Vn(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Vn(this._map,t.target.getLatLng()),this._initialRotateLatLng=Ot(this._layer),this._startAngle=this.getAngle();var i=Ot(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,i),this._fireRotationStart(this._map,i)},_onRotate:function(t){var i=Vn(this._map,t.target.getLatLng()),a=this._rotationStartPoint,u=this._rotationOriginPoint,p=Math.atan2(i.y-u.y,i.x-u.x)-Math.atan2(a.y-u.y,a.x-u.x);this._layer.setLatLngs(this._rotateLayer(p,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var C=this;(function R(ee){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ae>-1&&he.push(ae),L.Util.isArray(ee[0]))ee.forEach(function(Ee,Ue){return R(Ee,he.slice(),Ue)});else{var ye=Ne()(C._markers,he);ee.forEach(function(Ee,Ue){ye[Ue].setLatLng(Ee)})}})(this._layer.getLatLngs());var S=Ot(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(p,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var O=180*p/Math.PI,j=(O=O<0?O+360:O)+this._startAngle;this._setAngle(j),this._rotationLayer.pm._setAngle(j),this._fireRotation(this._rotationLayer,O,S),this._fireRotation(this._map,O,S),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var t=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var i=Ot(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Ot(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,t,i),this._fireRotationEnd(this._map,t,i),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(t,i,a,u,p){var C=Vn(p,a);return this._matrix=u.clone().rotate(t,C).flip(),Ft(i,this._matrix,p)},_setAngle:function(t){t=t<0?t+360:t,this._angle=t%360},_getRotationCenter:function(){if(this._rotationCenter)return this._rotationCenter;var t=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),i=t.getCenter();return t.removeFrom(this._layer._map),i},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(ct(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Ot(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(t){var i=this.getAngle(),a=this._layer.getLatLngs(),u=t*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(u,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+t),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(u,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var p=this.getAngle()-i;p=p<0?p+360:p,this._startAngle=i,this._fireRotation(this._layer,p,a,this._layer),this._fireRotation(this._map||this._layer._map,p,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(t){var i=t-this.getAngle();this.rotateLayer(i)},getAngle:function(){return this._angle||0},setInitAngle:function(t){this._setAngle(t)},getRotationCenter:function(){return this._getRotationCenter()},setRotationCenter:function(t){this._rotationCenter=t,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(t)}};let gt=Kn,Mt=L.Class.extend({includes:[vi,b,gt,Me],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions:function(t){L.Util.setOptions(this,t)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(t,i){i==="layerPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(t,i){var a=i.target,u={layer:this._layer,marker:a,event:i},p="";return t==="move"?p="moveVertexValidation":t==="add"?p="addVertexValidation":t==="remove"&&(p="removeVertexValidation"),this.options[p]&&typeof this.options[p]=="function"&&!this.options[p](u)?(t==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(t){return!t._cancelDragEventChain||(t._latlng=t._cancelDragEventChain,t.update(),!1)},_vertexValidationDragEnd:function(t){return!t._cancelDragEventChain||(t._cancelDragEventChain=null,!1)}});function on(t){return function(i){if(Array.isArray(i))return Jn(i)}(t)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(t)||function(i,a){if(i){if(typeof i=="string")return Jn(i,a);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Jn(i,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jn(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}Mt.LayerGroup=L.Class.extend({initialize:function(t){var i=this;this._layerGroup=t,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(a){return i._initLayer(a)}),this._layerGroup.on("layeradd",L.Util.throttle(function(a){if(!a.layer._pmTempLayer){i._layers=i.getLayers();var u=i._layers.filter(function(p){return!p.pm._parentLayerGroup||!(i._layerGroup._leaflet_id in p.pm._parentLayerGroup)});u.forEach(function(p){i._initLayer(p)}),u.length>0&&i._getMap()&&i._getMap().pm.globalEditModeEnabled()&&i.enabled()&&i.enable(i.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(a){i._removeLayerFromGroup(a.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(a){a.target._pmTempLayer||(i._layers=i.getLayers())},100,this),this)},enable:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.length===0&&(this._layers=this.getLayers()),this._options=t,this._layers.forEach(function(a){a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.enable(t,i)):a.pm.enable(t)})},disable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(i){i instanceof L.LayerGroup?t.indexOf(i._leaflet_id)===-1&&(t.push(i._leaflet_id),i.pm.disable(t)):i.pm.disable()})},enabled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length===0&&(this._layers=this.getLayers());var i=this._layers.find(function(a){return a instanceof L.LayerGroup?t.indexOf(a._leaflet_id)===-1&&(t.push(a._leaflet_id),a.pm.enabled(t)):a.pm.enabled()});return!!i},toggleEdit:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.length===0&&(this._layers=this.getLayers()),this._options=t,this._layers.forEach(function(a){a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.toggleEdit(t,i)):a.pm.toggleEdit(t)})},_initLayer:function(t){var i=L.Util.stamp(this._layerGroup);t.pm._parentLayerGroup||(t.pm._parentLayerGroup={}),t.pm._parentLayerGroup[i]=this._layerGroup},_removeLayerFromGroup:function(t){if(t.pm&&t.pm._layerGroup){var i=L.Util.stamp(this._layerGroup);delete t.pm._layerGroup[i]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var t=this._layers.find(function(i){return i.pm.dragging()});return!!t}return!1},getOptions:function(){return this.options},_getMap:function(){var t;return this._map||((t=this._layers.find(function(i){return!!i._map}))===null||t===void 0?void 0:t._map)||null},getLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],p=[];return t?this._layerGroup.getLayers().forEach(function(C){p.push(C),C instanceof L.LayerGroup&&u.indexOf(C._leaflet_id)===-1&&(u.push(C._leaflet_id),p=p.concat(C.pm.getLayers(!0,!0,!0,u)))}):p=this._layerGroup.getLayers(),a&&(p=p.filter(function(C){return!(C instanceof L.LayerGroup)})),i&&(p=(p=(p=p.filter(function(C){return!!C.pm})).filter(function(C){return!C._pmTempLayer})).filter(function(C){return!L.PM.optIn&&!C.options.pmIgnore||L.PM.optIn&&C.options.pmIgnore===!1})),p},setOptions:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.length===0&&(this._layers=this.getLayers()),this.options=t,this._layers.forEach(function(a){a.pm&&(a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.setOptions(t,i)):a.pm.setOptions(t))})}}),Mt.Marker=Mt.extend({_shape:"Marker",initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,t),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(t){var i=t.target;i.remove(),this._fireRemove(i),this._fireRemove(this._map,i)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)}});let Yi={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var t=[].concat(on(this._markerGroup.getLayers()),on(this.markerCache));this.markerCache=t.filter(function(i,a,u){return u.indexOf(i)===a})},renderLimits:function(t){var i=this;this.markerCache.forEach(function(a){t.includes(a)?i._markerGroup.addLayer(a):i._markerGroup.removeLayer(a)})},applyLimitFilters:function(t){var i=t.latlng,a=i===void 0?{lat:0,lng:0}:i;if(!this._preventRenderMarkers){var u=on(this._filterClosestMarkers(a));this.renderLimits(u)}},_filterClosestMarkers:function(t){var i=on(this.markerCache),a=this.options.limitMarkersToCount;return a===-1?i:(i.sort(function(u,p){return u._latlng.distanceTo(t)-p._latlng.distanceTo(t)}),i.filter(function(u,p){return!(a>-1)||p<a}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(t){this._preventRenderMarkers=!!t}};function un(t,i){return function(a){if(Array.isArray(a))return a}(t)||function(a,u){var p=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var C,S,O=[],j=!0,R=!1;try{for(p=p.call(a);!(j=(C=p.next()).done)&&(O.push(C.value),!u||O.length!==u);j=!0);}catch(ee){R=!0,S=ee}finally{try{j||p.return==null||p.return()}finally{if(R)throw S}}return O}}(t,i)||function(a,u){if(a){if(typeof a=="string")return _n(a,u);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return _n(a,u)}}(t,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _n(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}function Mi(t){return function(i){if(Array.isArray(i))return si(i)}(t)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(t)||function(i,a){if(i){if(typeof i=="string")return si(i,a);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return si(i,a)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function si(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,u=new Array(i);a<i;a++)u[a]=t[a];return u}Mt.Line=Mt.extend({includes:[Yi],_shape:"Line",initialize:function(t){this._layer=t,this._enabled=!1},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(t){return this.enabled()?this.disable():this.enable(t),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var t=this,i=this._map,a=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function u(p){if(Array.isArray(p[0]))return p.map(u,t);var C=p.map(t._createMarker,t);return t.options.hideMiddleMarkers!==!0&&p.map(function(S,O){var j=t.isPolygon()?(O+1)%p.length:O+1;return t._createMiddleMarker(C[O],C[j])}),C}(a),this.filterMarkerGroup(),i.addLayer(this._markerGroup)},_createMarker:function(t){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this.options.rotate?(i.on("dragstart",this._onRotateStart,this),i.on("drag",this._onRotate,this),i.on("dragend",this._onRotateEnd,this)):(i.on("click",this._onVertexClick,this),i.on("dragstart",this._onMarkerDragStart,this),i.on("move",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(i),i},_createMiddleMarker:function(t,i){if(!t||!i)return!1;var a=L.PM.Utils.calcMiddleLatLng(this._map,t.getLatLng(),i.getLatLng()),u=this._createMarker(a),p=L.divIcon({className:"marker-icon marker-icon-middle"});return u.setIcon(p),u.leftM=t,u.rightM=i,t._middleMarkerNext=u,i._middleMarkerPrev=u,u.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),u.on("movestart",this._onMiddleMarkerMoveStart,this),u},_onMiddleMarkerClick:function(t){var i=t.target;if(this._vertexValidation("add",t)){var a=L.divIcon({className:"marker-icon"});i.setIcon(a),this._addMarker(i,i.leftM,i.rightM)}},_onMiddleMarkerMoveStart:function(t){var i=t.target;i.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",t)?(i._dragging=!0,this._addMarker(i,i.leftM,i.rightM)):i.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(t){var i=t.target;this._vertexValidationDrag(i)},_onMiddleMarkerMoveEnd:function(t){var i=t.target;if(i.off("move",this._onMiddleMarkerMovePrevent,this),i.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(i)){var a=L.divIcon({className:"marker-icon"});i.setIcon(a),setTimeout(function(){delete i._dragging},100)}},_addMarker:function(t,i,a){t.off("movestart",this._onMiddleMarkerMoveStart,this),t.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var u=t.getLatLng(),p=this._layer._latlngs;delete t.leftM,delete t.rightM;var C=L.PM.Utils.findDeepMarkerIndex(this._markers,i),S=C.indexPath,O=C.index,j=C.parentPath,R=S.length>1?Ne()(p,j):p,ee=S.length>1?Ne()(this._markers,j):this._markers;R.splice(O+1,0,u),ee.splice(O+1,0,t),this._layer.setLatLngs(p),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(i,t),this._createMiddleMarker(t,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(t,L.PM.Utils.findDeepMarkerIndex(this._markers,t).indexPath,u),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return tt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var i,a,u=this._layer;if(i=!this.options.allowSelfIntersection&&(a=tt(this._layer.toGeoJSON(15))).features.length>0){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return i;t?this._flashLayer():(u.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(a)}else u.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return i},_flashLayer:function(){var t=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){t._layer.setStyle({color:t.cachedColor}),t.isRed=!1},200)},_updateDisabledMarkerStyle:function(t,i){var a=this;t.forEach(function(u){Array.isArray(u)?a._updateDisabledMarkerStyle(u,i):u._icon&&(i&&!a._checkMarkerAllowedToDrag(u)?L.DomUtil.addClass(u._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(u._icon,"vertexmarker-disabled"))})},_removeMarker:function(t){var i=t.target;if(this._vertexValidation("remove",t)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ot(this._layer,this._layer.getLatLngs()));var a=this._layer.getLatLngs(),u=L.PM.Utils.findDeepMarkerIndex(this._markers,i),p=u.indexPath,C=u.index,S=u.parentPath;if(p){var O=p.length>1?Ne()(a,S):a,j=p.length>1?Ne()(this._markers,S):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(O.length<=2||this.isPolygon()&&O.length<=3)){O.splice(C,1),this._layer.setLatLngs(a),this.isPolygon()&&O.length<=2&&O.splice(0,O.length);var R=!1;if(O.length<=1&&(O.splice(0,O.length),S.length>1&&p.length>1&&(a=ht(a)),this._layer.setLatLngs(a),this._initMarkers(),R=!0),Ge(a)||this._layer.remove(),a=ht(a),this._layer.setLatLngs(a),this._markers=ht(this._markers),!R&&(j=p.length>1?Ne()(this._markers,S):this._markers,i._middleMarkerPrev&&this._markerGroup.removeLayer(i._middleMarkerPrev),i._middleMarkerNext&&this._markerGroup.removeLayer(i._middleMarkerNext),this._markerGroup.removeLayer(i),j)){var ee,he;if(this.isPolygon()?(ee=(C+1)%j.length,he=(C+(j.length-1))%j.length):(he=C-1<0?void 0:C-1,ee=C+1>=j.length?void 0:C+1),ee!==he){var ae=j[he],ye=j[ee];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ae,ye)}j.splice(C,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(i,p),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(t){var i=this._layer.getLatLngs(),a=t.getLatLng(),u=L.PM.Utils.findDeepMarkerIndex(this._markers,t),p=u.indexPath,C=u.index,S=u.parentPath;(p.length>1?Ne()(i,S):i).splice(C,1,a),this._layer.setLatLngs(i)},_getNeighborMarkers:function(t){var i=L.PM.Utils.findDeepMarkerIndex(this._markers,t),a=i.indexPath,u=i.index,p=i.parentPath,C=a.length>1?Ne()(this._markers,p):this._markers,S=(u+1)%C.length;return{prevMarker:C[(u+(C.length-1))%C.length],nextMarker:C[S]}},_checkMarkerAllowedToDrag:function(t){var i=this._getNeighborMarkers(t),a=i.prevMarker,u=i.nextMarker,p=L.polyline([a.getLatLng(),t.getLatLng()]),C=L.polyline([t.getLatLng(),u.getLatLng()]),S=zt(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,O=zt(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return t.getLatLng()===this._markers[0][0].getLatLng()?O+=1:t.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(S+=1),!(S<=2&&O<=2)},_onMarkerDragStart:function(t){var i=t.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",t)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath;this._fireMarkerDragStart(t,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ot(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(i):this._markerAllowedToDrag=null}},_onMarkerDrag:function(t){var i=t.target;if(this._vertexValidationDrag(i)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i),u=a.indexPath,p=a.index,C=a.parentPath;if(u){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(i);var S=u.length>1?Ne()(this._markers,C):this._markers,O=(p+1)%S.length,j=(p+(S.length-1))%S.length,R=i.getLatLng(),ee=S[j].getLatLng(),he=S[O].getLatLng();if(i._middleMarkerNext){var ae=L.PM.Utils.calcMiddleLatLng(this._map,R,he);i._middleMarkerNext.setLatLng(ae)}if(i._middleMarkerPrev){var ye=L.PM.Utils.calcMiddleLatLng(this._map,R,ee);i._middleMarkerPrev.setLatLng(ye)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(t,u),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(t){var i=t.target;if(this._vertexValidationDragEnd(i)){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,u=this.hasSelfIntersection();u&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(u=!1);var p=!this.options.allowSelfIntersection&&u;if(this._fireMarkerDragEnd(t,a,p),p)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(t,a);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(t){var i=t.target;if(!i._dragging){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath;this._fireVertexClick(t,a)}}}),Mt.Polygon=Mt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(t){var i=this._getNeighborMarkers(t),a=i.prevMarker,u=i.nextMarker,p=L.polyline([a.getLatLng(),t.getLatLng()]),C=L.polyline([t.getLatLng(),u.getLatLng()]),S=zt(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,O=zt(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return!(S<=2&&O<=2)}}),Mt.Rectangle=Mt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var t=this,i=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this);var u=un(this._markers,1);this._cornerMarkers=u[0],this._layer.getLatLngs()[0].forEach(function(p,C){var S=t._cornerMarkers.find(function(O){return O._index===C});S&&S.setLatLng(p)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(t,i){var a=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=t,a._index=i,a._pmTempLayer=!0,a.on("click",this._onVertexClick,this),this._markerGroup.addLayer(a),a},_addMarkerEvents:function(){var t=this;this._markers[0].forEach(function(i){i.on("dragstart",t._onMarkerDragStart,t),i.on("drag",t._onMarkerDrag,t),i.on("dragend",t._onMarkerDragEnd,t),t.options.preventMarkerRemoval||i.on("contextmenu",t._removeMarker,t)})},_removeMarker:function(){return null},_onMarkerDragStart:function(t){if(this._vertexValidation("move",t)){var i=t.target,a=this._cornerMarkers;i._oppositeCornerLatLng=a.find(function(u){return u._index===(i._index+2)%4}).getLatLng(),i._snapped=!1,this._fireMarkerDragStart(t)}},_onMarkerDrag:function(t){var i=t.target;this._vertexValidationDrag(i)&&i._index!==void 0&&(this._adjustRectangleForMarkerMove(i),this._fireMarkerDrag(t),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(t){var i=t.target;this._vertexValidationDragEnd(i)&&(this._cornerMarkers.forEach(function(a){delete a._oppositeCornerLatLng}),this._fireMarkerDragEnd(t),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(t){L.extend(t._origLatLng,t._latlng);var i=L.PM.Utils._getRotatedRectangle(t.getLatLng(),t._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(i),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var t=this,i=this._layer.getLatLngs()[0];i&&i.length!==4&&i.length>0?(i.forEach(function(a,u){t._cornerMarkers[u].setLatLng(a)}),this._cornerMarkers.slice(i.length).forEach(function(a){a.setLatLng(i[0])})):i&&i.length?this._cornerMarkers.forEach(function(a){a.setLatLng(i[a._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){this._angle===void 0&&this.setInitAngle(ct(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);var t=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(t[0],t[2],this.getAngle(),this._map||this)}}),Mt.CircleMarker=Mt.extend({_shape:"CircleMarker",initialize:function(t){this._layer=t,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},_extendingEnable:function(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable:function(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable:function(){this._layer.off("contextmenu",this._removeMarker,this)},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions:function(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var i=this._layer.getLatLng(),a=this._layer._radius,u=this._getLatLngOnCircle(i,a);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(u),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(t,i){var a=this._map.project(t),u=L.point(a.x+i,a.y);return this._map.unproject(u)},_createHintLine:function(t,i){var a=t.getLatLng(),u=i.getLatLng();this._hintline=L.polyline([a,u],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var i=this._createMarker(t);return this.options.draggable?L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"):i.dragging.disable(),i},_createOuterMarker:function(t){var i=this._createMarker(t);return i.on("drag",this._resizeCircle,this),i},_createMarker:function(t){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=t,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("click",this._onVertexClick,this),this._helperLayers.addLayer(i),i},_moveCircle:function(t){if(!t.target._cancelDragEventChain){var i=this._centerMarker.getLatLng();this._layer.setLatLng(i);var a=this._layer._radius,u=this._getLatLngOnCircle(i,a);this._outerMarker._latlng=u,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncMarkers:function(){var t=this._layer.getLatLng(),i=this._layer._radius,a=this._getLatLngOnCircle(t,i);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(t),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(t,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,i])},_removeMarker:function(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(t){this._vertexValidation("move",t)&&this._fireMarkerDragStart(t)},_onMarkerDrag:function(t){var i=t.target;i instanceof L.Marker&&!this._vertexValidationDrag(i)||this._fireMarkerDrag(t)},_onMarkerDragEnd:function(t){this._extedingMarkerDragEnd();var i=t.target;this._vertexValidationDragEnd(i)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(t))},_extedingMarkerDragEnd:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var t=this._layer._map||this._map;if(t){var i=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),t,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(i);var u=t&&t.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!u).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!u),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(t,i);return this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?i=Xe(this._map,t,i,this._getMinDistanceInMeter(t)):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(i=Xe(this._map,t,i,this._getMaxDistanceInMeter(t))),i},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var t=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(t,i);(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption])&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation:function(t,i){return this._map.project(t).distanceTo(this._map.project(i))},_getMinDistanceInMeter:function(t){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,t)},_getMaxDistanceInMeter:function(t){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,t)},_onVertexClick:function(t){t.target._dragging||this._fireVertexClick(t,void 0)}}),Mt.Circle=Mt.CircleMarker.extend({_shape:"Circle",initialize:function(t){this._layer=t,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable:function(t){L.PM.Edit.CircleMarker.prototype.enable.call(this,t||{})},_extendingEnable:function(){},_extendingDisable:function(){this._layer.off("remove",this.disable,this);var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable")},_extendingApplyOptions:function(){},_syncMarkers:function(){},_removeMarker:function(){},_onDragStart:function(){},_extedingMarkerDragEnd:function(){},_updateHiddenPolyCircle:function(){var t=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!t).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!t),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation:function(t,i){return this._map.distance(t,i)},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_onVertexClick:function(t){t.target._dragging||this._fireVertexClick(t,void 0)}}),Mt.ImageOverlay=Mt.extend({_shape:"ImageOverlay",initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),Mt.Text=Mt.extend({_shape:"Text",initialize:function(t){this._layer=t,this._enabled=!1},enable:function(t){L.Util.setOptions(this,t),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var t=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),t.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var t=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,i=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(t,"px"),this.textArea.style.width="".concat(i,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var t=this;this._disableOnBlurActive=!0,setTimeout(function(){t.enabled()&&L.DomEvent.on(document,"click",t._documentClick,t)},100)},_documentClick:function(t){t.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this._hasFocus;this._hasFocus=t.type==="focus",!i!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(t){this.textArea.value=t,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var t,i=this.options.className.split(" ");(t=this.textArea.classList).add.apply(t,Mi(i))}var a=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(a),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),t===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(t){t.preventDefault()}});var Cn=function(t,i,a,u,p,C){this._matrix=[t,i,a,u,p,C]};Cn.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Cn.prototype={transform:function(t){return this._transform(t.clone())},_transform:function(t){var i=this._matrix,a=t.x,u=t.y;return t.x=i[0]*a+i[1]*u+i[4],t.y=i[2]*a+i[3]*u+i[5],t},untransform:function(t){var i=this._matrix;return new L.Point((t.x/i[0]-i[4])/i[0],(t.y/i[2]-i[5])/i[2])},clone:function(){var t=this._matrix;return new L.PM.Matrix(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(t){return t===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof t=="number"?(i=t,a=t):(i=t.x,a=t.y),this._add(1,0,0,1,i,a));var i,a},scale:function(t,i){return t===void 0?new L.Point(this._matrix[0],this._matrix[3]):(i=i||L.point(0,0),typeof t=="number"?(a=t,u=t):(a=t.x,u=t.y),this._add(a,0,0,u,i.x,i.y)._add(1,0,0,1,-i.x,-i.y));var a,u},rotate:function(t,i){var a=Math.cos(t),u=Math.sin(t);return i=i||new L.Point(0,0),this._add(a,u,-u,a,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(t,i,a,u,p,C){var S,O=[[],[],[]],j=this._matrix,R=[[j[0],j[2],j[4]],[j[1],j[3],j[5]],[0,0,1]],ee=[[t,a,p],[i,u,C],[0,0,1]];t&&t instanceof L.PM.Matrix&&(ee=[[(j=t._matrix)[0],j[2],j[4]],[j[1],j[3],j[5]],[0,0,1]]);for(var he=0;he<3;he+=1)for(var ae=0;ae<3;ae+=1){S=0;for(var ye=0;ye<3;ye+=1)S+=R[he][ye]*ee[ye][ae];O[he][ae]=S}return this._matrix=[O[0][0],O[1][0],O[0][1],O[1][1],O[0][2],O[1][2]],this}};let Ei=Cn;var fi={calcMiddleLatLng:function(t,i,a){var u=t.project(i),p=t.project(a);return t.unproject(u._add(p)._divideBy(2))},findLayers:function(t){var i=[];return t.eachLayer(function(a){(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&i.push(a)}),i=(i=(i=i.filter(function(a){return!!a.pm})).filter(function(a){return!a._pmTempLayer})).filter(function(a){return!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1})},circleToPolygon:function(t){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=t.getLatLng(),p=t.getRadius(),C=Ye(u,p,i,0,a),S=[],O=0;O<C.length;O+=1){var j=[C[O].lat,C[O].lng];S.push(j)}return L.polygon(S,t.options)},disablePopup:function(t){t.getPopup()&&(t._tempPopupCopy=t.getPopup(),t.unbindPopup())},enablePopup:function(t){t._tempPopupCopy&&(t.bindPopup(t._tempPopupCopy),delete t._tempPopupCopy)},_fireEvent:function(t,i,a){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t.fire(i,a,u);var p=this.getAllParentGroups(t),C=p.groups;C.forEach(function(S){S.fire(i,a,u)})},getAllParentGroups:function(t){var i=[],a=[];return!t._pmLastGroupFetch||!t._pmLastGroupFetch.time||new Date().getTime()-t._pmLastGroupFetch.time>1e3?(function u(p){for(var C in p._eventParents)if(i.indexOf(C)===-1){i.push(C);var S=p._eventParents[C];a.push(S),u(S)}}(t),t._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:i},{groupIds:i,groups:a}):{groups:t._pmLastGroupFetch.groups,groupIds:t._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Ye,getTranslation:Le,findDeepCoordIndex:function(t,i){var a,u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=function S(O){return function(j,R){var ee=O.concat(R);if(u){if(j.lat&&j.lat===i.lat&&j.lng===i.lng)return a=ee,!0}else if(j.lat&&L.latLng(j).equals(i))return a=ee,!0;return Array.isArray(j)&&j.some(S(ee))}};t.some(p([]));var C={};return a&&(C={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),C},findDeepMarkerIndex:function(t,i){var a;t.some(function p(C){return function(S,O){var j=C.concat(O);return S._leaflet_id===i._leaflet_id?(a=j,!0):Array.isArray(S)&&S.some(p(j))}}([]));var u={};return a&&(u={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),u},_getIndexFromSegment:function(t,i){if(i&&i.length===2){var a=this.findDeepCoordIndex(t,i[0]),u=this.findDeepCoordIndex(t,i[1]),p=Math.max(a.index,u.index);return a.index!==0&&u.index!==0||p===1||(p+=1),{indexA:a,indexB:u,newIndex:p,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle:function(t,i,a,u){var p=Vn(u,t),C=Vn(u,i),S=a*Math.PI/180,O=Math.cos(S),j=Math.sin(S),R=(C.x-p.x)*O+(C.y-p.y)*j,ee=(C.y-p.y)*O-(C.x-p.x)*j,he=R*O+p.x,ae=R*j+p.y,ye=-ee*j+p.x,Ee=ee*O+p.y;return[Qn(u,p),Qn(u,{x:he,y:ae}),Qn(u,C),Qn(u,{x:ye,y:Ee})]},pxRadiusToMeterRadius:function(t,i,a){var u=i.project(a),p=L.point(u.x+t,u.y);return i.distance(i.unproject(p),a)}};let qi=fi;L.PM=L.PM||{version:"2.15.0",Map:Yt,Toolbar:Fn,Draw:v,Edit:Mt,Utils:qi,Matrix:Ei,activeLang:"en",optIn:!1,initialize:function(t){this.addInitHooks(t)},setOptIn:function(t){this.optIn=!!t},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(t){var i=this;t instanceof L.LayerGroup&&t.eachLayer(function(a){i.reInitLayer(a)}),t.pm||L.PM.optIn&&t.options.pmIgnore!==!1||t.options.pmIgnore||(t instanceof L.Map?t.pm=new L.PM.Map(t):t instanceof L.Marker?t.options.textMarker?(t.pm=new L.PM.Edit.Text(t),t.pm._initTextMarker(),t.pm._createTextMarker(!1)):t.pm=new L.PM.Edit.Marker(t):t instanceof L.Circle?t.pm=new L.PM.Edit.Circle(t):t instanceof L.CircleMarker?t.pm=new L.PM.Edit.CircleMarker(t):t instanceof L.Rectangle?t.pm=new L.PM.Edit.Rectangle(t):t instanceof L.Polygon?t.pm=new L.PM.Edit.Polygon(t):t instanceof L.Polyline?t.pm=new L.PM.Edit.Line(t):t instanceof L.LayerGroup?t.pm=new L.PM.Edit.LayerGroup(t):t instanceof L.ImageOverlay&&(t.pm=new L.PM.Edit.ImageOverlay(t)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(t){for(var i,a,u=this._map.mouseEventToLayerPoint(t),p=this._drawFirst;p;p=p.next)(i=p.layer).options.interactive&&i._containsPoint(u)&&(t.type!=="click"&&t.type!=="preclick"||!this._map._draggableMoved(i))&&(a=i);a&&(L.DomEvent.fakeStop(t),this._fireEvent([a],t))}}),L.PM.initialize()})()})();var di=wi(Ki(),1);(function(){L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function($,M){M&&L.Util.setOptions(this,M),this._buildContainer(),this._buttons=[];for(var y=0;y<$.length;y++)$[y]._bar=this,$[y]._container=$[y].button,this._buttons.push($[y]),this.container.appendChild($[y].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function($){this._map=$;for(var M=0;M<this._buttons.length;M++)this._buttons[M]._map=$;var y=this._container=this.onAdd($),_=this.getPosition(),k=$._controlCorners[_];return L.DomUtil.addClass(y,"leaflet-control"),_.indexOf("bottom")!==-1?k.insertBefore(y,k.firstChild):k.appendChild(y),this}}),L.easyBar=function(){for(var $=[L.Control.EasyBar],M=0;M<arguments.length;M++)$.push(arguments[M]);return new(Function.prototype.bind.apply(L.Control.EasyBar,$))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function($,M,y,_){this.options.states=[],_!=null&&(this.options.id=_),this.storage={},typeof arguments[arguments.length-1]=="object"&&L.Util.setOptions(this,arguments[arguments.length-1]),this.options.states.length===0&&typeof $=="string"&&typeof M=="function"&&this.options.states.push({icon:$,onClick:M,title:typeof y=="string"?y:""}),this._states=[];for(var k=0;k<this.options.states.length;k++)this._states.push(new F(this.options.states[k],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),this.options.tagName==="button"&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(M){L.DomEvent.stop(M),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),this.options.type=="replace")this.button.appendChild(this._currentState.icon);else for(var $=0;$<this._states.length;$++)this.button.appendChild(this._states[$].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function($){return arguments.length===0?this._currentState.stateName:(typeof $=="string"?this._activateStateNamed($):typeof $=="number"&&this._activateState(this._states[$]),this)},_activateStateNamed:function($){for(var M=0;M<this._states.length;M++)this._states[M].stateName==$&&this._activateState(this._states[M])},_activateState:function($){if($!==this._currentState){this.options.type=="replace"&&(this.button.appendChild($.icon),this.button.removeChild(this._currentState.icon)),$.title?this.button.title=$.title:this.button.removeAttribute("title");for(var M=0;M<this._states.length;M++)L.DomUtil.removeClass(this._states[M].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[M].icon,$.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,$.stateName+"-active"),this._currentState=$}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function($){var M=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=M,this._container=M.container,this._anonymousBar.container},removeFrom:function($){return this._map===$&&this.remove(),this}}),L.easyButton=function(){var $=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,$))};function F($,M){this.title=$.title,this.stateName=$.stateName?$.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=xe($.icon),this.onClick=L.Util.bind($.onClick?$.onClick:function(){},M)}function xe($){var M;return $.match(/[&;=<>"']/)?M=$:($=$.replace(/(^\s*|\s*$)/g,""),M=L.DomUtil.create("span",""),$.indexOf("fa-")===0?L.DomUtil.addClass(M,"fa "+$):$.indexOf("glyphicon-")===0?L.DomUtil.addClass(M,"glyphicon "+$):L.DomUtil.addClass(M,$),M=M.outerHTML),M}})();var xr=class{displayTowns=!0;map;cityMap=new mr;streetMapVisible=!1;buttons;logo;constructor(xe){this.map=xe,this.buttons=new Pr(this.map),this.logo=new Er(this.map)}},mr=class{static cityTypes=["Premier","Governor","Senator","Community","Mayor","Councillor","Unranked"];searchLayer=di.default.featureGroup();CC=di.default.featureGroup();cityLayers=new Map;cityMarkers=new Map;towns=[]},Er=class extends di.default.Control{onAdd(){let xe=di.default.DomUtil.create("div");return xe.innerHTML="<img src='media/map-light.png' style='height: 50px;'>",xe}onRemove(){}constructor(xe,$){super($),this.setPosition("bottomright").addTo(xe)}},Pr=class{city;guide;streetMap;airportCalc;constructor(xe){this.guide=di.default.easyButton("fa-question",()=>{window.open("https://github.com/mrt-map/map/wiki/City-Map","_blank")},"Guide").setPosition("topright").addTo(xe);let $=di.default.tileLayer("https://raw.githubusercontent.com/MRT-Map/map-data/main/tiles/{z}/{x}/{y}.webp");this.streetMap=di.default.easyButton("fa-map",()=>{gn().streetMapVisible?$.removeFrom(xe):$.addTo(xe),gn().streetMapVisible=!gn().streetMapVisible},"Show Streetmap").setPosition("topright").addTo(xe),this.city=di.default.easyButton("fa-city",()=>{gn().displayTowns=!gn().displayTowns,cr()},"Show/Hide towns").setPosition("topright").addTo(xe),this.city.disable(),this.airportCalc=di.default.easyButton("fa-plane",()=>{window.open("./airportcalc.html","_self")},"Open Airportcalc 2").setPosition("topright").addTo(xe)}};function gn(){return window.mapGlobals}function pi(){return window.mapGlobals.cityMap}function Sr(){return window.mapGlobals.buttons}async function ao(){let xe=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1JSmJtYkYrEx6Am5drhSet17qwJzOKDI7tE7FxPx4YNI&sheetName=New%20World")).json();Zo(xe),cr(),Sr().city.enable(),Sr().airportCalc.enable(),(0,oo.default)("#search__input").removeAttr("disabled")}function cr(){let{cityLayers:F,CC:xe,searchLayer:$}=pi(),M=gn().map;if(gn().displayTowns)M.removeLayer($),console.log(F.entries()),M.addLayer(F.get("Community")),M.addLayer(F.get("Premier")),M.addLayer(F.get("Governor")),M.addLayer(F.get("Senator")),M.addLayer(F.get("Mayor")),M.addLayer(F.get("Councillor")),M.addLayer(F.get("Unranked")),M.addLayer(xe);else{M.removeLayer(F.get("Community")),M.removeLayer(F.get("Premier")),M.removeLayer(F.get("Governor")),M.removeLayer(F.get("Senator")),M.removeLayer(F.get("Mayor")),M.removeLayer(F.get("Councillor")),M.removeLayer(F.get("Unranked")),M.removeLayer(xe);return}}function Zo(F){let xe={Premier:"#fffc04",Governor:"#08fc04",Senator:"#08ac04",Mayor:"#0804fc",Councillor:"#5084ec",Community:"#781c44",Unranked:"#ffffff"};pi().towns=F;let{cityMarkers:$,cityLayers:M}=pi();for(let y of F){y.Name=y["Town Name"];let _=[y.X,y.Y,y.Z];if(isNaN(_[0])||isNaN(_[2]))console.warn(`Not displaying town ${y.Name}: invalid or missing coordinates`);else{let k=zi([_[0],_[2]]);$.has(y["Town Rank"])||$.set(y["Town Rank"],[]),$.get(y["Town Rank"]).push(Nr.default.circleMarker(k,{color:xe[y["Town Rank"]],radius:7}).bindPopup(`Name: ${y.Name}<br>Mayor: ${y.Mayor}<br>Deputy Mayor: ${y["Deputy Mayor"]}<br>Rank: ${y["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(y.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}}mr.cityTypes.forEach(y=>{let _=Nr.default.featureGroup();$.get(y).forEach(k=>{_.addLayer(k)}),M.set(y,_)}),gn().map.on("zoomend",cr)}var gi=wi(wr(),1),jr=wi(Ki(),1);var fo=wi(wr(),1),sn=(0,fo.default)(".results__container"),Ar,xn=0,so=0;sn.on("touchstart",F=>{Ar=F.touches[0].clientY});sn.on("touchmove",F=>{if(window.innerWidth>1e3){sn.css("transform","none");return}let xe=F.touches[0].clientY,$=Ar-xe;Ar=xe;let M=sn.height()*2*.3;sn.scrollTop()==0&&(xn+=$,F.preventDefault()),xn>M&&(sn.scrollTop(sn.scrollTop()+$),xn=M),xn<0&&(xn=0)});sn.on("wheel",()=>{if(window.innerWidth>1e3){sn.css("transform","none");return}let F=sn.scrollTop()-so;so=sn.scrollTop();let xe=sn.height()*2*.3;xn<xe&&F>0&&(xn+=F),xn>0&&F<0&&sn.scrollTop()<500&&(xn+=F),xn>xe&&(sn.scrollTop(sn.scrollTop()+F),xn=xe),xn<0&&(xn=0)});function lo(){if(window.innerWidth>1e3){sn.css("transform","none");return}xn=0}var zr;async function uo(){zr=await(await fetch("https://script.google.com/macros/s/AKfycbwde4vwt0l4_-qOFK_gL2KbVAdy7iag3BID8NWu2DQ1566kJlqyAS1Y/exec?spreadsheetId=1Hhj_Cghfhfs8Xh5v5gt65kGc4mDW0sC5GWULKidOBW8&sheetName=Members")).json();for(let xe of zr){if(xe.names=[xe.Username],xe["Former Usernames"]!=""){let $=xe["Former Usernames"].split(",");for(let M of $)xe.names.push(M.trim())}if(xe["Temporary Usernames"]!=""){let $=xe["Temporary Usernames"].split(",");for(let M of $)xe.names.push(M.trim())}}}function Go(F){let xe=gn().map;xe.removeLayer(pi().CC),xe.removeLayer(pi().searchLayer),pi().searchLayer=jr.default.featureGroup(),window.mapGlobals.displayTowns=!1;let $=[];for(let y of zr)for(let _ of y.names)typeof _!="string"&&(_=_.toString()),_=_.toLowerCase(),_.toLowerCase().includes(F.toLowerCase())&&$.push(_);let M=window.mapGlobals.cityMap.towns.filter(y=>y.Name?.toString().toLowerCase().includes(F.toLowerCase())??$.includes(y.Mayor.toString().toLowerCase()));for(let y of window.mapGlobals.cityMap.cityLayers.values())xe.removeLayer(y);for(let y of M){let _=[y.X,y.Y,y.Z];isNaN(_[0])||isNaN(_[2])?console.log(`Not displaying town ${y.Name} in search results popup: invalid or missing coordinates`):pi().searchLayer.addLayer(jr.default.marker(zi([_[0],_[2]])).addTo(xe).bindPopup(`Name: ${y.Name}<br>Mayor: ${y.Mayor}<br>Deputy Mayor: ${y["Deputy Mayor"]}<br>Rank: ${y["Town Rank"]}<br><a href="https://mrtrapidroute.com?from=Current+Location&to=${encodeURIComponent(y.Name)}" target="_blank">Navigate to here with RapidRoute</a>`))}return xe.addLayer(pi().searchLayer),M}function Or(){try{lo()}catch{console.log("couldn't reset results")}let F=(0,gi.default)("#search__input").val();if(F==null||F=="")(0,gi.default)(".results__container").css("display","none"),window.mapGlobals.displayTowns=!0,cr(),document.getElementById("search__results").innerHTML="";else{(0,gi.default)(".results__container").css("display","block");let xe=Go(F);document.getElementById("search__results").innerHTML="",xe.length==0&&(document.getElementById("search__results").innerHTML="<div>No Results</div>");for(let $ of xe){let M=document.getElementById("search__results");M.innerHTML+=`<div class="result"><div class="result__name">${$.Name}</div><div class="result__details"><div class="result__rank">Rank: ${$["Town Rank"]}</div><div class="result__mayor">Mayor: ${$.Mayor}</div></div></div>`,M.querySelector("div").onclick=()=>Fo($.X,$.Z)}}}function ho(){document.activeElement?.blur(),(0,gi.default)("input").blur()}function Uo(){let F=!1;return function(xe){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(xe)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(xe.substr(0,4)))&&(F=!0)}(navigator.userAgent||navigator.vendor||window.opera),F}var co;(0,gi.default)("#search__input").on("input",function(){(0,gi.default)(".results__container").css("display","none");let F=(0,gi.default)("#search__input").val();(!Uo()||F==null||F=="")&&(clearTimeout(co),co=setTimeout(function(){Or()},500))});(0,gi.default)("#search__input").keypress(function(F){F.which==13&&(ho(),Or())});(0,gi.default)(".search__bar button").click(function(){ho(),Or()});function Fo(F,xe){if(isNaN(F)||isNaN(xe))return alert("This town cannot be displayed because it contains invalid coordinates. Please contact a staff member to fix.");console.log(F,xe),gn().map.flyTo(zi([F,xe]),5)}var kr=wi(Ki(),1);var po=new URL(document.location.toString()).searchParams;async function go(){if(po.get("waypoints")){let xe=(await(await fetch("https://docs.google.com/spreadsheets/d/11E60uIBKs5cOSIRHLz0O0nLCefpj7HgndS1gIXY_1hw/export?format=csv&gid=707730663")).text()).split(`
`).map($=>$.split(","));xe.shift();for(let $ of xe)console.log($),kr.circleMarker(zi($[1].split(" ").map(M=>parseInt(M))),{radius:5}).bindPopup($[0]).addTo(gn().map)}}async function mo(){if(po.get("airways")){let xe=await(await fetch("https://raw.githubusercontent.com/MRT-Map/mrt-flightradar/main/data/airway_coords.json")).json();for(let $ of xe)console.log($),kr.polyline($.map(([M,y])=>[M,-y]).map(zi),{color:"red"}).addTo(gn().map)}}var Br=wi(Ki(),1);delete Br.default.Icon.Default.prototype._getIconUrl;Br.default.Icon.Default.mergeOptions({iconRetinaUrl:bo(),iconUrl:_o(),shadowUrl:yo()});window.mapGlobals=new xr(io());ao();uo();go();mo();})();
/*! Bundled license information:

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)
*/
//# sourceMappingURL=https://mrt-map.github.io/map/out-map.js.map
